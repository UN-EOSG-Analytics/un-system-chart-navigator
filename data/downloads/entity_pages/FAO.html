 <!DOCTYPE html> <html lang="en" > <head> <meta charset="utf-8" /> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <title>
	Home | Food and Agriculture Organization of the United Nations
</title> <script src="/ScriptResource.axd?d=6DQe8ARl7A9TiuWej5ttCsl0UxczkFZDbeL5SW9kKwZezKThjMd6CKk80af9FalSKa-iav7TTDncR2lY8pDjm3GfAJE4PtQDLQKTHvlXubFpiBl5L2i8chWLcfOXJghIDWVmV7HDcMgBha1sHF1HkvsG2gh96v6WMgcTICorlXSyCWKJN2ZyaRZDDb4Aqzqr0&amp;t=5dc176bf" type="text/javascript"></script><script src="/ScriptResource.axd?d=74FHISOx3fOPKwLxL0RMYh70ezZ-ORxFxHKxtz0UOPg9EUQxTPN8-UKE4lkI6c_x7Y5_KWlWwAWxLFKVT-LYvCs8ogtaZX_8Ldu_Ha6fqNvKUYz-iwsAD98noLncrVt8xXRvxvQvI8C6OeG6ayptPlJ8Jhe1U-cIG8z7urOA6SjD5WDdFtJKQYNppo3NHS220&amp;t=5dc176bf" type="text/javascript"></script><script src="https://cse.google.com/cse.js?cx=018170620143701104933%3Aqq82jsfba7w" type="text/javascript"></script><link href="/ResourcePackages/Bootstrap5/assets/dist/css/main.min.css?v=5.3.3&amp;package=FAO" rel="stylesheet" type="text/css" /> <link href="/ResourcePackages/FAO/assets/dist/css/fao-theme.min.css?v=3.4.4&amp;package=FAO" rel="stylesheet" type="text/css" /> <script src="https://unpkg.com/swiper@6.7.0/swiper-bundle.min.js" defer></script>
<script src="https://www.fao.org/docs/homepagelibraries/highcharts/highcharts.js" defer></script>
<script src="https://www.fao.org/docs/homepagelibraries/highcharts/highcharts-more.js" defer></script>
<link rel="stylesheet" href="https://unpkg.com/swiper@6.7.0/swiper-bundle.min.css">
<link rel="stylesheet" href="https://www.fao.org/ResourcePackages/FAO/assets/dist/css/fao-home.min.css?v=2.23.0"><script type="text/javascript">
  document.addEventListener('DOMContentLoaded', function () {
    document.body.classList.add('template-corporate');
  });
</script><link rel="shortcut icon" href="/docs/corporatelibraries/default-document-library/favicon/favicon.ico" /><!-- Google Tag Manager -->
  <!-- Google Tag Manager Source Identification start -->
<script type="text/javascript">
window.dataLayer = window.dataLayer || [];
window.dataLayer.push({
 'event': 'pageType',
 'cmsType': 'SITEFINITY'
 });
</script>
  <!-- Google Tag Manager Source Identification end -->
<script type="text/javascript">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NHPTQQS');</script>
<!-- End Google Tag Manager -->
  
<!-- Enable google search console verified Owners  -->   
<meta name="google-site-verification" content="B3uplHPjPrk8RS6Qq9SBwX1o3cjrBUvK4FbjdsKiUXI" />

<meta name="google-site-verification" content="zB-tLVNkC_1LLXke_Ma8oeDFDOfsJVIJ2SDsyAdOZq8" /><style type="text/css" media="all">.row-fao-homepage-hero .hero-banner .hero-banner-video {
    object-position: 85% center !important;
}

.row-fao-homepage-hero .title-category.live{
position: relative;
padding-left: 20px;
}

.row-fao-homepage-hero h6.title-category.live:after{
content: "";
-webkit-animation: blink .7s infinite alternate;
-moz-animation: blink .7s infinite alternate;
-ms-animation: blink .7s infinite alternate;
background: red;
border-radius: 50%;
display: block;
height: 14px;
width: 14px;
position: absolute;
left: 0;
top: 1px;
}</style><style type="text/css" media="all">
.search-container div.gsc-input-box {
        border-radius: 5px 0 0 5px;
    }

    .search-container button.gsc-search-button {
        background-color: #116AAB;
        border: none;
        color: #fff;
        border-radius: 0 5px 5px 0;
        margin-left: 0;
        height: 35px;
        width: 42px;
    }

    .search-container .gsc-search-button-v2 {
        padding: 6px;
    }

    .search-container .gsc-search-button-v2:hover {
        background-color: #0b5890;
    }

    .search-container button.gsc-search-button svg {
        display: none;
    }

    .search-container table.gsc-search-box td.gsc-input {
        padding-right: 0;
    }

    .search-container button.gsc-search-button:before {
        display: inline-block;
        font-family: bootstrap-icons !important;
        font-style: normal;
        font-weight: 400 !important;
        font-variant: normal;
        text-transform: none;
        line-height: 1;
        content: "\f52a";
        vertical-align: -.1em;
        color: #fff;
        font-size: 1rem;
    }</style><script type="text/javascript" src="https://cse.google.com/cse.js?cx=018170620143701104933:qq82jsfba7w"></script><style type="text/css" media="all">.row-fao-homepage-multimedia .date{
	display:none;
}</style><meta property="og:title" content="Home | Food and Agriculture Organization of the United Nations" /><meta property="og:type" content="website" /><meta property="og:url" content="https://www.fao.org/home/en" /><meta property="twitter:url" content="https://www.fao.org/home/en" /><meta property="og:site_name" content="FAOHome" /><style type="text/css" media="all">.d-list.d-list-video._full-column {
  flex-direction: column;
  padding: 0;
}

.d-list.d-list-video._full-column .d-list-visual {
  width: 100%;
  margin-bottom: 1rem;
}

.d-list.d-list-video._full-column .d-list-content {
  padding-left: 0;
  width: 100%;
}

/* Breadcrumbs hidden */
div[data-sf-element="Navigation"] > .row {
height: 0;
}

/*
#Contentplaceholder1_C140_Col00 .card:after{
    content: 'LIVE';
    position: absolute;
    top: 18px;
    right: 41px;
    font-size: 12px;
    text-transform: uppercase;
    font-weight: 700;
    color: white;
}

#Contentplaceholder1_C140_Col00 .card .card-image:after{
  content: '';
  position: absolute;
  width: 100%;
  height: 100%;
  left: 0;
  top:0;
  background: rgba(0,0,0,.45);
}


// Blinking Animation
@keyframes blink {
  0% {
    opacity: 0.1;
  }

  100% {
    opacity: 1;
  }
}




#Contentplaceholder1_C140_Col00 .card:before{
  -webkit-animation: blink .7s infinite alternate;
  -moz-animation: blink .7s infinite alternate;
  -ms-animation: blink .7s infinite alternate;
  background: red;
  border-radius: 50%;
  content: "";
  display: block;
  height: 14px;
  margin-left: 5px;
  width: 14px;
  position: absolute;
  z-index: 1;
  right: 1.25rem;
  top: 1.25rem;
}
*/</style><style type="text/css" media="all">#map {
    width: 100%;
    height: 700px;
    background-color: #999f93;
    position: relative
}

 
.container-map-3d .title-highlight:before {
    left: calc(50% - 25px);
}

@media (min-width: 768px) {
    #map {
        height: 600px
    }
}

.row-giahs-map {
    background: #999f93;
    padding-top: 2rem;
}

.row-giahs-map .title-highlight {
    color: #ffffff;
}

.row-giahs-map .title-highlight::before {
    background-color: white;
    left: 50%;
    transform: translateX(-50%);
}


.maplibregl-map {
    -webkit-font-smoothing: antialiased;
    font: 12px/20px Open Sans, sans-serif !important
}

.map-shadow {
    position: absolute;
    width: 600px;
    background-color: #999f93;
    border-radius: 50%;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    box-shadow: 2px 2px 1px #03071205, 8px 6px 3px #03071208, 19px 15px 7px #0307120d, 34px 26px 12px #03071212, 53px 40px 19px #03071217, 76px 58px 28px #0307121a, 103px 79px 38px #0307121f
}

.map-shadow:before {
    content: "";
    position: relative;
    padding-top: 100%;
    display: block
}

.ui-giahs {
    position: absolute;
    width: 100%;
    padding: 15px;
    left: 50%;
    transform: translate(-50%);
    z-index: 1;
    pointer-events: none;
    display: flex;
    justify-content: space-between;
    align-items: center
}

@media (min-width: 576px) {
    .ui-giahs {
        width: 516px
    }
}

@media (min-width: 768px) {
    .ui-giahs {
        width: 696px
    }
}

@media (min-width: 992px) {
    .ui-giahs {
        width: 936px
    }
}

@media (min-width: 1200px) {
    .ui-giahs {
        width: 1116px
    }
}

.ui-giahs img {
    position: relative;
    width: 150px;
    background-color: #999f93;
    padding: 10px;
    border-radius: 5px
}

.zoom-controls-giahs {
    margin-left: auto;
    z-index: 10;
    display: flex;
    gap: 7px;
    pointer-events: auto;
    background-color: #999f93;
    padding: 5px;
    border-radius: 25px
}

.zoom-controls-giahs button {
    background-color: #fff;
    border: none;
    border-radius: 50%;
    width: 42px;
    height: 42px;
    padding: 12px;
    font-size: 18px;
    line-height: 1;
    cursor: pointer
}

.zoom-controls-giahs button:hover {
    background-color: #eee
}

.map-shadow .map-modal {
    font-family: Open Sans, sans-serif;
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: #00000080;
    z-index: 1000;
    pointer-events: none;
    opacity: 0;
    transition: all .3s
}

.map-modal.in {
    pointer-events: auto;
    opacity: 1
}

.map-modal__wrapper {
    position: absolute;
    top: 30%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: calc(100% - 20px);
    background-color: #fff;
    z-index: 1000;
    border-radius: .5rem;
    overflow: hidden;
    opacity: 0;
    transition: all .5s;
    box-shadow: 0 1px 1px #03071205, 0 5px 4px #03071208, 0 12px 9px #0307120d, 0 20px 15px #0307120f, 0 32px 24px #03071214;
    pointer-events: none
}

@media (min-width: 768px) {
    .map-modal__wrapper {
        width: 600px
    }
}

.map-modal.in .map-modal__wrapper {
    pointer-events: auto;
    opacity: 1;
    top: 50%
}

.map-modal__text .btn-secondary {
    box-shadow: none;
    background-color: gray;
    border-color: gray;
    color: #fff
}

.map-modal__text .btn-secondary:hover,
.map-modal__text .btn-secondary:active,
.map-modal__text .btn-secondary:focus {
    box-shadow: none !important;
    background-color: gray !important;
    border-color: gray !important;
    color: #fff !important
}

.map-modal__btn-close {
    position: absolute;
    top: .5rem;
    right: .5rem
}

.map-modal__text {
    padding: 1rem
}

.map-modal__text .map-modal__country {
    color: #116aab;
    margin-bottom: 1rem;
    font-size: 25px;
    font-weight: 400
}

.map-modal__text .map-modal__title {
    margin-bottom: 1.2rem;
    font-weight: 700;
    font-size: 12px;
    text-transform: uppercase
}

.map-modal__text .map-modal__teaser {
    margin-bottom: 0;
    font-size: 16px;
    line-height: 24px;
    margin-bottom: 1.2rem
}

.map-modal__img {
    display: block;
    width: 100%;
    height: 150px;
    object-fit: cover;
    background-color: #f2f2f2;
    animation: skeleton-loading 1s linear infinite alternate
}

@keyframes skeleton-loading {
    0% {
        background-color: #f2f2f2
    }

    to {
        background-color: #e0e0e0
    }
}

.ui-giahs a {
    pointer-events: auto;
}

.map__loader {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: #999f93;
    z-index: 1000;
    display: flex;
    justify-content: center;
    align-items: center
}

.map__loader:after {
    content: "";
    position: relative;
    width: 100px;
    height: 100px;
    border-radius: 50%;
    border: 10px solid #999f93;
    border-top-color: #ffffff;
    animation: spinner 1s linear infinite
}

@keyframes spinner {
    to {
        transform: rotate(360deg)
    }
}

.maplibregl-map {
    font: 12px/20px Helvetica Neue, Arial, Helvetica, sans-serif;
    overflow: hidden;
    position: relative;
    -webkit-tap-highlight-color: rgb(0 0 0/0)
}

.maplibregl-canvas {
    left: 0;
    position: absolute;
    top: 0
}

.maplibregl-map:fullscreen {
    height: 100%;
    width: 100%
}

.maplibregl-ctrl-group button.maplibregl-ctrl-compass {
    touch-action: none
}

.maplibregl-canvas-container.maplibregl-interactive,
.maplibregl-ctrl-group button.maplibregl-ctrl-compass {
    cursor: grab;
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none
}

.maplibregl-canvas-container.maplibregl-interactive.maplibregl-track-pointer {
    cursor: pointer
}

.maplibregl-canvas-container.maplibregl-interactive:active,
.maplibregl-ctrl-group button.maplibregl-ctrl-compass:active {
    cursor: grabbing
}

.maplibregl-canvas-container.maplibregl-touch-zoom-rotate,
.maplibregl-canvas-container.maplibregl-touch-zoom-rotate .maplibregl-canvas {
    touch-action: pan-x pan-y
}

.maplibregl-canvas-container.maplibregl-touch-drag-pan,
.maplibregl-canvas-container.maplibregl-touch-drag-pan .maplibregl-canvas {
    touch-action: pinch-zoom
}

.maplibregl-canvas-container.maplibregl-touch-zoom-rotate.maplibregl-touch-drag-pan,
.maplibregl-canvas-container.maplibregl-touch-zoom-rotate.maplibregl-touch-drag-pan .maplibregl-canvas {
    touch-action: none
}

.maplibregl-canvas-container.maplibregl-touch-drag-pan.maplibregl-cooperative-gestures,
.maplibregl-canvas-container.maplibregl-touch-drag-pan.maplibregl-cooperative-gestures .maplibregl-canvas {
    touch-action: pan-x pan-y
}

.maplibregl-ctrl-bottom-left,
.maplibregl-ctrl-bottom-right,
.maplibregl-ctrl-top-left,
.maplibregl-ctrl-top-right {
    pointer-events: none;
    position: absolute;
    z-index: 2
}

.maplibregl-ctrl-top-left {
    left: 0;
    top: 0
}

.maplibregl-ctrl-top-right {
    right: 0;
    top: 0
}

.maplibregl-ctrl-bottom-left {
    bottom: 0;
    left: 0
}

.maplibregl-ctrl-bottom-right {
    bottom: 0;
    right: 0
}

.maplibregl-ctrl {
    clear: both;
    pointer-events: auto;
    transform: translate(0)
}

.maplibregl-ctrl-top-left .maplibregl-ctrl {
    float: left;
    margin: 10px 0 0 10px
}

.maplibregl-ctrl-top-right .maplibregl-ctrl {
    float: right;
    margin: 10px 10px 0 0
}

.maplibregl-ctrl-bottom-left .maplibregl-ctrl {
    float: left;
    margin: 0 0 10px 10px
}

.maplibregl-ctrl-bottom-right .maplibregl-ctrl {
    float: right;
    margin: 0 10px 10px 0
}

.maplibregl-ctrl-group {
    background: #fff;
    border-radius: 4px
}

.maplibregl-ctrl-group:not(:empty) {
    box-shadow: 0 0 0 2px #0000001a
}

@media (forced-colors:active) {
    .maplibregl-ctrl-group:not(:empty) {
        box-shadow: 0 0 0 2px ButtonText
    }
}

.maplibregl-ctrl-group button {
    background-color: transparent;
    border: 0;
    box-sizing: border-box;
    cursor: pointer;
    display: block;
    height: 29px;
    outline: none;
    padding: 0;
    width: 29px
}

.maplibregl-ctrl-group button+button {
    border-top: 1px solid #ddd
}

.maplibregl-ctrl button .maplibregl-ctrl-icon {
    background-position: 50%;
    background-repeat: no-repeat;
    display: block;
    height: 100%;
    width: 100%
}

@media (forced-colors:active) {
    .maplibregl-ctrl-icon {
        background-color: transparent
    }

    .maplibregl-ctrl-group button+button {
        border-top: 1px solid ButtonText
    }
}

.maplibregl-ctrl button::-moz-focus-inner {
    border: 0;
    padding: 0
}

.maplibregl-ctrl-attrib-button:focus,
.maplibregl-ctrl-group button:focus {
    box-shadow: 0 0 2px 2px #0096ff
}

.maplibregl-ctrl button:disabled {
    cursor: not-allowed
}

.maplibregl-ctrl button:disabled .maplibregl-ctrl-icon {
    opacity: .25
}

@media (hover:hover) {
    .maplibregl-ctrl button:not(:disabled):hover {
        background-color: #0000000d
    }
}

.maplibregl-ctrl button:not(:disabled):active {
    background-color: #0000000d
}

.maplibregl-ctrl-group button:focus:focus-visible {
    box-shadow: 0 0 2px 2px #0096ff
}

.maplibregl-ctrl-group button:focus:not(:focus-visible) {
    box-shadow: none
}

.maplibregl-ctrl-group button:focus:first-child {
    border-radius: 4px 4px 0 0
}

.maplibregl-ctrl-group button:focus:last-child {
    border-radius: 0 0 4px 4px
}

.maplibregl-ctrl-group button:focus:only-child {
    border-radius: inherit
}

.maplibregl-ctrl button.maplibregl-ctrl-zoom-out .maplibregl-ctrl-icon {
    background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 29 29'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13z'/%3E%3C/svg%3E")
}

.maplibregl-ctrl button.maplibregl-ctrl-zoom-in .maplibregl-ctrl-icon {
    background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 29 29'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5'/%3E%3C/svg%3E")
}

@media (forced-colors:active) {
    .maplibregl-ctrl button.maplibregl-ctrl-zoom-out .maplibregl-ctrl-icon {
        background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13z'/%3E%3C/svg%3E")
    }

    .maplibregl-ctrl button.maplibregl-ctrl-zoom-in .maplibregl-ctrl-icon {
        background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5'/%3E%3C/svg%3E")
    }
}

@media (forced-colors:active) and (prefers-color-scheme:light) {
    .maplibregl-ctrl button.maplibregl-ctrl-zoom-out .maplibregl-ctrl-icon {
        background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13z'/%3E%3C/svg%3E")
    }

    .maplibregl-ctrl button.maplibregl-ctrl-zoom-in .maplibregl-ctrl-icon {
        background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5'/%3E%3C/svg%3E")
    }
}

.maplibregl-ctrl button.maplibregl-ctrl-fullscreen .maplibregl-ctrl-icon {
    background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 29 29'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1z'/%3E%3C/svg%3E")
}

.maplibregl-ctrl button.maplibregl-ctrl-shrink .maplibregl-ctrl-icon {
    background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1z'/%3E%3C/svg%3E")
}

@media (forced-colors:active) {
    .maplibregl-ctrl button.maplibregl-ctrl-fullscreen .maplibregl-ctrl-icon {
        background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1z'/%3E%3C/svg%3E")
    }

    .maplibregl-ctrl button.maplibregl-ctrl-shrink .maplibregl-ctrl-icon {
        background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1z'/%3E%3C/svg%3E")
    }
}

@media (forced-colors:active) and (prefers-color-scheme:light) {
    .maplibregl-ctrl button.maplibregl-ctrl-fullscreen .maplibregl-ctrl-icon {
        background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1z'/%3E%3C/svg%3E")
    }

    .maplibregl-ctrl button.maplibregl-ctrl-shrink .maplibregl-ctrl-icon {
        background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1z'/%3E%3C/svg%3E")
    }
}

.maplibregl-ctrl button.maplibregl-ctrl-compass .maplibregl-ctrl-icon {
    background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 29 29'%3E%3Cpath d='m10.5 14 4-8 4 8z'/%3E%3Cpath fill='%23ccc' d='m10.5 16 4 8 4-8z'/%3E%3C/svg%3E")
}

@media (forced-colors:active) {
    .maplibregl-ctrl button.maplibregl-ctrl-compass .maplibregl-ctrl-icon {
        background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='m10.5 14 4-8 4 8z'/%3E%3Cpath fill='%23ccc' d='m10.5 16 4 8 4-8z'/%3E%3C/svg%3E")
    }
}

@media (forced-colors:active) and (prefers-color-scheme:light) {
    .maplibregl-ctrl button.maplibregl-ctrl-compass .maplibregl-ctrl-icon {
        background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='m10.5 14 4-8 4 8z'/%3E%3Cpath fill='%23ccc' d='m10.5 16 4 8 4-8z'/%3E%3C/svg%3E")
    }
}

.maplibregl-ctrl button.maplibregl-ctrl-globe .maplibregl-ctrl-icon {
    background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='22' height='22' fill='none' stroke='%23333' viewBox='0 0 22 22'%3E%3Ccircle cx='11' cy='11' r='8.5'/%3E%3Cpath d='M17.5 11c0 4.819-3.02 8.5-6.5 8.5S4.5 15.819 4.5 11 7.52 2.5 11 2.5s6.5 3.681 6.5 8.5Z'/%3E%3Cpath d='M13.5 11c0 2.447-.331 4.64-.853 6.206-.262.785-.562 1.384-.872 1.777-.314.399-.58.517-.775.517s-.461-.118-.775-.517c-.31-.393-.61-.992-.872-1.777C8.831 15.64 8.5 13.446 8.5 11s.331-4.64.853-6.206c.262-.785.562-1.384.872-1.777.314-.399.58-.517.775-.517s.461.118.775.517c.31.393.61.992.872 1.777.522 1.565.853 3.76.853 6.206Z'/%3E%3Cpath d='M11 7.5c-1.909 0-3.622-.166-4.845-.428-.616-.132-1.08-.283-1.379-.434a1.3 1.3 0 0 1-.224-.138q.07-.058.224-.138c.299-.151.763-.302 1.379-.434C7.378 5.666 9.091 5.5 11 5.5s3.622.166 4.845.428c.616.132 1.08.283 1.379.434.105.053.177.1.224.138q-.07.058-.224.138c-.299.151-.763.302-1.379.434-1.223.262-2.936.428-4.845.428ZM4.486 6.436ZM11 16.5c-1.909 0-3.622-.166-4.845-.428-.616-.132-1.08-.283-1.379-.434a1.3 1.3 0 0 1-.224-.138 1.3 1.3 0 0 1 .224-.138c.299-.151.763-.302 1.379-.434C7.378 14.666 9.091 14.5 11 14.5s3.622.166 4.845.428c.616.132 1.08.283 1.379.434.105.053.177.1.224.138a1.3 1.3 0 0 1-.224.138c-.299.151-.763.302-1.379.434-1.223.262-2.936.428-4.845.428Zm-6.514-1.064ZM11 12.5c-2.46 0-4.672-.222-6.255-.574-.796-.177-1.406-.38-1.805-.59a1.5 1.5 0 0 1-.39-.272.3.3 0 0 1-.047-.064.3.3 0 0 1 .048-.064c.066-.073.189-.167.389-.272.399-.21 1.009-.413 1.805-.59C6.328 9.722 8.54 9.5 11 9.5s4.672.222 6.256.574c.795.177 1.405.38 1.804.59.2.105.323.2.39.272a.3.3 0 0 1 .047.064.3.3 0 0 1-.048.064 1.4 1.4 0 0 1-.389.272c-.399.21-1.009.413-1.804.59-1.584.352-3.796.574-6.256.574Zm-8.501-1.51v.002zm0 .018v.002zm17.002.002v-.002zm0-.018v-.002z'/%3E%3C/svg%3E")
}

.maplibregl-ctrl button.maplibregl-ctrl-globe-enabled .maplibregl-ctrl-icon {
    background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='22' height='22' fill='none' stroke='%2333b5e5' viewBox='0 0 22 22'%3E%3Ccircle cx='11' cy='11' r='8.5'/%3E%3Cpath d='M17.5 11c0 4.819-3.02 8.5-6.5 8.5S4.5 15.819 4.5 11 7.52 2.5 11 2.5s6.5 3.681 6.5 8.5Z'/%3E%3Cpath d='M13.5 11c0 2.447-.331 4.64-.853 6.206-.262.785-.562 1.384-.872 1.777-.314.399-.58.517-.775.517s-.461-.118-.775-.517c-.31-.393-.61-.992-.872-1.777C8.831 15.64 8.5 13.446 8.5 11s.331-4.64.853-6.206c.262-.785.562-1.384.872-1.777.314-.399.58-.517.775-.517s.461.118.775.517c.31.393.61.992.872 1.777.522 1.565.853 3.76.853 6.206Z'/%3E%3Cpath d='M11 7.5c-1.909 0-3.622-.166-4.845-.428-.616-.132-1.08-.283-1.379-.434a1.3 1.3 0 0 1-.224-.138q.07-.058.224-.138c.299-.151.763-.302 1.379-.434C7.378 5.666 9.091 5.5 11 5.5s3.622.166 4.845.428c.616.132 1.08.283 1.379.434.105.053.177.1.224.138q-.07.058-.224.138c-.299.151-.763.302-1.379.434-1.223.262-2.936.428-4.845.428ZM4.486 6.436ZM11 16.5c-1.909 0-3.622-.166-4.845-.428-.616-.132-1.08-.283-1.379-.434a1.3 1.3 0 0 1-.224-.138 1.3 1.3 0 0 1 .224-.138c.299-.151.763-.302 1.379-.434C7.378 14.666 9.091 14.5 11 14.5s3.622.166 4.845.428c.616.132 1.08.283 1.379.434.105.053.177.1.224.138a1.3 1.3 0 0 1-.224.138c-.299.151-.763.302-1.379.434-1.223.262-2.936.428-4.845.428Zm-6.514-1.064ZM11 12.5c-2.46 0-4.672-.222-6.255-.574-.796-.177-1.406-.38-1.805-.59a1.5 1.5 0 0 1-.39-.272.3.3 0 0 1-.047-.064.3.3 0 0 1 .048-.064c.066-.073.189-.167.389-.272.399-.21 1.009-.413 1.805-.59C6.328 9.722 8.54 9.5 11 9.5s4.672.222 6.256.574c.795.177 1.405.38 1.804.59.2.105.323.2.39.272a.3.3 0 0 1 .047.064.3.3 0 0 1-.048.064 1.4 1.4 0 0 1-.389.272c-.399.21-1.009.413-1.804.59-1.584.352-3.796.574-6.256.574Zm-8.501-1.51v.002zm0 .018v.002zm17.002.002v-.002zm0-.018v-.002z'/%3E%3C/svg%3E")
}

.maplibregl-ctrl button.maplibregl-ctrl-terrain .maplibregl-ctrl-icon {
    background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='22' height='22' fill='%23333' viewBox='0 0 22 22'%3E%3Cpath d='m1.754 13.406 4.453-4.851 3.09 3.09 3.281 3.277.969-.969-3.309-3.312 3.844-4.121 6.148 6.886h1.082v-.855l-7.207-8.07-4.84 5.187L6.169 6.57l-5.48 5.965v.871ZM.688 16.844h20.625v1.375H.688Zm0 0'/%3E%3C/svg%3E")
}

.maplibregl-ctrl button.maplibregl-ctrl-terrain-enabled .maplibregl-ctrl-icon {
    background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='22' height='22' fill='%2333b5e5' viewBox='0 0 22 22'%3E%3Cpath d='m1.754 13.406 4.453-4.851 3.09 3.09 3.281 3.277.969-.969-3.309-3.312 3.844-4.121 6.148 6.886h1.082v-.855l-7.207-8.07-4.84 5.187L6.169 6.57l-5.48 5.965v.871ZM.688 16.844h20.625v1.375H.688Zm0 0'/%3E%3C/svg%3E")
}

.maplibregl-ctrl button.maplibregl-ctrl-geolocate .maplibregl-ctrl-icon {
    background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")
}

.maplibregl-ctrl button.maplibregl-ctrl-geolocate:disabled .maplibregl-ctrl-icon {
    background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23aaa' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath fill='red' d='m14 5 1 1-9 9-1-1z'/%3E%3C/svg%3E")
}

.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active .maplibregl-ctrl-icon {
    background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%2333b5e5' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")
}

.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active-error .maplibregl-ctrl-icon {
    background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23e58978' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")
}

.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background .maplibregl-ctrl-icon {
    background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%2333b5e5' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3C/svg%3E")
}

.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background-error .maplibregl-ctrl-icon {
    background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23e54e33' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3C/svg%3E")
}

.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-waiting .maplibregl-ctrl-icon {
    animation: maplibregl-spin 2s linear infinite
}

@media (forced-colors:active) {
    .maplibregl-ctrl button.maplibregl-ctrl-geolocate .maplibregl-ctrl-icon {
        background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")
    }

    .maplibregl-ctrl button.maplibregl-ctrl-geolocate:disabled .maplibregl-ctrl-icon {
        background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23999' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath fill='red' d='m14 5 1 1-9 9-1-1z'/%3E%3C/svg%3E")
    }

    .maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active .maplibregl-ctrl-icon {
        background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%2333b5e5' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")
    }

    .maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active-error .maplibregl-ctrl-icon {
        background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23e58978' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")
    }

    .maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background .maplibregl-ctrl-icon {
        background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%2333b5e5' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3C/svg%3E")
    }

    .maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background-error .maplibregl-ctrl-icon {
        background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23e54e33' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3C/svg%3E")
    }
}

@media (forced-colors:active) and (prefers-color-scheme:light) {
    .maplibregl-ctrl button.maplibregl-ctrl-geolocate .maplibregl-ctrl-icon {
        background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")
    }

    .maplibregl-ctrl button.maplibregl-ctrl-geolocate:disabled .maplibregl-ctrl-icon {
        background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23666' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath fill='red' d='m14 5 1 1-9 9-1-1z'/%3E%3C/svg%3E")
    }
}

@keyframes maplibregl-spin {
    0% {
        transform: rotate(0)
    }

    to {
        transform: rotate(1turn)
    }
}

a.maplibregl-ctrl-logo {
    background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='88' height='23' fill='none'%3E%3Cpath fill='%23000' fill-opacity='.4' fill-rule='evenodd' d='M17.408 16.796h-1.827l2.501-12.095h.198l3.324 6.533.988 2.19.988-2.19 3.258-6.533h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.929 5.644h-.098l-2.914-5.644-.757-1.71-.345 1.71zm1.958-3.42-.726 3.663a1.255 1.255 0 0 1-1.232 1.011h-1.827a1.255 1.255 0 0 1-1.229-1.509l2.501-12.095a1.255 1.255 0 0 1 1.23-1.001h.197a1.25 1.25 0 0 1 1.12.685l3.19 6.273 3.125-6.263a1.25 1.25 0 0 1 1.123-.695h.181a1.255 1.255 0 0 1 1.227.991l1.443 6.71a5 5 0 0 1 .314-.787l.009-.016a4.6 4.6 0 0 1 1.777-1.887c.782-.46 1.668-.667 2.611-.667a4.6 4.6 0 0 1 1.7.32l.306.134c.21-.16.474-.256.759-.256h1.694a1.255 1.255 0 0 1 1.212.925 1.255 1.255 0 0 1 1.212-.925h1.711c.284 0 .545.094.755.252.613-.3 1.312-.45 2.075-.45 1.356 0 2.557.445 3.482 1.4q.47.48.763 1.064V4.701a1.255 1.255 0 0 1 1.255-1.255h1.86A1.255 1.255 0 0 1 54.44 4.7v9.194h2.217c.19 0 .37.043.532.118v-4.77c0-.356.147-.678.385-.906a2.42 2.42 0 0 1-.682-1.71c0-.665.267-1.253.735-1.7a2.45 2.45 0 0 1 1.722-.674 2.43 2.43 0 0 1 1.705.675q.318.302.504.683V4.7a1.255 1.255 0 0 1 1.255-1.255h1.744A1.255 1.255 0 0 1 65.812 4.7v3.335a4.8 4.8 0 0 1 1.526-.246c.938 0 1.817.214 2.59.69a4.47 4.47 0 0 1 1.67 1.743v-.98a1.255 1.255 0 0 1 1.256-1.256h1.777c.233 0 .451.064.639.174a3.4 3.4 0 0 1 1.567-.372c.346 0 .861.02 1.285.232a1.25 1.25 0 0 1 .689 1.004 4.7 4.7 0 0 1 .853-.588c.795-.44 1.675-.647 2.61-.647 1.385 0 2.65.39 3.525 1.396.836.938 1.168 2.173 1.168 3.528q-.001.515-.056 1.051a1.255 1.255 0 0 1-.947 1.09l.408.952a1.255 1.255 0 0 1-.477 1.552c-.418.268-.92.463-1.458.612-.613.171-1.304.244-2.049.244-1.06 0-2.043-.207-2.886-.698l-.015-.008c-.798-.48-1.419-1.135-1.818-1.963l-.004-.008a5.8 5.8 0 0 1-.548-2.512q0-.429.053-.843a1.3 1.3 0 0 1-.333-.086l-.166-.004c-.223 0-.426.062-.643.228-.03.024-.142.139-.142.59v3.883a1.255 1.255 0 0 1-1.256 1.256h-1.777a1.255 1.255 0 0 1-1.256-1.256V15.69l-.032.057a4.8 4.8 0 0 1-1.86 1.833 5.04 5.04 0 0 1-2.484.634 4.5 4.5 0 0 1-1.935-.424 1.25 1.25 0 0 1-.764.258h-1.71a1.255 1.255 0 0 1-1.256-1.255V7.687a2.4 2.4 0 0 1-.428.625c.253.23.412.561.412.93v7.553a1.255 1.255 0 0 1-1.256 1.255h-1.843a1.25 1.25 0 0 1-.894-.373c-.228.23-.544.373-.894.373H51.32a1.255 1.255 0 0 1-1.256-1.255v-1.251l-.061.117a4.7 4.7 0 0 1-1.782 1.884 4.77 4.77 0 0 1-2.485.67 5.6 5.6 0 0 1-1.485-.188l.009 2.764a1.255 1.255 0 0 1-1.255 1.259h-1.729a1.255 1.255 0 0 1-1.255-1.255v-3.537a1.255 1.255 0 0 1-1.167.793h-1.679a1.25 1.25 0 0 1-.77-.263 4.5 4.5 0 0 1-1.945.429c-.885 0-1.724-.21-2.495-.632l-.017-.01a5 5 0 0 1-1.081-.836 1.255 1.255 0 0 1-1.254 1.312h-1.81a1.255 1.255 0 0 1-1.228-.99l-.782-3.625-2.044 3.939a1.25 1.25 0 0 1-1.115.676h-.098a1.25 1.25 0 0 1-1.116-.68l-2.061-3.994zM35.92 16.63l.207-.114.223-.15q.493-.356.735-.785l.061-.118.033 1.332h1.678V9.242h-1.694l-.033 1.267q-.133-.329-.526-.658l-.032-.028a3.2 3.2 0 0 0-.668-.428l-.27-.12a3.3 3.3 0 0 0-1.235-.23q-1.136-.001-1.974.493a3.36 3.36 0 0 0-1.3 1.382q-.445.89-.444 2.074 0 1.2.51 2.107a3.8 3.8 0 0 0 1.382 1.381 3.9 3.9 0 0 0 1.893.477q.795 0 1.455-.33zm-2.789-5.38q-.576.675-.575 1.762 0 1.102.559 1.794.576.675 1.645.675a2.25 2.25 0 0 0 .934-.19 2.2 2.2 0 0 0 .468-.29l.178-.161a2.2 2.2 0 0 0 .397-.561q.244-.5.244-1.15v-.115q0-.708-.296-1.267l-.043-.077a2.2 2.2 0 0 0-.633-.709l-.13-.086-.047-.028a2.1 2.1 0 0 0-1.073-.285q-1.052 0-1.629.692zm2.316 2.706c.163-.17.28-.407.28-.83v-.114c0-.292-.06-.508-.15-.68a.96.96 0 0 0-.353-.389.85.85 0 0 0-.464-.127c-.4 0-.56.114-.664.239l-.01.012c-.148.174-.275.45-.275.945 0 .506.122.801.27.99.097.11.266.224.68.224.303 0 .504-.09.687-.269zm7.545 1.705a2.6 2.6 0 0 0 .331.423q.319.33.755.548l.173.074q.65.255 1.49.255 1.02 0 1.844-.493a3.45 3.45 0 0 0 1.316-1.4q.493-.904.493-2.089 0-1.909-.988-2.913-.988-1.02-2.584-1.02-.898 0-1.575.347a3 3 0 0 0-.415.262l-.199.166a3.4 3.4 0 0 0-.64.82V9.242h-1.712v11.553h1.729l-.017-5.134zm.53-1.138q.206.29.48.5l.155.11.053.034q.51.296 1.119.297 1.07 0 1.645-.675.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.435 0-.835.16a2 2 0 0 0-.284.136 2 2 0 0 0-.363.254 2.2 2.2 0 0 0-.46.569l-.082.162a2.6 2.6 0 0 0-.213 1.072v.115q0 .707.296 1.267l.135.211zm.964-.818a1.1 1.1 0 0 0 .367.385.94.94 0 0 0 .476.118c.423 0 .59-.117.687-.23.159-.194.28-.478.28-.95 0-.53-.133-.8-.266-.952l-.021-.025c-.078-.094-.231-.221-.68-.221a1 1 0 0 0-.503.135l-.012.007a.86.86 0 0 0-.335.343c-.073.133-.132.324-.132.614v.115a1.4 1.4 0 0 0 .14.66zm15.7-6.222q.347-.346.346-.856a1.05 1.05 0 0 0-.345-.79 1.18 1.18 0 0 0-.84-.329q-.51 0-.855.33a1.05 1.05 0 0 0-.346.79q0 .51.346.855.345.346.856.346.51 0 .839-.346zm4.337 9.314.033-1.332q.191.403.59.747l.098.081a4 4 0 0 0 .316.224l.223.122a3.2 3.2 0 0 0 1.44.322 3.8 3.8 0 0 0 1.875-.477 3.5 3.5 0 0 0 1.382-1.366q.527-.89.526-2.09 0-1.184-.444-2.073a3.24 3.24 0 0 0-1.283-1.399q-.823-.51-1.942-.51a3.5 3.5 0 0 0-1.527.344l-.086.043-.165.09a3 3 0 0 0-.33.214q-.432.315-.656.707a2 2 0 0 0-.099.198l.082-1.283V4.701h-1.744v12.095zm.473-2.509a2.5 2.5 0 0 0 .566.7q.117.098.245.18l.144.08a2.1 2.1 0 0 0 .975.232q1.07 0 1.645-.675.576-.69.576-1.778 0-1.102-.576-1.777-.56-.691-1.645-.692a2.2 2.2 0 0 0-1.015.235q-.22.113-.415.282l-.15.142a2.1 2.1 0 0 0-.42.594q-.223.479-.223 1.1v.115q0 .705.293 1.26zm2.616-.293c.157-.191.28-.479.28-.967 0-.51-.13-.79-.276-.961l-.021-.026c-.082-.1-.232-.225-.67-.225a.87.87 0 0 0-.681.279l-.012.011c-.154.155-.274.38-.274.807v.115c0 .285.057.499.144.669a1.1 1.1 0 0 0 .367.405c.137.082.28.123.455.123.423 0 .59-.118.686-.23zm8.266-3.013q.345-.13.724-.14l.069-.002q.493 0 .642.099l.247-1.794q-.196-.099-.717-.099a2.3 2.3 0 0 0-.545.063 2 2 0 0 0-.411.148 2.2 2.2 0 0 0-.4.249 2.5 2.5 0 0 0-.485.499 2.7 2.7 0 0 0-.32.581l-.05.137v-1.48h-1.778v7.553h1.777v-3.884q0-.546.159-.943a1.5 1.5 0 0 1 .466-.636 2.5 2.5 0 0 1 .399-.253 2 2 0 0 1 .224-.099zm9.784 2.656.05-.922q0-1.743-.856-2.698-.838-.97-2.584-.97-1.119-.001-2.007.493a3.46 3.46 0 0 0-1.4 1.382q-.493.906-.493 2.106 0 1.07.428 1.975.428.89 1.332 1.432.906.526 2.255.526.973 0 1.668-.185l.044-.012.135-.04q.613-.184.984-.421l-.542-1.267q-.3.162-.642.274l-.297.087q-.51.131-1.3.131-.954 0-1.497-.444a1.6 1.6 0 0 1-.192-.193q-.366-.44-.512-1.234l-.004-.021zm-5.427-1.256-.003.022h3.752v-.138q-.011-.727-.288-1.118a1 1 0 0 0-.156-.176q-.46-.428-1.316-.428-.986 0-1.494.604-.379.45-.494 1.234zm-27.053 2.77V4.7h-1.86v12.095h5.333V15.15zm7.103-5.908v7.553h-1.843V9.242h1.843z'/%3E%3Cpath fill='%23fff' d='m19.63 11.151-.757-1.71-.345 1.71-1.12 5.644h-1.827L18.083 4.7h.197l3.325 6.533.988 2.19.988-2.19L26.839 4.7h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.93 5.644h-.098l-2.913-5.644zm14.836 5.81q-1.02 0-1.893-.478a3.8 3.8 0 0 1-1.381-1.382q-.51-.906-.51-2.106 0-1.185.444-2.074a3.36 3.36 0 0 1 1.3-1.382q.839-.494 1.974-.494a3.3 3.3 0 0 1 1.234.231 3.3 3.3 0 0 1 .97.575q.396.33.527.659l.033-1.267h1.694v7.553H37.18l-.033-1.332q-.279.593-1.02 1.053a3.17 3.17 0 0 1-1.662.444zm.296-1.482q.938 0 1.58-.642.642-.66.642-1.711v-.115q0-.708-.296-1.267a2.2 2.2 0 0 0-.807-.872 2.1 2.1 0 0 0-1.119-.313q-1.053 0-1.629.692-.575.675-.575 1.76 0 1.103.559 1.795.577.675 1.645.675zm6.521-6.237h1.711v1.4q.906-1.597 2.83-1.597 1.596 0 2.584 1.02.988 1.005.988 2.914 0 1.185-.493 2.09a3.46 3.46 0 0 1-1.316 1.399 3.5 3.5 0 0 1-1.844.493q-.954 0-1.662-.329a2.67 2.67 0 0 1-1.086-.97l.017 5.134h-1.728zm4.048 6.22q1.07 0 1.645-.674.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.592 0-1.12.296-.51.28-.822.823-.296.527-.296 1.234v.115q0 .708.296 1.267.313.543.823.855.51.296 1.119.297z'/%3E%3Cpath fill='%23e1e3e9' d='M51.325 4.7h1.86v10.45h3.473v1.646h-5.333zm7.12 4.542h1.843v7.553h-1.843zm.905-1.415a1.16 1.16 0 0 1-.856-.346 1.17 1.17 0 0 1-.346-.856 1.05 1.05 0 0 1 .346-.79q.346-.329.856-.329.494 0 .839.33a1.05 1.05 0 0 1 .345.79 1.16 1.16 0 0 1-.345.855q-.33.346-.84.346zm7.875 9.133a3.17 3.17 0 0 1-1.662-.444q-.723-.46-1.004-1.053l-.033 1.332h-1.71V4.701h1.743v4.657l-.082 1.283q.279-.658 1.086-1.119a3.5 3.5 0 0 1 1.778-.477q1.119 0 1.942.51a3.24 3.24 0 0 1 1.283 1.4q.445.888.444 2.072 0 1.201-.526 2.09a3.5 3.5 0 0 1-1.382 1.366 3.8 3.8 0 0 1-1.876.477zm-.296-1.481q1.069 0 1.645-.675.577-.69.577-1.778 0-1.102-.577-1.776-.56-.691-1.645-.692a2.12 2.12 0 0 0-1.58.659q-.642.641-.642 1.694v.115q0 .71.296 1.267a2.4 2.4 0 0 0 .807.872 2.1 2.1 0 0 0 1.119.313zm5.927-6.237h1.777v1.481q.263-.757.856-1.217a2.14 2.14 0 0 1 1.349-.46q.527 0 .724.098l-.247 1.794q-.149-.099-.642-.099-.774 0-1.416.494-.626.493-.626 1.58v3.883h-1.777V9.242zm9.534 7.718q-1.35 0-2.255-.526-.904-.543-1.332-1.432a4.6 4.6 0 0 1-.428-1.975q0-1.2.493-2.106a3.46 3.46 0 0 1 1.4-1.382q.889-.495 2.007-.494 1.744 0 2.584.97.855.956.856 2.7 0 .444-.05.92h-5.43q.18 1.005.708 1.45.542.443 1.497.443.79 0 1.3-.131a4 4 0 0 0 .938-.362l.542 1.267q-.411.263-1.119.46-.708.198-1.711.197zm1.596-4.558q.016-1.02-.444-1.432-.46-.428-1.316-.428-1.728 0-1.991 1.86z'/%3E%3Cpath d='M5.074 15.948a.484.657 0 0 0-.486.659v1.84a.484.657 0 0 0 .486.659h4.101a.484.657 0 0 0 .486-.659v-1.84a.484.657 0 0 0-.486-.659zm3.56 1.16H5.617v.838h3.017z' style='fill:%23fff;fill-rule:evenodd;stroke-width:1.03600001'/%3E%3Cg style='stroke-width:1.12603545'%3E%3Cpath d='M-9.408-1.416c-3.833-.025-7.056 2.912-7.08 6.615-.02 3.08 1.653 4.832 3.107 6.268.903.892 1.721 1.74 2.32 2.902l-.525-.004c-.543-.003-.992.304-1.24.639a1.87 1.87 0 0 0-.362 1.121l-.011 1.877c-.003.402.104.787.347 1.125.244.338.688.653 1.23.656l4.142.028c.542.003.99-.306 1.238-.641a1.87 1.87 0 0 0 .363-1.121l.012-1.875a1.87 1.87 0 0 0-.348-1.127c-.243-.338-.688-.653-1.23-.656l-.518-.004c.597-1.145 1.425-1.983 2.348-2.87 1.473-1.414 3.18-3.149 3.2-6.226-.016-3.59-2.923-6.684-6.993-6.707m-.006 1.1v.002c3.274.02 5.92 2.532 5.9 5.6-.017 2.706-1.39 4.026-2.863 5.44-1.034.994-2.118 2.033-2.814 3.633-.018.041-.052.055-.075.065q-.013.004-.02.01a.34.34 0 0 1-.226.084.34.34 0 0 1-.224-.086l-.092-.077c-.699-1.615-1.768-2.669-2.781-3.67-1.454-1.435-2.797-2.762-2.78-5.478.02-3.067 2.7-5.545 5.975-5.523m-.02 2.826c-1.62-.01-2.944 1.315-2.955 2.96-.01 1.646 1.295 2.988 2.916 2.999h.002c1.621.01 2.943-1.316 2.953-2.961.011-1.646-1.294-2.988-2.916-2.998m-.005 1.1c1.017.006 1.829.83 1.822 1.89s-.83 1.874-1.848 1.867c-1.018-.006-1.829-.83-1.822-1.89s.83-1.874 1.848-1.868m-2.155 11.857 4.14.025c.271.002.49.305.487.676l-.013 1.875c-.003.37-.224.67-.495.668l-4.14-.025c-.27-.002-.487-.306-.485-.676l.012-1.875c.003-.37.224-.67.494-.668' style='color:%23000;font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:medium;line-height:normal;font-family:sans-serif;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:%23000;letter-spacing:normal;word-spacing:normal;text-transform:none;writing-mode:lr-tb;direction:ltr;text-orientation:mixed;dominant-baseline:auto;baseline-shift:baseline;text-anchor:start;white-space:normal;shape-padding:0;clip-rule:evenodd;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000;solid-opacity:1;vector-effect:none;fill:%23000;fill-opacity:.4;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-9.415-.316C-12.69-.338-15.37 2.14-15.39 5.207c-.017 2.716 1.326 4.041 2.78 5.477 1.013 1 2.081 2.055 2.78 3.67l.092.076a.34.34 0 0 0 .225.086.34.34 0 0 0 .227-.083l.019-.01c.022-.009.057-.024.074-.064.697-1.6 1.78-2.64 2.814-3.634 1.473-1.414 2.847-2.733 2.864-5.44.02-3.067-2.627-5.58-5.901-5.601m-.057 8.784c1.621.011 2.944-1.315 2.955-2.96.01-1.646-1.295-2.988-2.916-2.999-1.622-.01-2.945 1.315-2.955 2.96s1.295 2.989 2.916 3' style='clip-rule:evenodd;fill:%23e1e3e9;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-11.594 15.465c-.27-.002-.492.297-.494.668l-.012 1.876c-.003.371.214.673.485.675l4.14.027c.271.002.492-.298.495-.668l.012-1.877c.003-.37-.215-.672-.485-.674z' style='clip-rule:evenodd;fill:%23fff;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3C/g%3E%3C/svg%3E");
    background-repeat: no-repeat;
    cursor: pointer;
    display: block;
    height: 23px;
    margin: 0 0 -4px -4px;
    overflow: hidden;
    width: 88px
}

a.maplibregl-ctrl-logo.maplibregl-compact {
    width: 14px
}

@media (forced-colors:active) {
    a.maplibregl-ctrl-logo {
        background-color: transparent;
        background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='88' height='23' fill='none'%3E%3Cpath fill='%23000' fill-opacity='.4' fill-rule='evenodd' d='M17.408 16.796h-1.827l2.501-12.095h.198l3.324 6.533.988 2.19.988-2.19 3.258-6.533h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.929 5.644h-.098l-2.914-5.644-.757-1.71-.345 1.71zm1.958-3.42-.726 3.663a1.255 1.255 0 0 1-1.232 1.011h-1.827a1.255 1.255 0 0 1-1.229-1.509l2.501-12.095a1.255 1.255 0 0 1 1.23-1.001h.197a1.25 1.25 0 0 1 1.12.685l3.19 6.273 3.125-6.263a1.25 1.25 0 0 1 1.123-.695h.181a1.255 1.255 0 0 1 1.227.991l1.443 6.71a5 5 0 0 1 .314-.787l.009-.016a4.6 4.6 0 0 1 1.777-1.887c.782-.46 1.668-.667 2.611-.667a4.6 4.6 0 0 1 1.7.32l.306.134c.21-.16.474-.256.759-.256h1.694a1.255 1.255 0 0 1 1.212.925 1.255 1.255 0 0 1 1.212-.925h1.711c.284 0 .545.094.755.252.613-.3 1.312-.45 2.075-.45 1.356 0 2.557.445 3.482 1.4q.47.48.763 1.064V4.701a1.255 1.255 0 0 1 1.255-1.255h1.86A1.255 1.255 0 0 1 54.44 4.7v9.194h2.217c.19 0 .37.043.532.118v-4.77c0-.356.147-.678.385-.906a2.42 2.42 0 0 1-.682-1.71c0-.665.267-1.253.735-1.7a2.45 2.45 0 0 1 1.722-.674 2.43 2.43 0 0 1 1.705.675q.318.302.504.683V4.7a1.255 1.255 0 0 1 1.255-1.255h1.744A1.255 1.255 0 0 1 65.812 4.7v3.335a4.8 4.8 0 0 1 1.526-.246c.938 0 1.817.214 2.59.69a4.47 4.47 0 0 1 1.67 1.743v-.98a1.255 1.255 0 0 1 1.256-1.256h1.777c.233 0 .451.064.639.174a3.4 3.4 0 0 1 1.567-.372c.346 0 .861.02 1.285.232a1.25 1.25 0 0 1 .689 1.004 4.7 4.7 0 0 1 .853-.588c.795-.44 1.675-.647 2.61-.647 1.385 0 2.65.39 3.525 1.396.836.938 1.168 2.173 1.168 3.528q-.001.515-.056 1.051a1.255 1.255 0 0 1-.947 1.09l.408.952a1.255 1.255 0 0 1-.477 1.552c-.418.268-.92.463-1.458.612-.613.171-1.304.244-2.049.244-1.06 0-2.043-.207-2.886-.698l-.015-.008c-.798-.48-1.419-1.135-1.818-1.963l-.004-.008a5.8 5.8 0 0 1-.548-2.512q0-.429.053-.843a1.3 1.3 0 0 1-.333-.086l-.166-.004c-.223 0-.426.062-.643.228-.03.024-.142.139-.142.59v3.883a1.255 1.255 0 0 1-1.256 1.256h-1.777a1.255 1.255 0 0 1-1.256-1.256V15.69l-.032.057a4.8 4.8 0 0 1-1.86 1.833 5.04 5.04 0 0 1-2.484.634 4.5 4.5 0 0 1-1.935-.424 1.25 1.25 0 0 1-.764.258h-1.71a1.255 1.255 0 0 1-1.256-1.255V7.687a2.4 2.4 0 0 1-.428.625c.253.23.412.561.412.93v7.553a1.255 1.255 0 0 1-1.256 1.255h-1.843a1.25 1.25 0 0 1-.894-.373c-.228.23-.544.373-.894.373H51.32a1.255 1.255 0 0 1-1.256-1.255v-1.251l-.061.117a4.7 4.7 0 0 1-1.782 1.884 4.77 4.77 0 0 1-2.485.67 5.6 5.6 0 0 1-1.485-.188l.009 2.764a1.255 1.255 0 0 1-1.255 1.259h-1.729a1.255 1.255 0 0 1-1.255-1.255v-3.537a1.255 1.255 0 0 1-1.167.793h-1.679a1.25 1.25 0 0 1-.77-.263 4.5 4.5 0 0 1-1.945.429c-.885 0-1.724-.21-2.495-.632l-.017-.01a5 5 0 0 1-1.081-.836 1.255 1.255 0 0 1-1.254 1.312h-1.81a1.255 1.255 0 0 1-1.228-.99l-.782-3.625-2.044 3.939a1.25 1.25 0 0 1-1.115.676h-.098a1.25 1.25 0 0 1-1.116-.68l-2.061-3.994zM35.92 16.63l.207-.114.223-.15q.493-.356.735-.785l.061-.118.033 1.332h1.678V9.242h-1.694l-.033 1.267q-.133-.329-.526-.658l-.032-.028a3.2 3.2 0 0 0-.668-.428l-.27-.12a3.3 3.3 0 0 0-1.235-.23q-1.136-.001-1.974.493a3.36 3.36 0 0 0-1.3 1.382q-.445.89-.444 2.074 0 1.2.51 2.107a3.8 3.8 0 0 0 1.382 1.381 3.9 3.9 0 0 0 1.893.477q.795 0 1.455-.33zm-2.789-5.38q-.576.675-.575 1.762 0 1.102.559 1.794.576.675 1.645.675a2.25 2.25 0 0 0 .934-.19 2.2 2.2 0 0 0 .468-.29l.178-.161a2.2 2.2 0 0 0 .397-.561q.244-.5.244-1.15v-.115q0-.708-.296-1.267l-.043-.077a2.2 2.2 0 0 0-.633-.709l-.13-.086-.047-.028a2.1 2.1 0 0 0-1.073-.285q-1.052 0-1.629.692zm2.316 2.706c.163-.17.28-.407.28-.83v-.114c0-.292-.06-.508-.15-.68a.96.96 0 0 0-.353-.389.85.85 0 0 0-.464-.127c-.4 0-.56.114-.664.239l-.01.012c-.148.174-.275.45-.275.945 0 .506.122.801.27.99.097.11.266.224.68.224.303 0 .504-.09.687-.269zm7.545 1.705a2.6 2.6 0 0 0 .331.423q.319.33.755.548l.173.074q.65.255 1.49.255 1.02 0 1.844-.493a3.45 3.45 0 0 0 1.316-1.4q.493-.904.493-2.089 0-1.909-.988-2.913-.988-1.02-2.584-1.02-.898 0-1.575.347a3 3 0 0 0-.415.262l-.199.166a3.4 3.4 0 0 0-.64.82V9.242h-1.712v11.553h1.729l-.017-5.134zm.53-1.138q.206.29.48.5l.155.11.053.034q.51.296 1.119.297 1.07 0 1.645-.675.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.435 0-.835.16a2 2 0 0 0-.284.136 2 2 0 0 0-.363.254 2.2 2.2 0 0 0-.46.569l-.082.162a2.6 2.6 0 0 0-.213 1.072v.115q0 .707.296 1.267l.135.211zm.964-.818a1.1 1.1 0 0 0 .367.385.94.94 0 0 0 .476.118c.423 0 .59-.117.687-.23.159-.194.28-.478.28-.95 0-.53-.133-.8-.266-.952l-.021-.025c-.078-.094-.231-.221-.68-.221a1 1 0 0 0-.503.135l-.012.007a.86.86 0 0 0-.335.343c-.073.133-.132.324-.132.614v.115a1.4 1.4 0 0 0 .14.66zm15.7-6.222q.347-.346.346-.856a1.05 1.05 0 0 0-.345-.79 1.18 1.18 0 0 0-.84-.329q-.51 0-.855.33a1.05 1.05 0 0 0-.346.79q0 .51.346.855.345.346.856.346.51 0 .839-.346zm4.337 9.314.033-1.332q.191.403.59.747l.098.081a4 4 0 0 0 .316.224l.223.122a3.2 3.2 0 0 0 1.44.322 3.8 3.8 0 0 0 1.875-.477 3.5 3.5 0 0 0 1.382-1.366q.527-.89.526-2.09 0-1.184-.444-2.073a3.24 3.24 0 0 0-1.283-1.399q-.823-.51-1.942-.51a3.5 3.5 0 0 0-1.527.344l-.086.043-.165.09a3 3 0 0 0-.33.214q-.432.315-.656.707a2 2 0 0 0-.099.198l.082-1.283V4.701h-1.744v12.095zm.473-2.509a2.5 2.5 0 0 0 .566.7q.117.098.245.18l.144.08a2.1 2.1 0 0 0 .975.232q1.07 0 1.645-.675.576-.69.576-1.778 0-1.102-.576-1.777-.56-.691-1.645-.692a2.2 2.2 0 0 0-1.015.235q-.22.113-.415.282l-.15.142a2.1 2.1 0 0 0-.42.594q-.223.479-.223 1.1v.115q0 .705.293 1.26zm2.616-.293c.157-.191.28-.479.28-.967 0-.51-.13-.79-.276-.961l-.021-.026c-.082-.1-.232-.225-.67-.225a.87.87 0 0 0-.681.279l-.012.011c-.154.155-.274.38-.274.807v.115c0 .285.057.499.144.669a1.1 1.1 0 0 0 .367.405c.137.082.28.123.455.123.423 0 .59-.118.686-.23zm8.266-3.013q.345-.13.724-.14l.069-.002q.493 0 .642.099l.247-1.794q-.196-.099-.717-.099a2.3 2.3 0 0 0-.545.063 2 2 0 0 0-.411.148 2.2 2.2 0 0 0-.4.249 2.5 2.5 0 0 0-.485.499 2.7 2.7 0 0 0-.32.581l-.05.137v-1.48h-1.778v7.553h1.777v-3.884q0-.546.159-.943a1.5 1.5 0 0 1 .466-.636 2.5 2.5 0 0 1 .399-.253 2 2 0 0 1 .224-.099zm9.784 2.656.05-.922q0-1.743-.856-2.698-.838-.97-2.584-.97-1.119-.001-2.007.493a3.46 3.46 0 0 0-1.4 1.382q-.493.906-.493 2.106 0 1.07.428 1.975.428.89 1.332 1.432.906.526 2.255.526.973 0 1.668-.185l.044-.012.135-.04q.613-.184.984-.421l-.542-1.267q-.3.162-.642.274l-.297.087q-.51.131-1.3.131-.954 0-1.497-.444a1.6 1.6 0 0 1-.192-.193q-.366-.44-.512-1.234l-.004-.021zm-5.427-1.256-.003.022h3.752v-.138q-.011-.727-.288-1.118a1 1 0 0 0-.156-.176q-.46-.428-1.316-.428-.986 0-1.494.604-.379.45-.494 1.234zm-27.053 2.77V4.7h-1.86v12.095h5.333V15.15zm7.103-5.908v7.553h-1.843V9.242h1.843z'/%3E%3Cpath fill='%23fff' d='m19.63 11.151-.757-1.71-.345 1.71-1.12 5.644h-1.827L18.083 4.7h.197l3.325 6.533.988 2.19.988-2.19L26.839 4.7h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.93 5.644h-.098l-2.913-5.644zm14.836 5.81q-1.02 0-1.893-.478a3.8 3.8 0 0 1-1.381-1.382q-.51-.906-.51-2.106 0-1.185.444-2.074a3.36 3.36 0 0 1 1.3-1.382q.839-.494 1.974-.494a3.3 3.3 0 0 1 1.234.231 3.3 3.3 0 0 1 .97.575q.396.33.527.659l.033-1.267h1.694v7.553H37.18l-.033-1.332q-.279.593-1.02 1.053a3.17 3.17 0 0 1-1.662.444zm.296-1.482q.938 0 1.58-.642.642-.66.642-1.711v-.115q0-.708-.296-1.267a2.2 2.2 0 0 0-.807-.872 2.1 2.1 0 0 0-1.119-.313q-1.053 0-1.629.692-.575.675-.575 1.76 0 1.103.559 1.795.577.675 1.645.675zm6.521-6.237h1.711v1.4q.906-1.597 2.83-1.597 1.596 0 2.584 1.02.988 1.005.988 2.914 0 1.185-.493 2.09a3.46 3.46 0 0 1-1.316 1.399 3.5 3.5 0 0 1-1.844.493q-.954 0-1.662-.329a2.67 2.67 0 0 1-1.086-.97l.017 5.134h-1.728zm4.048 6.22q1.07 0 1.645-.674.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.592 0-1.12.296-.51.28-.822.823-.296.527-.296 1.234v.115q0 .708.296 1.267.313.543.823.855.51.296 1.119.297z'/%3E%3Cpath fill='%23e1e3e9' d='M51.325 4.7h1.86v10.45h3.473v1.646h-5.333zm7.12 4.542h1.843v7.553h-1.843zm.905-1.415a1.16 1.16 0 0 1-.856-.346 1.17 1.17 0 0 1-.346-.856 1.05 1.05 0 0 1 .346-.79q.346-.329.856-.329.494 0 .839.33a1.05 1.05 0 0 1 .345.79 1.16 1.16 0 0 1-.345.855q-.33.346-.84.346zm7.875 9.133a3.17 3.17 0 0 1-1.662-.444q-.723-.46-1.004-1.053l-.033 1.332h-1.71V4.701h1.743v4.657l-.082 1.283q.279-.658 1.086-1.119a3.5 3.5 0 0 1 1.778-.477q1.119 0 1.942.51a3.24 3.24 0 0 1 1.283 1.4q.445.888.444 2.072 0 1.201-.526 2.09a3.5 3.5 0 0 1-1.382 1.366 3.8 3.8 0 0 1-1.876.477zm-.296-1.481q1.069 0 1.645-.675.577-.69.577-1.778 0-1.102-.577-1.776-.56-.691-1.645-.692a2.12 2.12 0 0 0-1.58.659q-.642.641-.642 1.694v.115q0 .71.296 1.267a2.4 2.4 0 0 0 .807.872 2.1 2.1 0 0 0 1.119.313zm5.927-6.237h1.777v1.481q.263-.757.856-1.217a2.14 2.14 0 0 1 1.349-.46q.527 0 .724.098l-.247 1.794q-.149-.099-.642-.099-.774 0-1.416.494-.626.493-.626 1.58v3.883h-1.777V9.242zm9.534 7.718q-1.35 0-2.255-.526-.904-.543-1.332-1.432a4.6 4.6 0 0 1-.428-1.975q0-1.2.493-2.106a3.46 3.46 0 0 1 1.4-1.382q.889-.495 2.007-.494 1.744 0 2.584.97.855.956.856 2.7 0 .444-.05.92h-5.43q.18 1.005.708 1.45.542.443 1.497.443.79 0 1.3-.131a4 4 0 0 0 .938-.362l.542 1.267q-.411.263-1.119.46-.708.198-1.711.197zm1.596-4.558q.016-1.02-.444-1.432-.46-.428-1.316-.428-1.728 0-1.991 1.86z'/%3E%3Cpath d='M5.074 15.948a.484.657 0 0 0-.486.659v1.84a.484.657 0 0 0 .486.659h4.101a.484.657 0 0 0 .486-.659v-1.84a.484.657 0 0 0-.486-.659zm3.56 1.16H5.617v.838h3.017z' style='fill:%23fff;fill-rule:evenodd;stroke-width:1.03600001'/%3E%3Cg style='stroke-width:1.12603545'%3E%3Cpath d='M-9.408-1.416c-3.833-.025-7.056 2.912-7.08 6.615-.02 3.08 1.653 4.832 3.107 6.268.903.892 1.721 1.74 2.32 2.902l-.525-.004c-.543-.003-.992.304-1.24.639a1.87 1.87 0 0 0-.362 1.121l-.011 1.877c-.003.402.104.787.347 1.125.244.338.688.653 1.23.656l4.142.028c.542.003.99-.306 1.238-.641a1.87 1.87 0 0 0 .363-1.121l.012-1.875a1.87 1.87 0 0 0-.348-1.127c-.243-.338-.688-.653-1.23-.656l-.518-.004c.597-1.145 1.425-1.983 2.348-2.87 1.473-1.414 3.18-3.149 3.2-6.226-.016-3.59-2.923-6.684-6.993-6.707m-.006 1.1v.002c3.274.02 5.92 2.532 5.9 5.6-.017 2.706-1.39 4.026-2.863 5.44-1.034.994-2.118 2.033-2.814 3.633-.018.041-.052.055-.075.065q-.013.004-.02.01a.34.34 0 0 1-.226.084.34.34 0 0 1-.224-.086l-.092-.077c-.699-1.615-1.768-2.669-2.781-3.67-1.454-1.435-2.797-2.762-2.78-5.478.02-3.067 2.7-5.545 5.975-5.523m-.02 2.826c-1.62-.01-2.944 1.315-2.955 2.96-.01 1.646 1.295 2.988 2.916 2.999h.002c1.621.01 2.943-1.316 2.953-2.961.011-1.646-1.294-2.988-2.916-2.998m-.005 1.1c1.017.006 1.829.83 1.822 1.89s-.83 1.874-1.848 1.867c-1.018-.006-1.829-.83-1.822-1.89s.83-1.874 1.848-1.868m-2.155 11.857 4.14.025c.271.002.49.305.487.676l-.013 1.875c-.003.37-.224.67-.495.668l-4.14-.025c-.27-.002-.487-.306-.485-.676l.012-1.875c.003-.37.224-.67.494-.668' style='color:%23000;font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:medium;line-height:normal;font-family:sans-serif;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:%23000;letter-spacing:normal;word-spacing:normal;text-transform:none;writing-mode:lr-tb;direction:ltr;text-orientation:mixed;dominant-baseline:auto;baseline-shift:baseline;text-anchor:start;white-space:normal;shape-padding:0;clip-rule:evenodd;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000;solid-opacity:1;vector-effect:none;fill:%23000;fill-opacity:.4;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-9.415-.316C-12.69-.338-15.37 2.14-15.39 5.207c-.017 2.716 1.326 4.041 2.78 5.477 1.013 1 2.081 2.055 2.78 3.67l.092.076a.34.34 0 0 0 .225.086.34.34 0 0 0 .227-.083l.019-.01c.022-.009.057-.024.074-.064.697-1.6 1.78-2.64 2.814-3.634 1.473-1.414 2.847-2.733 2.864-5.44.02-3.067-2.627-5.58-5.901-5.601m-.057 8.784c1.621.011 2.944-1.315 2.955-2.96.01-1.646-1.295-2.988-2.916-2.999-1.622-.01-2.945 1.315-2.955 2.96s1.295 2.989 2.916 3' style='clip-rule:evenodd;fill:%23e1e3e9;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-11.594 15.465c-.27-.002-.492.297-.494.668l-.012 1.876c-.003.371.214.673.485.675l4.14.027c.271.002.492-.298.495-.668l.012-1.877c.003-.37-.215-.672-.485-.674z' style='clip-rule:evenodd;fill:%23fff;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3C/g%3E%3C/svg%3E")
    }
}

@media (forced-colors:active) and (prefers-color-scheme:light) {
    a.maplibregl-ctrl-logo {
        background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='88' height='23' fill='none'%3E%3Cpath fill='%23000' fill-opacity='.4' fill-rule='evenodd' d='M17.408 16.796h-1.827l2.501-12.095h.198l3.324 6.533.988 2.19.988-2.19 3.258-6.533h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.929 5.644h-.098l-2.914-5.644-.757-1.71-.345 1.71zm1.958-3.42-.726 3.663a1.255 1.255 0 0 1-1.232 1.011h-1.827a1.255 1.255 0 0 1-1.229-1.509l2.501-12.095a1.255 1.255 0 0 1 1.23-1.001h.197a1.25 1.25 0 0 1 1.12.685l3.19 6.273 3.125-6.263a1.25 1.25 0 0 1 1.123-.695h.181a1.255 1.255 0 0 1 1.227.991l1.443 6.71a5 5 0 0 1 .314-.787l.009-.016a4.6 4.6 0 0 1 1.777-1.887c.782-.46 1.668-.667 2.611-.667a4.6 4.6 0 0 1 1.7.32l.306.134c.21-.16.474-.256.759-.256h1.694a1.255 1.255 0 0 1 1.212.925 1.255 1.255 0 0 1 1.212-.925h1.711c.284 0 .545.094.755.252.613-.3 1.312-.45 2.075-.45 1.356 0 2.557.445 3.482 1.4q.47.48.763 1.064V4.701a1.255 1.255 0 0 1 1.255-1.255h1.86A1.255 1.255 0 0 1 54.44 4.7v9.194h2.217c.19 0 .37.043.532.118v-4.77c0-.356.147-.678.385-.906a2.42 2.42 0 0 1-.682-1.71c0-.665.267-1.253.735-1.7a2.45 2.45 0 0 1 1.722-.674 2.43 2.43 0 0 1 1.705.675q.318.302.504.683V4.7a1.255 1.255 0 0 1 1.255-1.255h1.744A1.255 1.255 0 0 1 65.812 4.7v3.335a4.8 4.8 0 0 1 1.526-.246c.938 0 1.817.214 2.59.69a4.47 4.47 0 0 1 1.67 1.743v-.98a1.255 1.255 0 0 1 1.256-1.256h1.777c.233 0 .451.064.639.174a3.4 3.4 0 0 1 1.567-.372c.346 0 .861.02 1.285.232a1.25 1.25 0 0 1 .689 1.004 4.7 4.7 0 0 1 .853-.588c.795-.44 1.675-.647 2.61-.647 1.385 0 2.65.39 3.525 1.396.836.938 1.168 2.173 1.168 3.528q-.001.515-.056 1.051a1.255 1.255 0 0 1-.947 1.09l.408.952a1.255 1.255 0 0 1-.477 1.552c-.418.268-.92.463-1.458.612-.613.171-1.304.244-2.049.244-1.06 0-2.043-.207-2.886-.698l-.015-.008c-.798-.48-1.419-1.135-1.818-1.963l-.004-.008a5.8 5.8 0 0 1-.548-2.512q0-.429.053-.843a1.3 1.3 0 0 1-.333-.086l-.166-.004c-.223 0-.426.062-.643.228-.03.024-.142.139-.142.59v3.883a1.255 1.255 0 0 1-1.256 1.256h-1.777a1.255 1.255 0 0 1-1.256-1.256V15.69l-.032.057a4.8 4.8 0 0 1-1.86 1.833 5.04 5.04 0 0 1-2.484.634 4.5 4.5 0 0 1-1.935-.424 1.25 1.25 0 0 1-.764.258h-1.71a1.255 1.255 0 0 1-1.256-1.255V7.687a2.4 2.4 0 0 1-.428.625c.253.23.412.561.412.93v7.553a1.255 1.255 0 0 1-1.256 1.255h-1.843a1.25 1.25 0 0 1-.894-.373c-.228.23-.544.373-.894.373H51.32a1.255 1.255 0 0 1-1.256-1.255v-1.251l-.061.117a4.7 4.7 0 0 1-1.782 1.884 4.77 4.77 0 0 1-2.485.67 5.6 5.6 0 0 1-1.485-.188l.009 2.764a1.255 1.255 0 0 1-1.255 1.259h-1.729a1.255 1.255 0 0 1-1.255-1.255v-3.537a1.255 1.255 0 0 1-1.167.793h-1.679a1.25 1.25 0 0 1-.77-.263 4.5 4.5 0 0 1-1.945.429c-.885 0-1.724-.21-2.495-.632l-.017-.01a5 5 0 0 1-1.081-.836 1.255 1.255 0 0 1-1.254 1.312h-1.81a1.255 1.255 0 0 1-1.228-.99l-.782-3.625-2.044 3.939a1.25 1.25 0 0 1-1.115.676h-.098a1.25 1.25 0 0 1-1.116-.68l-2.061-3.994zM35.92 16.63l.207-.114.223-.15q.493-.356.735-.785l.061-.118.033 1.332h1.678V9.242h-1.694l-.033 1.267q-.133-.329-.526-.658l-.032-.028a3.2 3.2 0 0 0-.668-.428l-.27-.12a3.3 3.3 0 0 0-1.235-.23q-1.136-.001-1.974.493a3.36 3.36 0 0 0-1.3 1.382q-.445.89-.444 2.074 0 1.2.51 2.107a3.8 3.8 0 0 0 1.382 1.381 3.9 3.9 0 0 0 1.893.477q.795 0 1.455-.33zm-2.789-5.38q-.576.675-.575 1.762 0 1.102.559 1.794.576.675 1.645.675a2.25 2.25 0 0 0 .934-.19 2.2 2.2 0 0 0 .468-.29l.178-.161a2.2 2.2 0 0 0 .397-.561q.244-.5.244-1.15v-.115q0-.708-.296-1.267l-.043-.077a2.2 2.2 0 0 0-.633-.709l-.13-.086-.047-.028a2.1 2.1 0 0 0-1.073-.285q-1.052 0-1.629.692zm2.316 2.706c.163-.17.28-.407.28-.83v-.114c0-.292-.06-.508-.15-.68a.96.96 0 0 0-.353-.389.85.85 0 0 0-.464-.127c-.4 0-.56.114-.664.239l-.01.012c-.148.174-.275.45-.275.945 0 .506.122.801.27.99.097.11.266.224.68.224.303 0 .504-.09.687-.269zm7.545 1.705a2.6 2.6 0 0 0 .331.423q.319.33.755.548l.173.074q.65.255 1.49.255 1.02 0 1.844-.493a3.45 3.45 0 0 0 1.316-1.4q.493-.904.493-2.089 0-1.909-.988-2.913-.988-1.02-2.584-1.02-.898 0-1.575.347a3 3 0 0 0-.415.262l-.199.166a3.4 3.4 0 0 0-.64.82V9.242h-1.712v11.553h1.729l-.017-5.134zm.53-1.138q.206.29.48.5l.155.11.053.034q.51.296 1.119.297 1.07 0 1.645-.675.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.435 0-.835.16a2 2 0 0 0-.284.136 2 2 0 0 0-.363.254 2.2 2.2 0 0 0-.46.569l-.082.162a2.6 2.6 0 0 0-.213 1.072v.115q0 .707.296 1.267l.135.211zm.964-.818a1.1 1.1 0 0 0 .367.385.94.94 0 0 0 .476.118c.423 0 .59-.117.687-.23.159-.194.28-.478.28-.95 0-.53-.133-.8-.266-.952l-.021-.025c-.078-.094-.231-.221-.68-.221a1 1 0 0 0-.503.135l-.012.007a.86.86 0 0 0-.335.343c-.073.133-.132.324-.132.614v.115a1.4 1.4 0 0 0 .14.66zm15.7-6.222q.347-.346.346-.856a1.05 1.05 0 0 0-.345-.79 1.18 1.18 0 0 0-.84-.329q-.51 0-.855.33a1.05 1.05 0 0 0-.346.79q0 .51.346.855.345.346.856.346.51 0 .839-.346zm4.337 9.314.033-1.332q.191.403.59.747l.098.081a4 4 0 0 0 .316.224l.223.122a3.2 3.2 0 0 0 1.44.322 3.8 3.8 0 0 0 1.875-.477 3.5 3.5 0 0 0 1.382-1.366q.527-.89.526-2.09 0-1.184-.444-2.073a3.24 3.24 0 0 0-1.283-1.399q-.823-.51-1.942-.51a3.5 3.5 0 0 0-1.527.344l-.086.043-.165.09a3 3 0 0 0-.33.214q-.432.315-.656.707a2 2 0 0 0-.099.198l.082-1.283V4.701h-1.744v12.095zm.473-2.509a2.5 2.5 0 0 0 .566.7q.117.098.245.18l.144.08a2.1 2.1 0 0 0 .975.232q1.07 0 1.645-.675.576-.69.576-1.778 0-1.102-.576-1.777-.56-.691-1.645-.692a2.2 2.2 0 0 0-1.015.235q-.22.113-.415.282l-.15.142a2.1 2.1 0 0 0-.42.594q-.223.479-.223 1.1v.115q0 .705.293 1.26zm2.616-.293c.157-.191.28-.479.28-.967 0-.51-.13-.79-.276-.961l-.021-.026c-.082-.1-.232-.225-.67-.225a.87.87 0 0 0-.681.279l-.012.011c-.154.155-.274.38-.274.807v.115c0 .285.057.499.144.669a1.1 1.1 0 0 0 .367.405c.137.082.28.123.455.123.423 0 .59-.118.686-.23zm8.266-3.013q.345-.13.724-.14l.069-.002q.493 0 .642.099l.247-1.794q-.196-.099-.717-.099a2.3 2.3 0 0 0-.545.063 2 2 0 0 0-.411.148 2.2 2.2 0 0 0-.4.249 2.5 2.5 0 0 0-.485.499 2.7 2.7 0 0 0-.32.581l-.05.137v-1.48h-1.778v7.553h1.777v-3.884q0-.546.159-.943a1.5 1.5 0 0 1 .466-.636 2.5 2.5 0 0 1 .399-.253 2 2 0 0 1 .224-.099zm9.784 2.656.05-.922q0-1.743-.856-2.698-.838-.97-2.584-.97-1.119-.001-2.007.493a3.46 3.46 0 0 0-1.4 1.382q-.493.906-.493 2.106 0 1.07.428 1.975.428.89 1.332 1.432.906.526 2.255.526.973 0 1.668-.185l.044-.012.135-.04q.613-.184.984-.421l-.542-1.267q-.3.162-.642.274l-.297.087q-.51.131-1.3.131-.954 0-1.497-.444a1.6 1.6 0 0 1-.192-.193q-.366-.44-.512-1.234l-.004-.021zm-5.427-1.256-.003.022h3.752v-.138q-.011-.727-.288-1.118a1 1 0 0 0-.156-.176q-.46-.428-1.316-.428-.986 0-1.494.604-.379.45-.494 1.234zm-27.053 2.77V4.7h-1.86v12.095h5.333V15.15zm7.103-5.908v7.553h-1.843V9.242h1.843z'/%3E%3Cpath fill='%23fff' d='m19.63 11.151-.757-1.71-.345 1.71-1.12 5.644h-1.827L18.083 4.7h.197l3.325 6.533.988 2.19.988-2.19L26.839 4.7h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.93 5.644h-.098l-2.913-5.644zm14.836 5.81q-1.02 0-1.893-.478a3.8 3.8 0 0 1-1.381-1.382q-.51-.906-.51-2.106 0-1.185.444-2.074a3.36 3.36 0 0 1 1.3-1.382q.839-.494 1.974-.494a3.3 3.3 0 0 1 1.234.231 3.3 3.3 0 0 1 .97.575q.396.33.527.659l.033-1.267h1.694v7.553H37.18l-.033-1.332q-.279.593-1.02 1.053a3.17 3.17 0 0 1-1.662.444zm.296-1.482q.938 0 1.58-.642.642-.66.642-1.711v-.115q0-.708-.296-1.267a2.2 2.2 0 0 0-.807-.872 2.1 2.1 0 0 0-1.119-.313q-1.053 0-1.629.692-.575.675-.575 1.76 0 1.103.559 1.795.577.675 1.645.675zm6.521-6.237h1.711v1.4q.906-1.597 2.83-1.597 1.596 0 2.584 1.02.988 1.005.988 2.914 0 1.185-.493 2.09a3.46 3.46 0 0 1-1.316 1.399 3.5 3.5 0 0 1-1.844.493q-.954 0-1.662-.329a2.67 2.67 0 0 1-1.086-.97l.017 5.134h-1.728zm4.048 6.22q1.07 0 1.645-.674.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.592 0-1.12.296-.51.28-.822.823-.296.527-.296 1.234v.115q0 .708.296 1.267.313.543.823.855.51.296 1.119.297z'/%3E%3Cpath fill='%23e1e3e9' d='M51.325 4.7h1.86v10.45h3.473v1.646h-5.333zm7.12 4.542h1.843v7.553h-1.843zm.905-1.415a1.16 1.16 0 0 1-.856-.346 1.17 1.17 0 0 1-.346-.856 1.05 1.05 0 0 1 .346-.79q.346-.329.856-.329.494 0 .839.33a1.05 1.05 0 0 1 .345.79 1.16 1.16 0 0 1-.345.855q-.33.346-.84.346zm7.875 9.133a3.17 3.17 0 0 1-1.662-.444q-.723-.46-1.004-1.053l-.033 1.332h-1.71V4.701h1.743v4.657l-.082 1.283q.279-.658 1.086-1.119a3.5 3.5 0 0 1 1.778-.477q1.119 0 1.942.51a3.24 3.24 0 0 1 1.283 1.4q.445.888.444 2.072 0 1.201-.526 2.09a3.5 3.5 0 0 1-1.382 1.366 3.8 3.8 0 0 1-1.876.477zm-.296-1.481q1.069 0 1.645-.675.577-.69.577-1.778 0-1.102-.577-1.776-.56-.691-1.645-.692a2.12 2.12 0 0 0-1.58.659q-.642.641-.642 1.694v.115q0 .71.296 1.267a2.4 2.4 0 0 0 .807.872 2.1 2.1 0 0 0 1.119.313zm5.927-6.237h1.777v1.481q.263-.757.856-1.217a2.14 2.14 0 0 1 1.349-.46q.527 0 .724.098l-.247 1.794q-.149-.099-.642-.099-.774 0-1.416.494-.626.493-.626 1.58v3.883h-1.777V9.242zm9.534 7.718q-1.35 0-2.255-.526-.904-.543-1.332-1.432a4.6 4.6 0 0 1-.428-1.975q0-1.2.493-2.106a3.46 3.46 0 0 1 1.4-1.382q.889-.495 2.007-.494 1.744 0 2.584.97.855.956.856 2.7 0 .444-.05.92h-5.43q.18 1.005.708 1.45.542.443 1.497.443.79 0 1.3-.131a4 4 0 0 0 .938-.362l.542 1.267q-.411.263-1.119.46-.708.198-1.711.197zm1.596-4.558q.016-1.02-.444-1.432-.46-.428-1.316-.428-1.728 0-1.991 1.86z'/%3E%3Cpath d='M5.074 15.948a.484.657 0 0 0-.486.659v1.84a.484.657 0 0 0 .486.659h4.101a.484.657 0 0 0 .486-.659v-1.84a.484.657 0 0 0-.486-.659zm3.56 1.16H5.617v.838h3.017z' style='fill:%23fff;fill-rule:evenodd;stroke-width:1.03600001'/%3E%3Cg style='stroke-width:1.12603545'%3E%3Cpath d='M-9.408-1.416c-3.833-.025-7.056 2.912-7.08 6.615-.02 3.08 1.653 4.832 3.107 6.268.903.892 1.721 1.74 2.32 2.902l-.525-.004c-.543-.003-.992.304-1.24.639a1.87 1.87 0 0 0-.362 1.121l-.011 1.877c-.003.402.104.787.347 1.125.244.338.688.653 1.23.656l4.142.028c.542.003.99-.306 1.238-.641a1.87 1.87 0 0 0 .363-1.121l.012-1.875a1.87 1.87 0 0 0-.348-1.127c-.243-.338-.688-.653-1.23-.656l-.518-.004c.597-1.145 1.425-1.983 2.348-2.87 1.473-1.414 3.18-3.149 3.2-6.226-.016-3.59-2.923-6.684-6.993-6.707m-.006 1.1v.002c3.274.02 5.92 2.532 5.9 5.6-.017 2.706-1.39 4.026-2.863 5.44-1.034.994-2.118 2.033-2.814 3.633-.018.041-.052.055-.075.065q-.013.004-.02.01a.34.34 0 0 1-.226.084.34.34 0 0 1-.224-.086l-.092-.077c-.699-1.615-1.768-2.669-2.781-3.67-1.454-1.435-2.797-2.762-2.78-5.478.02-3.067 2.7-5.545 5.975-5.523m-.02 2.826c-1.62-.01-2.944 1.315-2.955 2.96-.01 1.646 1.295 2.988 2.916 2.999h.002c1.621.01 2.943-1.316 2.953-2.961.011-1.646-1.294-2.988-2.916-2.998m-.005 1.1c1.017.006 1.829.83 1.822 1.89s-.83 1.874-1.848 1.867c-1.018-.006-1.829-.83-1.822-1.89s.83-1.874 1.848-1.868m-2.155 11.857 4.14.025c.271.002.49.305.487.676l-.013 1.875c-.003.37-.224.67-.495.668l-4.14-.025c-.27-.002-.487-.306-.485-.676l.012-1.875c.003-.37.224-.67.494-.668' style='color:%23000;font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:medium;line-height:normal;font-family:sans-serif;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:%23000;letter-spacing:normal;word-spacing:normal;text-transform:none;writing-mode:lr-tb;direction:ltr;text-orientation:mixed;dominant-baseline:auto;baseline-shift:baseline;text-anchor:start;white-space:normal;shape-padding:0;clip-rule:evenodd;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000;solid-opacity:1;vector-effect:none;fill:%23000;fill-opacity:.4;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-9.415-.316C-12.69-.338-15.37 2.14-15.39 5.207c-.017 2.716 1.326 4.041 2.78 5.477 1.013 1 2.081 2.055 2.78 3.67l.092.076a.34.34 0 0 0 .225.086.34.34 0 0 0 .227-.083l.019-.01c.022-.009.057-.024.074-.064.697-1.6 1.78-2.64 2.814-3.634 1.473-1.414 2.847-2.733 2.864-5.44.02-3.067-2.627-5.58-5.901-5.601m-.057 8.784c1.621.011 2.944-1.315 2.955-2.96.01-1.646-1.295-2.988-2.916-2.999-1.622-.01-2.945 1.315-2.955 2.96s1.295 2.989 2.916 3' style='clip-rule:evenodd;fill:%23e1e3e9;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-11.594 15.465c-.27-.002-.492.297-.494.668l-.012 1.876c-.003.371.214.673.485.675l4.14.027c.271.002.492-.298.495-.668l.012-1.877c.003-.37-.215-.672-.485-.674z' style='clip-rule:evenodd;fill:%23fff;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3C/g%3E%3C/svg%3E")
    }
}

.maplibregl-ctrl.maplibregl-ctrl-attrib {
    background-color: #ffffff80;
    margin: 0;
    padding: 0 5px
}

@media screen {
    .maplibregl-ctrl-attrib.maplibregl-compact {
        background-color: #fff;
        border-radius: 12px;
        box-sizing: content-box;
        color: #000;
        margin: 10px;
        min-height: 20px;
        padding: 2px 24px 2px 0;
        position: relative
    }

    .maplibregl-ctrl-attrib.maplibregl-compact-show {
        padding: 2px 28px 2px 8px;
        visibility: visible
    }

    .maplibregl-ctrl-bottom-left>.maplibregl-ctrl-attrib.maplibregl-compact-show,
    .maplibregl-ctrl-top-left>.maplibregl-ctrl-attrib.maplibregl-compact-show {
        border-radius: 12px;
        padding: 2px 8px 2px 28px
    }

    .maplibregl-ctrl-attrib.maplibregl-compact .maplibregl-ctrl-attrib-inner {
        display: none
    }

    .maplibregl-ctrl-attrib-button {
        background-color: #ffffff80;
        background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill-rule='evenodd' viewBox='0 0 20 20'%3E%3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E%3C/svg%3E");
        border: 0;
        border-radius: 12px;
        box-sizing: border-box;
        cursor: pointer;
        display: none;
        height: 24px;
        outline: none;
        position: absolute;
        right: 0;
        top: 0;
        width: 24px
    }

    .maplibregl-ctrl-attrib summary.maplibregl-ctrl-attrib-button {
        -webkit-appearance: none;
        -moz-appearance: none;
        appearance: none;
        list-style: none
    }

    .maplibregl-ctrl-attrib summary.maplibregl-ctrl-attrib-button::-webkit-details-marker {
        display: none
    }

    .maplibregl-ctrl-bottom-left .maplibregl-ctrl-attrib-button,
    .maplibregl-ctrl-top-left .maplibregl-ctrl-attrib-button {
        left: 0
    }

    .maplibregl-ctrl-attrib.maplibregl-compact .maplibregl-ctrl-attrib-button,
    .maplibregl-ctrl-attrib.maplibregl-compact-show .maplibregl-ctrl-attrib-inner {
        display: block
    }

    .maplibregl-ctrl-attrib.maplibregl-compact-show .maplibregl-ctrl-attrib-button {
        background-color: #0000000d
    }

    .maplibregl-ctrl-bottom-right>.maplibregl-ctrl-attrib.maplibregl-compact:after {
        bottom: 0;
        right: 0
    }

    .maplibregl-ctrl-top-right>.maplibregl-ctrl-attrib.maplibregl-compact:after {
        right: 0;
        top: 0
    }

    .maplibregl-ctrl-top-left>.maplibregl-ctrl-attrib.maplibregl-compact:after {
        left: 0;
        top: 0
    }

    .maplibregl-ctrl-bottom-left>.maplibregl-ctrl-attrib.maplibregl-compact:after {
        bottom: 0;
        left: 0
    }
}

@media screen and (forced-colors:active) {
    .maplibregl-ctrl-attrib.maplibregl-compact:after {
        background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='%23fff' fill-rule='evenodd' viewBox='0 0 20 20'%3E%3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E%3C/svg%3E")
    }
}

@media screen and (forced-colors:active) and (prefers-color-scheme:light) {
    .maplibregl-ctrl-attrib.maplibregl-compact:after {
        background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill-rule='evenodd' viewBox='0 0 20 20'%3E%3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E%3C/svg%3E")
    }
}

.maplibregl-ctrl-attrib a {
    color: #000000bf;
    text-decoration: none
}

.maplibregl-ctrl-attrib a:hover {
    color: inherit;
    text-decoration: underline
}

.maplibregl-attrib-empty {
    display: none
}

.maplibregl-ctrl-scale {
    background-color: #ffffffbf;
    border: 2px solid #333;
    border-top: #333;
    box-sizing: border-box;
    color: #333;
    font-size: 10px;
    padding: 0 5px
}

.maplibregl-popup {
    display: flex;
    left: 0;
    pointer-events: none;
    position: absolute;
    top: 0;
    will-change: transform
}

.maplibregl-popup-anchor-top,
.maplibregl-popup-anchor-top-left,
.maplibregl-popup-anchor-top-right {
    flex-direction: column
}

.maplibregl-popup-anchor-bottom,
.maplibregl-popup-anchor-bottom-left,
.maplibregl-popup-anchor-bottom-right {
    flex-direction: column-reverse
}

.maplibregl-popup-anchor-left {
    flex-direction: row
}

.maplibregl-popup-anchor-right {
    flex-direction: row-reverse
}

.maplibregl-popup-tip {
    border: 10px solid transparent;
    height: 0;
    width: 0;
    z-index: 1
}

.maplibregl-popup-anchor-top .maplibregl-popup-tip {
    align-self: center;
    border-bottom-color: #fff;
    border-top: none
}

.maplibregl-popup-anchor-top-left .maplibregl-popup-tip {
    align-self: flex-start;
    border-bottom-color: #fff;
    border-left: none;
    border-top: none
}

.maplibregl-popup-anchor-top-right .maplibregl-popup-tip {
    align-self: flex-end;
    border-bottom-color: #fff;
    border-right: none;
    border-top: none
}

.maplibregl-popup-anchor-bottom .maplibregl-popup-tip {
    align-self: center;
    border-bottom: none;
    border-top-color: #fff
}

.maplibregl-popup-anchor-bottom-left .maplibregl-popup-tip {
    align-self: flex-start;
    border-bottom: none;
    border-left: none;
    border-top-color: #fff
}

.maplibregl-popup-anchor-bottom-right .maplibregl-popup-tip {
    align-self: flex-end;
    border-bottom: none;
    border-right: none;
    border-top-color: #fff
}

.maplibregl-popup-anchor-left .maplibregl-popup-tip {
    align-self: center;
    border-left: none;
    border-right-color: #fff
}

.maplibregl-popup-anchor-right .maplibregl-popup-tip {
    align-self: center;
    border-left-color: #fff;
    border-right: none
}

.maplibregl-popup-close-button {
    background-color: transparent;
    border: 0;
    border-radius: 0 3px 0 0;
    cursor: pointer;
    position: absolute;
    right: 0;
    top: 0
}

.maplibregl-popup-close-button:hover {
    background-color: #0000000d
}

.maplibregl-popup-content {
    background: #fff;
    border-radius: 3px;
    box-shadow: 0 1px 2px #0000001a;
    padding: 15px 10px;
    pointer-events: auto;
    position: relative
}

.maplibregl-popup-anchor-top-left .maplibregl-popup-content {
    border-top-left-radius: 0
}

.maplibregl-popup-anchor-top-right .maplibregl-popup-content {
    border-top-right-radius: 0
}

.maplibregl-popup-anchor-bottom-left .maplibregl-popup-content {
    border-bottom-left-radius: 0
}

.maplibregl-popup-anchor-bottom-right .maplibregl-popup-content {
    border-bottom-right-radius: 0
}

.maplibregl-popup-track-pointer {
    display: none
}

.maplibregl-popup-track-pointer * {
    pointer-events: none;
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none
}

.maplibregl-map:hover .maplibregl-popup-track-pointer {
    display: flex
}

.maplibregl-map:active .maplibregl-popup-track-pointer {
    display: none
}

.maplibregl-marker {
    left: 0;
    position: absolute;
    top: 0;
    transition: opacity .2s;
    will-change: transform
}

.maplibregl-user-location-dot,
.maplibregl-user-location-dot:before {
    background-color: #1da1f2;
    border-radius: 50%;
    height: 15px;
    width: 15px
}

.maplibregl-user-location-dot:before {
    animation: maplibregl-user-location-dot-pulse 2s infinite;
    content: "";
    position: absolute
}

.maplibregl-user-location-dot:after {
    border: 2px solid #fff;
    border-radius: 50%;
    box-shadow: 0 0 3px #00000059;
    box-sizing: border-box;
    content: "";
    height: 19px;
    left: -2px;
    position: absolute;
    top: -2px;
    width: 19px
}

@keyframes maplibregl-user-location-dot-pulse {
    0% {
        opacity: 1;
        transform: scale(1)
    }

    70% {
        opacity: 0;
        transform: scale(3)
    }

    to {
        opacity: 0;
        transform: scale(1)
    }
}

.maplibregl-user-location-dot-stale {
    background-color: #aaa
}

.maplibregl-user-location-dot-stale:after {
    display: none
}

.maplibregl-user-location-accuracy-circle {
    background-color: #1da1f233;
    border-radius: 100%;
    height: 1px;
    width: 1px
}

.maplibregl-crosshair,
.maplibregl-crosshair .maplibregl-interactive,
.maplibregl-crosshair .maplibregl-interactive:active {
    cursor: crosshair
}

.maplibregl-boxzoom {
    background: #fff;
    border: 2px dotted #202020;
    height: 0;
    left: 0;
    opacity: .5;
    position: absolute;
    top: 0;
    width: 0
}

.maplibregl-cooperative-gesture-screen {
    align-items: center;
    background: #0006;
    color: #fff;
    display: flex;
    font-size: 1.4em;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    justify-content: center;
    line-height: 1.2;
    opacity: 0;
    padding: 1rem;
    pointer-events: none;
    position: absolute;
    transition: opacity 1s ease 1s;
    z-index: 99999
}

.maplibregl-cooperative-gesture-screen.maplibregl-show {
    opacity: 1;
    transition: opacity .05s
}

.maplibregl-cooperative-gesture-screen .maplibregl-mobile-message {
    display: none
}

@media (hover:none),
(pointer:coarse) {
    .maplibregl-cooperative-gesture-screen .maplibregl-desktop-message {
        display: none
    }

    .maplibregl-cooperative-gesture-screen .maplibregl-mobile-message {
        display: block
    }
}

.maplibregl-pseudo-fullscreen {
    height: 100% !important;
    left: 0 !important;
    position: fixed !important;
    top: 0 !important;
    width: 100% !important;
    z-index: 99999
}
</style><script type="text/javascript">
(function(){const R=document.createElement("link").relList;if(R&&R.supports&&R.supports("modulepreload"))return;for(const J of document.querySelectorAll('link[rel="modulepreload"]'))U(J);new MutationObserver(J=>{for(const ae of J)if(ae.type==="childList")for(const P of ae.addedNodes)P.tagName==="LINK"&&P.rel==="modulepreload"&&U(P)}).observe(document,{childList:!0,subtree:!0});function V(J){const ae={};return J.integrity&&(ae.integrity=J.integrity),J.referrerPolicy&&(ae.referrerPolicy=J.referrerPolicy),J.crossOrigin==="use-credentials"?ae.credentials="include":J.crossOrigin==="anonymous"?ae.credentials="omit":ae.credentials="same-origin",ae}function U(J){if(J.ep)return;J.ep=!0;const ae=V(J);fetch(J.href,ae)}})();function gp(S,R){return function(){return S.apply(R,arguments)}}const{toString:Mm}=Object.prototype,{getPrototypeOf:_h}=Object,Uc=(S=>R=>{const V=Mm.call(R);return S[V]||(S[V]=V.slice(8,-1).toLowerCase())})(Object.create(null)),Br=S=>(S=S.toLowerCase(),R=>Uc(R)===S),Zc=S=>R=>typeof R===S,{isArray:ia}=Array,_l=Zc("undefined");function Cm(S){return S!==null&&!_l(S)&&S.constructor!==null&&!_l(S.constructor)&&ur(S.constructor.isBuffer)&&S.constructor.isBuffer(S)}const yp=Br("ArrayBuffer");function Im(S){let R;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?R=ArrayBuffer.isView(S):R=S&&S.buffer&&yp(S.buffer),R}const Em=Zc("string"),ur=Zc("function"),xp=Zc("number"),$c=S=>S!==null&&typeof S=="object",Am=S=>S===!0||S===!1,Fc=S=>{if(Uc(S)!=="object")return!1;const R=_h(S);return(R===null||R===Object.prototype||Object.getPrototypeOf(R)===null)&&!(Symbol.toStringTag in S)&&!(Symbol.iterator in S)},zm=Br("Date"),km=Br("File"),Rm=Br("Blob"),Dm=Br("FileList"),Lm=S=>$c(S)&&ur(S.pipe),Fm=S=>{let R;return S&&(typeof FormData=="function"&&S instanceof FormData||ur(S.append)&&((R=Uc(S))==="formdata"||R==="object"&&ur(S.toString)&&S.toString()==="[object FormData]"))},Bm=Br("URLSearchParams"),[Om,jm,Nm,Vm]=["ReadableStream","Request","Response","Headers"].map(Br),Um=S=>S.trim?S.trim():S.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function gl(S,R,{allOwnKeys:V=!1}={}){if(S===null||typeof S>"u")return;let U,J;if(typeof S!="object"&&(S=[S]),ia(S))for(U=0,J=S.length;U<J;U++)R.call(null,S[U],U,S);else{const ae=V?Object.getOwnPropertyNames(S):Object.keys(S),P=ae.length;let c;for(U=0;U<P;U++)c=ae[U],R.call(null,S[c],c,S)}}function vp(S,R){R=R.toLowerCase();const V=Object.keys(S);let U=V.length,J;for(;U-- >0;)if(J=V[U],R===J.toLowerCase())return J;return null}const io=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,bp=S=>!_l(S)&&S!==io;function uh(){const{caseless:S}=bp(this)&&this||{},R={},V=(U,J)=>{const ae=S&&vp(R,J)||J;Fc(R[ae])&&Fc(U)?R[ae]=uh(R[ae],U):Fc(U)?R[ae]=uh({},U):ia(U)?R[ae]=U.slice():R[ae]=U};for(let U=0,J=arguments.length;U<J;U++)arguments[U]&&gl(arguments[U],V);return R}const Zm=(S,R,V,{allOwnKeys:U}={})=>(gl(R,(J,ae)=>{V&&ur(J)?S[ae]=gp(J,V):S[ae]=J},{allOwnKeys:U}),S),$m=S=>(S.charCodeAt(0)===65279&&(S=S.slice(1)),S),Gm=(S,R,V,U)=>{S.prototype=Object.create(R.prototype,U),S.prototype.constructor=S,Object.defineProperty(S,"super",{value:R.prototype}),V&&Object.assign(S.prototype,V)},qm=(S,R,V,U)=>{let J,ae,P;const c={};if(R=R||{},S==null)return R;do{for(J=Object.getOwnPropertyNames(S),ae=J.length;ae-- >0;)P=J[ae],(!U||U(P,S,R))&&!c[P]&&(R[P]=S[P],c[P]=!0);S=V!==!1&&_h(S)}while(S&&(!V||V(S,R))&&S!==Object.prototype);return R},Hm=(S,R,V)=>{S=String(S),(V===void 0||V>S.length)&&(V=S.length),V-=R.length;const U=S.indexOf(R,V);return U!==-1&&U===V},Wm=S=>{if(!S)return null;if(ia(S))return S;let R=S.length;if(!xp(R))return null;const V=new Array(R);for(;R-- >0;)V[R]=S[R];return V},Km=(S=>R=>S&&R instanceof S)(typeof Uint8Array<"u"&&_h(Uint8Array)),Xm=(S,R)=>{const U=(S&&S[Symbol.iterator]).call(S);let J;for(;(J=U.next())&&!J.done;){const ae=J.value;R.call(S,ae[0],ae[1])}},Ym=(S,R)=>{let V;const U=[];for(;(V=S.exec(R))!==null;)U.push(V);return U},Jm=Br("HTMLFormElement"),Qm=S=>S.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(V,U,J){return U.toUpperCase()+J}),tp=(({hasOwnProperty:S})=>(R,V)=>S.call(R,V))(Object.prototype),e_=Br("RegExp"),wp=(S,R)=>{const V=Object.getOwnPropertyDescriptors(S),U={};gl(V,(J,ae)=>{let P;(P=R(J,ae,S))!==!1&&(U[ae]=P||J)}),Object.defineProperties(S,U)},t_=S=>{wp(S,(R,V)=>{if(ur(S)&&["arguments","caller","callee"].indexOf(V)!==-1)return!1;const U=S[V];if(ur(U)){if(R.enumerable=!1,"writable"in R){R.writable=!1;return}R.set||(R.set=()=>{throw Error("Can not rewrite read-only method '"+V+"'")})}})},i_=(S,R)=>{const V={},U=J=>{J.forEach(ae=>{V[ae]=!0})};return ia(S)?U(S):U(String(S).split(R)),V},r_=()=>{},n_=(S,R)=>S!=null&&Number.isFinite(S=+S)?S:R;function s_(S){return!!(S&&ur(S.append)&&S[Symbol.toStringTag]==="FormData"&&S[Symbol.iterator])}const o_=S=>{const R=new Array(10),V=(U,J)=>{if($c(U)){if(R.indexOf(U)>=0)return;if(!("toJSON"in U)){R[J]=U;const ae=ia(U)?[]:{};return gl(U,(P,c)=>{const Ne=V(P,J+1);!_l(Ne)&&(ae[c]=Ne)}),R[J]=void 0,ae}}return U};return V(S,0)},a_=Br("AsyncFunction"),l_=S=>S&&($c(S)||ur(S))&&ur(S.then)&&ur(S.catch),Tp=((S,R)=>S?setImmediate:R?((V,U)=>(io.addEventListener("message",({source:J,data:ae})=>{J===io&&ae===V&&U.length&&U.shift()()},!1),J=>{U.push(J),io.postMessage(V,"*")}))(`axios@${Math.random()}`,[]):V=>setTimeout(V))(typeof setImmediate=="function",ur(io.postMessage)),c_=typeof queueMicrotask<"u"?queueMicrotask.bind(io):typeof process<"u"&&process.nextTick||Tp,Pe={isArray:ia,isArrayBuffer:yp,isBuffer:Cm,isFormData:Fm,isArrayBufferView:Im,isString:Em,isNumber:xp,isBoolean:Am,isObject:$c,isPlainObject:Fc,isReadableStream:Om,isRequest:jm,isResponse:Nm,isHeaders:Vm,isUndefined:_l,isDate:zm,isFile:km,isBlob:Rm,isRegExp:e_,isFunction:ur,isStream:Lm,isURLSearchParams:Bm,isTypedArray:Km,isFileList:Dm,forEach:gl,merge:uh,extend:Zm,trim:Um,stripBOM:$m,inherits:Gm,toFlatObject:qm,kindOf:Uc,kindOfTest:Br,endsWith:Hm,toArray:Wm,forEachEntry:Xm,matchAll:Ym,isHTMLForm:Jm,hasOwnProperty:tp,hasOwnProp:tp,reduceDescriptors:wp,freezeMethods:t_,toObjectSet:i_,toCamelCase:Qm,noop:r_,toFiniteNumber:n_,findKey:vp,global:io,isContextDefined:bp,isSpecCompliantForm:s_,toJSONObject:o_,isAsyncFn:a_,isThenable:l_,setImmediate:Tp,asap:c_};function ut(S,R,V,U,J){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=S,this.name="AxiosError",R&&(this.code=R),V&&(this.config=V),U&&(this.request=U),J&&(this.response=J,this.status=J.status?J.status:null)}Pe.inherits(ut,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Pe.toJSONObject(this.config),code:this.code,status:this.status}}});const Pp=ut.prototype,Sp={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(S=>{Sp[S]={value:S}});Object.defineProperties(ut,Sp);Object.defineProperty(Pp,"isAxiosError",{value:!0});ut.from=(S,R,V,U,J,ae)=>{const P=Object.create(Pp);return Pe.toFlatObject(S,P,function(Ne){return Ne!==Error.prototype},c=>c!=="isAxiosError"),ut.call(P,S.message,R,V,U,J),P.cause=S,P.name=S.name,ae&&Object.assign(P,ae),P};const u_=null;function hh(S){return Pe.isPlainObject(S)||Pe.isArray(S)}function Mp(S){return Pe.endsWith(S,"[]")?S.slice(0,-2):S}function ip(S,R,V){return S?S.concat(R).map(function(J,ae){return J=Mp(J),!V&&ae?"["+J+"]":J}).join(V?".":""):R}function h_(S){return Pe.isArray(S)&&!S.some(hh)}const d_=Pe.toFlatObject(Pe,{},null,function(R){return/^is[A-Z]/.test(R)});function Gc(S,R,V){if(!Pe.isObject(S))throw new TypeError("target must be an object");R=R||new FormData,V=Pe.toFlatObject(V,{metaTokens:!0,dots:!1,indexes:!1},!1,function(rt,Ke){return!Pe.isUndefined(Ke[rt])});const U=V.metaTokens,J=V.visitor||Fe,ae=V.dots,P=V.indexes,Ne=(V.Blob||typeof Blob<"u"&&Blob)&&Pe.isSpecCompliantForm(R);if(!Pe.isFunction(J))throw new TypeError("visitor must be a function");function De(Ae){if(Ae===null)return"";if(Pe.isDate(Ae))return Ae.toISOString();if(!Ne&&Pe.isBlob(Ae))throw new ut("Blob is not supported. Use a Buffer instead.");return Pe.isArrayBuffer(Ae)||Pe.isTypedArray(Ae)?Ne&&typeof Blob=="function"?new Blob([Ae]):Buffer.from(Ae):Ae}function Fe(Ae,rt,Ke){let Tt=Ae;if(Ae&&!Ke&&typeof Ae=="object"){if(Pe.endsWith(rt,"{}"))rt=U?rt:rt.slice(0,-2),Ae=JSON.stringify(Ae);else if(Pe.isArray(Ae)&&h_(Ae)||(Pe.isFileList(Ae)||Pe.endsWith(rt,"[]"))&&(Tt=Pe.toArray(Ae)))return rt=Mp(rt),Tt.forEach(function(Ot,Lt){!(Pe.isUndefined(Ot)||Ot===null)&&R.append(P===!0?ip([rt],Lt,ae):P===null?rt:rt+"[]",De(Ot))}),!1}return hh(Ae)?!0:(R.append(ip(Ke,rt,ae),De(Ae)),!1)}const qe=[],Ve=Object.assign(d_,{defaultVisitor:Fe,convertValue:De,isVisitable:hh});function he(Ae,rt){if(!Pe.isUndefined(Ae)){if(qe.indexOf(Ae)!==-1)throw Error("Circular reference detected in "+rt.join("."));qe.push(Ae),Pe.forEach(Ae,function(Tt,Ct){(!(Pe.isUndefined(Tt)||Tt===null)&&J.call(R,Tt,Pe.isString(Ct)?Ct.trim():Ct,rt,Ve))===!0&&he(Tt,rt?rt.concat(Ct):[Ct])}),qe.pop()}}if(!Pe.isObject(S))throw new TypeError("data must be an object");return he(S),R}function rp(S){const R={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(S).replace(/[!'()~]|%20|%00/g,function(U){return R[U]})}function gh(S,R){this._pairs=[],S&&Gc(S,this,R)}const Cp=gh.prototype;Cp.append=function(R,V){this._pairs.push([R,V])};Cp.toString=function(R){const V=R?function(U){return R.call(this,U,rp)}:rp;return this._pairs.map(function(J){return V(J[0])+"="+V(J[1])},"").join("&")};function p_(S){return encodeURIComponent(S).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ip(S,R,V){if(!R)return S;const U=V&&V.encode||p_;Pe.isFunction(V)&&(V={serialize:V});const J=V&&V.serialize;let ae;if(J?ae=J(R,V):ae=Pe.isURLSearchParams(R)?R.toString():new gh(R,V).toString(U),ae){const P=S.indexOf("#");P!==-1&&(S=S.slice(0,P)),S+=(S.indexOf("?")===-1?"?":"&")+ae}return S}class np{constructor(){this.handlers=[]}use(R,V,U){return this.handlers.push({fulfilled:R,rejected:V,synchronous:U?U.synchronous:!1,runWhen:U?U.runWhen:null}),this.handlers.length-1}eject(R){this.handlers[R]&&(this.handlers[R]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(R){Pe.forEach(this.handlers,function(U){U!==null&&R(U)})}}const Ep={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},f_=typeof URLSearchParams<"u"?URLSearchParams:gh,m_=typeof FormData<"u"?FormData:null,__=typeof Blob<"u"?Blob:null,g_={isBrowser:!0,classes:{URLSearchParams:f_,FormData:m_,Blob:__},protocols:["http","https","file","blob","url","data"]},yh=typeof window<"u"&&typeof document<"u",dh=typeof navigator=="object"&&navigator||void 0,y_=yh&&(!dh||["ReactNative","NativeScript","NS"].indexOf(dh.product)<0),x_=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",v_=yh&&window.location.href||"http://localhost",b_=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:yh,hasStandardBrowserEnv:y_,hasStandardBrowserWebWorkerEnv:x_,navigator:dh,origin:v_},Symbol.toStringTag,{value:"Module"})),Bi={...b_,...g_};function w_(S,R){return Gc(S,new Bi.classes.URLSearchParams,Object.assign({visitor:function(V,U,J,ae){return Bi.isNode&&Pe.isBuffer(V)?(this.append(U,V.toString("base64")),!1):ae.defaultVisitor.apply(this,arguments)}},R))}function T_(S){return Pe.matchAll(/\w+|\[(\w*)]/g,S).map(R=>R[0]==="[]"?"":R[1]||R[0])}function P_(S){const R={},V=Object.keys(S);let U;const J=V.length;let ae;for(U=0;U<J;U++)ae=V[U],R[ae]=S[ae];return R}function Ap(S){function R(V,U,J,ae){let P=V[ae++];if(P==="__proto__")return!0;const c=Number.isFinite(+P),Ne=ae>=V.length;return P=!P&&Pe.isArray(J)?J.length:P,Ne?(Pe.hasOwnProp(J,P)?J[P]=[J[P],U]:J[P]=U,!c):((!J[P]||!Pe.isObject(J[P]))&&(J[P]=[]),R(V,U,J[P],ae)&&Pe.isArray(J[P])&&(J[P]=P_(J[P])),!c)}if(Pe.isFormData(S)&&Pe.isFunction(S.entries)){const V={};return Pe.forEachEntry(S,(U,J)=>{R(T_(U),J,V,0)}),V}return null}function S_(S,R,V){if(Pe.isString(S))try{return(R||JSON.parse)(S),Pe.trim(S)}catch(U){if(U.name!=="SyntaxError")throw U}return(V||JSON.stringify)(S)}const yl={transitional:Ep,adapter:["xhr","http","fetch"],transformRequest:[function(R,V){const U=V.getContentType()||"",J=U.indexOf("application/json")>-1,ae=Pe.isObject(R);if(ae&&Pe.isHTMLForm(R)&&(R=new FormData(R)),Pe.isFormData(R))return J?JSON.stringify(Ap(R)):R;if(Pe.isArrayBuffer(R)||Pe.isBuffer(R)||Pe.isStream(R)||Pe.isFile(R)||Pe.isBlob(R)||Pe.isReadableStream(R))return R;if(Pe.isArrayBufferView(R))return R.buffer;if(Pe.isURLSearchParams(R))return V.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),R.toString();let c;if(ae){if(U.indexOf("application/x-www-form-urlencoded")>-1)return w_(R,this.formSerializer).toString();if((c=Pe.isFileList(R))||U.indexOf("multipart/form-data")>-1){const Ne=this.env&&this.env.FormData;return Gc(c?{"files[]":R}:R,Ne&&new Ne,this.formSerializer)}}return ae||J?(V.setContentType("application/json",!1),S_(R)):R}],transformResponse:[function(R){const V=this.transitional||yl.transitional,U=V&&V.forcedJSONParsing,J=this.responseType==="json";if(Pe.isResponse(R)||Pe.isReadableStream(R))return R;if(R&&Pe.isString(R)&&(U&&!this.responseType||J)){const P=!(V&&V.silentJSONParsing)&&J;try{return JSON.parse(R)}catch(c){if(P)throw c.name==="SyntaxError"?ut.from(c,ut.ERR_BAD_RESPONSE,this,null,this.response):c}}return R}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Bi.classes.FormData,Blob:Bi.classes.Blob},validateStatus:function(R){return R>=200&&R<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Pe.forEach(["delete","get","head","post","put","patch"],S=>{yl.headers[S]={}});const M_=Pe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),C_=S=>{const R={};let V,U,J;return S&&S.split(`
`).forEach(function(P){J=P.indexOf(":"),V=P.substring(0,J).trim().toLowerCase(),U=P.substring(J+1).trim(),!(!V||R[V]&&M_[V])&&(V==="set-cookie"?R[V]?R[V].push(U):R[V]=[U]:R[V]=R[V]?R[V]+", "+U:U)}),R},sp=Symbol("internals");function ml(S){return S&&String(S).trim().toLowerCase()}function Bc(S){return S===!1||S==null?S:Pe.isArray(S)?S.map(Bc):String(S)}function I_(S){const R=Object.create(null),V=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let U;for(;U=V.exec(S);)R[U[1]]=U[2];return R}const E_=S=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(S.trim());function ah(S,R,V,U,J){if(Pe.isFunction(U))return U.call(this,R,V);if(J&&(R=V),!!Pe.isString(R)){if(Pe.isString(U))return R.indexOf(U)!==-1;if(Pe.isRegExp(U))return U.test(R)}}function A_(S){return S.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(R,V,U)=>V.toUpperCase()+U)}function z_(S,R){const V=Pe.toCamelCase(" "+R);["get","set","has"].forEach(U=>{Object.defineProperty(S,U+V,{value:function(J,ae,P){return this[U].call(this,R,J,ae,P)},configurable:!0})})}let Xi=class{constructor(R){R&&this.set(R)}set(R,V,U){const J=this;function ae(c,Ne,De){const Fe=ml(Ne);if(!Fe)throw new Error("header name must be a non-empty string");const qe=Pe.findKey(J,Fe);(!qe||J[qe]===void 0||De===!0||De===void 0&&J[qe]!==!1)&&(J[qe||Ne]=Bc(c))}const P=(c,Ne)=>Pe.forEach(c,(De,Fe)=>ae(De,Fe,Ne));if(Pe.isPlainObject(R)||R instanceof this.constructor)P(R,V);else if(Pe.isString(R)&&(R=R.trim())&&!E_(R))P(C_(R),V);else if(Pe.isHeaders(R))for(const[c,Ne]of R.entries())ae(Ne,c,U);else R!=null&&ae(V,R,U);return this}get(R,V){if(R=ml(R),R){const U=Pe.findKey(this,R);if(U){const J=this[U];if(!V)return J;if(V===!0)return I_(J);if(Pe.isFunction(V))return V.call(this,J,U);if(Pe.isRegExp(V))return V.exec(J);throw new TypeError("parser must be boolean|regexp|function")}}}has(R,V){if(R=ml(R),R){const U=Pe.findKey(this,R);return!!(U&&this[U]!==void 0&&(!V||ah(this,this[U],U,V)))}return!1}delete(R,V){const U=this;let J=!1;function ae(P){if(P=ml(P),P){const c=Pe.findKey(U,P);c&&(!V||ah(U,U[c],c,V))&&(delete U[c],J=!0)}}return Pe.isArray(R)?R.forEach(ae):ae(R),J}clear(R){const V=Object.keys(this);let U=V.length,J=!1;for(;U--;){const ae=V[U];(!R||ah(this,this[ae],ae,R,!0))&&(delete this[ae],J=!0)}return J}normalize(R){const V=this,U={};return Pe.forEach(this,(J,ae)=>{const P=Pe.findKey(U,ae);if(P){V[P]=Bc(J),delete V[ae];return}const c=R?A_(ae):String(ae).trim();c!==ae&&delete V[ae],V[c]=Bc(J),U[c]=!0}),this}concat(...R){return this.constructor.concat(this,...R)}toJSON(R){const V=Object.create(null);return Pe.forEach(this,(U,J)=>{U!=null&&U!==!1&&(V[J]=R&&Pe.isArray(U)?U.join(", "):U)}),V}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([R,V])=>R+": "+V).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(R){return R instanceof this?R:new this(R)}static concat(R,...V){const U=new this(R);return V.forEach(J=>U.set(J)),U}static accessor(R){const U=(this[sp]=this[sp]={accessors:{}}).accessors,J=this.prototype;function ae(P){const c=ml(P);U[c]||(z_(J,P),U[c]=!0)}return Pe.isArray(R)?R.forEach(ae):ae(R),this}};Xi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Pe.reduceDescriptors(Xi.prototype,({value:S},R)=>{let V=R[0].toUpperCase()+R.slice(1);return{get:()=>S,set(U){this[V]=U}}});Pe.freezeMethods(Xi);function lh(S,R){const V=this||yl,U=R||V,J=Xi.from(U.headers);let ae=U.data;return Pe.forEach(S,function(c){ae=c.call(V,ae,J.normalize(),R?R.status:void 0)}),J.normalize(),ae}function zp(S){return!!(S&&S.__CANCEL__)}function ra(S,R,V){ut.call(this,S??"canceled",ut.ERR_CANCELED,R,V),this.name="CanceledError"}Pe.inherits(ra,ut,{__CANCEL__:!0});function kp(S,R,V){const U=V.config.validateStatus;!V.status||!U||U(V.status)?S(V):R(new ut("Request failed with status code "+V.status,[ut.ERR_BAD_REQUEST,ut.ERR_BAD_RESPONSE][Math.floor(V.status/100)-4],V.config,V.request,V))}function k_(S){const R=/^([-+\w]{1,25})(:?\/\/|:)/.exec(S);return R&&R[1]||""}function R_(S,R){S=S||10;const V=new Array(S),U=new Array(S);let J=0,ae=0,P;return R=R!==void 0?R:1e3,function(Ne){const De=Date.now(),Fe=U[ae];P||(P=De),V[J]=Ne,U[J]=De;let qe=ae,Ve=0;for(;qe!==J;)Ve+=V[qe++],qe=qe%S;if(J=(J+1)%S,J===ae&&(ae=(ae+1)%S),De-P<R)return;const he=Fe&&De-Fe;return he?Math.round(Ve*1e3/he):void 0}}function D_(S,R){let V=0,U=1e3/R,J,ae;const P=(De,Fe=Date.now())=>{V=Fe,J=null,ae&&(clearTimeout(ae),ae=null),S.apply(null,De)};return[(...De)=>{const Fe=Date.now(),qe=Fe-V;qe>=U?P(De,Fe):(J=De,ae||(ae=setTimeout(()=>{ae=null,P(J)},U-qe)))},()=>J&&P(J)]}const Nc=(S,R,V=3)=>{let U=0;const J=R_(50,250);return D_(ae=>{const P=ae.loaded,c=ae.lengthComputable?ae.total:void 0,Ne=P-U,De=J(Ne),Fe=P<=c;U=P;const qe={loaded:P,total:c,progress:c?P/c:void 0,bytes:Ne,rate:De||void 0,estimated:De&&c&&Fe?(c-P)/De:void 0,event:ae,lengthComputable:c!=null,[R?"download":"upload"]:!0};S(qe)},V)},op=(S,R)=>{const V=S!=null;return[U=>R[0]({lengthComputable:V,total:S,loaded:U}),R[1]]},ap=S=>(...R)=>Pe.asap(()=>S(...R)),L_=Bi.hasStandardBrowserEnv?((S,R)=>V=>(V=new URL(V,Bi.origin),S.protocol===V.protocol&&S.host===V.host&&(R||S.port===V.port)))(new URL(Bi.origin),Bi.navigator&&/(msie|trident)/i.test(Bi.navigator.userAgent)):()=>!0,F_=Bi.hasStandardBrowserEnv?{write(S,R,V,U,J,ae){const P=[S+"="+encodeURIComponent(R)];Pe.isNumber(V)&&P.push("expires="+new Date(V).toGMTString()),Pe.isString(U)&&P.push("path="+U),Pe.isString(J)&&P.push("domain="+J),ae===!0&&P.push("secure"),document.cookie=P.join("; ")},read(S){const R=document.cookie.match(new RegExp("(^|;\\s*)("+S+")=([^;]*)"));return R?decodeURIComponent(R[3]):null},remove(S){this.write(S,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function B_(S){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(S)}function O_(S,R){return R?S.replace(/\/?\/$/,"")+"/"+R.replace(/^\/+/,""):S}function Rp(S,R,V){let U=!B_(R);return S&&(U||V==!1)?O_(S,R):R}const lp=S=>S instanceof Xi?{...S}:S;function no(S,R){R=R||{};const V={};function U(De,Fe,qe,Ve){return Pe.isPlainObject(De)&&Pe.isPlainObject(Fe)?Pe.merge.call({caseless:Ve},De,Fe):Pe.isPlainObject(Fe)?Pe.merge({},Fe):Pe.isArray(Fe)?Fe.slice():Fe}function J(De,Fe,qe,Ve){if(Pe.isUndefined(Fe)){if(!Pe.isUndefined(De))return U(void 0,De,qe,Ve)}else return U(De,Fe,qe,Ve)}function ae(De,Fe){if(!Pe.isUndefined(Fe))return U(void 0,Fe)}function P(De,Fe){if(Pe.isUndefined(Fe)){if(!Pe.isUndefined(De))return U(void 0,De)}else return U(void 0,Fe)}function c(De,Fe,qe){if(qe in R)return U(De,Fe);if(qe in S)return U(void 0,De)}const Ne={url:ae,method:ae,data:ae,baseURL:P,transformRequest:P,transformResponse:P,paramsSerializer:P,timeout:P,timeoutMessage:P,withCredentials:P,withXSRFToken:P,adapter:P,responseType:P,xsrfCookieName:P,xsrfHeaderName:P,onUploadProgress:P,onDownloadProgress:P,decompress:P,maxContentLength:P,maxBodyLength:P,beforeRedirect:P,transport:P,httpAgent:P,httpsAgent:P,cancelToken:P,socketPath:P,responseEncoding:P,validateStatus:c,headers:(De,Fe,qe)=>J(lp(De),lp(Fe),qe,!0)};return Pe.forEach(Object.keys(Object.assign({},S,R)),function(Fe){const qe=Ne[Fe]||J,Ve=qe(S[Fe],R[Fe],Fe);Pe.isUndefined(Ve)&&qe!==c||(V[Fe]=Ve)}),V}const Dp=S=>{const R=no({},S);let{data:V,withXSRFToken:U,xsrfHeaderName:J,xsrfCookieName:ae,headers:P,auth:c}=R;R.headers=P=Xi.from(P),R.url=Ip(Rp(R.baseURL,R.url,R.allowAbsoluteUrls),S.params,S.paramsSerializer),c&&P.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let Ne;if(Pe.isFormData(V)){if(Bi.hasStandardBrowserEnv||Bi.hasStandardBrowserWebWorkerEnv)P.setContentType(void 0);else if((Ne=P.getContentType())!==!1){const[De,...Fe]=Ne?Ne.split(";").map(qe=>qe.trim()).filter(Boolean):[];P.setContentType([De||"multipart/form-data",...Fe].join("; "))}}if(Bi.hasStandardBrowserEnv&&(U&&Pe.isFunction(U)&&(U=U(R)),U||U!==!1&&L_(R.url))){const De=J&&ae&&F_.read(ae);De&&P.set(J,De)}return R},j_=typeof XMLHttpRequest<"u",N_=j_&&function(S){return new Promise(function(V,U){const J=Dp(S);let ae=J.data;const P=Xi.from(J.headers).normalize();let{responseType:c,onUploadProgress:Ne,onDownloadProgress:De}=J,Fe,qe,Ve,he,Ae;function rt(){he&&he(),Ae&&Ae(),J.cancelToken&&J.cancelToken.unsubscribe(Fe),J.signal&&J.signal.removeEventListener("abort",Fe)}let Ke=new XMLHttpRequest;Ke.open(J.method.toUpperCase(),J.url,!0),Ke.timeout=J.timeout;function Tt(){if(!Ke)return;const Ot=Xi.from("getAllResponseHeaders"in Ke&&Ke.getAllResponseHeaders()),Vt={data:!c||c==="text"||c==="json"?Ke.responseText:Ke.response,status:Ke.status,statusText:Ke.statusText,headers:Ot,config:S,request:Ke};kp(function(yt){V(yt),rt()},function(yt){U(yt),rt()},Vt),Ke=null}"onloadend"in Ke?Ke.onloadend=Tt:Ke.onreadystatechange=function(){!Ke||Ke.readyState!==4||Ke.status===0&&!(Ke.responseURL&&Ke.responseURL.indexOf("file:")===0)||setTimeout(Tt)},Ke.onabort=function(){Ke&&(U(new ut("Request aborted",ut.ECONNABORTED,S,Ke)),Ke=null)},Ke.onerror=function(){U(new ut("Network Error",ut.ERR_NETWORK,S,Ke)),Ke=null},Ke.ontimeout=function(){let Lt=J.timeout?"timeout of "+J.timeout+"ms exceeded":"timeout exceeded";const Vt=J.transitional||Ep;J.timeoutErrorMessage&&(Lt=J.timeoutErrorMessage),U(new ut(Lt,Vt.clarifyTimeoutError?ut.ETIMEDOUT:ut.ECONNABORTED,S,Ke)),Ke=null},ae===void 0&&P.setContentType(null),"setRequestHeader"in Ke&&Pe.forEach(P.toJSON(),function(Lt,Vt){Ke.setRequestHeader(Vt,Lt)}),Pe.isUndefined(J.withCredentials)||(Ke.withCredentials=!!J.withCredentials),c&&c!=="json"&&(Ke.responseType=J.responseType),De&&([Ve,Ae]=Nc(De,!0),Ke.addEventListener("progress",Ve)),Ne&&Ke.upload&&([qe,he]=Nc(Ne),Ke.upload.addEventListener("progress",qe),Ke.upload.addEventListener("loadend",he)),(J.cancelToken||J.signal)&&(Fe=Ot=>{Ke&&(U(!Ot||Ot.type?new ra(null,S,Ke):Ot),Ke.abort(),Ke=null)},J.cancelToken&&J.cancelToken.subscribe(Fe),J.signal&&(J.signal.aborted?Fe():J.signal.addEventListener("abort",Fe)));const Ct=k_(J.url);if(Ct&&Bi.protocols.indexOf(Ct)===-1){U(new ut("Unsupported protocol "+Ct+":",ut.ERR_BAD_REQUEST,S));return}Ke.send(ae||null)})},V_=(S,R)=>{const{length:V}=S=S?S.filter(Boolean):[];if(R||V){let U=new AbortController,J;const ae=function(De){if(!J){J=!0,c();const Fe=De instanceof Error?De:this.reason;U.abort(Fe instanceof ut?Fe:new ra(Fe instanceof Error?Fe.message:Fe))}};let P=R&&setTimeout(()=>{P=null,ae(new ut(`timeout ${R} of ms exceeded`,ut.ETIMEDOUT))},R);const c=()=>{S&&(P&&clearTimeout(P),P=null,S.forEach(De=>{De.unsubscribe?De.unsubscribe(ae):De.removeEventListener("abort",ae)}),S=null)};S.forEach(De=>De.addEventListener("abort",ae));const{signal:Ne}=U;return Ne.unsubscribe=()=>Pe.asap(c),Ne}},U_=function*(S,R){let V=S.byteLength;if(V<R){yield S;return}let U=0,J;for(;U<V;)J=U+R,yield S.slice(U,J),U=J},Z_=async function*(S,R){for await(const V of $_(S))yield*U_(V,R)},$_=async function*(S){if(S[Symbol.asyncIterator]){yield*S;return}const R=S.getReader();try{for(;;){const{done:V,value:U}=await R.read();if(V)break;yield U}}finally{await R.cancel()}},cp=(S,R,V,U)=>{const J=Z_(S,R);let ae=0,P,c=Ne=>{P||(P=!0,U&&U(Ne))};return new ReadableStream({async pull(Ne){try{const{done:De,value:Fe}=await J.next();if(De){c(),Ne.close();return}let qe=Fe.byteLength;if(V){let Ve=ae+=qe;V(Ve)}Ne.enqueue(new Uint8Array(Fe))}catch(De){throw c(De),De}},cancel(Ne){return c(Ne),J.return()}},{highWaterMark:2})},qc=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Lp=qc&&typeof ReadableStream=="function",G_=qc&&(typeof TextEncoder=="function"?(S=>R=>S.encode(R))(new TextEncoder):async S=>new Uint8Array(await new Response(S).arrayBuffer())),Fp=(S,...R)=>{try{return!!S(...R)}catch{return!1}},q_=Lp&&Fp(()=>{let S=!1;const R=new Request(Bi.origin,{body:new ReadableStream,method:"POST",get duplex(){return S=!0,"half"}}).headers.has("Content-Type");return S&&!R}),up=64*1024,ph=Lp&&Fp(()=>Pe.isReadableStream(new Response("").body)),Vc={stream:ph&&(S=>S.body)};qc&&(S=>{["text","arrayBuffer","blob","formData","stream"].forEach(R=>{!Vc[R]&&(Vc[R]=Pe.isFunction(S[R])?V=>V[R]():(V,U)=>{throw new ut(`Response type '${R}' is not supported`,ut.ERR_NOT_SUPPORT,U)})})})(new Response);const H_=async S=>{if(S==null)return 0;if(Pe.isBlob(S))return S.size;if(Pe.isSpecCompliantForm(S))return(await new Request(Bi.origin,{method:"POST",body:S}).arrayBuffer()).byteLength;if(Pe.isArrayBufferView(S)||Pe.isArrayBuffer(S))return S.byteLength;if(Pe.isURLSearchParams(S)&&(S=S+""),Pe.isString(S))return(await G_(S)).byteLength},W_=async(S,R)=>{const V=Pe.toFiniteNumber(S.getContentLength());return V??H_(R)},K_=qc&&(async S=>{let{url:R,method:V,data:U,signal:J,cancelToken:ae,timeout:P,onDownloadProgress:c,onUploadProgress:Ne,responseType:De,headers:Fe,withCredentials:qe="same-origin",fetchOptions:Ve}=Dp(S);De=De?(De+"").toLowerCase():"text";let he=V_([J,ae&&ae.toAbortSignal()],P),Ae;const rt=he&&he.unsubscribe&&(()=>{he.unsubscribe()});let Ke;try{if(Ne&&q_&&V!=="get"&&V!=="head"&&(Ke=await W_(Fe,U))!==0){let Vt=new Request(R,{method:"POST",body:U,duplex:"half"}),vt;if(Pe.isFormData(U)&&(vt=Vt.headers.get("content-type"))&&Fe.setContentType(vt),Vt.body){const[yt,It]=op(Ke,Nc(ap(Ne)));U=cp(Vt.body,up,yt,It)}}Pe.isString(qe)||(qe=qe?"include":"omit");const Tt="credentials"in Request.prototype;Ae=new Request(R,{...Ve,signal:he,method:V.toUpperCase(),headers:Fe.normalize().toJSON(),body:U,duplex:"half",credentials:Tt?qe:void 0});let Ct=await fetch(Ae);const Ot=ph&&(De==="stream"||De==="response");if(ph&&(c||Ot&&rt)){const Vt={};["status","statusText","headers"].forEach(Or=>{Vt[Or]=Ct[Or]});const vt=Pe.toFiniteNumber(Ct.headers.get("content-length")),[yt,It]=c&&op(vt,Nc(ap(c),!0))||[];Ct=new Response(cp(Ct.body,up,yt,()=>{It&&It(),rt&&rt()}),Vt)}De=De||"text";let Lt=await Vc[Pe.findKey(Vc,De)||"text"](Ct,S);return!Ot&&rt&&rt(),await new Promise((Vt,vt)=>{kp(Vt,vt,{data:Lt,headers:Xi.from(Ct.headers),status:Ct.status,statusText:Ct.statusText,config:S,request:Ae})})}catch(Tt){throw rt&&rt(),Tt&&Tt.name==="TypeError"&&/fetch/i.test(Tt.message)?Object.assign(new ut("Network Error",ut.ERR_NETWORK,S,Ae),{cause:Tt.cause||Tt}):ut.from(Tt,Tt&&Tt.code,S,Ae)}}),fh={http:u_,xhr:N_,fetch:K_};Pe.forEach(fh,(S,R)=>{if(S){try{Object.defineProperty(S,"name",{value:R})}catch{}Object.defineProperty(S,"adapterName",{value:R})}});const hp=S=>`- ${S}`,X_=S=>Pe.isFunction(S)||S===null||S===!1,Bp={getAdapter:S=>{S=Pe.isArray(S)?S:[S];const{length:R}=S;let V,U;const J={};for(let ae=0;ae<R;ae++){V=S[ae];let P;if(U=V,!X_(V)&&(U=fh[(P=String(V)).toLowerCase()],U===void 0))throw new ut(`Unknown adapter '${P}'`);if(U)break;J[P||"#"+ae]=U}if(!U){const ae=Object.entries(J).map(([c,Ne])=>`adapter ${c} `+(Ne===!1?"is not supported by the environment":"is not available in the build"));let P=R?ae.length>1?`since :
`+ae.map(hp).join(`
`):" "+hp(ae[0]):"as no adapter specified";throw new ut("There is no suitable adapter to dispatch the request "+P,"ERR_NOT_SUPPORT")}return U},adapters:fh};function ch(S){if(S.cancelToken&&S.cancelToken.throwIfRequested(),S.signal&&S.signal.aborted)throw new ra(null,S)}function dp(S){return ch(S),S.headers=Xi.from(S.headers),S.data=lh.call(S,S.transformRequest),["post","put","patch"].indexOf(S.method)!==-1&&S.headers.setContentType("application/x-www-form-urlencoded",!1),Bp.getAdapter(S.adapter||yl.adapter)(S).then(function(U){return ch(S),U.data=lh.call(S,S.transformResponse,U),U.headers=Xi.from(U.headers),U},function(U){return zp(U)||(ch(S),U&&U.response&&(U.response.data=lh.call(S,S.transformResponse,U.response),U.response.headers=Xi.from(U.response.headers))),Promise.reject(U)})}const Op="1.8.4",Hc={};["object","boolean","number","function","string","symbol"].forEach((S,R)=>{Hc[S]=function(U){return typeof U===S||"a"+(R<1?"n ":" ")+S}});const pp={};Hc.transitional=function(R,V,U){function J(ae,P){return"[Axios v"+Op+"] Transitional option '"+ae+"'"+P+(U?". "+U:"")}return(ae,P,c)=>{if(R===!1)throw new ut(J(P," has been removed"+(V?" in "+V:"")),ut.ERR_DEPRECATED);return V&&!pp[P]&&(pp[P]=!0,console.warn(J(P," has been deprecated since v"+V+" and will be removed in the near future"))),R?R(ae,P,c):!0}};Hc.spelling=function(R){return(V,U)=>(console.warn(`${U} is likely a misspelling of ${R}`),!0)};function Y_(S,R,V){if(typeof S!="object")throw new ut("options must be an object",ut.ERR_BAD_OPTION_VALUE);const U=Object.keys(S);let J=U.length;for(;J-- >0;){const ae=U[J],P=R[ae];if(P){const c=S[ae],Ne=c===void 0||P(c,ae,S);if(Ne!==!0)throw new ut("option "+ae+" must be "+Ne,ut.ERR_BAD_OPTION_VALUE);continue}if(V!==!0)throw new ut("Unknown option "+ae,ut.ERR_BAD_OPTION)}}const Oc={assertOptions:Y_,validators:Hc},sn=Oc.validators;let ro=class{constructor(R){this.defaults=R,this.interceptors={request:new np,response:new np}}async request(R,V){try{return await this._request(R,V)}catch(U){if(U instanceof Error){let J={};Error.captureStackTrace?Error.captureStackTrace(J):J=new Error;const ae=J.stack?J.stack.replace(/^.+\n/,""):"";try{U.stack?ae&&!String(U.stack).endsWith(ae.replace(/^.+\n.+\n/,""))&&(U.stack+=`
`+ae):U.stack=ae}catch{}}throw U}}_request(R,V){typeof R=="string"?(V=V||{},V.url=R):V=R||{},V=no(this.defaults,V);const{transitional:U,paramsSerializer:J,headers:ae}=V;U!==void 0&&Oc.assertOptions(U,{silentJSONParsing:sn.transitional(sn.boolean),forcedJSONParsing:sn.transitional(sn.boolean),clarifyTimeoutError:sn.transitional(sn.boolean)},!1),J!=null&&(Pe.isFunction(J)?V.paramsSerializer={serialize:J}:Oc.assertOptions(J,{encode:sn.function,serialize:sn.function},!0)),V.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?V.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:V.allowAbsoluteUrls=!0),Oc.assertOptions(V,{baseUrl:sn.spelling("baseURL"),withXsrfToken:sn.spelling("withXSRFToken")},!0),V.method=(V.method||this.defaults.method||"get").toLowerCase();let P=ae&&Pe.merge(ae.common,ae[V.method]);ae&&Pe.forEach(["delete","get","head","post","put","patch","common"],Ae=>{delete ae[Ae]}),V.headers=Xi.concat(P,ae);const c=[];let Ne=!0;this.interceptors.request.forEach(function(rt){typeof rt.runWhen=="function"&&rt.runWhen(V)===!1||(Ne=Ne&&rt.synchronous,c.unshift(rt.fulfilled,rt.rejected))});const De=[];this.interceptors.response.forEach(function(rt){De.push(rt.fulfilled,rt.rejected)});let Fe,qe=0,Ve;if(!Ne){const Ae=[dp.bind(this),void 0];for(Ae.unshift.apply(Ae,c),Ae.push.apply(Ae,De),Ve=Ae.length,Fe=Promise.resolve(V);qe<Ve;)Fe=Fe.then(Ae[qe++],Ae[qe++]);return Fe}Ve=c.length;let he=V;for(qe=0;qe<Ve;){const Ae=c[qe++],rt=c[qe++];try{he=Ae(he)}catch(Ke){rt.call(this,Ke);break}}try{Fe=dp.call(this,he)}catch(Ae){return Promise.reject(Ae)}for(qe=0,Ve=De.length;qe<Ve;)Fe=Fe.then(De[qe++],De[qe++]);return Fe}getUri(R){R=no(this.defaults,R);const V=Rp(R.baseURL,R.url,R.allowAbsoluteUrls);return Ip(V,R.params,R.paramsSerializer)}};Pe.forEach(["delete","get","head","options"],function(R){ro.prototype[R]=function(V,U){return this.request(no(U||{},{method:R,url:V,data:(U||{}).data}))}});Pe.forEach(["post","put","patch"],function(R){function V(U){return function(ae,P,c){return this.request(no(c||{},{method:R,headers:U?{"Content-Type":"multipart/form-data"}:{},url:ae,data:P}))}}ro.prototype[R]=V(),ro.prototype[R+"Form"]=V(!0)});let J_=class jp{constructor(R){if(typeof R!="function")throw new TypeError("executor must be a function.");let V;this.promise=new Promise(function(ae){V=ae});const U=this;this.promise.then(J=>{if(!U._listeners)return;let ae=U._listeners.length;for(;ae-- >0;)U._listeners[ae](J);U._listeners=null}),this.promise.then=J=>{let ae;const P=new Promise(c=>{U.subscribe(c),ae=c}).then(J);return P.cancel=function(){U.unsubscribe(ae)},P},R(function(ae,P,c){U.reason||(U.reason=new ra(ae,P,c),V(U.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(R){if(this.reason){R(this.reason);return}this._listeners?this._listeners.push(R):this._listeners=[R]}unsubscribe(R){if(!this._listeners)return;const V=this._listeners.indexOf(R);V!==-1&&this._listeners.splice(V,1)}toAbortSignal(){const R=new AbortController,V=U=>{R.abort(U)};return this.subscribe(V),R.signal.unsubscribe=()=>this.unsubscribe(V),R.signal}static source(){let R;return{token:new jp(function(J){R=J}),cancel:R}}};function Q_(S){return function(V){return S.apply(null,V)}}function eg(S){return Pe.isObject(S)&&S.isAxiosError===!0}const mh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(mh).forEach(([S,R])=>{mh[R]=S});function Np(S){const R=new ro(S),V=gp(ro.prototype.request,R);return Pe.extend(V,ro.prototype,R,{allOwnKeys:!0}),Pe.extend(V,R,null,{allOwnKeys:!0}),V.create=function(J){return Np(no(S,J))},V}const ti=Np(yl);ti.Axios=ro;ti.CanceledError=ra;ti.CancelToken=J_;ti.isCancel=zp;ti.VERSION=Op;ti.toFormData=Gc;ti.AxiosError=ut;ti.Cancel=ti.CanceledError;ti.all=function(R){return Promise.all(R)};ti.spread=Q_;ti.isAxiosError=eg;ti.mergeConfig=no;ti.AxiosHeaders=Xi;ti.formToJSON=S=>Ap(Pe.isHTMLForm(S)?new FormData(S):S);ti.getAdapter=Bp.getAdapter;ti.HttpStatusCode=mh;ti.default=ti;const{Axios:vg,AxiosError:bg,CanceledError:wg,isCancel:Tg,CancelToken:Pg,VERSION:Sg,all:Mg,Cancel:Cg,isAxiosError:Ig,spread:Eg,toFormData:Ag,AxiosHeaders:zg,HttpStatusCode:kg,formToJSON:Rg,getAdapter:Dg,mergeConfig:Lg}=ti;function tg(S){return S&&S.__esModule&&Object.prototype.hasOwnProperty.call(S,"default")?S.default:S}var jc={exports:{}};/**
 * MapLibre GL JS
 * @license 3-Clause BSD. Full text of license: https://github.com/maplibre/maplibre-gl-js/blob/v5.3.0/LICENSE.txt
 */var ig=jc.exports,fp;function rg(){return fp||(fp=1,function(S,R){(function(V,U){S.exports=U()})(ig,function(){var V={},U={};function J(P,c,Ne){if(U[P]=Ne,P==="index"){var De="var sharedModule = {}; ("+U.shared+")(sharedModule); ("+U.worker+")(sharedModule);",Fe={};return U.shared(Fe),U.index(V,Fe),typeof window<"u"&&V.setWorkerUrl(window.URL.createObjectURL(new Blob([De],{type:"text/javascript"}))),V}}J("shared",["exports"],function(P){function c(r,t,n,s){return new(n||(n=Promise))(function(l,d){function p(x){try{g(s.next(x))}catch(b){d(b)}}function m(x){try{g(s.throw(x))}catch(b){d(b)}}function g(x){var b;x.done?l(x.value):(b=x.value,b instanceof n?b:new n(function(w){w(b)})).then(p,m)}g((s=s.apply(r,t||[])).next())})}function Ne(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var De,Fe;function qe(){if(Fe)return De;function r(t,n){this.x=t,this.y=n}return Fe=1,De=r,r.prototype={clone:function(){return new r(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,n){return this.clone()._rotateAround(t,n)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var n=t.x-this.x,s=t.y-this.y;return n*n+s*s},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,n){return Math.atan2(this.x*n-this.y*t,this.x*t+this.y*n)},_matMult:function(t){var n=t[2]*this.x+t[3]*this.y;return this.x=t[0]*this.x+t[1]*this.y,this.y=n,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var n=Math.cos(t),s=Math.sin(t),l=s*this.x+n*this.y;return this.x=n*this.x-s*this.y,this.y=l,this},_rotateAround:function(t,n){var s=Math.cos(t),l=Math.sin(t),d=n.y+l*(this.x-n.x)+s*(this.y-n.y);return this.x=n.x+s*(this.x-n.x)-l*(this.y-n.y),this.y=d,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},r.convert=function(t){return t instanceof r?t:Array.isArray(t)?new r(t[0],t[1]):t},De}typeof SuppressedError=="function"&&SuppressedError;var Ve,he,Ae=Ne(qe()),rt=function(){if(he)return Ve;function r(t,n,s,l){this.cx=3*t,this.bx=3*(s-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*n,this.by=3*(l-n)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=n,this.p2x=s,this.p2y=l}return he=1,Ve=r,r.prototype={sampleCurveX:function(t){return((this.ax*t+this.bx)*t+this.cx)*t},sampleCurveY:function(t){return((this.ay*t+this.by)*t+this.cy)*t},sampleCurveDerivativeX:function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},solveCurveX:function(t,n){if(n===void 0&&(n=1e-6),t<0)return 0;if(t>1)return 1;for(var s=t,l=0;l<8;l++){var d=this.sampleCurveX(s)-t;if(Math.abs(d)<n)return s;var p=this.sampleCurveDerivativeX(s);if(Math.abs(p)<1e-6)break;s-=d/p}var m=0,g=1;for(s=t,l=0;l<20&&(d=this.sampleCurveX(s),!(Math.abs(d-t)<n));l++)t>d?m=s:g=s,s=.5*(g-m)+m;return s},solve:function(t,n){return this.sampleCurveY(this.solveCurveX(t,n))}},Ve}(),Ke=Ne(rt);let Tt,Ct;function Ot(){return Tt==null&&(Tt=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),Tt}function Lt(){if(Ct==null&&(Ct=!1,Ot())){const t=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(t){for(let s=0;s<5*5;s++){const l=4*s;t.fillStyle=`rgb(${l},${l+1},${l+2})`,t.fillRect(s%5,Math.floor(s/5),1,1)}const n=t.getImageData(0,0,5,5).data;for(let s=0;s<5*5*4;s++)if(s%4!=3&&n[s]!==s){Ct=!0;break}}}return Ct||!1}var Vt,vt=1e-6,yt=typeof Float32Array<"u"?Float32Array:Array;function It(){var r=new yt(9);return yt!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[5]=0,r[6]=0,r[7]=0),r[0]=1,r[4]=1,r[8]=1,r}function Or(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function so(){var r=new yt(3);return yt!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0),r}function jr(r,t,n){var s=new yt(3);return s[0]=r,s[1]=t,s[2]=n,s}function on(r,t,n){var s=t[0],l=t[1],d=t[2],p=t[3];return r[0]=n[0]*s+n[4]*l+n[8]*d+n[12]*p,r[1]=n[1]*s+n[5]*l+n[9]*d+n[13]*p,r[2]=n[2]*s+n[6]*l+n[10]*d+n[14]*p,r[3]=n[3]*s+n[7]*l+n[11]*d+n[15]*p,r}function $i(){var r=new yt(4);return yt!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0),r[3]=1,r}function vi(){var r=new yt(2);return yt!=Float32Array&&(r[0]=0,r[1]=0),r}function vs(r,t){var n=new yt(2);return n[0]=r,n[1]=t,n}Math.hypot||(Math.hypot=function(){for(var r=0,t=arguments.length;t--;)r+=arguments[t]*arguments[t];return Math.sqrt(r)}),so(),Vt=new yt(4),yt!=Float32Array&&(Vt[0]=0,Vt[1]=0,Vt[2]=0,Vt[3]=0),so(),jr(1,0,0),jr(0,1,0),$i(),$i(),It(),vi();const bt=8192;function Ln(r,t,n){return t*(bt/(r.tileSize*Math.pow(2,n-r.tileID.overscaledZ)))}function Nr(r,t){return(r%t+t)%t}function an(r,t,n){return r*(1-n)+t*n}function ln(r){if(r<=0)return 0;if(r>=1)return 1;const t=r*r,n=t*r;return 4*(r<.5?n:3*(r-t)+n-.75)}function Fn(r,t,n,s){const l=new Ke(r,t,n,s);return d=>l.solve(d)}const hr=Fn(.25,.1,.25,1);function Yi(r,t,n){return Math.min(n,Math.max(t,r))}function Gi(r,t,n){const s=n-t,l=((r-t)%s+s)%s+t;return l===t?n:l}function fi(r,...t){for(const n of t)for(const s in n)r[s]=n[s];return r}let cn=1;function un(r,t,n){const s={};for(const l in r)s[l]=t.call(this,r[l],l,r);return s}function hn(r,t,n){const s={};for(const l in r)t.call(this,r[l],l,r)&&(s[l]=r[l]);return s}function Oi(r){return Array.isArray(r)?r.map(Oi):typeof r=="object"&&r?un(r,Oi):r}const bs={};function bi(r){bs[r]||(typeof console<"u"&&console.warn(r),bs[r]=!0)}function ii(r,t,n){return(n.y-r.y)*(t.x-r.x)>(t.y-r.y)*(n.x-r.x)}function br(r){return typeof WorkerGlobalScope<"u"&&r!==void 0&&r instanceof WorkerGlobalScope}let Ht=null;function dn(r){return typeof ImageBitmap<"u"&&r instanceof ImageBitmap}const pn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function Ji(r,t,n,s,l){return c(this,void 0,void 0,function*(){if(typeof VideoFrame>"u")throw new Error("VideoFrame not supported");const d=new VideoFrame(r,{timestamp:0});try{const p=d==null?void 0:d.format;if(!p||!p.startsWith("BGR")&&!p.startsWith("RGB"))throw new Error(`Unrecognized format ${p}`);const m=p.startsWith("BGR"),g=new Uint8ClampedArray(s*l*4);if(yield d.copyTo(g,function(x,b,w,I,A){const k=4*Math.max(1,0),L=(Math.max(0,w)-w)*I*4+k,N=4*I,q=Math.max(0,b),ie=Math.max(0,w);return{rect:{x:q,y:ie,width:Math.min(x.width,b+I)-q,height:Math.min(x.height,w+A)-ie},layout:[{offset:L,stride:N}]}}(r,t,n,s,l)),m)for(let x=0;x<g.length;x+=4){const b=g[x];g[x]=g[x+2],g[x+2]=b}return g}finally{d.close()}})}let Vr,Ur;function Qi(r,t,n,s){return r.addEventListener(t,n,s),{unsubscribe:()=>{r.removeEventListener(t,n,s)}}}function er(r){return r/Math.PI*180}const Bn={touchstart:!0,touchmove:!0,touchmoveWindow:!0,touchend:!0,touchcancel:!0},On={dblclick:!0,click:!0,mouseover:!0,mouseout:!0,mousedown:!0,mousemove:!0,mousemoveWindow:!0,mouseup:!0,mouseupWindow:!0,contextmenu:!0,wheel:!0},ws="AbortError";function fn(){return new Error(ws)}const Zr={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};function jn(r){return Zr.REGISTERED_PROTOCOLS[r.substring(0,r.indexOf("://"))]}const wr="global-dispatcher";class dr extends Error{constructor(t,n,s,l){super(`AJAXError: ${n} (${t}): ${s}`),this.status=t,this.statusText=n,this.url=s,this.body=l}}const Tr=()=>br(self)?self.worker&&self.worker.referrer:(window.location.protocol==="blob:"?window.parent:window).location.href,Nn=function(r,t){if(/:\/\//.test(r.url)&&!/^https?:|^file:/.test(r.url)){const s=jn(r.url);if(s)return s(r,t);if(br(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:r,targetMapId:wr},t)}if(!(/^file:/.test(n=r.url)||/^file:/.test(Tr())&&!/^\w+:/.test(n))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return function(s,l){return c(this,void 0,void 0,function*(){const d=new Request(s.url,{method:s.method||"GET",body:s.body,credentials:s.credentials,headers:s.headers,cache:s.cache,referrer:Tr(),signal:l.signal});let p,m;s.type!=="json"||d.headers.has("Accept")||d.headers.set("Accept","application/json");try{p=yield fetch(d)}catch(x){throw new dr(0,x.message,s.url,new Blob)}if(!p.ok){const x=yield p.blob();throw new dr(p.status,p.statusText,s.url,x)}m=s.type==="arrayBuffer"||s.type==="image"?p.arrayBuffer():s.type==="json"?p.json():p.text();const g=yield m;if(l.signal.aborted)throw fn();return{data:g,cacheControl:p.headers.get("Cache-Control"),expires:p.headers.get("Expires")}})}(r,t);if(br(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:r,mustQueue:!0,targetMapId:wr},t)}var n;return function(s,l){return new Promise((d,p)=>{var m;const g=new XMLHttpRequest;g.open(s.method||"GET",s.url,!0),s.type!=="arrayBuffer"&&s.type!=="image"||(g.responseType="arraybuffer");for(const x in s.headers)g.setRequestHeader(x,s.headers[x]);s.type==="json"&&(g.responseType="text",!((m=s.headers)===null||m===void 0)&&m.Accept||g.setRequestHeader("Accept","application/json")),g.withCredentials=s.credentials==="include",g.onerror=()=>{p(new Error(g.statusText))},g.onload=()=>{if(!l.signal.aborted)if((g.status>=200&&g.status<300||g.status===0)&&g.response!==null){let x=g.response;if(s.type==="json")try{x=JSON.parse(g.response)}catch(b){return void p(b)}d({data:x,cacheControl:g.getResponseHeader("Cache-Control"),expires:g.getResponseHeader("Expires")})}else{const x=new Blob([g.response],{type:g.getResponseHeader("Content-Type")});p(new dr(g.status,g.statusText,s.url,x))}},l.signal.addEventListener("abort",()=>{g.abort(),p(fn())}),g.send(s.body)})}(r,t)};function Ts(r){if(!r||r.indexOf("://")<=0||r.indexOf("data:image/")===0||r.indexOf("blob:")===0)return!0;const t=new URL(r),n=window.location;return t.protocol===n.protocol&&t.host===n.host}function oo(r,t,n){n[r]&&n[r].indexOf(t)!==-1||(n[r]=n[r]||[],n[r].push(t))}function Pr(r,t,n){if(n&&n[r]){const s=n[r].indexOf(t);s!==-1&&n[r].splice(s,1)}}class le{constructor(t,n={}){fi(this,n),this.type=t}}class F extends le{constructor(t,n={}){super("error",fi({error:t},n))}}class O{on(t,n){return this._listeners=this._listeners||{},oo(t,n,this._listeners),{unsubscribe:()=>{this.off(t,n)}}}off(t,n){return Pr(t,n,this._listeners),Pr(t,n,this._oneTimeListeners),this}once(t,n){return n?(this._oneTimeListeners=this._oneTimeListeners||{},oo(t,n,this._oneTimeListeners),this):new Promise(s=>this.once(t,s))}fire(t,n){typeof t=="string"&&(t=new le(t,n||{}));const s=t.type;if(this.listens(s)){t.target=this;const l=this._listeners&&this._listeners[s]?this._listeners[s].slice():[];for(const m of l)m.call(this,t);const d=this._oneTimeListeners&&this._oneTimeListeners[s]?this._oneTimeListeners[s].slice():[];for(const m of d)Pr(s,m,this._oneTimeListeners),m.call(this,t);const p=this._eventedParent;p&&(fi(t,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),p.fire(t))}else t instanceof F&&console.error(t.error);return this}listens(t){return this._listeners&&this._listeners[t]&&this._listeners[t].length>0||this._oneTimeListeners&&this._oneTimeListeners[t]&&this._oneTimeListeners[t].length>0||this._eventedParent&&this._eventedParent.listens(t)}setEventedParent(t,n){return this._eventedParent=t,this._eventedParentData=n,this}}var z={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},centerAltitude:{type:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},roll:{type:"number",default:0,units:"degrees"},light:{type:"light"},sky:{type:"sky"},projection:{type:"projection"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},sky:{"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-ground-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-fog-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"sky-horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"atmosphere-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},projection:{type:{type:"projectionDefinition",default:"mercator","property-type":"data-constant",transition:!1,expression:{interpolated:!0,parameters:["zoom"]}}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const K=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function ne(r,t){const n={};for(const s in r)s!=="ref"&&(n[s]=r[s]);return K.forEach(s=>{s in t&&(n[s]=t[s])}),n}function re(r,t){if(Array.isArray(r)){if(!Array.isArray(t)||r.length!==t.length)return!1;for(let n=0;n<r.length;n++)if(!re(r[n],t[n]))return!1;return!0}if(typeof r=="object"&&r!==null&&t!==null){if(typeof t!="object"||Object.keys(r).length!==Object.keys(t).length)return!1;for(const n in r)if(!re(r[n],t[n]))return!1;return!0}return r===t}function ue(r,t){r.push(t)}function oe(r,t,n){ue(n,{command:"addSource",args:[r,t[r]]})}function ve(r,t,n){ue(t,{command:"removeSource",args:[r]}),n[r]=!0}function _e(r,t,n,s){ve(r,n,s),oe(r,t,n)}function ce(r,t,n){let s;for(s in r[n])if(Object.prototype.hasOwnProperty.call(r[n],s)&&s!=="data"&&!re(r[n][s],t[n][s]))return!1;for(s in t[n])if(Object.prototype.hasOwnProperty.call(t[n],s)&&s!=="data"&&!re(r[n][s],t[n][s]))return!1;return!0}function Me(r,t,n,s,l,d){r=r||{},t=t||{};for(const p in r)Object.prototype.hasOwnProperty.call(r,p)&&(re(r[p],t[p])||n.push({command:d,args:[s,p,t[p],l]}));for(const p in t)Object.prototype.hasOwnProperty.call(t,p)&&!Object.prototype.hasOwnProperty.call(r,p)&&(re(r[p],t[p])||n.push({command:d,args:[s,p,t[p],l]}))}function Oe(r){return r.id}function je(r,t){return r[t.id]=t,r}class ge{constructor(t,n,s,l){this.message=(t?`${t}: `:"")+s,l&&(this.identifier=l),n!=null&&n.__line__&&(this.line=n.__line__)}}function it(r,...t){for(const n of t)for(const s in n)r[s]=n[s];return r}class Ye extends Error{constructor(t,n){super(n),this.message=n,this.key=t}}class tt{constructor(t,n=[]){this.parent=t,this.bindings={};for(const[s,l]of n)this.bindings[s]=l}concat(t){return new tt(this,t)}get(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(`${t} not found in scope.`)}has(t){return!!this.bindings[t]||!!this.parent&&this.parent.has(t)}}const pt={kind:"null"},Ee={kind:"number"},$e={kind:"string"},Be={kind:"boolean"},nt={kind:"color"},Ut={kind:"projectionDefinition"},Sr={kind:"object"},et={kind:"value"},ri={kind:"collator"},At={kind:"formatted"},ao={kind:"padding"},Vn={kind:"resolvedImage"},$r={kind:"variableAnchorOffsetCollection"};function Ai(r,t){return{kind:"array",itemType:r,N:t}}function jt(r){if(r.kind==="array"){const t=jt(r.itemType);return typeof r.N=="number"?`array<${t}, ${r.N}>`:r.itemType.kind==="value"?"array":`array<${t}>`}return r.kind}const Wc=[pt,Ee,$e,Be,nt,Ut,At,Sr,Ai(et),ao,Vn,$r];function Un(r,t){if(t.kind==="error")return null;if(r.kind==="array"){if(t.kind==="array"&&(t.N===0&&t.itemType.kind==="value"||!Un(r.itemType,t.itemType))&&(typeof r.N!="number"||r.N===t.N))return null}else{if(r.kind===t.kind)return null;if(r.kind==="value"){for(const n of Wc)if(!Un(n,t))return null}}return`Expected ${jt(r)} but found ${jt(t)} instead.`}function na(r,t){return t.some(n=>n.kind===r.kind)}function Gr(r,t){return t.some(n=>n==="null"?r===null:n==="array"?Array.isArray(r):n==="object"?r&&!Array.isArray(r)&&typeof r=="object":n===typeof r)}function Zn(r,t){return r.kind==="array"&&t.kind==="array"?r.itemType.kind===t.itemType.kind&&typeof r.N=="number":r.kind===t.kind}const xl=.96422,vl=.82521,bl=4/29,$n=6/29,wl=3*$n*$n,Kc=$n*$n*$n,Tl=Math.PI/180,Ps=180/Math.PI;function Pl(r){return(r%=360)<0&&(r+=360),r}function Sl([r,t,n,s]){let l,d;const p=sa((.2225045*(r=mn(r))+.7168786*(t=mn(t))+.0606169*(n=mn(n)))/1);r===t&&t===n?l=d=p:(l=sa((.4360747*r+.3850649*t+.1430804*n)/xl),d=sa((.0139322*r+.0971045*t+.7141733*n)/vl));const m=116*p-16;return[m<0?0:m,500*(l-p),200*(p-d),s]}function mn(r){return r<=.04045?r/12.92:Math.pow((r+.055)/1.055,2.4)}function sa(r){return r>Kc?Math.pow(r,1/3):r/wl+bl}function Ml([r,t,n,s]){let l=(r+16)/116,d=isNaN(t)?l:l+t/500,p=isNaN(n)?l:l-n/200;return l=1*lo(l),d=xl*lo(d),p=vl*lo(p),[oa(3.1338561*d-1.6168667*l-.4906146*p),oa(-.9787684*d+1.9161415*l+.033454*p),oa(.0719453*d-.2289914*l+1.4052427*p),s]}function oa(r){return(r=r<=.00304?12.92*r:1.055*Math.pow(r,1/2.4)-.055)<0?0:r>1?1:r}function lo(r){return r>$n?r*r*r:wl*(r-bl)}function Ss(r){return parseInt(r.padEnd(2,r),16)/255}function tr(r,t){return lt(t?r/100:r,0,1)}function lt(r,t,n){return Math.min(Math.max(t,r),n)}function _n(r){return!r.some(Number.isNaN)}const qr={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};function Mr(r,t,n){return r+n*(t-r)}function Gn(r,t,n){return r.map((s,l)=>Mr(s,t[l],n))}class ft{constructor(t,n,s,l=1,d=!0){this.r=t,this.g=n,this.b=s,this.a=l,d||(this.r*=l,this.g*=l,this.b*=l,l||this.overwriteGetter("rgb",[t,n,s,l]))}static parse(t){if(t instanceof ft)return t;if(typeof t!="string")return;const n=function(s){if((s=s.toLowerCase().trim())==="transparent")return[0,0,0,0];const l=qr[s];if(l){const[p,m,g]=l;return[p/255,m/255,g/255,1]}if(s.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(s)){const p=s.length<6?1:2;let m=1;return[Ss(s.slice(m,m+=p)),Ss(s.slice(m,m+=p)),Ss(s.slice(m,m+=p)),Ss(s.slice(m,m+p)||"ff")]}if(s.startsWith("rgb")){const p=s.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(p){const[m,g,x,b,w,I,A,k,L,N,q,ie]=p,W=[b||" ",A||" ",N].join("");if(W==="  "||W==="  /"||W===",,"||W===",,,"){const E=[x,I,L].join(""),j=E==="%%%"?100:E===""?255:0;if(j){const X=[lt(+g/j,0,1),lt(+w/j,0,1),lt(+k/j,0,1),q?tr(+q,ie):1];if(_n(X))return X}}return}}const d=s.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(d){const[p,m,g,x,b,w,I,A,k]=d,L=[g||" ",b||" ",I].join("");if(L==="  "||L==="  /"||L===",,"||L===",,,"){const N=[+m,lt(+x,0,100),lt(+w,0,100),A?tr(+A,k):1];if(_n(N))return function([q,ie,W,E]){function j(X){const fe=(X+q/30)%12,Ce=ie*Math.min(W,1-W);return W-Ce*Math.max(-1,Math.min(fe-3,9-fe,1))}return q=Pl(q),ie/=100,W/=100,[j(0),j(8),j(4),E]}(N)}}}(t);return n?new ft(...n,!1):void 0}get rgb(){const{r:t,g:n,b:s,a:l}=this,d=l||1/0;return this.overwriteGetter("rgb",[t/d,n/d,s/d,l])}get hcl(){return this.overwriteGetter("hcl",function(t){const[n,s,l,d]=Sl(t),p=Math.sqrt(s*s+l*l);return[Math.round(1e4*p)?Pl(Math.atan2(l,s)*Ps):NaN,p,n,d]}(this.rgb))}get lab(){return this.overwriteGetter("lab",Sl(this.rgb))}overwriteGetter(t,n){return Object.defineProperty(this,t,{value:n}),n}toString(){const[t,n,s,l]=this.rgb;return`rgba(${[t,n,s].map(d=>Math.round(255*d)).join(",")},${l})`}static interpolate(t,n,s,l="rgb"){switch(l){case"rgb":{const[d,p,m,g]=Gn(t.rgb,n.rgb,s);return new ft(d,p,m,g,!1)}case"hcl":{const[d,p,m,g]=t.hcl,[x,b,w,I]=n.hcl;let A,k;if(isNaN(d)||isNaN(x))isNaN(d)?isNaN(x)?A=NaN:(A=x,m!==1&&m!==0||(k=b)):(A=d,w!==1&&w!==0||(k=p));else{let W=x-d;x>d&&W>180?W-=360:x<d&&d-x>180&&(W+=360),A=d+s*W}const[L,N,q,ie]=function([W,E,j,X]){return W=isNaN(W)?0:W*Tl,Ml([j,Math.cos(W)*E,Math.sin(W)*E,X])}([A,k??Mr(p,b,s),Mr(m,w,s),Mr(g,I,s)]);return new ft(L,N,q,ie,!1)}case"lab":{const[d,p,m,g]=Ml(Gn(t.lab,n.lab,s));return new ft(d,p,m,g,!1)}}}}ft.black=new ft(0,0,0,1),ft.white=new ft(1,1,1,1),ft.transparent=new ft(0,0,0,0),ft.red=new ft(1,0,0,1);class qi{constructor(t,n,s){this.sensitivity=t?n?"variant":"case":n?"accent":"base",this.locale=s,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(t,n){return this.collator.compare(t,n)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}const Ms=["bottom","center","top"];class qn{constructor(t,n,s,l,d,p){this.text=t,this.image=n,this.scale=s,this.fontStack=l,this.textColor=d,this.verticalAlign=p}}class Mi{constructor(t){this.sections=t}static fromString(t){return new Mi([new qn(t,null,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(t=>t.text.length!==0||t.image&&t.image.name.length!==0)}static factory(t){return t instanceof Mi?t:Mi.fromString(t)}toString(){return this.sections.length===0?"":this.sections.map(t=>t.text).join("")}}class mi{constructor(t){this.values=t.slice()}static parse(t){if(t instanceof mi)return t;if(typeof t=="number")return new mi([t,t,t,t]);if(Array.isArray(t)&&!(t.length<1||t.length>4)){for(const n of t)if(typeof n!="number")return;switch(t.length){case 1:t=[t[0],t[0],t[0],t[0]];break;case 2:t=[t[0],t[1],t[0],t[1]];break;case 3:t=[t[0],t[1],t[2],t[1]]}return new mi(t)}}toString(){return JSON.stringify(this.values)}static interpolate(t,n,s){return new mi(Gn(t.values,n.values,s))}}class Ft{constructor(t){this.name="ExpressionEvaluationError",this.message=t}toJSON(){return this.message}}const co=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class Ci{constructor(t){this.values=t.slice()}static parse(t){if(t instanceof Ci)return t;if(Array.isArray(t)&&!(t.length<1)&&t.length%2==0){for(let n=0;n<t.length;n+=2){const s=t[n],l=t[n+1];if(typeof s!="string"||!co.has(s)||!Array.isArray(l)||l.length!==2||typeof l[0]!="number"||typeof l[1]!="number")return}return new Ci(t)}}toString(){return JSON.stringify(this.values)}static interpolate(t,n,s){const l=t.values,d=n.values;if(l.length!==d.length)throw new Ft(`Cannot interpolate values of different length. from: ${t.toString()}, to: ${n.toString()}`);const p=[];for(let m=0;m<l.length;m+=2){if(l[m]!==d[m])throw new Ft(`Cannot interpolate values containing mismatched anchors. from[${m}]: ${l[m]}, to[${m}]: ${d[m]}`);p.push(l[m]);const[g,x]=l[m+1],[b,w]=d[m+1];p.push([Mr(g,b,s),Mr(x,w,s)])}return new Ci(p)}}class zi{constructor(t){this.name=t.name,this.available=t.available}toString(){return this.name}static fromString(t){return t?new zi({name:t,available:!1}):null}}class ni{constructor(t,n,s){this.from=t,this.to=n,this.transition=s}static interpolate(t,n,s){return new ni(t,n,s)}static parse(t){return t instanceof ni?t:Array.isArray(t)&&t.length===3&&typeof t[0]=="string"&&typeof t[1]=="string"&&typeof t[2]=="number"?new ni(t[0],t[1],t[2]):typeof t=="object"&&typeof t.from=="string"&&typeof t.to=="string"&&typeof t.transition=="number"?new ni(t.from,t.to,t.transition):typeof t=="string"?new ni(t,t,1):void 0}}function Cl(r,t,n,s){return typeof r=="number"&&r>=0&&r<=255&&typeof t=="number"&&t>=0&&t<=255&&typeof n=="number"&&n>=0&&n<=255?s===void 0||typeof s=="number"&&s>=0&&s<=1?null:`Invalid rgba value [${[r,t,n,s].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof s=="number"?[r,t,n,s]:[r,t,n]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Hr(r){if(r===null||typeof r=="string"||typeof r=="boolean"||typeof r=="number"||r instanceof ni||r instanceof ft||r instanceof qi||r instanceof Mi||r instanceof mi||r instanceof Ci||r instanceof zi)return!0;if(Array.isArray(r)){for(const t of r)if(!Hr(t))return!1;return!0}if(typeof r=="object"){for(const t in r)if(!Hr(r[t]))return!1;return!0}return!1}function Bt(r){if(r===null)return pt;if(typeof r=="string")return $e;if(typeof r=="boolean")return Be;if(typeof r=="number")return Ee;if(r instanceof ft)return nt;if(r instanceof ni)return Ut;if(r instanceof qi)return ri;if(r instanceof Mi)return At;if(r instanceof mi)return ao;if(r instanceof Ci)return $r;if(r instanceof zi)return Vn;if(Array.isArray(r)){const t=r.length;let n;for(const s of r){const l=Bt(s);if(n){if(n===l)continue;n=et;break}n=l}return Ai(n||et,t)}return Sr}function Hn(r){const t=typeof r;return r===null?"":t==="string"||t==="number"||t==="boolean"?String(r):r instanceof ft||r instanceof ni||r instanceof Mi||r instanceof mi||r instanceof Ci||r instanceof zi?r.toString():JSON.stringify(r)}class Wr{constructor(t,n){this.type=t,this.value=n}static parse(t,n){if(t.length!==2)return n.error(`'literal' expression requires exactly one argument, but found ${t.length-1} instead.`);if(!Hr(t[1]))return n.error("invalid value");const s=t[1];let l=Bt(s);const d=n.expectedType;return l.kind!=="array"||l.N!==0||!d||d.kind!=="array"||typeof d.N=="number"&&d.N!==0||(l=d),new Wr(l,s)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}const Cs={string:$e,number:Ee,boolean:Be,object:Sr};class ki{constructor(t,n){this.type=t,this.args=n}static parse(t,n){if(t.length<2)return n.error("Expected at least one argument.");let s,l=1;const d=t[0];if(d==="array"){let m,g;if(t.length>2){const x=t[1];if(typeof x!="string"||!(x in Cs)||x==="object")return n.error('The item type argument of "array" must be one of string, number, boolean',1);m=Cs[x],l++}else m=et;if(t.length>3){if(t[2]!==null&&(typeof t[2]!="number"||t[2]<0||t[2]!==Math.floor(t[2])))return n.error('The length argument to "array" must be a positive integer literal',2);g=t[2],l++}s=Ai(m,g)}else{if(!Cs[d])throw new Error(`Types doesn't contain name = ${d}`);s=Cs[d]}const p=[];for(;l<t.length;l++){const m=n.parse(t[l],l,et);if(!m)return null;p.push(m)}return new ki(s,p)}evaluate(t){for(let n=0;n<this.args.length;n++){const s=this.args[n].evaluate(t);if(!Un(this.type,Bt(s)))return s;if(n===this.args.length-1)throw new Ft(`Expected value to be of type ${jt(this.type)}, but found ${jt(Bt(s))} instead.`)}throw new Error}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}}const zt={"to-boolean":Be,"to-color":nt,"to-number":Ee,"to-string":$e};class pr{constructor(t,n){this.type=t,this.args=n}static parse(t,n){if(t.length<2)return n.error("Expected at least one argument.");const s=t[0];if(!zt[s])throw new Error(`Can't parse ${s} as it is not part of the known types`);if((s==="to-boolean"||s==="to-string")&&t.length!==2)return n.error("Expected one argument.");const l=zt[s],d=[];for(let p=1;p<t.length;p++){const m=n.parse(t[p],p,et);if(!m)return null;d.push(m)}return new pr(l,d)}evaluate(t){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(t);case"color":{let n,s;for(const l of this.args){if(n=l.evaluate(t),s=null,n instanceof ft)return n;if(typeof n=="string"){const d=t.parseColor(n);if(d)return d}else if(Array.isArray(n)&&(s=n.length<3||n.length>4?`Invalid rgba value ${JSON.stringify(n)}: expected an array containing either three or four numeric values.`:Cl(n[0],n[1],n[2],n[3]),!s))return new ft(n[0]/255,n[1]/255,n[2]/255,n[3])}throw new Ft(s||`Could not parse color from value '${typeof n=="string"?n:JSON.stringify(n)}'`)}case"padding":{let n;for(const s of this.args){n=s.evaluate(t);const l=mi.parse(n);if(l)return l}throw new Ft(`Could not parse padding from value '${typeof n=="string"?n:JSON.stringify(n)}'`)}case"variableAnchorOffsetCollection":{let n;for(const s of this.args){n=s.evaluate(t);const l=Ci.parse(n);if(l)return l}throw new Ft(`Could not parse variableAnchorOffsetCollection from value '${typeof n=="string"?n:JSON.stringify(n)}'`)}case"number":{let n=null;for(const s of this.args){if(n=s.evaluate(t),n===null)return 0;const l=Number(n);if(!isNaN(l))return l}throw new Ft(`Could not convert ${JSON.stringify(n)} to number.`)}case"formatted":return Mi.fromString(Hn(this.args[0].evaluate(t)));case"resolvedImage":return zi.fromString(Hn(this.args[0].evaluate(t)));case"projectionDefinition":return this.args[0].evaluate(t);default:return Hn(this.args[0].evaluate(t))}}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}}const _t=["Unknown","Point","LineString","Polygon"];class ot{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?_t[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(t){let n=this._parseColorCache[t];return n||(n=this._parseColorCache[t]=ft.parse(t)),n}}class Wn{constructor(t,n,s=[],l,d=new tt,p=[]){this.registry=t,this.path=s,this.key=s.map(m=>`[${m}]`).join(""),this.scope=d,this.errors=p,this.expectedType=l,this._isConstant=n}parse(t,n,s,l,d={}){return n?this.concat(n,s,l)._parse(t,d):this._parse(t,d)}_parse(t,n){function s(l,d,p){return p==="assert"?new ki(d,[l]):p==="coerce"?new pr(d,[l]):l}if(t!==null&&typeof t!="string"&&typeof t!="boolean"&&typeof t!="number"||(t=["literal",t]),Array.isArray(t)){if(t.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const l=t[0];if(typeof l!="string")return this.error(`Expression name must be a string, but found ${typeof l} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const d=this.registry[l];if(d){let p=d.parse(t,this);if(!p)return null;if(this.expectedType){const m=this.expectedType,g=p.type;if(m.kind!=="string"&&m.kind!=="number"&&m.kind!=="boolean"&&m.kind!=="object"&&m.kind!=="array"||g.kind!=="value")if(m.kind!=="projectionDefinition"||g.kind!=="string"&&g.kind!=="array")if(m.kind!=="color"&&m.kind!=="formatted"&&m.kind!=="resolvedImage"||g.kind!=="value"&&g.kind!=="string")if(m.kind!=="padding"||g.kind!=="value"&&g.kind!=="number"&&g.kind!=="array")if(m.kind!=="variableAnchorOffsetCollection"||g.kind!=="value"&&g.kind!=="array"){if(this.checkSubtype(m,g))return null}else p=s(p,m,n.typeAnnotation||"coerce");else p=s(p,m,n.typeAnnotation||"coerce");else p=s(p,m,n.typeAnnotation||"coerce");else p=s(p,m,n.typeAnnotation||"coerce");else p=s(p,m,n.typeAnnotation||"assert")}if(!(p instanceof Wr)&&p.type.kind!=="resolvedImage"&&this._isConstant(p)){const m=new ot;try{p=new Wr(p.type,p.evaluate(m))}catch(g){return this.error(g.message),null}}return p}return this.error(`Unknown expression "${l}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(t===void 0?"'undefined' value invalid. Use null instead.":typeof t=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof t} instead.`)}concat(t,n,s){const l=typeof t=="number"?this.path.concat(t):this.path,d=s?this.scope.concat(s):this.scope;return new Wn(this.registry,this._isConstant,l,n||null,d,this.errors)}error(t,...n){const s=`${this.key}${n.map(l=>`[${l}]`).join("")}`;this.errors.push(new Ye(s,t))}checkSubtype(t,n){const s=Un(t,n);return s&&this.error(s),s}}class dt{constructor(t,n){this.type=n.type,this.bindings=[].concat(t),this.result=n}evaluate(t){return this.result.evaluate(t)}eachChild(t){for(const n of this.bindings)t(n[1]);t(this.result)}static parse(t,n){if(t.length<4)return n.error(`Expected at least 3 arguments, but found ${t.length-1} instead.`);const s=[];for(let d=1;d<t.length-1;d+=2){const p=t[d];if(typeof p!="string")return n.error(`Expected string, but found ${typeof p} instead.`,d);if(/[^a-zA-Z0-9_]/.test(p))return n.error("Variable names must contain only alphanumeric characters or '_'.",d);const m=n.parse(t[d+1],d+1);if(!m)return null;s.push([p,m])}const l=n.parse(t[t.length-1],t.length-1,n.expectedType,s);return l?new dt(s,l):null}outputDefined(){return this.result.outputDefined()}}class Kn{constructor(t,n){this.type=n.type,this.name=t,this.boundExpression=n}static parse(t,n){if(t.length!==2||typeof t[1]!="string")return n.error("'var' expression requires exactly one string literal argument.");const s=t[1];return n.scope.has(s)?new Kn(s,n.scope.get(s)):n.error(`Unknown variable "${s}". Make sure "${s}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(t){return this.boundExpression.evaluate(t)}eachChild(){}outputDefined(){return!1}}class ir{constructor(t,n,s){this.type=t,this.index=n,this.input=s}static parse(t,n){if(t.length!==3)return n.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const s=n.parse(t[1],1,Ee),l=n.parse(t[2],2,Ai(n.expectedType||et));return s&&l?new ir(l.type.itemType,s,l):null}evaluate(t){const n=this.index.evaluate(t),s=this.input.evaluate(t);if(n<0)throw new Ft(`Array index out of bounds: ${n} < 0.`);if(n>=s.length)throw new Ft(`Array index out of bounds: ${n} > ${s.length-1}.`);if(n!==Math.floor(n))throw new Ft(`Array index must be an integer, but found ${n} instead.`);return s[n]}eachChild(t){t(this.index),t(this.input)}outputDefined(){return!1}}class Is{constructor(t,n){this.type=Be,this.needle=t,this.haystack=n}static parse(t,n){if(t.length!==3)return n.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const s=n.parse(t[1],1,et),l=n.parse(t[2],2,et);return s&&l?na(s.type,[Be,$e,Ee,pt,et])?new Is(s,l):n.error(`Expected first argument to be of type boolean, string, number or null, but found ${jt(s.type)} instead`):null}evaluate(t){const n=this.needle.evaluate(t),s=this.haystack.evaluate(t);if(!s)return!1;if(!Gr(n,["boolean","string","number","null"]))throw new Ft(`Expected first argument to be of type boolean, string, number or null, but found ${jt(Bt(n))} instead.`);if(!Gr(s,["string","array"]))throw new Ft(`Expected second argument to be of type array or string, but found ${jt(Bt(s))} instead.`);return s.indexOf(n)>=0}eachChild(t){t(this.needle),t(this.haystack)}outputDefined(){return!0}}class Es{constructor(t,n,s){this.type=Ee,this.needle=t,this.haystack=n,this.fromIndex=s}static parse(t,n){if(t.length<=2||t.length>=5)return n.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const s=n.parse(t[1],1,et),l=n.parse(t[2],2,et);if(!s||!l)return null;if(!na(s.type,[Be,$e,Ee,pt,et]))return n.error(`Expected first argument to be of type boolean, string, number or null, but found ${jt(s.type)} instead`);if(t.length===4){const d=n.parse(t[3],3,Ee);return d?new Es(s,l,d):null}return new Es(s,l)}evaluate(t){const n=this.needle.evaluate(t),s=this.haystack.evaluate(t);if(!Gr(n,["boolean","string","number","null"]))throw new Ft(`Expected first argument to be of type boolean, string, number or null, but found ${jt(Bt(n))} instead.`);let l;if(this.fromIndex&&(l=this.fromIndex.evaluate(t)),Gr(s,["string"])){const d=s.indexOf(n,l);return d===-1?-1:[...s.slice(0,d)].length}if(Gr(s,["array"]))return s.indexOf(n,l);throw new Ft(`Expected second argument to be of type array or string, but found ${jt(Bt(s))} instead.`)}eachChild(t){t(this.needle),t(this.haystack),this.fromIndex&&t(this.fromIndex)}outputDefined(){return!1}}class uo{constructor(t,n,s,l,d,p){this.inputType=t,this.type=n,this.input=s,this.cases=l,this.outputs=d,this.otherwise=p}static parse(t,n){if(t.length<5)return n.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if(t.length%2!=1)return n.error("Expected an even number of arguments.");let s,l;n.expectedType&&n.expectedType.kind!=="value"&&(l=n.expectedType);const d={},p=[];for(let x=2;x<t.length-1;x+=2){let b=t[x];const w=t[x+1];Array.isArray(b)||(b=[b]);const I=n.concat(x);if(b.length===0)return I.error("Expected at least one branch label.");for(const k of b){if(typeof k!="number"&&typeof k!="string")return I.error("Branch labels must be numbers or strings.");if(typeof k=="number"&&Math.abs(k)>Number.MAX_SAFE_INTEGER)return I.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof k=="number"&&Math.floor(k)!==k)return I.error("Numeric branch labels must be integer values.");if(s){if(I.checkSubtype(s,Bt(k)))return null}else s=Bt(k);if(d[String(k)]!==void 0)return I.error("Branch labels must be unique.");d[String(k)]=p.length}const A=n.parse(w,x,l);if(!A)return null;l=l||A.type,p.push(A)}const m=n.parse(t[1],1,et);if(!m)return null;const g=n.parse(t[t.length-1],t.length-1,l);return g?m.type.kind!=="value"&&n.concat(1).checkSubtype(s,m.type)?null:new uo(s,l,m,d,p,g):null}evaluate(t){const n=this.input.evaluate(t);return(Bt(n)===this.inputType&&this.outputs[this.cases[n]]||this.otherwise).evaluate(t)}eachChild(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)}outputDefined(){return this.outputs.every(t=>t.outputDefined())&&this.otherwise.outputDefined()}}class As{constructor(t,n,s){this.type=t,this.branches=n,this.otherwise=s}static parse(t,n){if(t.length<4)return n.error(`Expected at least 3 arguments, but found only ${t.length-1}.`);if(t.length%2!=0)return n.error("Expected an odd number of arguments.");let s;n.expectedType&&n.expectedType.kind!=="value"&&(s=n.expectedType);const l=[];for(let p=1;p<t.length-1;p+=2){const m=n.parse(t[p],p,Be);if(!m)return null;const g=n.parse(t[p+1],p+1,s);if(!g)return null;l.push([m,g]),s=s||g.type}const d=n.parse(t[t.length-1],t.length-1,s);if(!d)return null;if(!s)throw new Error("Can't infer output type");return new As(s,l,d)}evaluate(t){for(const[n,s]of this.branches)if(n.evaluate(t))return s.evaluate(t);return this.otherwise.evaluate(t)}eachChild(t){for(const[n,s]of this.branches)t(n),t(s);t(this.otherwise)}outputDefined(){return this.branches.every(([t,n])=>n.outputDefined())&&this.otherwise.outputDefined()}}class zs{constructor(t,n,s,l){this.type=t,this.input=n,this.beginIndex=s,this.endIndex=l}static parse(t,n){if(t.length<=2||t.length>=5)return n.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const s=n.parse(t[1],1,et),l=n.parse(t[2],2,Ee);if(!s||!l)return null;if(!na(s.type,[Ai(et),$e,et]))return n.error(`Expected first argument to be of type array or string, but found ${jt(s.type)} instead`);if(t.length===4){const d=n.parse(t[3],3,Ee);return d?new zs(s.type,s,l,d):null}return new zs(s.type,s,l)}evaluate(t){const n=this.input.evaluate(t),s=this.beginIndex.evaluate(t);let l;if(this.endIndex&&(l=this.endIndex.evaluate(t)),Gr(n,["string"]))return[...n].slice(s,l).join("");if(Gr(n,["array"]))return n.slice(s,l);throw new Ft(`Expected first argument to be of type array or string, but found ${jt(Bt(n))} instead.`)}eachChild(t){t(this.input),t(this.beginIndex),this.endIndex&&t(this.endIndex)}outputDefined(){return!1}}function ho(r,t){const n=r.length-1;let s,l,d=0,p=n,m=0;for(;d<=p;)if(m=Math.floor((d+p)/2),s=r[m],l=r[m+1],s<=t){if(m===n||t<l)return m;d=m+1}else{if(!(s>t))throw new Ft("Input is not a number.");p=m-1}return 0}class Xn{constructor(t,n,s){this.type=t,this.input=n,this.labels=[],this.outputs=[];for(const[l,d]of s)this.labels.push(l),this.outputs.push(d)}static parse(t,n){if(t.length-1<4)return n.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!=0)return n.error("Expected an even number of arguments.");const s=n.parse(t[1],1,Ee);if(!s)return null;const l=[];let d=null;n.expectedType&&n.expectedType.kind!=="value"&&(d=n.expectedType);for(let p=1;p<t.length;p+=2){const m=p===1?-1/0:t[p],g=t[p+1],x=p,b=p+1;if(typeof m!="number")return n.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',x);if(l.length&&l[l.length-1][0]>=m)return n.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',x);const w=n.parse(g,b,d);if(!w)return null;d=d||w.type,l.push([m,w])}return new Xn(d,s,l)}evaluate(t){const n=this.labels,s=this.outputs;if(n.length===1)return s[0].evaluate(t);const l=this.input.evaluate(t);if(l<=n[0])return s[0].evaluate(t);const d=n.length;return l>=n[d-1]?s[d-1].evaluate(t):s[ho(n,l)].evaluate(t)}eachChild(t){t(this.input);for(const n of this.outputs)t(n)}outputDefined(){return this.outputs.every(t=>t.outputDefined())}}function Il(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var gn,_i,po=function(){if(_i)return gn;function r(t,n,s,l){this.cx=3*t,this.bx=3*(s-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*n,this.by=3*(l-n)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=n,this.p2x=s,this.p2y=l}return _i=1,gn=r,r.prototype={sampleCurveX:function(t){return((this.ax*t+this.bx)*t+this.cx)*t},sampleCurveY:function(t){return((this.ay*t+this.by)*t+this.cy)*t},sampleCurveDerivativeX:function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},solveCurveX:function(t,n){if(n===void 0&&(n=1e-6),t<0)return 0;if(t>1)return 1;for(var s=t,l=0;l<8;l++){var d=this.sampleCurveX(s)-t;if(Math.abs(d)<n)return s;var p=this.sampleCurveDerivativeX(s);if(Math.abs(p)<1e-6)break;s-=d/p}var m=0,g=1;for(s=t,l=0;l<20&&(d=this.sampleCurveX(s),!(Math.abs(d-t)<n));l++)t>d?m=s:g=s,s=.5*(g-m)+m;return s},solve:function(t,n){return this.sampleCurveY(this.solveCurveX(t,n))}},gn}(),El=Il(po);class wi{constructor(t,n,s,l,d){this.type=t,this.operator=n,this.interpolation=s,this.input=l,this.labels=[],this.outputs=[];for(const[p,m]of d)this.labels.push(p),this.outputs.push(m)}static interpolationFactor(t,n,s,l){let d=0;if(t.name==="exponential")d=Jt(n,t.base,s,l);else if(t.name==="linear")d=Jt(n,1,s,l);else if(t.name==="cubic-bezier"){const p=t.controlPoints;d=new El(p[0],p[1],p[2],p[3]).solve(Jt(n,1,s,l))}return d}static parse(t,n){let[s,l,d,...p]=t;if(!Array.isArray(l)||l.length===0)return n.error("Expected an interpolation type expression.",1);if(l[0]==="linear")l={name:"linear"};else if(l[0]==="exponential"){const x=l[1];if(typeof x!="number")return n.error("Exponential interpolation requires a numeric base.",1,1);l={name:"exponential",base:x}}else{if(l[0]!=="cubic-bezier")return n.error(`Unknown interpolation type ${String(l[0])}`,1,0);{const x=l.slice(1);if(x.length!==4||x.some(b=>typeof b!="number"||b<0||b>1))return n.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);l={name:"cubic-bezier",controlPoints:x}}}if(t.length-1<4)return n.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!=0)return n.error("Expected an even number of arguments.");if(d=n.parse(d,2,Ee),!d)return null;const m=[];let g=null;s==="interpolate-hcl"||s==="interpolate-lab"?g=nt:n.expectedType&&n.expectedType.kind!=="value"&&(g=n.expectedType);for(let x=0;x<p.length;x+=2){const b=p[x],w=p[x+1],I=x+3,A=x+4;if(typeof b!="number")return n.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',I);if(m.length&&m[m.length-1][0]>=b)return n.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',I);const k=n.parse(w,A,g);if(!k)return null;g=g||k.type,m.push([b,k])}return Zn(g,Ee)||Zn(g,Ut)||Zn(g,nt)||Zn(g,ao)||Zn(g,$r)||Zn(g,Ai(Ee))?new wi(g,s,l,d,m):n.error(`Type ${jt(g)} is not interpolatable.`)}evaluate(t){const n=this.labels,s=this.outputs;if(n.length===1)return s[0].evaluate(t);const l=this.input.evaluate(t);if(l<=n[0])return s[0].evaluate(t);const d=n.length;if(l>=n[d-1])return s[d-1].evaluate(t);const p=ho(n,l),m=wi.interpolationFactor(this.interpolation,l,n[p],n[p+1]),g=s[p].evaluate(t),x=s[p+1].evaluate(t);switch(this.operator){case"interpolate":switch(this.type.kind){case"number":return Mr(g,x,m);case"color":return ft.interpolate(g,x,m);case"padding":return mi.interpolate(g,x,m);case"variableAnchorOffsetCollection":return Ci.interpolate(g,x,m);case"array":return Gn(g,x,m);case"projectionDefinition":return ni.interpolate(g,x,m)}case"interpolate-hcl":return ft.interpolate(g,x,m,"hcl");case"interpolate-lab":return ft.interpolate(g,x,m,"lab")}}eachChild(t){t(this.input);for(const n of this.outputs)t(n)}outputDefined(){return this.outputs.every(t=>t.outputDefined())}}function Jt(r,t,n,s){const l=s-n,d=r-n;return l===0?0:t===1?d/l:(Math.pow(t,d)-1)/(Math.pow(t,l)-1)}const rr={color:ft.interpolate,number:Mr,padding:mi.interpolate,variableAnchorOffsetCollection:Ci.interpolate,array:Gn};class Yn{constructor(t,n){this.type=t,this.args=n}static parse(t,n){if(t.length<2)return n.error("Expected at least one argument.");let s=null;const l=n.expectedType;l&&l.kind!=="value"&&(s=l);const d=[];for(const m of t.slice(1)){const g=n.parse(m,1+d.length,s,void 0,{typeAnnotation:"omit"});if(!g)return null;s=s||g.type,d.push(g)}if(!s)throw new Error("No output type");const p=l&&d.some(m=>Un(l,m.type));return new Yn(p?et:s,d)}evaluate(t){let n,s=null,l=0;for(const d of this.args)if(l++,s=d.evaluate(t),s&&s instanceof zi&&!s.available&&(n||(n=s.name),s=null,l===this.args.length&&(s=n)),s!==null)break;return s}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}}function aa(r,t){return r==="=="||r==="!="?t.kind==="boolean"||t.kind==="string"||t.kind==="number"||t.kind==="null"||t.kind==="value":t.kind==="string"||t.kind==="number"||t.kind==="value"}function Al(r,t,n,s){return s.compare(t,n)===0}function Cr(r,t,n){const s=r!=="=="&&r!=="!=";return class Vp{constructor(d,p,m){this.type=Be,this.lhs=d,this.rhs=p,this.collator=m,this.hasUntypedArgument=d.type.kind==="value"||p.type.kind==="value"}static parse(d,p){if(d.length!==3&&d.length!==4)return p.error("Expected two or three arguments.");const m=d[0];let g=p.parse(d[1],1,et);if(!g)return null;if(!aa(m,g.type))return p.concat(1).error(`"${m}" comparisons are not supported for type '${jt(g.type)}'.`);let x=p.parse(d[2],2,et);if(!x)return null;if(!aa(m,x.type))return p.concat(2).error(`"${m}" comparisons are not supported for type '${jt(x.type)}'.`);if(g.type.kind!==x.type.kind&&g.type.kind!=="value"&&x.type.kind!=="value")return p.error(`Cannot compare types '${jt(g.type)}' and '${jt(x.type)}'.`);s&&(g.type.kind==="value"&&x.type.kind!=="value"?g=new ki(x.type,[g]):g.type.kind!=="value"&&x.type.kind==="value"&&(x=new ki(g.type,[x])));let b=null;if(d.length===4){if(g.type.kind!=="string"&&x.type.kind!=="string"&&g.type.kind!=="value"&&x.type.kind!=="value")return p.error("Cannot use collator to compare non-string types.");if(b=p.parse(d[3],3,ri),!b)return null}return new Vp(g,x,b)}evaluate(d){const p=this.lhs.evaluate(d),m=this.rhs.evaluate(d);if(s&&this.hasUntypedArgument){const g=Bt(p),x=Bt(m);if(g.kind!==x.kind||g.kind!=="string"&&g.kind!=="number")throw new Ft(`Expected arguments for "${r}" to be (string, string) or (number, number), but found (${g.kind}, ${x.kind}) instead.`)}if(this.collator&&!s&&this.hasUntypedArgument){const g=Bt(p),x=Bt(m);if(g.kind!=="string"||x.kind!=="string")return t(d,p,m)}return this.collator?n(d,p,m,this.collator.evaluate(d)):t(d,p,m)}eachChild(d){d(this.lhs),d(this.rhs),this.collator&&d(this.collator)}outputDefined(){return!0}}}const la=Cr("==",function(r,t,n){return t===n},Al),Xc=Cr("!=",function(r,t,n){return t!==n},function(r,t,n,s){return!Al(0,t,n,s)}),fo=Cr("<",function(r,t,n){return t<n},function(r,t,n,s){return s.compare(t,n)<0}),mo=Cr(">",function(r,t,n){return t>n},function(r,t,n,s){return s.compare(t,n)>0}),nr=Cr("<=",function(r,t,n){return t<=n},function(r,t,n,s){return s.compare(t,n)<=0}),zl=Cr(">=",function(r,t,n){return t>=n},function(r,t,n,s){return s.compare(t,n)>=0});class yn{constructor(t,n,s){this.type=ri,this.locale=s,this.caseSensitive=t,this.diacriticSensitive=n}static parse(t,n){if(t.length!==2)return n.error("Expected one argument.");const s=t[1];if(typeof s!="object"||Array.isArray(s))return n.error("Collator options argument must be an object.");const l=n.parse(s["case-sensitive"]!==void 0&&s["case-sensitive"],1,Be);if(!l)return null;const d=n.parse(s["diacritic-sensitive"]!==void 0&&s["diacritic-sensitive"],1,Be);if(!d)return null;let p=null;return s.locale&&(p=n.parse(s.locale,1,$e),!p)?null:new yn(l,d,p)}evaluate(t){return new qi(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)}eachChild(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale)}outputDefined(){return!1}}class ca{constructor(t,n,s,l,d){this.type=$e,this.number=t,this.locale=n,this.currency=s,this.minFractionDigits=l,this.maxFractionDigits=d}static parse(t,n){if(t.length!==3)return n.error("Expected two arguments.");const s=n.parse(t[1],1,Ee);if(!s)return null;const l=t[2];if(typeof l!="object"||Array.isArray(l))return n.error("NumberFormat options argument must be an object.");let d=null;if(l.locale&&(d=n.parse(l.locale,1,$e),!d))return null;let p=null;if(l.currency&&(p=n.parse(l.currency,1,$e),!p))return null;let m=null;if(l["min-fraction-digits"]&&(m=n.parse(l["min-fraction-digits"],1,Ee),!m))return null;let g=null;return l["max-fraction-digits"]&&(g=n.parse(l["max-fraction-digits"],1,Ee),!g)?null:new ca(s,d,p,m,g)}evaluate(t){return new Intl.NumberFormat(this.locale?this.locale.evaluate(t):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(t):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(t):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(t):void 0}).format(this.number.evaluate(t))}eachChild(t){t(this.number),this.locale&&t(this.locale),this.currency&&t(this.currency),this.minFractionDigits&&t(this.minFractionDigits),this.maxFractionDigits&&t(this.maxFractionDigits)}outputDefined(){return!1}}class Jn{constructor(t){this.type=At,this.sections=t}static parse(t,n){if(t.length<2)return n.error("Expected at least one argument.");const s=t[1];if(!Array.isArray(s)&&typeof s=="object")return n.error("First argument must be an image or text section.");const l=[];let d=!1;for(let p=1;p<=t.length-1;++p){const m=t[p];if(d&&typeof m=="object"&&!Array.isArray(m)){d=!1;let g=null;if(m["font-scale"]&&(g=n.parse(m["font-scale"],1,Ee),!g))return null;let x=null;if(m["text-font"]&&(x=n.parse(m["text-font"],1,Ai($e)),!x))return null;let b=null;if(m["text-color"]&&(b=n.parse(m["text-color"],1,nt),!b))return null;let w=null;if(m["vertical-align"]){if(typeof m["vertical-align"]=="string"&&!Ms.includes(m["vertical-align"]))return n.error(`'vertical-align' must be one of: 'bottom', 'center', 'top' but found '${m["vertical-align"]}' instead.`);if(w=n.parse(m["vertical-align"],1,$e),!w)return null}const I=l[l.length-1];I.scale=g,I.font=x,I.textColor=b,I.verticalAlign=w}else{const g=n.parse(t[p],1,et);if(!g)return null;const x=g.type.kind;if(x!=="string"&&x!=="value"&&x!=="null"&&x!=="resolvedImage")return n.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");d=!0,l.push({content:g,scale:null,font:null,textColor:null,verticalAlign:null})}}return new Jn(l)}evaluate(t){return new Mi(this.sections.map(n=>{const s=n.content.evaluate(t);return Bt(s)===Vn?new qn("",s,null,null,null,n.verticalAlign?n.verticalAlign.evaluate(t):null):new qn(Hn(s),null,n.scale?n.scale.evaluate(t):null,n.font?n.font.evaluate(t).join(","):null,n.textColor?n.textColor.evaluate(t):null,n.verticalAlign?n.verticalAlign.evaluate(t):null)}))}eachChild(t){for(const n of this.sections)t(n.content),n.scale&&t(n.scale),n.font&&t(n.font),n.textColor&&t(n.textColor),n.verticalAlign&&t(n.verticalAlign)}outputDefined(){return!1}}class ua{constructor(t){this.type=Vn,this.input=t}static parse(t,n){if(t.length!==2)return n.error("Expected two arguments.");const s=n.parse(t[1],1,$e);return s?new ua(s):n.error("No image name provided.")}evaluate(t){const n=this.input.evaluate(t),s=zi.fromString(n);return s&&t.availableImages&&(s.available=t.availableImages.indexOf(n)>-1),s}eachChild(t){t(this.input)}outputDefined(){return!1}}class ha{constructor(t){this.type=Ee,this.input=t}static parse(t,n){if(t.length!==2)return n.error(`Expected 1 argument, but found ${t.length-1} instead.`);const s=n.parse(t[1],1);return s?s.type.kind!=="array"&&s.type.kind!=="string"&&s.type.kind!=="value"?n.error(`Expected argument of type string or array, but found ${jt(s.type)} instead.`):new ha(s):null}evaluate(t){const n=this.input.evaluate(t);if(typeof n=="string")return[...n].length;if(Array.isArray(n))return n.length;throw new Ft(`Expected value to be of type string or array, but found ${jt(Bt(n))} instead.`)}eachChild(t){t(this.input)}outputDefined(){return!1}}const fr=8192;function Yc(r,t){const n=(180+r[0])/360,s=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+r[1]*Math.PI/360)))/360,l=Math.pow(2,t.z);return[Math.round(n*l*fr),Math.round(s*l*fr)]}function Qn(r,t){const n=Math.pow(2,t.z);return[(l=(r[0]/fr+t.x)/n,360*l-180),(s=(r[1]/fr+t.y)/n,360/Math.PI*Math.atan(Math.exp((180-360*s)*Math.PI/180))-90)];var s,l}function ks(r,t){r[0]=Math.min(r[0],t[0]),r[1]=Math.min(r[1],t[1]),r[2]=Math.max(r[2],t[0]),r[3]=Math.max(r[3],t[1])}function es(r,t){return!(r[0]<=t[0]||r[2]>=t[2]||r[1]<=t[1]||r[3]>=t[3])}function kl(r,t,n){const s=r[0]-t[0],l=r[1]-t[1],d=r[0]-n[0],p=r[1]-n[1];return s*p-d*l==0&&s*d<=0&&l*p<=0}function _o(r,t,n,s){return(l=[s[0]-n[0],s[1]-n[1]])[0]*(d=[t[0]-r[0],t[1]-r[1]])[1]-l[1]*d[0]!=0&&!(!Ll(r,t,n,s)||!Ll(n,s,r,t));var l,d}function Rl(r,t,n){for(const s of n)for(let l=0;l<s.length-1;++l)if(_o(r,t,s[l],s[l+1]))return!0;return!1}function ts(r,t,n=!1){let s=!1;for(const m of t)for(let g=0;g<m.length-1;g++){if(kl(r,m[g],m[g+1]))return n;(d=m[g])[1]>(l=r)[1]!=(p=m[g+1])[1]>l[1]&&l[0]<(p[0]-d[0])*(l[1]-d[1])/(p[1]-d[1])+d[0]&&(s=!s)}var l,d,p;return s}function Jc(r,t){for(const n of t)if(ts(r,n))return!0;return!1}function Dl(r,t){for(const n of r)if(!ts(n,t))return!1;for(let n=0;n<r.length-1;++n)if(Rl(r[n],r[n+1],t))return!1;return!0}function Qc(r,t){for(const n of t)if(Dl(r,n))return!0;return!1}function Ll(r,t,n,s){const l=s[0]-n[0],d=s[1]-n[1],p=(r[0]-n[0])*d-l*(r[1]-n[1]),m=(t[0]-n[0])*d-l*(t[1]-n[1]);return p>0&&m<0||p<0&&m>0}function go(r,t,n){const s=[];for(let l=0;l<r.length;l++){const d=[];for(let p=0;p<r[l].length;p++){const m=Yc(r[l][p],n);ks(t,m),d.push(m)}s.push(d)}return s}function da(r,t,n){const s=[];for(let l=0;l<r.length;l++){const d=go(r[l],t,n);s.push(d)}return s}function pa(r,t,n,s){if(r[0]<n[0]||r[0]>n[2]){const l=.5*s;let d=r[0]-n[0]>l?-s:n[0]-r[0]>l?s:0;d===0&&(d=r[0]-n[2]>l?-s:n[2]-r[0]>l?s:0),r[0]+=d}ks(t,r)}function Fl(r,t,n,s){const l=Math.pow(2,s.z)*fr,d=[s.x*fr,s.y*fr],p=[];for(const m of r)for(const g of m){const x=[g.x+d[0],g.y+d[1]];pa(x,t,n,l),p.push(x)}return p}function Bl(r,t,n,s){const l=Math.pow(2,s.z)*fr,d=[s.x*fr,s.y*fr],p=[];for(const g of r){const x=[];for(const b of g){const w=[b.x+d[0],b.y+d[1]];ks(t,w),x.push(w)}p.push(x)}if(t[2]-t[0]<=l/2){(m=t)[0]=m[1]=1/0,m[2]=m[3]=-1/0;for(const g of p)for(const x of g)pa(x,t,n,l)}var m;return p}class xn{constructor(t,n){this.type=Be,this.geojson=t,this.geometries=n}static parse(t,n){if(t.length!==2)return n.error(`'within' expression requires exactly one argument, but found ${t.length-1} instead.`);if(Hr(t[1])){const s=t[1];if(s.type==="FeatureCollection"){const l=[];for(const d of s.features){const{type:p,coordinates:m}=d.geometry;p==="Polygon"&&l.push(m),p==="MultiPolygon"&&l.push(...m)}if(l.length)return new xn(s,{type:"MultiPolygon",coordinates:l})}else if(s.type==="Feature"){const l=s.geometry.type;if(l==="Polygon"||l==="MultiPolygon")return new xn(s,s.geometry)}else if(s.type==="Polygon"||s.type==="MultiPolygon")return new xn(s,s)}return n.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(t){if(t.geometry()!=null&&t.canonicalID()!=null){if(t.geometryType()==="Point")return function(n,s){const l=[1/0,1/0,-1/0,-1/0],d=[1/0,1/0,-1/0,-1/0],p=n.canonicalID();if(s.type==="Polygon"){const m=go(s.coordinates,d,p),g=Fl(n.geometry(),l,d,p);if(!es(l,d))return!1;for(const x of g)if(!ts(x,m))return!1}if(s.type==="MultiPolygon"){const m=da(s.coordinates,d,p),g=Fl(n.geometry(),l,d,p);if(!es(l,d))return!1;for(const x of g)if(!Jc(x,m))return!1}return!0}(t,this.geometries);if(t.geometryType()==="LineString")return function(n,s){const l=[1/0,1/0,-1/0,-1/0],d=[1/0,1/0,-1/0,-1/0],p=n.canonicalID();if(s.type==="Polygon"){const m=go(s.coordinates,d,p),g=Bl(n.geometry(),l,d,p);if(!es(l,d))return!1;for(const x of g)if(!Dl(x,m))return!1}if(s.type==="MultiPolygon"){const m=da(s.coordinates,d,p),g=Bl(n.geometry(),l,d,p);if(!es(l,d))return!1;for(const x of g)if(!Qc(x,m))return!1}return!0}(t,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}let yo=class{constructor(r=[],t=(n,s)=>n<s?-1:n>s?1:0){if(this.data=r,this.length=this.data.length,this.compare=t,this.length>0)for(let n=(this.length>>1)-1;n>=0;n--)this._down(n)}push(r){this.data.push(r),this._up(this.length++)}pop(){if(this.length===0)return;const r=this.data[0],t=this.data.pop();return--this.length>0&&(this.data[0]=t,this._down(0)),r}peek(){return this.data[0]}_up(r){const{data:t,compare:n}=this,s=t[r];for(;r>0;){const l=r-1>>1,d=t[l];if(n(s,d)>=0)break;t[r]=d,r=l}t[r]=s}_down(r){const{data:t,compare:n}=this,s=this.length>>1,l=t[r];for(;r<s;){let d=1+(r<<1);const p=d+1;if(p<this.length&&n(t[p],t[d])<0&&(d=p),n(t[d],l)>=0)break;t[r]=t[d],r=d}t[r]=l}};function Ol(r,t,n=0,s=r.length-1,l=eu){for(;s>n;){if(s-n>600){const g=s-n+1,x=t-n+1,b=Math.log(g),w=.5*Math.exp(2*b/3),I=.5*Math.sqrt(b*w*(g-w)/g)*(x-g/2<0?-1:1);Ol(r,t,Math.max(n,Math.floor(t-x*w/g+I)),Math.min(s,Math.floor(t+(g-x)*w/g+I)),l)}const d=r[t];let p=n,m=s;for(Rs(r,n,t),l(r[s],d)>0&&Rs(r,n,s);p<m;){for(Rs(r,p,m),p++,m--;l(r[p],d)<0;)p++;for(;l(r[m],d)>0;)m--}l(r[n],d)===0?Rs(r,n,m):(m++,Rs(r,m,s)),m<=t&&(n=m+1),t<=m&&(s=m-1)}}function Rs(r,t,n){const s=r[t];r[t]=r[n],r[n]=s}function eu(r,t){return r<t?-1:r>t?1:0}function Ds(r,t){if(r.length<=1)return[r];const n=[];let s,l;for(const d of r){const p=tu(d);p!==0&&(d.area=Math.abs(p),l===void 0&&(l=p<0),l===p<0?(s&&n.push(s),s=[d]):s.push(d))}if(s&&n.push(s),t>1)for(let d=0;d<n.length;d++)n[d].length<=t||(Ol(n[d],t,1,n[d].length-1,jl),n[d]=n[d].slice(0,t));return n}function jl(r,t){return t.area-r.area}function tu(r){let t=0;for(let n,s,l=0,d=r.length,p=d-1;l<d;p=l++)n=r[l],s=r[p],t+=(s.x-n.x)*(n.y+s.y);return t}const Nl=1/298.257223563,fa=Nl*(2-Nl),ma=Math.PI/180;class _a{constructor(t){const n=6378.137*ma*1e3,s=Math.cos(t*ma),l=1/(1-fa*(1-s*s)),d=Math.sqrt(l);this.kx=n*d*s,this.ky=n*d*l*(1-fa)}distance(t,n){const s=this.wrap(t[0]-n[0])*this.kx,l=(t[1]-n[1])*this.ky;return Math.sqrt(s*s+l*l)}pointOnLine(t,n){let s,l,d,p,m=1/0;for(let g=0;g<t.length-1;g++){let x=t[g][0],b=t[g][1],w=this.wrap(t[g+1][0]-x)*this.kx,I=(t[g+1][1]-b)*this.ky,A=0;w===0&&I===0||(A=(this.wrap(n[0]-x)*this.kx*w+(n[1]-b)*this.ky*I)/(w*w+I*I),A>1?(x=t[g+1][0],b=t[g+1][1]):A>0&&(x+=w/this.kx*A,b+=I/this.ky*A)),w=this.wrap(n[0]-x)*this.kx,I=(n[1]-b)*this.ky;const k=w*w+I*I;k<m&&(m=k,s=x,l=b,d=g,p=A)}return{point:[s,l],index:d,t:Math.max(0,Math.min(1,p))}}wrap(t){for(;t<-180;)t+=360;for(;t>180;)t-=360;return t}}function Vl(r,t){return t[0]-r[0]}function xo(r){return r[1]-r[0]+1}function mr(r,t){return r[1]>=r[0]&&r[1]<t}function ga(r,t){if(r[0]>r[1])return[null,null];const n=xo(r);if(t){if(n===2)return[r,null];const l=Math.floor(n/2);return[[r[0],r[0]+l],[r[0]+l,r[1]]]}if(n===1)return[r,null];const s=Math.floor(n/2)-1;return[[r[0],r[0]+s],[r[0]+s+1,r[1]]]}function ya(r,t){if(!mr(t,r.length))return[1/0,1/0,-1/0,-1/0];const n=[1/0,1/0,-1/0,-1/0];for(let s=t[0];s<=t[1];++s)ks(n,r[s]);return n}function xa(r){const t=[1/0,1/0,-1/0,-1/0];for(const n of r)for(const s of n)ks(t,s);return t}function Ul(r){return r[0]!==-1/0&&r[1]!==-1/0&&r[2]!==1/0&&r[3]!==1/0}function gt(r,t,n){if(!Ul(r)||!Ul(t))return NaN;let s=0,l=0;return r[2]<t[0]&&(s=t[0]-r[2]),r[0]>t[2]&&(s=r[0]-t[2]),r[1]>t[3]&&(l=r[1]-t[3]),r[3]<t[1]&&(l=t[1]-r[3]),n.distance([0,0],[s,l])}function vn(r,t,n){const s=n.pointOnLine(t,r);return n.distance(r,s.point)}function va(r,t,n,s,l){const d=Math.min(vn(r,[n,s],l),vn(t,[n,s],l)),p=Math.min(vn(n,[r,t],l),vn(s,[r,t],l));return Math.min(d,p)}function iu(r,t,n,s,l){if(!mr(t,r.length)||!mr(s,n.length))return 1/0;let d=1/0;for(let p=t[0];p<t[1];++p){const m=r[p],g=r[p+1];for(let x=s[0];x<s[1];++x){const b=n[x],w=n[x+1];if(_o(m,g,b,w))return 0;d=Math.min(d,va(m,g,b,w,l))}}return d}function ru(r,t,n,s,l){if(!mr(t,r.length)||!mr(s,n.length))return NaN;let d=1/0;for(let p=t[0];p<=t[1];++p)for(let m=s[0];m<=s[1];++m)if(d=Math.min(d,l.distance(r[p],n[m])),d===0)return d;return d}function nu(r,t,n){if(ts(r,t,!0))return 0;let s=1/0;for(const l of t){const d=l[0],p=l[l.length-1];if(d!==p&&(s=Math.min(s,vn(r,[p,d],n)),s===0))return s;const m=n.pointOnLine(l,r);if(s=Math.min(s,n.distance(r,m.point)),s===0)return s}return s}function su(r,t,n,s){if(!mr(t,r.length))return NaN;for(let d=t[0];d<=t[1];++d)if(ts(r[d],n,!0))return 0;let l=1/0;for(let d=t[0];d<t[1];++d){const p=r[d],m=r[d+1];for(const g of n)for(let x=0,b=g.length,w=b-1;x<b;w=x++){const I=g[w],A=g[x];if(_o(p,m,I,A))return 0;l=Math.min(l,va(p,m,I,A,s))}}return l}function Zl(r,t){for(const n of r)for(const s of n)if(ts(s,t,!0))return!0;return!1}function ou(r,t,n,s=1/0){const l=xa(r),d=xa(t);if(s!==1/0&&gt(l,d,n)>=s)return s;if(es(l,d)){if(Zl(r,t))return 0}else if(Zl(t,r))return 0;let p=1/0;for(const m of r)for(let g=0,x=m.length,b=x-1;g<x;b=g++){const w=m[b],I=m[g];for(const A of t)for(let k=0,L=A.length,N=L-1;k<L;N=k++){const q=A[N],ie=A[k];if(_o(w,I,q,ie))return 0;p=Math.min(p,va(w,I,q,ie,n))}}return p}function $l(r,t,n,s,l,d){if(!d)return;const p=gt(ya(s,d),l,n);p<t&&r.push([p,d,[0,0]])}function vo(r,t,n,s,l,d,p){if(!d||!p)return;const m=gt(ya(s,d),ya(l,p),n);m<t&&r.push([m,d,p])}function bo(r,t,n,s,l=1/0){let d=Math.min(s.distance(r[0],n[0][0]),l);if(d===0)return d;const p=new yo([[0,[0,r.length-1],[0,0]]],Vl),m=xa(n);for(;p.length>0;){const g=p.pop();if(g[0]>=d)continue;const x=g[1],b=t?50:100;if(xo(x)<=b){if(!mr(x,r.length))return NaN;if(t){const w=su(r,x,n,s);if(isNaN(w)||w===0)return w;d=Math.min(d,w)}else for(let w=x[0];w<=x[1];++w){const I=nu(r[w],n,s);if(d=Math.min(d,I),d===0)return 0}}else{const w=ga(x,t);$l(p,d,s,r,m,w[0]),$l(p,d,s,r,m,w[1])}}return d}function wo(r,t,n,s,l,d=1/0){let p=Math.min(d,l.distance(r[0],n[0]));if(p===0)return p;const m=new yo([[0,[0,r.length-1],[0,n.length-1]]],Vl);for(;m.length>0;){const g=m.pop();if(g[0]>=p)continue;const x=g[1],b=g[2],w=t?50:100,I=s?50:100;if(xo(x)<=w&&xo(b)<=I){if(!mr(x,r.length)&&mr(b,n.length))return NaN;let A;if(t&&s)A=iu(r,x,n,b,l),p=Math.min(p,A);else if(t&&!s){const k=r.slice(x[0],x[1]+1);for(let L=b[0];L<=b[1];++L)if(A=vn(n[L],k,l),p=Math.min(p,A),p===0)return p}else if(!t&&s){const k=n.slice(b[0],b[1]+1);for(let L=x[0];L<=x[1];++L)if(A=vn(r[L],k,l),p=Math.min(p,A),p===0)return p}else A=ru(r,x,n,b,l),p=Math.min(p,A)}else{const A=ga(x,t),k=ga(b,s);vo(m,p,l,r,n,A[0],k[0]),vo(m,p,l,r,n,A[0],k[1]),vo(m,p,l,r,n,A[1],k[0]),vo(m,p,l,r,n,A[1],k[1])}}return p}function ba(r){return r.type==="MultiPolygon"?r.coordinates.map(t=>({type:"Polygon",coordinates:t})):r.type==="MultiLineString"?r.coordinates.map(t=>({type:"LineString",coordinates:t})):r.type==="MultiPoint"?r.coordinates.map(t=>({type:"Point",coordinates:t})):[r]}class bn{constructor(t,n){this.type=Ee,this.geojson=t,this.geometries=n}static parse(t,n){if(t.length!==2)return n.error(`'distance' expression requires exactly one argument, but found ${t.length-1} instead.`);if(Hr(t[1])){const s=t[1];if(s.type==="FeatureCollection")return new bn(s,s.features.map(l=>ba(l.geometry)).flat());if(s.type==="Feature")return new bn(s,ba(s.geometry));if("type"in s&&"coordinates"in s)return new bn(s,ba(s))}return n.error("'distance' expression requires valid geojson object that contains polygon geometry type.")}evaluate(t){if(t.geometry()!=null&&t.canonicalID()!=null){if(t.geometryType()==="Point")return function(n,s){const l=n.geometry(),d=l.flat().map(g=>Qn([g.x,g.y],n.canonical));if(l.length===0)return NaN;const p=new _a(d[0][1]);let m=1/0;for(const g of s){switch(g.type){case"Point":m=Math.min(m,wo(d,!1,[g.coordinates],!1,p,m));break;case"LineString":m=Math.min(m,wo(d,!1,g.coordinates,!0,p,m));break;case"Polygon":m=Math.min(m,bo(d,!1,g.coordinates,p,m))}if(m===0)return m}return m}(t,this.geometries);if(t.geometryType()==="LineString")return function(n,s){const l=n.geometry(),d=l.flat().map(g=>Qn([g.x,g.y],n.canonical));if(l.length===0)return NaN;const p=new _a(d[0][1]);let m=1/0;for(const g of s){switch(g.type){case"Point":m=Math.min(m,wo(d,!0,[g.coordinates],!1,p,m));break;case"LineString":m=Math.min(m,wo(d,!0,g.coordinates,!0,p,m));break;case"Polygon":m=Math.min(m,bo(d,!0,g.coordinates,p,m))}if(m===0)return m}return m}(t,this.geometries);if(t.geometryType()==="Polygon")return function(n,s){const l=n.geometry();if(l.length===0||l[0].length===0)return NaN;const d=Ds(l,0).map(g=>g.map(x=>x.map(b=>Qn([b.x,b.y],n.canonical)))),p=new _a(d[0][0][0][1]);let m=1/0;for(const g of s)for(const x of d){switch(g.type){case"Point":m=Math.min(m,bo([g.coordinates],!1,x,p,m));break;case"LineString":m=Math.min(m,bo(g.coordinates,!0,x,p,m));break;case"Polygon":m=Math.min(m,ou(x,g.coordinates,p,m))}if(m===0)return m}return m}(t,this.geometries)}return NaN}eachChild(){}outputDefined(){return!0}}const is={"==":la,"!=":Xc,">":mo,"<":fo,">=":zl,"<=":nr,array:ki,at:ir,boolean:ki,case:As,coalesce:Yn,collator:yn,format:Jn,image:ua,in:Is,"index-of":Es,interpolate:wi,"interpolate-hcl":wi,"interpolate-lab":wi,length:ha,let:dt,literal:Wr,match:uo,number:ki,"number-format":ca,object:ki,slice:zs,step:Xn,string:ki,"to-boolean":pr,"to-color":pr,"to-number":pr,"to-string":pr,var:Kn,within:xn,distance:bn};class Hi{constructor(t,n,s,l){this.name=t,this.type=n,this._evaluate=s,this.args=l}evaluate(t){return this._evaluate(t,this.args)}eachChild(t){this.args.forEach(t)}outputDefined(){return!1}static parse(t,n){const s=t[0],l=Hi.definitions[s];if(!l)return n.error(`Unknown expression "${s}". If you wanted a literal array, use ["literal", [...]].`,0);const d=Array.isArray(l)?l[0]:l.type,p=Array.isArray(l)?[[l[1],l[2]]]:l.overloads,m=p.filter(([x])=>!Array.isArray(x)||x.length===t.length-1);let g=null;for(const[x,b]of m){g=new Wn(n.registry,To,n.path,null,n.scope);const w=[];let I=!1;for(let A=1;A<t.length;A++){const k=t[A],L=Array.isArray(x)?x[A-1]:x.type,N=g.parse(k,1+w.length,L);if(!N){I=!0;break}w.push(N)}if(!I)if(Array.isArray(x)&&x.length!==w.length)g.error(`Expected ${x.length} arguments, but found ${w.length} instead.`);else{for(let A=0;A<w.length;A++){const k=Array.isArray(x)?x[A]:x.type,L=w[A];g.concat(A+1).checkSubtype(k,L.type)}if(g.errors.length===0)return new Hi(s,d,b,w)}}if(m.length===1)n.errors.push(...g.errors);else{const x=(m.length?m:p).map(([w])=>{return I=w,Array.isArray(I)?`(${I.map(jt).join(", ")})`:`(${jt(I.type)}...)`;var I}).join(" | "),b=[];for(let w=1;w<t.length;w++){const I=n.parse(t[w],1+b.length);if(!I)return null;b.push(jt(I.type))}n.error(`Expected arguments of type ${x}, but found (${b.join(", ")}) instead.`)}return null}static register(t,n){Hi.definitions=n;for(const s in n)t[s]=Hi}}function Gl(r,[t,n,s,l]){t=t.evaluate(r),n=n.evaluate(r),s=s.evaluate(r);const d=l?l.evaluate(r):1,p=Cl(t,n,s,d);if(p)throw new Ft(p);return new ft(t/255,n/255,s/255,d,!1)}function ql(r,t){return r in t}function wa(r,t){const n=t[r];return n===void 0?null:n}function wn(r){return{type:r}}function To(r){if(r instanceof Kn)return To(r.boundExpression);if(r instanceof Hi&&r.name==="error"||r instanceof yn||r instanceof xn||r instanceof bn)return!1;const t=r instanceof pr||r instanceof ki;let n=!0;return r.eachChild(s=>{n=t?n&&To(s):n&&s instanceof Wr}),!!n&&Po(r)&&So(r,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function Po(r){if(r instanceof Hi&&(r.name==="get"&&r.args.length===1||r.name==="feature-state"||r.name==="has"&&r.args.length===1||r.name==="properties"||r.name==="geometry-type"||r.name==="id"||/^filter-/.test(r.name))||r instanceof xn||r instanceof bn)return!1;let t=!0;return r.eachChild(n=>{t&&!Po(n)&&(t=!1)}),t}function Ls(r){if(r instanceof Hi&&r.name==="feature-state")return!1;let t=!0;return r.eachChild(n=>{t&&!Ls(n)&&(t=!1)}),t}function So(r,t){if(r instanceof Hi&&t.indexOf(r.name)>=0)return!1;let n=!0;return r.eachChild(s=>{n&&!So(s,t)&&(n=!1)}),n}function Hl(r){return{result:"success",value:r}}function rs(r){return{result:"error",value:r}}function ns(r){return r["property-type"]==="data-driven"||r["property-type"]==="cross-faded-data-driven"}function Wl(r){return!!r.expression&&r.expression.parameters.indexOf("zoom")>-1}function Ta(r){return!!r.expression&&r.expression.interpolated}function mt(r){return r instanceof Number?"number":r instanceof String?"string":r instanceof Boolean?"boolean":Array.isArray(r)?"array":r===null?"null":typeof r}function Mo(r){return typeof r=="object"&&r!==null&&!Array.isArray(r)}function Pa(r){return r}function Kl(r,t){const n=t.type==="color",s=r.stops&&typeof r.stops[0][0]=="object",l=s||!(s||r.property!==void 0),d=r.type||(Ta(t)?"exponential":"interval");if(n||t.type==="padding"){const b=n?ft.parse:mi.parse;(r=it({},r)).stops&&(r.stops=r.stops.map(w=>[w[0],b(w[1])])),r.default=b(r.default?r.default:t.default)}if(r.colorSpace&&(p=r.colorSpace)!=="rgb"&&p!=="hcl"&&p!=="lab")throw new Error(`Unknown color space: "${r.colorSpace}"`);var p;let m,g,x;if(d==="exponential")m=Yl;else if(d==="interval")m=Xl;else if(d==="categorical"){m=au,g=Object.create(null);for(const b of r.stops)g[b[0]]=b[1];x=typeof r.stops[0][0]}else{if(d!=="identity")throw new Error(`Unknown function type "${d}"`);m=lu}if(s){const b={},w=[];for(let k=0;k<r.stops.length;k++){const L=r.stops[k],N=L[0].zoom;b[N]===void 0&&(b[N]={zoom:N,type:r.type,property:r.property,default:r.default,stops:[]},w.push(N)),b[N].stops.push([L[0].value,L[1]])}const I=[];for(const k of w)I.push([b[k].zoom,Kl(b[k],t)]);const A={name:"linear"};return{kind:"composite",interpolationType:A,interpolationFactor:wi.interpolationFactor.bind(void 0,A),zoomStops:I.map(k=>k[0]),evaluate:({zoom:k},L)=>Yl({stops:I,base:r.base},t,k).evaluate(k,L)}}if(l){const b=d==="exponential"?{name:"exponential",base:r.base!==void 0?r.base:1}:null;return{kind:"camera",interpolationType:b,interpolationFactor:wi.interpolationFactor.bind(void 0,b),zoomStops:r.stops.map(w=>w[0]),evaluate:({zoom:w})=>m(r,t,w,g,x)}}return{kind:"source",evaluate(b,w){const I=w&&w.properties?w.properties[r.property]:void 0;return I===void 0?Fs(r.default,t.default):m(r,t,I,g,x)}}}function Fs(r,t,n){return r!==void 0?r:t!==void 0?t:n!==void 0?n:void 0}function au(r,t,n,s,l){return Fs(typeof n===l?s[n]:void 0,r.default,t.default)}function Xl(r,t,n){if(mt(n)!=="number")return Fs(r.default,t.default);const s=r.stops.length;if(s===1||n<=r.stops[0][0])return r.stops[0][1];if(n>=r.stops[s-1][0])return r.stops[s-1][1];const l=ho(r.stops.map(d=>d[0]),n);return r.stops[l][1]}function Yl(r,t,n){const s=r.base!==void 0?r.base:1;if(mt(n)!=="number")return Fs(r.default,t.default);const l=r.stops.length;if(l===1||n<=r.stops[0][0])return r.stops[0][1];if(n>=r.stops[l-1][0])return r.stops[l-1][1];const d=ho(r.stops.map(b=>b[0]),n),p=function(b,w,I,A){const k=A-I,L=b-I;return k===0?0:w===1?L/k:(Math.pow(w,L)-1)/(Math.pow(w,k)-1)}(n,s,r.stops[d][0],r.stops[d+1][0]),m=r.stops[d][1],g=r.stops[d+1][1],x=rr[t.type]||Pa;return typeof m.evaluate=="function"?{evaluate(...b){const w=m.evaluate.apply(void 0,b),I=g.evaluate.apply(void 0,b);if(w!==void 0&&I!==void 0)return x(w,I,p,r.colorSpace)}}:x(m,g,p,r.colorSpace)}function lu(r,t,n){switch(t.type){case"color":n=ft.parse(n);break;case"formatted":n=Mi.fromString(n.toString());break;case"resolvedImage":n=zi.fromString(n.toString());break;case"padding":n=mi.parse(n);break;default:mt(n)===t.type||t.type==="enum"&&t.values[n]||(n=void 0)}return Fs(n,r.default,t.default)}Hi.register(is,{error:[{kind:"error"},[$e],(r,[t])=>{throw new Ft(t.evaluate(r))}],typeof:[$e,[et],(r,[t])=>jt(Bt(t.evaluate(r)))],"to-rgba":[Ai(Ee,4),[nt],(r,[t])=>{const[n,s,l,d]=t.evaluate(r).rgb;return[255*n,255*s,255*l,d]}],rgb:[nt,[Ee,Ee,Ee],Gl],rgba:[nt,[Ee,Ee,Ee,Ee],Gl],has:{type:Be,overloads:[[[$e],(r,[t])=>ql(t.evaluate(r),r.properties())],[[$e,Sr],(r,[t,n])=>ql(t.evaluate(r),n.evaluate(r))]]},get:{type:et,overloads:[[[$e],(r,[t])=>wa(t.evaluate(r),r.properties())],[[$e,Sr],(r,[t,n])=>wa(t.evaluate(r),n.evaluate(r))]]},"feature-state":[et,[$e],(r,[t])=>wa(t.evaluate(r),r.featureState||{})],properties:[Sr,[],r=>r.properties()],"geometry-type":[$e,[],r=>r.geometryType()],id:[et,[],r=>r.id()],zoom:[Ee,[],r=>r.globals.zoom],"heatmap-density":[Ee,[],r=>r.globals.heatmapDensity||0],"line-progress":[Ee,[],r=>r.globals.lineProgress||0],accumulated:[et,[],r=>r.globals.accumulated===void 0?null:r.globals.accumulated],"+":[Ee,wn(Ee),(r,t)=>{let n=0;for(const s of t)n+=s.evaluate(r);return n}],"*":[Ee,wn(Ee),(r,t)=>{let n=1;for(const s of t)n*=s.evaluate(r);return n}],"-":{type:Ee,overloads:[[[Ee,Ee],(r,[t,n])=>t.evaluate(r)-n.evaluate(r)],[[Ee],(r,[t])=>-t.evaluate(r)]]},"/":[Ee,[Ee,Ee],(r,[t,n])=>t.evaluate(r)/n.evaluate(r)],"%":[Ee,[Ee,Ee],(r,[t,n])=>t.evaluate(r)%n.evaluate(r)],ln2:[Ee,[],()=>Math.LN2],pi:[Ee,[],()=>Math.PI],e:[Ee,[],()=>Math.E],"^":[Ee,[Ee,Ee],(r,[t,n])=>Math.pow(t.evaluate(r),n.evaluate(r))],sqrt:[Ee,[Ee],(r,[t])=>Math.sqrt(t.evaluate(r))],log10:[Ee,[Ee],(r,[t])=>Math.log(t.evaluate(r))/Math.LN10],ln:[Ee,[Ee],(r,[t])=>Math.log(t.evaluate(r))],log2:[Ee,[Ee],(r,[t])=>Math.log(t.evaluate(r))/Math.LN2],sin:[Ee,[Ee],(r,[t])=>Math.sin(t.evaluate(r))],cos:[Ee,[Ee],(r,[t])=>Math.cos(t.evaluate(r))],tan:[Ee,[Ee],(r,[t])=>Math.tan(t.evaluate(r))],asin:[Ee,[Ee],(r,[t])=>Math.asin(t.evaluate(r))],acos:[Ee,[Ee],(r,[t])=>Math.acos(t.evaluate(r))],atan:[Ee,[Ee],(r,[t])=>Math.atan(t.evaluate(r))],min:[Ee,wn(Ee),(r,t)=>Math.min(...t.map(n=>n.evaluate(r)))],max:[Ee,wn(Ee),(r,t)=>Math.max(...t.map(n=>n.evaluate(r)))],abs:[Ee,[Ee],(r,[t])=>Math.abs(t.evaluate(r))],round:[Ee,[Ee],(r,[t])=>{const n=t.evaluate(r);return n<0?-Math.round(-n):Math.round(n)}],floor:[Ee,[Ee],(r,[t])=>Math.floor(t.evaluate(r))],ceil:[Ee,[Ee],(r,[t])=>Math.ceil(t.evaluate(r))],"filter-==":[Be,[$e,et],(r,[t,n])=>r.properties()[t.value]===n.value],"filter-id-==":[Be,[et],(r,[t])=>r.id()===t.value],"filter-type-==":[Be,[$e],(r,[t])=>r.geometryType()===t.value],"filter-<":[Be,[$e,et],(r,[t,n])=>{const s=r.properties()[t.value],l=n.value;return typeof s==typeof l&&s<l}],"filter-id-<":[Be,[et],(r,[t])=>{const n=r.id(),s=t.value;return typeof n==typeof s&&n<s}],"filter->":[Be,[$e,et],(r,[t,n])=>{const s=r.properties()[t.value],l=n.value;return typeof s==typeof l&&s>l}],"filter-id->":[Be,[et],(r,[t])=>{const n=r.id(),s=t.value;return typeof n==typeof s&&n>s}],"filter-<=":[Be,[$e,et],(r,[t,n])=>{const s=r.properties()[t.value],l=n.value;return typeof s==typeof l&&s<=l}],"filter-id-<=":[Be,[et],(r,[t])=>{const n=r.id(),s=t.value;return typeof n==typeof s&&n<=s}],"filter->=":[Be,[$e,et],(r,[t,n])=>{const s=r.properties()[t.value],l=n.value;return typeof s==typeof l&&s>=l}],"filter-id->=":[Be,[et],(r,[t])=>{const n=r.id(),s=t.value;return typeof n==typeof s&&n>=s}],"filter-has":[Be,[et],(r,[t])=>t.value in r.properties()],"filter-has-id":[Be,[],r=>r.id()!==null&&r.id()!==void 0],"filter-type-in":[Be,[Ai($e)],(r,[t])=>t.value.indexOf(r.geometryType())>=0],"filter-id-in":[Be,[Ai(et)],(r,[t])=>t.value.indexOf(r.id())>=0],"filter-in-small":[Be,[$e,Ai(et)],(r,[t,n])=>n.value.indexOf(r.properties()[t.value])>=0],"filter-in-large":[Be,[$e,Ai(et)],(r,[t,n])=>function(s,l,d,p){for(;d<=p;){const m=d+p>>1;if(l[m]===s)return!0;l[m]>s?p=m-1:d=m+1}return!1}(r.properties()[t.value],n.value,0,n.value.length-1)],all:{type:Be,overloads:[[[Be,Be],(r,[t,n])=>t.evaluate(r)&&n.evaluate(r)],[wn(Be),(r,t)=>{for(const n of t)if(!n.evaluate(r))return!1;return!0}]]},any:{type:Be,overloads:[[[Be,Be],(r,[t,n])=>t.evaluate(r)||n.evaluate(r)],[wn(Be),(r,t)=>{for(const n of t)if(n.evaluate(r))return!0;return!1}]]},"!":[Be,[Be],(r,[t])=>!t.evaluate(r)],"is-supported-script":[Be,[$e],(r,[t])=>{const n=r.globals&&r.globals.isSupportedScript;return!n||n(t.evaluate(r))}],upcase:[$e,[$e],(r,[t])=>t.evaluate(r).toUpperCase()],downcase:[$e,[$e],(r,[t])=>t.evaluate(r).toLowerCase()],concat:[$e,wn(et),(r,t)=>t.map(n=>Hn(n.evaluate(r))).join("")],"resolved-locale":[$e,[ri],(r,[t])=>t.evaluate(r).resolvedLocale()]});class ss{constructor(t,n){var s;this.expression=t,this._warningHistory={},this._evaluator=new ot,this._defaultValue=n?(s=n).type==="color"&&Mo(s.default)?new ft(0,0,0,0):s.type==="color"?ft.parse(s.default)||null:s.type==="padding"?mi.parse(s.default)||null:s.type==="variableAnchorOffsetCollection"?Ci.parse(s.default)||null:s.type==="projectionDefinition"?ni.parse(s.default)||null:s.default===void 0?null:s.default:null,this._enumValues=n&&n.type==="enum"?n.values:null}evaluateWithoutErrorHandling(t,n,s,l,d,p){return this._evaluator.globals=t,this._evaluator.feature=n,this._evaluator.featureState=s,this._evaluator.canonical=l,this._evaluator.availableImages=d||null,this._evaluator.formattedSection=p,this.expression.evaluate(this._evaluator)}evaluate(t,n,s,l,d,p){this._evaluator.globals=t,this._evaluator.feature=n||null,this._evaluator.featureState=s||null,this._evaluator.canonical=l,this._evaluator.availableImages=d||null,this._evaluator.formattedSection=p||null;try{const m=this.expression.evaluate(this._evaluator);if(m==null||typeof m=="number"&&m!=m)return this._defaultValue;if(this._enumValues&&!(m in this._enumValues))throw new Ft(`Expected value to be one of ${Object.keys(this._enumValues).map(g=>JSON.stringify(g)).join(", ")}, but found ${JSON.stringify(m)} instead.`);return m}catch(m){return this._warningHistory[m.message]||(this._warningHistory[m.message]=!0,typeof console<"u"&&console.warn(m.message)),this._defaultValue}}}function Bs(r){return Array.isArray(r)&&r.length>0&&typeof r[0]=="string"&&r[0]in is}function Co(r,t){const n=new Wn(is,To,[],t?function(l){const d={color:nt,string:$e,number:Ee,enum:$e,boolean:Be,formatted:At,padding:ao,projectionDefinition:Ut,resolvedImage:Vn,variableAnchorOffsetCollection:$r};return l.type==="array"?Ai(d[l.value]||et,l.length):d[l.type]}(t):void 0),s=n.parse(r,void 0,void 0,void 0,t&&t.type==="string"?{typeAnnotation:"coerce"}:void 0);return s?Hl(new ss(s,t)):rs(n.errors)}class Sa{constructor(t,n){this.kind=t,this._styleExpression=n,this.isStateDependent=t!=="constant"&&!Ls(n.expression)}evaluateWithoutErrorHandling(t,n,s,l,d,p){return this._styleExpression.evaluateWithoutErrorHandling(t,n,s,l,d,p)}evaluate(t,n,s,l,d,p){return this._styleExpression.evaluate(t,n,s,l,d,p)}}class Ma{constructor(t,n,s,l){this.kind=t,this.zoomStops=s,this._styleExpression=n,this.isStateDependent=t!=="camera"&&!Ls(n.expression),this.interpolationType=l}evaluateWithoutErrorHandling(t,n,s,l,d,p){return this._styleExpression.evaluateWithoutErrorHandling(t,n,s,l,d,p)}evaluate(t,n,s,l,d,p){return this._styleExpression.evaluate(t,n,s,l,d,p)}interpolationFactor(t,n,s){return this.interpolationType?wi.interpolationFactor(this.interpolationType,t,n,s):0}}function Jl(r,t){const n=Co(r,t);if(n.result==="error")return n;const s=n.value.expression,l=Po(s);if(!l&&!ns(t))return rs([new Ye("","data expressions not supported")]);const d=So(s,["zoom"]);if(!d&&!Wl(t))return rs([new Ye("","zoom expressions not supported")]);const p=Os(s);return p||d?p instanceof Ye?rs([p]):p instanceof wi&&!Ta(t)?rs([new Ye("",'"interpolate" expressions cannot be used with this property')]):Hl(p?new Ma(l?"camera":"composite",n.value,p.labels,p instanceof wi?p.interpolation:void 0):new Sa(l?"constant":"source",n.value)):rs([new Ye("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class Io{constructor(t,n){this._parameters=t,this._specification=n,it(this,Kl(this._parameters,this._specification))}static deserialize(t){return new Io(t._parameters,t._specification)}static serialize(t){return{_parameters:t._parameters,_specification:t._specification}}}function Os(r){let t=null;if(r instanceof dt)t=Os(r.result);else if(r instanceof Yn){for(const n of r.args)if(t=Os(n),t)break}else(r instanceof Xn||r instanceof wi)&&r.input instanceof Hi&&r.input.name==="zoom"&&(t=r);return t instanceof Ye||r.eachChild(n=>{const s=Os(n);s instanceof Ye?t=s:!t&&s?t=new Ye("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):t&&s&&t!==s&&(t=new Ye("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),t}function Eo(r){if(r===!0||r===!1)return!0;if(!Array.isArray(r)||r.length===0)return!1;switch(r[0]){case"has":return r.length>=2&&r[1]!=="$id"&&r[1]!=="$type";case"in":return r.length>=3&&(typeof r[1]!="string"||Array.isArray(r[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return r.length!==3||Array.isArray(r[1])||Array.isArray(r[2]);case"any":case"all":for(const t of r.slice(1))if(!Eo(t)&&typeof t!="boolean")return!1;return!0;default:return!0}}const cu={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Ca(r){if(r==null)return{filter:()=>!0,needGeometry:!1};Eo(r)||(r=js(r));const t=Co(r,cu);if(t.result==="error")throw new Error(t.value.map(n=>`${n.key}: ${n.message}`).join(", "));return{filter:(n,s,l)=>t.value.evaluate(n,s,{},l),needGeometry:Ia(r)}}function Ql(r,t){return r<t?-1:r>t?1:0}function Ia(r){if(!Array.isArray(r))return!1;if(r[0]==="within"||r[0]==="distance")return!0;for(let t=1;t<r.length;t++)if(Ia(r[t]))return!0;return!1}function js(r){if(!r)return!0;const t=r[0];return r.length<=1?t!=="any":t==="=="?Ao(r[1],r[2],"=="):t==="!="?os(Ao(r[1],r[2],"==")):t==="<"||t===">"||t==="<="||t===">="?Ao(r[1],r[2],t):t==="any"?(n=r.slice(1),["any"].concat(n.map(js))):t==="all"?["all"].concat(r.slice(1).map(js)):t==="none"?["all"].concat(r.slice(1).map(js).map(os)):t==="in"?zo(r[1],r.slice(2)):t==="!in"?os(zo(r[1],r.slice(2))):t==="has"?ko(r[1]):t!=="!has"||os(ko(r[1]));var n}function Ao(r,t,n){switch(r){case"$type":return[`filter-type-${n}`,t];case"$id":return[`filter-id-${n}`,t];default:return[`filter-${n}`,r,t]}}function zo(r,t){if(t.length===0)return!1;switch(r){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some(n=>typeof n!=typeof t[0])?["filter-in-large",r,["literal",t.sort(Ql)]]:["filter-in-small",r,["literal",t]]}}function ko(r){switch(r){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",r]}}function os(r){return["!",r]}function as(r){const t=typeof r;if(t==="number"||t==="boolean"||t==="string"||r==null)return JSON.stringify(r);if(Array.isArray(r)){let l="[";for(const d of r)l+=`${as(d)},`;return`${l}]`}const n=Object.keys(r).sort();let s="{";for(let l=0;l<n.length;l++)s+=`${JSON.stringify(n[l])}:${as(r[n[l]])},`;return`${s}}`}function uu(r){let t="";for(const n of K)t+=`/${as(r[n])}`;return t}function ec(r){const t=r.value;return t?[new ge(r.key,t,"constants have been deprecated as of v8")]:[]}function Wt(r){return r instanceof Number||r instanceof String||r instanceof Boolean?r.valueOf():r}function Tn(r){if(Array.isArray(r))return r.map(Tn);if(r instanceof Object&&!(r instanceof Number||r instanceof String||r instanceof Boolean)){const t={};for(const n in r)t[n]=Tn(r[n]);return t}return Wt(r)}function Wi(r){const t=r.key,n=r.value,s=r.valueSpec||{},l=r.objectElementValidators||{},d=r.style,p=r.styleSpec,m=r.validateSpec;let g=[];const x=mt(n);if(x!=="object")return[new ge(t,n,`object expected, ${x} found`)];for(const b in n){const w=b.split(".")[0],I=s[w]||s["*"];let A;if(l[w])A=l[w];else if(s[w])A=m;else if(l["*"])A=l["*"];else{if(!s["*"]){g.push(new ge(t,n[b],`unknown property "${b}"`));continue}A=m}g=g.concat(A({key:(t&&`${t}.`)+b,value:n[b],valueSpec:I,style:d,styleSpec:p,object:n,objectKey:b,validateSpec:m},n))}for(const b in s)l[b]||s[b].required&&s[b].default===void 0&&n[b]===void 0&&g.push(new ge(t,n,`missing required property "${b}"`));return g}function Ea(r){const t=r.value,n=r.valueSpec,s=r.style,l=r.styleSpec,d=r.key,p=r.arrayElementValidator||r.validateSpec;if(mt(t)!=="array")return[new ge(d,t,`array expected, ${mt(t)} found`)];if(n.length&&t.length!==n.length)return[new ge(d,t,`array length ${n.length} expected, length ${t.length} found`)];if(n["min-length"]&&t.length<n["min-length"])return[new ge(d,t,`array length at least ${n["min-length"]} expected, length ${t.length} found`)];let m={type:n.value,values:n.values};l.$version<7&&(m.function=n.function),mt(n.value)==="object"&&(m=n.value);let g=[];for(let x=0;x<t.length;x++)g=g.concat(p({array:t,arrayIndex:x,value:t[x],valueSpec:m,validateSpec:r.validateSpec,style:s,styleSpec:l,key:`${d}[${x}]`}));return g}function Ro(r){const t=r.key,n=r.value,s=r.valueSpec;let l=mt(n);return l==="number"&&n!=n&&(l="NaN"),l!=="number"?[new ge(t,n,`number expected, ${l} found`)]:"minimum"in s&&n<s.minimum?[new ge(t,n,`${n} is less than the minimum value ${s.minimum}`)]:"maximum"in s&&n>s.maximum?[new ge(t,n,`${n} is greater than the maximum value ${s.maximum}`)]:[]}function Aa(r){const t=r.valueSpec,n=Wt(r.value.type);let s,l,d,p={};const m=n!=="categorical"&&r.value.property===void 0,g=!m,x=mt(r.value.stops)==="array"&&mt(r.value.stops[0])==="array"&&mt(r.value.stops[0][0])==="object",b=Wi({key:r.key,value:r.value,valueSpec:r.styleSpec.function,validateSpec:r.validateSpec,style:r.style,styleSpec:r.styleSpec,objectElementValidators:{stops:function(A){if(n==="identity")return[new ge(A.key,A.value,'identity function may not have a "stops" property')];let k=[];const L=A.value;return k=k.concat(Ea({key:A.key,value:L,valueSpec:A.valueSpec,validateSpec:A.validateSpec,style:A.style,styleSpec:A.styleSpec,arrayElementValidator:w})),mt(L)==="array"&&L.length===0&&k.push(new ge(A.key,L,"array must have at least one stop")),k},default:function(A){return A.validateSpec({key:A.key,value:A.value,valueSpec:t,validateSpec:A.validateSpec,style:A.style,styleSpec:A.styleSpec})}}});return n==="identity"&&m&&b.push(new ge(r.key,r.value,'missing required property "property"')),n==="identity"||r.value.stops||b.push(new ge(r.key,r.value,'missing required property "stops"')),n==="exponential"&&r.valueSpec.expression&&!Ta(r.valueSpec)&&b.push(new ge(r.key,r.value,"exponential functions not supported")),r.styleSpec.$version>=8&&(g&&!ns(r.valueSpec)?b.push(new ge(r.key,r.value,"property functions not supported")):m&&!Wl(r.valueSpec)&&b.push(new ge(r.key,r.value,"zoom functions not supported"))),n!=="categorical"&&!x||r.value.property!==void 0||b.push(new ge(r.key,r.value,'"property" property is required')),b;function w(A){let k=[];const L=A.value,N=A.key;if(mt(L)!=="array")return[new ge(N,L,`array expected, ${mt(L)} found`)];if(L.length!==2)return[new ge(N,L,`array length 2 expected, length ${L.length} found`)];if(x){if(mt(L[0])!=="object")return[new ge(N,L,`object expected, ${mt(L[0])} found`)];if(L[0].zoom===void 0)return[new ge(N,L,"object stop key must have zoom")];if(L[0].value===void 0)return[new ge(N,L,"object stop key must have value")];if(d&&d>Wt(L[0].zoom))return[new ge(N,L[0].zoom,"stop zoom values must appear in ascending order")];Wt(L[0].zoom)!==d&&(d=Wt(L[0].zoom),l=void 0,p={}),k=k.concat(Wi({key:`${N}[0]`,value:L[0],valueSpec:{zoom:{}},validateSpec:A.validateSpec,style:A.style,styleSpec:A.styleSpec,objectElementValidators:{zoom:Ro,value:I}}))}else k=k.concat(I({key:`${N}[0]`,value:L[0],validateSpec:A.validateSpec,style:A.style,styleSpec:A.styleSpec},L));return Bs(Tn(L[1]))?k.concat([new ge(`${N}[1]`,L[1],"expressions are not allowed in function stops.")]):k.concat(A.validateSpec({key:`${N}[1]`,value:L[1],valueSpec:t,validateSpec:A.validateSpec,style:A.style,styleSpec:A.styleSpec}))}function I(A,k){const L=mt(A.value),N=Wt(A.value),q=A.value!==null?A.value:k;if(s){if(L!==s)return[new ge(A.key,q,`${L} stop domain type must match previous stop domain type ${s}`)]}else s=L;if(L!=="number"&&L!=="string"&&L!=="boolean")return[new ge(A.key,q,"stop domain value must be a number, string, or boolean")];if(L!=="number"&&n!=="categorical"){let ie=`number expected, ${L} found`;return ns(t)&&n===void 0&&(ie+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new ge(A.key,q,ie)]}return n!=="categorical"||L!=="number"||isFinite(N)&&Math.floor(N)===N?n!=="categorical"&&L==="number"&&l!==void 0&&N<l?[new ge(A.key,q,"stop domain values must appear in ascending order")]:(l=N,n==="categorical"&&N in p?[new ge(A.key,q,"stop domain values must be unique")]:(p[N]=!0,[])):[new ge(A.key,q,`integer expected, found ${N}`)]}}function Ir(r){const t=(r.expressionContext==="property"?Jl:Co)(Tn(r.value),r.valueSpec);if(t.result==="error")return t.value.map(s=>new ge(`${r.key}${s.key}`,r.value,s.message));const n=t.value.expression||t.value._styleExpression.expression;if(r.expressionContext==="property"&&r.propertyKey==="text-font"&&!n.outputDefined())return[new ge(r.key,r.value,`Invalid data expression for "${r.propertyKey}". Output values must be contained as literals within the expression.`)];if(r.expressionContext==="property"&&r.propertyType==="layout"&&!Ls(n))return[new ge(r.key,r.value,'"feature-state" data expressions are not supported with layout properties.')];if(r.expressionContext==="filter"&&!Ls(n))return[new ge(r.key,r.value,'"feature-state" data expressions are not supported with filters.')];if(r.expressionContext&&r.expressionContext.indexOf("cluster")===0){if(!So(n,["zoom","feature-state"]))return[new ge(r.key,r.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(r.expressionContext==="cluster-initial"&&!Po(n))return[new ge(r.key,r.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Ns(r){const t=r.key,n=r.value,s=r.valueSpec,l=[];return Array.isArray(s.values)?s.values.indexOf(Wt(n))===-1&&l.push(new ge(t,n,`expected one of [${s.values.join(", ")}], ${JSON.stringify(n)} found`)):Object.keys(s.values).indexOf(Wt(n))===-1&&l.push(new ge(t,n,`expected one of [${Object.keys(s.values).join(", ")}], ${JSON.stringify(n)} found`)),l}function Do(r){return Eo(Tn(r.value))?Ir(it({},r,{expressionContext:"filter",valueSpec:{value:"boolean"}})):za(r)}function za(r){const t=r.value,n=r.key;if(mt(t)!=="array")return[new ge(n,t,`array expected, ${mt(t)} found`)];const s=r.styleSpec;let l,d=[];if(t.length<1)return[new ge(n,t,"filter array must have at least 1 element")];switch(d=d.concat(Ns({key:`${n}[0]`,value:t[0],valueSpec:s.filter_operator,style:r.style,styleSpec:r.styleSpec})),Wt(t[0])){case"<":case"<=":case">":case">=":t.length>=2&&Wt(t[1])==="$type"&&d.push(new ge(n,t,`"$type" cannot be use with operator "${t[0]}"`));case"==":case"!=":t.length!==3&&d.push(new ge(n,t,`filter array for operator "${t[0]}" must have 3 elements`));case"in":case"!in":t.length>=2&&(l=mt(t[1]),l!=="string"&&d.push(new ge(`${n}[1]`,t[1],`string expected, ${l} found`)));for(let p=2;p<t.length;p++)l=mt(t[p]),Wt(t[1])==="$type"?d=d.concat(Ns({key:`${n}[${p}]`,value:t[p],valueSpec:s.geometry_type,style:r.style,styleSpec:r.styleSpec})):l!=="string"&&l!=="number"&&l!=="boolean"&&d.push(new ge(`${n}[${p}]`,t[p],`string, number, or boolean expected, ${l} found`));break;case"any":case"all":case"none":for(let p=1;p<t.length;p++)d=d.concat(za({key:`${n}[${p}]`,value:t[p],style:r.style,styleSpec:r.styleSpec}));break;case"has":case"!has":l=mt(t[1]),t.length!==2?d.push(new ge(n,t,`filter array for "${t[0]}" operator must have 2 elements`)):l!=="string"&&d.push(new ge(`${n}[1]`,t[1],`string expected, ${l} found`))}return d}function tc(r,t){const n=r.key,s=r.validateSpec,l=r.style,d=r.styleSpec,p=r.value,m=r.objectKey,g=d[`${t}_${r.layerType}`];if(!g)return[];const x=m.match(/^(.*)-transition$/);if(t==="paint"&&x&&g[x[1]]&&g[x[1]].transition)return s({key:n,value:p,valueSpec:d.transition,style:l,styleSpec:d});const b=r.valueSpec||g[m];if(!b)return[new ge(n,p,`unknown property "${m}"`)];let w;if(mt(p)==="string"&&ns(b)&&!b.tokens&&(w=/^{([^}]+)}$/.exec(p)))return[new ge(n,p,`"${m}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(w[1])} }\`.`)];const I=[];return r.layerType==="symbol"&&(m==="text-field"&&l&&!l.glyphs&&I.push(new ge(n,p,'use of "text-field" requires a style "glyphs" property')),m==="text-font"&&Mo(Tn(p))&&Wt(p.type)==="identity"&&I.push(new ge(n,p,'"text-font" does not support identity functions'))),I.concat(s({key:r.key,value:p,valueSpec:b,style:l,styleSpec:d,expressionContext:"property",propertyType:t,propertyKey:m}))}function ka(r){return tc(r,"paint")}function Ra(r){return tc(r,"layout")}function ls(r){let t=[];const n=r.value,s=r.key,l=r.style,d=r.styleSpec;n.type||n.ref||t.push(new ge(s,n,'either "type" or "ref" is required'));let p=Wt(n.type);const m=Wt(n.ref);if(n.id){const g=Wt(n.id);for(let x=0;x<r.arrayIndex;x++){const b=l.layers[x];Wt(b.id)===g&&t.push(new ge(s,n.id,`duplicate layer id "${n.id}", previously used at line ${b.id.__line__}`))}}if("ref"in n){let g;["type","source","source-layer","filter","layout"].forEach(x=>{x in n&&t.push(new ge(s,n[x],`"${x}" is prohibited for ref layers`))}),l.layers.forEach(x=>{Wt(x.id)===m&&(g=x)}),g?g.ref?t.push(new ge(s,n.ref,"ref cannot reference another ref layer")):p=Wt(g.type):t.push(new ge(s,n.ref,`ref layer "${m}" not found`))}else if(p!=="background")if(n.source){const g=l.sources&&l.sources[n.source],x=g&&Wt(g.type);g?x==="vector"&&p==="raster"?t.push(new ge(s,n.source,`layer "${n.id}" requires a raster source`)):x!=="raster-dem"&&p==="hillshade"?t.push(new ge(s,n.source,`layer "${n.id}" requires a raster-dem source`)):x==="raster"&&p!=="raster"?t.push(new ge(s,n.source,`layer "${n.id}" requires a vector source`)):x!=="vector"||n["source-layer"]?x==="raster-dem"&&p!=="hillshade"?t.push(new ge(s,n.source,"raster-dem source can only be used with layer type 'hillshade'.")):p!=="line"||!n.paint||!n.paint["line-gradient"]||x==="geojson"&&g.lineMetrics||t.push(new ge(s,n,`layer "${n.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):t.push(new ge(s,n,`layer "${n.id}" must specify a "source-layer"`)):t.push(new ge(s,n.source,`source "${n.source}" not found`))}else t.push(new ge(s,n,'missing required property "source"'));return t=t.concat(Wi({key:s,value:n,valueSpec:d.layer,style:r.style,styleSpec:r.styleSpec,validateSpec:r.validateSpec,objectElementValidators:{"*":()=>[],type:()=>r.validateSpec({key:`${s}.type`,value:n.type,valueSpec:d.layer.type,style:r.style,styleSpec:r.styleSpec,validateSpec:r.validateSpec,object:n,objectKey:"type"}),filter:Do,layout:g=>Wi({layer:n,key:g.key,value:g.value,style:g.style,styleSpec:g.styleSpec,validateSpec:g.validateSpec,objectElementValidators:{"*":x=>Ra(it({layerType:p},x))}}),paint:g=>Wi({layer:n,key:g.key,value:g.value,style:g.style,styleSpec:g.styleSpec,validateSpec:g.validateSpec,objectElementValidators:{"*":x=>ka(it({layerType:p},x))}})}})),t}function Pn(r){const t=r.value,n=r.key,s=mt(t);return s!=="string"?[new ge(n,t,`string expected, ${s} found`)]:[]}const ic={promoteId:function({key:r,value:t}){if(mt(t)==="string")return Pn({key:r,value:t});{const n=[];for(const s in t)n.push(...Pn({key:`${r}.${s}`,value:t[s]}));return n}}};function rc(r){const t=r.value,n=r.key,s=r.styleSpec,l=r.style,d=r.validateSpec;if(!t.type)return[new ge(n,t,'"type" is required')];const p=Wt(t.type);let m;switch(p){case"vector":case"raster":return m=Wi({key:n,value:t,valueSpec:s[`source_${p.replace("-","_")}`],style:r.style,styleSpec:s,objectElementValidators:ic,validateSpec:d}),m;case"raster-dem":return m=function(g){var x;const b=(x=g.sourceName)!==null&&x!==void 0?x:"",w=g.value,I=g.styleSpec,A=I.source_raster_dem,k=g.style;let L=[];const N=mt(w);if(w===void 0)return L;if(N!=="object")return L.push(new ge("source_raster_dem",w,`object expected, ${N} found`)),L;const q=Wt(w.encoding)==="custom",ie=["redFactor","greenFactor","blueFactor","baseShift"],W=g.value.encoding?`"${g.value.encoding}"`:"Default";for(const E in w)!q&&ie.includes(E)?L.push(new ge(E,w[E],`In "${b}": "${E}" is only valid when "encoding" is set to "custom". ${W} encoding found`)):A[E]?L=L.concat(g.validateSpec({key:E,value:w[E],valueSpec:A[E],validateSpec:g.validateSpec,style:k,styleSpec:I})):L.push(new ge(E,w[E],`unknown property "${E}"`));return L}({sourceName:n,value:t,style:r.style,styleSpec:s,validateSpec:d}),m;case"geojson":if(m=Wi({key:n,value:t,valueSpec:s.source_geojson,style:l,styleSpec:s,validateSpec:d,objectElementValidators:ic}),t.cluster)for(const g in t.clusterProperties){const[x,b]=t.clusterProperties[g],w=typeof x=="string"?[x,["accumulated"],["get",g]]:x;m.push(...Ir({key:`${n}.${g}.map`,value:b,expressionContext:"cluster-map"})),m.push(...Ir({key:`${n}.${g}.reduce`,value:w,expressionContext:"cluster-reduce"}))}return m;case"video":return Wi({key:n,value:t,valueSpec:s.source_video,style:l,validateSpec:d,styleSpec:s});case"image":return Wi({key:n,value:t,valueSpec:s.source_image,style:l,validateSpec:d,styleSpec:s});case"canvas":return[new ge(n,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Ns({key:`${n}.type`,value:t.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]}})}}function nc(r){const t=r.value,n=r.styleSpec,s=n.light,l=r.style;let d=[];const p=mt(t);if(t===void 0)return d;if(p!=="object")return d=d.concat([new ge("light",t,`object expected, ${p} found`)]),d;for(const m in t){const g=m.match(/^(.*)-transition$/);d=d.concat(g&&s[g[1]]&&s[g[1]].transition?r.validateSpec({key:m,value:t[m],valueSpec:n.transition,validateSpec:r.validateSpec,style:l,styleSpec:n}):s[m]?r.validateSpec({key:m,value:t[m],valueSpec:s[m],validateSpec:r.validateSpec,style:l,styleSpec:n}):[new ge(m,t[m],`unknown property "${m}"`)])}return d}function sc(r){const t=r.value,n=r.styleSpec,s=n.sky,l=r.style,d=mt(t);if(t===void 0)return[];if(d!=="object")return[new ge("sky",t,`object expected, ${d} found`)];let p=[];for(const m in t)p=p.concat(s[m]?r.validateSpec({key:m,value:t[m],valueSpec:s[m],style:l,styleSpec:n}):[new ge(m,t[m],`unknown property "${m}"`)]);return p}function oc(r){const t=r.value,n=r.styleSpec,s=n.terrain,l=r.style;let d=[];const p=mt(t);if(t===void 0)return d;if(p!=="object")return d=d.concat([new ge("terrain",t,`object expected, ${p} found`)]),d;for(const m in t)d=d.concat(s[m]?r.validateSpec({key:m,value:t[m],valueSpec:s[m],validateSpec:r.validateSpec,style:l,styleSpec:n}):[new ge(m,t[m],`unknown property "${m}"`)]);return d}function cs(r){let t=[];const n=r.value,s=r.key;if(Array.isArray(n)){const l=[],d=[];for(const p in n)n[p].id&&l.includes(n[p].id)&&t.push(new ge(s,n,`all the sprites' ids must be unique, but ${n[p].id} is duplicated`)),l.push(n[p].id),n[p].url&&d.includes(n[p].url)&&t.push(new ge(s,n,`all the sprites' URLs must be unique, but ${n[p].url} is duplicated`)),d.push(n[p].url),t=t.concat(Wi({key:`${s}[${p}]`,value:n[p],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:r.validateSpec}));return t}return Pn({key:s,value:n})}const us={"*":()=>[],array:Ea,boolean:function(r){const t=r.value,n=r.key,s=mt(t);return s!=="boolean"?[new ge(n,t,`boolean expected, ${s} found`)]:[]},number:Ro,color:function(r){const t=r.key,n=r.value,s=mt(n);return s!=="string"?[new ge(t,n,`color expected, ${s} found`)]:ft.parse(String(n))?[]:[new ge(t,n,`color expected, "${n}" found`)]},constants:ec,enum:Ns,filter:Do,function:Aa,layer:ls,object:Wi,source:rc,light:nc,sky:sc,terrain:oc,projection:function(r){const t=r.value,n=r.styleSpec,s=n.projection,l=r.style,d=mt(t);if(t===void 0)return[];if(d!=="object")return[new ge("projection",t,`object expected, ${d} found`)];let p=[];for(const m in t)p=p.concat(s[m]?r.validateSpec({key:m,value:t[m],valueSpec:s[m],style:l,styleSpec:n}):[new ge(m,t[m],`unknown property "${m}"`)]);return p},projectionDefinition:function(r){const t=r.key;let n=r.value;n=n instanceof String?n.valueOf():n;const s=mt(n);return s!=="array"||function(l){return Array.isArray(l)&&l.length===3&&typeof l[0]=="string"&&typeof l[1]=="string"&&typeof l[2]=="number"}(n)||function(l){return!!["interpolate","step","literal"].includes(l[0])}(n)?["array","string"].includes(s)?[]:[new ge(t,n,`projection expected, invalid type "${s}" found`)]:[new ge(t,n,`projection expected, invalid array ${JSON.stringify(n)} found`)]},string:Pn,formatted:function(r){return Pn(r).length===0?[]:Ir(r)},resolvedImage:function(r){return Pn(r).length===0?[]:Ir(r)},padding:function(r){const t=r.key,n=r.value;if(mt(n)==="array"){if(n.length<1||n.length>4)return[new ge(t,n,`padding requires 1 to 4 values; ${n.length} values found`)];const s={type:"number"};let l=[];for(let d=0;d<n.length;d++)l=l.concat(r.validateSpec({key:`${t}[${d}]`,value:n[d],validateSpec:r.validateSpec,valueSpec:s}));return l}return Ro({key:t,value:n,valueSpec:{}})},variableAnchorOffsetCollection:function(r){const t=r.key,n=r.value,s=mt(n),l=r.styleSpec;if(s!=="array"||n.length<1||n.length%2!=0)return[new ge(t,n,"variableAnchorOffsetCollection requires a non-empty array of even length")];let d=[];for(let p=0;p<n.length;p+=2)d=d.concat(Ns({key:`${t}[${p}]`,value:n[p],valueSpec:l.layout_symbol["text-anchor"]})),d=d.concat(Ea({key:`${t}[${p+1}]`,value:n[p+1],valueSpec:{length:2,value:"number"},validateSpec:r.validateSpec,style:r.style,styleSpec:l}));return d},sprite:cs};function Ti(r){const t=r.value,n=r.valueSpec,s=r.styleSpec;return r.validateSpec=Ti,n.expression&&Mo(Wt(t))?Aa(r):n.expression&&Bs(Tn(t))?Ir(r):n.type&&us[n.type]?us[n.type](r):Wi(it({},r,{valueSpec:n.type?s[n.type]:n}))}function hs(r){const t=r.value,n=r.key,s=Pn(r);return s.length||(t.indexOf("{fontstack}")===-1&&s.push(new ge(n,t,'"glyphs" url must include a "{fontstack}" token')),t.indexOf("{range}")===-1&&s.push(new ge(n,t,'"glyphs" url must include a "{range}" token'))),s}function Ki(r,t=z){let n=[];return n=n.concat(Ti({key:"",value:r,valueSpec:t.$root,styleSpec:t,style:r,validateSpec:Ti,objectElementValidators:{glyphs:hs,"*":()=>[]}})),r.constants&&(n=n.concat(ec({key:"constants",value:r.constants}))),ac(n)}function _r(r){return function(t){return r({...t,validateSpec:Ti})}}function ac(r){return[].concat(r).sort((t,n)=>t.line-n.line)}function Ri(r){return function(...t){return ac(r.apply(this,t))}}Ki.source=Ri(_r(rc)),Ki.sprite=Ri(_r(cs)),Ki.glyphs=Ri(_r(hs)),Ki.light=Ri(_r(nc)),Ki.sky=Ri(_r(sc)),Ki.terrain=Ri(_r(oc)),Ki.layer=Ri(_r(ls)),Ki.filter=Ri(_r(Do)),Ki.paintProperty=Ri(_r(ka)),Ki.layoutProperty=Ri(_r(Ra));const Sn=Ki,Da=Sn.light,hu=Sn.sky,La=Sn.paintProperty,du=Sn.layoutProperty;function ds(r,t){let n=!1;if(t&&t.length)for(const s of t)r.fire(new F(new Error(s.message))),n=!0;return n}class Vs{constructor(t,n,s){const l=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;const p=new Int32Array(this.arrayBuffer);t=p[0],this.d=(n=p[1])+2*(s=p[2]);for(let g=0;g<this.d*this.d;g++){const x=p[3+g],b=p[3+g+1];l.push(x===b?null:p.subarray(x,b))}const m=p[3+l.length+1];this.keys=p.subarray(p[3+l.length],m),this.bboxes=p.subarray(m),this.insert=this._insertReadonly}else{this.d=n+2*s;for(let p=0;p<this.d*this.d;p++)l.push([]);this.keys=[],this.bboxes=[]}this.n=n,this.extent=t,this.padding=s,this.scale=n/t,this.uid=0;const d=s/n*t;this.min=-d,this.max=t+d}insert(t,n,s,l,d){this._forEachCell(n,s,l,d,this._insertCell,this.uid++,void 0,void 0),this.keys.push(t),this.bboxes.push(n),this.bboxes.push(s),this.bboxes.push(l),this.bboxes.push(d)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(t,n,s,l,d,p){this.cells[d].push(p)}query(t,n,s,l,d){const p=this.min,m=this.max;if(t<=p&&n<=p&&m<=s&&m<=l&&!d)return Array.prototype.slice.call(this.keys);{const g=[];return this._forEachCell(t,n,s,l,this._queryCell,g,{},d),g}}_queryCell(t,n,s,l,d,p,m,g){const x=this.cells[d];if(x!==null){const b=this.keys,w=this.bboxes;for(let I=0;I<x.length;I++){const A=x[I];if(m[A]===void 0){const k=4*A;(g?g(w[k+0],w[k+1],w[k+2],w[k+3]):t<=w[k+2]&&n<=w[k+3]&&s>=w[k+0]&&l>=w[k+1])?(m[A]=!0,p.push(b[A])):m[A]=!1}}}}_forEachCell(t,n,s,l,d,p,m,g){const x=this._convertToCellCoord(t),b=this._convertToCellCoord(n),w=this._convertToCellCoord(s),I=this._convertToCellCoord(l);for(let A=x;A<=w;A++)for(let k=b;k<=I;k++){const L=this.d*k+A;if((!g||g(this._convertFromCellCoord(A),this._convertFromCellCoord(k),this._convertFromCellCoord(A+1),this._convertFromCellCoord(k+1)))&&d.call(this,t,n,s,l,L,p,m,g))return}}_convertFromCellCoord(t){return(t-this.padding)/this.scale}_convertToCellCoord(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const t=this.cells,n=3+this.cells.length+1+1;let s=0;for(let p=0;p<this.cells.length;p++)s+=this.cells[p].length;const l=new Int32Array(n+s+this.keys.length+this.bboxes.length);l[0]=this.extent,l[1]=this.n,l[2]=this.padding;let d=n;for(let p=0;p<t.length;p++){const m=t[p];l[3+p]=d,l.set(m,d),d+=m.length}return l[3+t.length]=d,l.set(this.keys,d),d+=this.keys.length,l[3+t.length+1]=d,l.set(this.bboxes,d),d+=this.bboxes.length,l.buffer}static serialize(t,n){const s=t.toArrayBuffer();return n&&n.push(s),{buffer:s}}static deserialize(t){return new Vs(t.buffer)}}const ji={};function Ue(r,t,n={}){if(ji[r])throw new Error(`${r} is already registered.`);Object.defineProperty(t,"_classRegistryKey",{value:r,writeable:!1}),ji[r]={klass:t,omit:n.omit||[],shallow:n.shallow||[]}}Ue("Object",Object),Ue("TransferableGridIndex",Vs),Ue("Color",ft),Ue("Error",Error),Ue("AJAXError",dr),Ue("ResolvedImage",zi),Ue("StylePropertyFunction",Io),Ue("StyleExpression",ss,{omit:["_evaluator"]}),Ue("ZoomDependentExpression",Ma),Ue("ZoomConstantExpression",Sa),Ue("CompoundExpression",Hi,{omit:["_evaluate"]});for(const r in is)is[r]._classRegistryKey||Ue(`Expression_${r}`,is[r]);function lc(r){return r&&typeof ArrayBuffer<"u"&&(r instanceof ArrayBuffer||r.constructor&&r.constructor.name==="ArrayBuffer")}function ps(r){return r.$name||r.constructor._classRegistryKey}function cc(r){return!function(t){if(t===null||typeof t!="object")return!1;const n=ps(t);return!(!n||n==="Object")}(r)&&(r==null||typeof r=="boolean"||typeof r=="number"||typeof r=="string"||r instanceof Boolean||r instanceof Number||r instanceof String||r instanceof Date||r instanceof RegExp||r instanceof Blob||r instanceof Error||lc(r)||dn(r)||ArrayBuffer.isView(r)||r instanceof ImageData)}function Mn(r,t){if(cc(r))return(lc(r)||dn(r))&&t&&t.push(r),ArrayBuffer.isView(r)&&t&&t.push(r.buffer),r instanceof ImageData&&t&&t.push(r.data.buffer),r;if(Array.isArray(r)){const d=[];for(const p of r)d.push(Mn(p,t));return d}if(typeof r!="object")throw new Error("can't serialize object of type "+typeof r);const n=ps(r);if(!n)throw new Error(`can't serialize object of unregistered class ${r.constructor.name}`);if(!ji[n])throw new Error(`${n} is not registered.`);const{klass:s}=ji[n],l=s.serialize?s.serialize(r,t):{};if(s.serialize){if(t&&l===t[t.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const d in r){if(!r.hasOwnProperty(d)||ji[n].omit.indexOf(d)>=0)continue;const p=r[d];l[d]=ji[n].shallow.indexOf(d)>=0?p:Mn(p,t)}r instanceof Error&&(l.message=r.message)}if(l.$name)throw new Error("$name property is reserved for worker serialization logic.");return n!=="Object"&&(l.$name=n),l}function Kr(r){if(cc(r))return r;if(Array.isArray(r))return r.map(Kr);if(typeof r!="object")throw new Error("can't deserialize object of type "+typeof r);const t=ps(r)||"Object";if(!ji[t])throw new Error(`can't deserialize unregistered class ${t}`);const{klass:n}=ji[t];if(!n)throw new Error(`can't deserialize unregistered class ${t}`);if(n.deserialize)return n.deserialize(r);const s=Object.create(n.prototype);for(const l of Object.keys(r)){if(l==="$name")continue;const d=r[l];s[l]=ji[t].shallow.indexOf(l)>=0?d:Kr(d)}return s}class Fa{constructor(){this.first=!0}update(t,n){const s=Math.floor(t);return this.first?(this.first=!1,this.lastIntegerZoom=s,this.lastIntegerZoomTime=0,this.lastZoom=t,this.lastFloorZoom=s,!0):(this.lastFloorZoom>s?(this.lastIntegerZoom=s+1,this.lastIntegerZoomTime=n):this.lastFloorZoom<s&&(this.lastIntegerZoom=s,this.lastIntegerZoomTime=n),t!==this.lastZoom&&(this.lastZoom=t,this.lastFloorZoom=s,!0))}}const ct={"Latin-1 Supplement":r=>r>=128&&r<=255,"Hangul Jamo":r=>r>=4352&&r<=4607,Khmer:r=>r>=6016&&r<=6143,"General Punctuation":r=>r>=8192&&r<=8303,"Letterlike Symbols":r=>r>=8448&&r<=8527,"Number Forms":r=>r>=8528&&r<=8591,"Miscellaneous Technical":r=>r>=8960&&r<=9215,"Control Pictures":r=>r>=9216&&r<=9279,"Optical Character Recognition":r=>r>=9280&&r<=9311,"Enclosed Alphanumerics":r=>r>=9312&&r<=9471,"Geometric Shapes":r=>r>=9632&&r<=9727,"Miscellaneous Symbols":r=>r>=9728&&r<=9983,"Miscellaneous Symbols and Arrows":r=>r>=11008&&r<=11263,"Ideographic Description Characters":r=>r>=12272&&r<=12287,"CJK Symbols and Punctuation":r=>r>=12288&&r<=12351,Hiragana:r=>r>=12352&&r<=12447,Katakana:r=>r>=12448&&r<=12543,Kanbun:r=>r>=12688&&r<=12703,"CJK Strokes":r=>r>=12736&&r<=12783,"Enclosed CJK Letters and Months":r=>r>=12800&&r<=13055,"CJK Compatibility":r=>r>=13056&&r<=13311,"Yijing Hexagram Symbols":r=>r>=19904&&r<=19967,"CJK Unified Ideographs":r=>r>=19968&&r<=40959,"Hangul Syllables":r=>r>=44032&&r<=55215,"Private Use Area":r=>r>=57344&&r<=63743,"Vertical Forms":r=>r>=65040&&r<=65055,"CJK Compatibility Forms":r=>r>=65072&&r<=65103,"Small Form Variants":r=>r>=65104&&r<=65135,"Halfwidth and Fullwidth Forms":r=>r>=65280&&r<=65519};function Lo(r){for(const t of r)if(Oa(t.charCodeAt(0)))return!0;return!1}function uc(r){for(const t of r)if(!pu(t.charCodeAt(0)))return!1;return!0}function Us(r){const t=r.map(n=>{try{return new RegExp(`\\p{sc=${n}}`,"u").source}catch{return null}}).filter(n=>n);return new RegExp(t.join("|"),"u")}const hc=Us(["Arab","Dupl","Mong","Ougr","Syrc"]);function pu(r){return!hc.test(String.fromCodePoint(r))}const Ba=Us(["Bopo","Hani","Hira","Kana","Kits","Nshu","Tang","Yiii"]);function Oa(r){return!(r!==746&&r!==747&&(r<4352||!(ct["CJK Compatibility Forms"](r)&&!(r>=65097&&r<=65103)||ct["CJK Compatibility"](r)||ct["CJK Strokes"](r)||!(!ct["CJK Symbols and Punctuation"](r)||r>=12296&&r<=12305||r>=12308&&r<=12319||r===12336)||ct["Enclosed CJK Letters and Months"](r)||ct["Ideographic Description Characters"](r)||ct.Kanbun(r)||ct.Katakana(r)&&r!==12540||!(!ct["Halfwidth and Fullwidth Forms"](r)||r===65288||r===65289||r===65293||r>=65306&&r<=65310||r===65339||r===65341||r===65343||r>=65371&&r<=65503||r===65507||r>=65512&&r<=65519)||!(!ct["Small Form Variants"](r)||r>=65112&&r<=65118||r>=65123&&r<=65126)||ct["Vertical Forms"](r)||ct["Yijing Hexagram Symbols"](r)||new RegExp("\\p{sc=Cans}","u").test(String.fromCodePoint(r))||new RegExp("\\p{sc=Hang}","u").test(String.fromCodePoint(r))||Ba.test(String.fromCodePoint(r)))))}function ja(r){return!(Oa(r)||function(t){return!!(ct["Latin-1 Supplement"](t)&&(t===167||t===169||t===174||t===177||t===188||t===189||t===190||t===215||t===247)||ct["General Punctuation"](t)&&(t===8214||t===8224||t===8225||t===8240||t===8241||t===8251||t===8252||t===8258||t===8263||t===8264||t===8265||t===8273)||ct["Letterlike Symbols"](t)||ct["Number Forms"](t)||ct["Miscellaneous Technical"](t)&&(t>=8960&&t<=8967||t>=8972&&t<=8991||t>=8996&&t<=9e3||t===9003||t>=9085&&t<=9114||t>=9150&&t<=9165||t===9167||t>=9169&&t<=9179||t>=9186&&t<=9215)||ct["Control Pictures"](t)&&t!==9251||ct["Optical Character Recognition"](t)||ct["Enclosed Alphanumerics"](t)||ct["Geometric Shapes"](t)||ct["Miscellaneous Symbols"](t)&&!(t>=9754&&t<=9759)||ct["Miscellaneous Symbols and Arrows"](t)&&(t>=11026&&t<=11055||t>=11088&&t<=11097||t>=11192&&t<=11243)||ct["CJK Symbols and Punctuation"](t)||ct.Katakana(t)||ct["Private Use Area"](t)||ct["CJK Compatibility Forms"](t)||ct["Small Form Variants"](t)||ct["Halfwidth and Fullwidth Forms"](t)||t===8734||t===8756||t===8757||t>=9984&&t<=10087||t>=10102&&t<=10131||t===65532||t===65533)}(r))}const dc=Us(["Adlm","Arab","Armi","Avst","Chrs","Cprt","Egyp","Elym","Gara","Hatr","Hebr","Hung","Khar","Lydi","Mand","Mani","Mend","Merc","Mero","Narb","Nbat","Nkoo","Orkh","Palm","Phli","Phlp","Phnx","Prti","Rohg","Samr","Sarb","Sogo","Syrc","Thaa","Todr","Yezi"]);function Na(r){return dc.test(String.fromCodePoint(r))}function fu(r,t){return!(!t&&Na(r)||r>=2304&&r<=3583||r>=3840&&r<=4255||ct.Khmer(r))}function mu(r){for(const t of r)if(Na(t.charCodeAt(0)))return!0;return!1}const Er=new class{constructor(){this.TIMEOUT=5e3,this.applyArabicShaping=null,this.processBidirectionalText=null,this.processStyledBidirectionalText=null,this.pluginStatus="unavailable",this.pluginURL=null,this.loadScriptResolve=()=>{}}setState(r){this.pluginStatus=r.pluginStatus,this.pluginURL=r.pluginURL}getState(){return{pluginStatus:this.pluginStatus,pluginURL:this.pluginURL}}setMethods(r){if(Er.isParsed())throw new Error("RTL text plugin already registered.");this.applyArabicShaping=r.applyArabicShaping,this.processBidirectionalText=r.processBidirectionalText,this.processStyledBidirectionalText=r.processStyledBidirectionalText,this.loadScriptResolve()}isParsed(){return this.applyArabicShaping!=null&&this.processBidirectionalText!=null&&this.processStyledBidirectionalText!=null}getRTLTextPluginStatus(){return this.pluginStatus}syncState(r,t){return c(this,void 0,void 0,function*(){if(this.isParsed())return this.getState();if(r.pluginStatus!=="loading")return this.setState(r),r;const n=r.pluginURL,s=new Promise(d=>{this.loadScriptResolve=d});t(n);const l=new Promise(d=>setTimeout(()=>d(),this.TIMEOUT));if(yield Promise.race([s,l]),this.isParsed()){const d={pluginStatus:"loaded",pluginURL:n};return this.setState(d),d}throw this.setState({pluginStatus:"error",pluginURL:""}),new Error(`RTL Text Plugin failed to import scripts from ${n}`)})}};class kt{constructor(t,n){this.zoom=t,n?(this.now=n.now,this.fadeDuration=n.fadeDuration,this.zoomHistory=n.zoomHistory,this.transition=n.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Fa,this.transition={})}isSupportedScript(t){return function(n,s){for(const l of n)if(!fu(l.charCodeAt(0),s))return!1;return!0}(t,Er.getRTLTextPluginStatus()==="loaded")}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const t=this.zoom,n=t-Math.floor(t),s=this.crossFadingFactor();return t>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:n+(1-n)*s}:{fromScale:.5,toScale:1,t:1-(1-s)*n}}}class Zs{constructor(t,n){this.property=t,this.value=n,this.expression=function(s,l){if(Mo(s))return new Io(s,l);if(Bs(s)){const d=Jl(s,l);if(d.result==="error")throw new Error(d.value.map(p=>`${p.key}: ${p.message}`).join(", "));return d.value}{let d=s;return l.type==="color"&&typeof s=="string"?d=ft.parse(s):l.type!=="padding"||typeof s!="number"&&!Array.isArray(s)?l.type==="variableAnchorOffsetCollection"&&Array.isArray(s)?d=Ci.parse(s):l.type==="projectionDefinition"&&typeof s=="string"&&(d=ni.parse(s)):d=mi.parse(s),{kind:"constant",evaluate:()=>d}}}(n===void 0?t.specification.default:n,t.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(t,n,s){return this.property.possiblyEvaluate(this,t,n,s)}}class Fo{constructor(t){this.property=t,this.value=new Zs(t,void 0)}transitioned(t,n){return new pc(this.property,this.value,n,fi({},t.transition,this.transition),t.now)}untransitioned(){return new pc(this.property,this.value,null,{},0)}}class $s{constructor(t){this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues)}getValue(t){return Oi(this._values[t].value.value)}setValue(t,n){Object.prototype.hasOwnProperty.call(this._values,t)||(this._values[t]=new Fo(this._values[t].property)),this._values[t].value=new Zs(this._values[t].property,n===null?void 0:Oi(n))}getTransition(t){return Oi(this._values[t].transition)}setTransition(t,n){Object.prototype.hasOwnProperty.call(this._values,t)||(this._values[t]=new Fo(this._values[t].property)),this._values[t].transition=Oi(n)||void 0}serialize(){const t={};for(const n of Object.keys(this._values)){const s=this.getValue(n);s!==void 0&&(t[n]=s);const l=this.getTransition(n);l!==void 0&&(t[`${n}-transition`]=l)}return t}transitioned(t,n){const s=new Bo(this._properties);for(const l of Object.keys(this._values))s._values[l]=this._values[l].transitioned(t,n._values[l]);return s}untransitioned(){const t=new Bo(this._properties);for(const n of Object.keys(this._values))t._values[n]=this._values[n].untransitioned();return t}}class pc{constructor(t,n,s,l,d){this.property=t,this.value=n,this.begin=d+l.delay||0,this.end=this.begin+l.duration||0,t.specification.transition&&(l.delay||l.duration)&&(this.prior=s)}possiblyEvaluate(t,n,s){const l=t.now||0,d=this.value.possiblyEvaluate(t,n,s),p=this.prior;if(p){if(l>this.end)return this.prior=null,d;if(this.value.isDataDriven())return this.prior=null,d;if(l<this.begin)return p.possiblyEvaluate(t,n,s);{const m=(l-this.begin)/(this.end-this.begin);return this.property.interpolate(p.possiblyEvaluate(t,n,s),d,ln(m))}}return d}}class Bo{constructor(t){this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues)}possiblyEvaluate(t,n,s){const l=new Gs(this._properties);for(const d of Object.keys(this._values))l._values[d]=this._values[d].possiblyEvaluate(t,n,s);return l}hasTransition(){for(const t of Object.keys(this._values))if(this._values[t].prior)return!0;return!1}}class _u{constructor(t){this._properties=t,this._values=Object.create(t.defaultPropertyValues)}hasValue(t){return this._values[t].value!==void 0}getValue(t){return Oi(this._values[t].value)}setValue(t,n){this._values[t]=new Zs(this._values[t].property,n===null?void 0:Oi(n))}serialize(){const t={};for(const n of Object.keys(this._values)){const s=this.getValue(n);s!==void 0&&(t[n]=s)}return t}possiblyEvaluate(t,n,s){const l=new Gs(this._properties);for(const d of Object.keys(this._values))l._values[d]=this._values[d].possiblyEvaluate(t,n,s);return l}}class gr{constructor(t,n,s){this.property=t,this.value=n,this.parameters=s}isConstant(){return this.value.kind==="constant"}constantOr(t){return this.value.kind==="constant"?this.value.value:t}evaluate(t,n,s,l){return this.property.evaluate(this.value,this.parameters,t,n,s,l)}}class Gs{constructor(t){this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues)}get(t){return this._values[t]}}class We{constructor(t){this.specification=t}possiblyEvaluate(t,n){if(t.isDataDriven())throw new Error("Value should not be data driven");return t.expression.evaluate(n)}interpolate(t,n,s){const l=rr[this.specification.type];return l?l(t,n,s):t}}class Qe{constructor(t,n){this.specification=t,this.overrides=n}possiblyEvaluate(t,n,s,l){return new gr(this,t.expression.kind==="constant"||t.expression.kind==="camera"?{kind:"constant",value:t.expression.evaluate(n,null,{},s,l)}:t.expression,n)}interpolate(t,n,s){if(t.value.kind!=="constant"||n.value.kind!=="constant")return t;if(t.value.value===void 0||n.value.value===void 0)return new gr(this,{kind:"constant",value:void 0},t.parameters);const l=rr[this.specification.type];if(l){const d=l(t.value.value,n.value.value,s);return new gr(this,{kind:"constant",value:d},t.parameters)}return t}evaluate(t,n,s,l,d,p){return t.kind==="constant"?t.value:t.evaluate(n,s,l,d,p)}}class Oo extends Qe{possiblyEvaluate(t,n,s,l){if(t.value===void 0)return new gr(this,{kind:"constant",value:void 0},n);if(t.expression.kind==="constant"){const d=t.expression.evaluate(n,null,{},s,l),p=t.property.specification.type==="resolvedImage"&&typeof d!="string"?d.name:d,m=this._calculate(p,p,p,n);return new gr(this,{kind:"constant",value:m},n)}if(t.expression.kind==="camera"){const d=this._calculate(t.expression.evaluate({zoom:n.zoom-1}),t.expression.evaluate({zoom:n.zoom}),t.expression.evaluate({zoom:n.zoom+1}),n);return new gr(this,{kind:"constant",value:d},n)}return new gr(this,t.expression,n)}evaluate(t,n,s,l,d,p){if(t.kind==="source"){const m=t.evaluate(n,s,l,d,p);return this._calculate(m,m,m,n)}return t.kind==="composite"?this._calculate(t.evaluate({zoom:Math.floor(n.zoom)-1},s,l),t.evaluate({zoom:Math.floor(n.zoom)},s,l),t.evaluate({zoom:Math.floor(n.zoom)+1},s,l),n):t.value}_calculate(t,n,s,l){return l.zoom>l.zoomHistory.lastIntegerZoom?{from:t,to:n}:{from:s,to:n}}interpolate(t){return t}}class Va{constructor(t){this.specification=t}possiblyEvaluate(t,n,s,l){if(t.value!==void 0){if(t.expression.kind==="constant"){const d=t.expression.evaluate(n,null,{},s,l);return this._calculate(d,d,d,n)}return this._calculate(t.expression.evaluate(new kt(Math.floor(n.zoom-1),n)),t.expression.evaluate(new kt(Math.floor(n.zoom),n)),t.expression.evaluate(new kt(Math.floor(n.zoom+1),n)),n)}}_calculate(t,n,s,l){return l.zoom>l.zoomHistory.lastIntegerZoom?{from:t,to:n}:{from:s,to:n}}interpolate(t){return t}}class Ua{constructor(t){this.specification=t}possiblyEvaluate(t,n,s,l){return!!t.expression.evaluate(n,null,{},s,l)}interpolate(){return!1}}class Di{constructor(t){this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const n in t){const s=t[n];s.specification.overridable&&this.overridableProperties.push(n);const l=this.defaultPropertyValues[n]=new Zs(s,void 0),d=this.defaultTransitionablePropertyValues[n]=new Fo(s);this.defaultTransitioningPropertyValues[n]=d.untransitioned(),this.defaultPossiblyEvaluatedValues[n]=l.possiblyEvaluate({})}}}Ue("DataDrivenProperty",Qe),Ue("DataConstantProperty",We),Ue("CrossFadedDataDrivenProperty",Oo),Ue("CrossFadedProperty",Va),Ue("ColorRampProperty",Ua);const fc="-transition";class Ii extends O{constructor(t,n){if(super(),this.id=t.id,this.type=t.type,this._featureFilter={filter:()=>!0,needGeometry:!1},t.type!=="custom"&&(this.metadata=t.metadata,this.minzoom=t.minzoom,this.maxzoom=t.maxzoom,t.type!=="background"&&(this.source=t.source,this.sourceLayer=t["source-layer"],this.filter=t.filter),n.layout&&(this._unevaluatedLayout=new _u(n.layout)),n.paint)){this._transitionablePaint=new $s(n.paint);for(const s in t.paint)this.setPaintProperty(s,t.paint[s],{validate:!1});for(const s in t.layout)this.setLayoutProperty(s,t.layout[s],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Gs(n.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(t){return t==="visibility"?this.visibility:this._unevaluatedLayout.getValue(t)}setLayoutProperty(t,n,s={}){n!=null&&this._validate(du,`layers.${this.id}.layout.${t}`,t,n,s)||(t!=="visibility"?this._unevaluatedLayout.setValue(t,n):this.visibility=n)}getPaintProperty(t){return t.endsWith(fc)?this._transitionablePaint.getTransition(t.slice(0,-11)):this._transitionablePaint.getValue(t)}setPaintProperty(t,n,s={}){if(n!=null&&this._validate(La,`layers.${this.id}.paint.${t}`,t,n,s))return!1;if(t.endsWith(fc))return this._transitionablePaint.setTransition(t.slice(0,-11),n||void 0),!1;{const l=this._transitionablePaint._values[t],d=l.property.specification["property-type"]==="cross-faded-data-driven",p=l.value.isDataDriven(),m=l.value;this._transitionablePaint.setValue(t,n),this._handleSpecialPaintPropertyUpdate(t);const g=this._transitionablePaint._values[t].value;return g.isDataDriven()||p||d||this._handleOverridablePaintPropertyUpdate(t,m,g)}}_handleSpecialPaintPropertyUpdate(t){}_handleOverridablePaintPropertyUpdate(t,n,s){return!1}isHidden(t){return!!(this.minzoom&&t<this.minzoom)||!!(this.maxzoom&&t>=this.maxzoom)||this.visibility==="none"}updateTransitions(t){this._transitioningPaint=this._transitionablePaint.transitioned(t,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(t,n){t.getCrossfadeParameters&&(this._crossfadeParameters=t.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(t,void 0,n)),this.paint=this._transitioningPaint.possiblyEvaluate(t,void 0,n)}serialize(){const t={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(t.layout=t.layout||{},t.layout.visibility=this.visibility),hn(t,(n,s)=>!(n===void 0||s==="layout"&&!Object.keys(n).length||s==="paint"&&!Object.keys(n).length))}_validate(t,n,s,l,d={}){return(!d||d.validate!==!1)&&ds(this,t.call(Sn,{key:n,layerType:this.type,objectKey:s,value:l,styleSpec:z,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const t in this.paint._values){const n=this.paint.get(t);if(n instanceof gr&&ns(n.property.specification)&&(n.value.kind==="source"||n.value.kind==="composite")&&n.value.isStateDependent)return!0}return!1}}const gu={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class qs{constructor(t,n){this._structArray=t,this._pos1=n*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Zt{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(t,n){return t._trim(),n&&(t.isTransferred=!0,n.push(t.arrayBuffer)),{length:t.length,arrayBuffer:t.arrayBuffer}}static deserialize(t){const n=Object.create(this.prototype);return n.arrayBuffer=t.arrayBuffer,n.length=t.length,n.capacity=t.arrayBuffer.byteLength/n.bytesPerElement,n._refreshViews(),n}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(t){this.reserve(t),this.length=t}reserve(t){if(t>this.capacity){this.capacity=Math.max(t,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const n=this.uint8;this._refreshViews(),n&&this.uint8.set(n)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function Kt(r,t=1){let n=0,s=0;return{members:r.map(l=>{const d=gu[l.type].BYTES_PER_ELEMENT,p=n=mc(n,Math.max(t,d)),m=l.components||1;return s=Math.max(s,d),n+=d*m,{name:l.name,type:l.type,components:m,offset:p}}),size:mc(n,Math.max(s,t)),alignment:t}}function mc(r,t){return Math.ceil(r/t)*t}class Hs extends Zt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,n){const s=this.length;return this.resize(s+1),this.emplace(s,t,n)}emplace(t,n,s){const l=2*t;return this.int16[l+0]=n,this.int16[l+1]=s,t}}Hs.prototype.bytesPerElement=4,Ue("StructArrayLayout2i4",Hs);class yr extends Zt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,n,s){const l=this.length;return this.resize(l+1),this.emplace(l,t,n,s)}emplace(t,n,s,l){const d=3*t;return this.int16[d+0]=n,this.int16[d+1]=s,this.int16[d+2]=l,t}}yr.prototype.bytesPerElement=6,Ue("StructArrayLayout3i6",yr);class jo extends Zt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,n,s,l){const d=this.length;return this.resize(d+1),this.emplace(d,t,n,s,l)}emplace(t,n,s,l,d){const p=4*t;return this.int16[p+0]=n,this.int16[p+1]=s,this.int16[p+2]=l,this.int16[p+3]=d,t}}jo.prototype.bytesPerElement=8,Ue("StructArrayLayout4i8",jo);class Ws extends Zt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,n,s,l,d,p){const m=this.length;return this.resize(m+1),this.emplace(m,t,n,s,l,d,p)}emplace(t,n,s,l,d,p,m){const g=6*t;return this.int16[g+0]=n,this.int16[g+1]=s,this.int16[g+2]=l,this.int16[g+3]=d,this.int16[g+4]=p,this.int16[g+5]=m,t}}Ws.prototype.bytesPerElement=12,Ue("StructArrayLayout2i4i12",Ws);class No extends Zt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,n,s,l,d,p){const m=this.length;return this.resize(m+1),this.emplace(m,t,n,s,l,d,p)}emplace(t,n,s,l,d,p,m){const g=4*t,x=8*t;return this.int16[g+0]=n,this.int16[g+1]=s,this.uint8[x+4]=l,this.uint8[x+5]=d,this.uint8[x+6]=p,this.uint8[x+7]=m,t}}No.prototype.bytesPerElement=8,Ue("StructArrayLayout2i4ub8",No);class Cn extends Zt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,n){const s=this.length;return this.resize(s+1),this.emplace(s,t,n)}emplace(t,n,s){const l=2*t;return this.float32[l+0]=n,this.float32[l+1]=s,t}}Cn.prototype.bytesPerElement=8,Ue("StructArrayLayout2f8",Cn);class Za extends Zt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,n,s,l,d,p,m,g,x,b){const w=this.length;return this.resize(w+1),this.emplace(w,t,n,s,l,d,p,m,g,x,b)}emplace(t,n,s,l,d,p,m,g,x,b,w){const I=10*t;return this.uint16[I+0]=n,this.uint16[I+1]=s,this.uint16[I+2]=l,this.uint16[I+3]=d,this.uint16[I+4]=p,this.uint16[I+5]=m,this.uint16[I+6]=g,this.uint16[I+7]=x,this.uint16[I+8]=b,this.uint16[I+9]=w,t}}Za.prototype.bytesPerElement=20,Ue("StructArrayLayout10ui20",Za);class fs extends Zt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,n,s,l,d,p,m,g,x,b,w,I){const A=this.length;return this.resize(A+1),this.emplace(A,t,n,s,l,d,p,m,g,x,b,w,I)}emplace(t,n,s,l,d,p,m,g,x,b,w,I,A){const k=12*t;return this.int16[k+0]=n,this.int16[k+1]=s,this.int16[k+2]=l,this.int16[k+3]=d,this.uint16[k+4]=p,this.uint16[k+5]=m,this.uint16[k+6]=g,this.uint16[k+7]=x,this.int16[k+8]=b,this.int16[k+9]=w,this.int16[k+10]=I,this.int16[k+11]=A,t}}fs.prototype.bytesPerElement=24,Ue("StructArrayLayout4i4ui4i24",fs);class In extends Zt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,n,s){const l=this.length;return this.resize(l+1),this.emplace(l,t,n,s)}emplace(t,n,s,l){const d=3*t;return this.float32[d+0]=n,this.float32[d+1]=s,this.float32[d+2]=l,t}}In.prototype.bytesPerElement=12,Ue("StructArrayLayout3f12",In);class $a extends Zt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(t){const n=this.length;return this.resize(n+1),this.emplace(n,t)}emplace(t,n){return this.uint32[1*t+0]=n,t}}$a.prototype.bytesPerElement=4,Ue("StructArrayLayout1ul4",$a);class Vo extends Zt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,n,s,l,d,p,m,g,x){const b=this.length;return this.resize(b+1),this.emplace(b,t,n,s,l,d,p,m,g,x)}emplace(t,n,s,l,d,p,m,g,x,b){const w=10*t,I=5*t;return this.int16[w+0]=n,this.int16[w+1]=s,this.int16[w+2]=l,this.int16[w+3]=d,this.int16[w+4]=p,this.int16[w+5]=m,this.uint32[I+3]=g,this.uint16[w+8]=x,this.uint16[w+9]=b,t}}Vo.prototype.bytesPerElement=20,Ue("StructArrayLayout6i1ul2ui20",Vo);class En extends Zt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,n,s,l,d,p){const m=this.length;return this.resize(m+1),this.emplace(m,t,n,s,l,d,p)}emplace(t,n,s,l,d,p,m){const g=6*t;return this.int16[g+0]=n,this.int16[g+1]=s,this.int16[g+2]=l,this.int16[g+3]=d,this.int16[g+4]=p,this.int16[g+5]=m,t}}En.prototype.bytesPerElement=12,Ue("StructArrayLayout2i2i2i12",En);class Ga extends Zt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,n,s,l,d){const p=this.length;return this.resize(p+1),this.emplace(p,t,n,s,l,d)}emplace(t,n,s,l,d,p){const m=4*t,g=8*t;return this.float32[m+0]=n,this.float32[m+1]=s,this.float32[m+2]=l,this.int16[g+6]=d,this.int16[g+7]=p,t}}Ga.prototype.bytesPerElement=16,Ue("StructArrayLayout2f1f2i16",Ga);class qa extends Zt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,n,s,l,d,p){const m=this.length;return this.resize(m+1),this.emplace(m,t,n,s,l,d,p)}emplace(t,n,s,l,d,p,m){const g=16*t,x=4*t,b=8*t;return this.uint8[g+0]=n,this.uint8[g+1]=s,this.float32[x+1]=l,this.float32[x+2]=d,this.int16[b+6]=p,this.int16[b+7]=m,t}}qa.prototype.bytesPerElement=16,Ue("StructArrayLayout2ub2f2i16",qa);class Ks extends Zt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,n,s){const l=this.length;return this.resize(l+1),this.emplace(l,t,n,s)}emplace(t,n,s,l){const d=3*t;return this.uint16[d+0]=n,this.uint16[d+1]=s,this.uint16[d+2]=l,t}}Ks.prototype.bytesPerElement=6,Ue("StructArrayLayout3ui6",Ks);class Ha extends Zt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,n,s,l,d,p,m,g,x,b,w,I,A,k,L,N,q){const ie=this.length;return this.resize(ie+1),this.emplace(ie,t,n,s,l,d,p,m,g,x,b,w,I,A,k,L,N,q)}emplace(t,n,s,l,d,p,m,g,x,b,w,I,A,k,L,N,q,ie){const W=24*t,E=12*t,j=48*t;return this.int16[W+0]=n,this.int16[W+1]=s,this.uint16[W+2]=l,this.uint16[W+3]=d,this.uint32[E+2]=p,this.uint32[E+3]=m,this.uint32[E+4]=g,this.uint16[W+10]=x,this.uint16[W+11]=b,this.uint16[W+12]=w,this.float32[E+7]=I,this.float32[E+8]=A,this.uint8[j+36]=k,this.uint8[j+37]=L,this.uint8[j+38]=N,this.uint32[E+10]=q,this.int16[W+22]=ie,t}}Ha.prototype.bytesPerElement=48,Ue("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Ha);class u extends Zt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,n,s,l,d,p,m,g,x,b,w,I,A,k,L,N,q,ie,W,E,j,X,fe,Ce,me,ye,ze,Ie){const ke=this.length;return this.resize(ke+1),this.emplace(ke,t,n,s,l,d,p,m,g,x,b,w,I,A,k,L,N,q,ie,W,E,j,X,fe,Ce,me,ye,ze,Ie)}emplace(t,n,s,l,d,p,m,g,x,b,w,I,A,k,L,N,q,ie,W,E,j,X,fe,Ce,me,ye,ze,Ie,ke){const we=32*t,Ze=16*t;return this.int16[we+0]=n,this.int16[we+1]=s,this.int16[we+2]=l,this.int16[we+3]=d,this.int16[we+4]=p,this.int16[we+5]=m,this.int16[we+6]=g,this.int16[we+7]=x,this.uint16[we+8]=b,this.uint16[we+9]=w,this.uint16[we+10]=I,this.uint16[we+11]=A,this.uint16[we+12]=k,this.uint16[we+13]=L,this.uint16[we+14]=N,this.uint16[we+15]=q,this.uint16[we+16]=ie,this.uint16[we+17]=W,this.uint16[we+18]=E,this.uint16[we+19]=j,this.uint16[we+20]=X,this.uint16[we+21]=fe,this.uint16[we+22]=Ce,this.uint32[Ze+12]=me,this.float32[Ze+13]=ye,this.float32[Ze+14]=ze,this.uint16[we+30]=Ie,this.uint16[we+31]=ke,t}}u.prototype.bytesPerElement=64,Ue("StructArrayLayout8i15ui1ul2f2ui64",u);class e extends Zt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t){const n=this.length;return this.resize(n+1),this.emplace(n,t)}emplace(t,n){return this.float32[1*t+0]=n,t}}e.prototype.bytesPerElement=4,Ue("StructArrayLayout1f4",e);class i extends Zt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,n,s){const l=this.length;return this.resize(l+1),this.emplace(l,t,n,s)}emplace(t,n,s,l){const d=3*t;return this.uint16[6*t+0]=n,this.float32[d+1]=s,this.float32[d+2]=l,t}}i.prototype.bytesPerElement=12,Ue("StructArrayLayout1ui2f12",i);class o extends Zt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,n,s){const l=this.length;return this.resize(l+1),this.emplace(l,t,n,s)}emplace(t,n,s,l){const d=4*t;return this.uint32[2*t+0]=n,this.uint16[d+2]=s,this.uint16[d+3]=l,t}}o.prototype.bytesPerElement=8,Ue("StructArrayLayout1ul2ui8",o);class a extends Zt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,n){const s=this.length;return this.resize(s+1),this.emplace(s,t,n)}emplace(t,n,s){const l=2*t;return this.uint16[l+0]=n,this.uint16[l+1]=s,t}}a.prototype.bytesPerElement=4,Ue("StructArrayLayout2ui4",a);class h extends Zt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t){const n=this.length;return this.resize(n+1),this.emplace(n,t)}emplace(t,n){return this.uint16[1*t+0]=n,t}}h.prototype.bytesPerElement=2,Ue("StructArrayLayout1ui2",h);class f extends Zt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,n,s,l){const d=this.length;return this.resize(d+1),this.emplace(d,t,n,s,l)}emplace(t,n,s,l,d){const p=4*t;return this.float32[p+0]=n,this.float32[p+1]=s,this.float32[p+2]=l,this.float32[p+3]=d,t}}f.prototype.bytesPerElement=16,Ue("StructArrayLayout4f16",f);class _ extends qs{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new Ae(this.anchorPointX,this.anchorPointY)}}_.prototype.size=20;class y extends Vo{get(t){return new _(this,t)}}Ue("CollisionBoxArray",y);class v extends qs{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(t){this._structArray.uint8[this._pos1+37]=t}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(t){this._structArray.uint8[this._pos1+38]=t}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(t){this._structArray.uint32[this._pos4+10]=t}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}v.prototype.size=48;class T extends Ha{get(t){return new v(this,t)}}Ue("PlacedSymbolArray",T);class C extends qs{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(t){this._structArray.uint32[this._pos4+12]=t}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}C.prototype.size=64;class M extends u{get(t){return new C(this,t)}}Ue("SymbolInstanceArray",M);class D extends e{getoffsetX(t){return this.float32[1*t+0]}}Ue("GlyphOffsetArray",D);class B extends yr{getx(t){return this.int16[3*t+0]}gety(t){return this.int16[3*t+1]}gettileUnitDistanceFromAnchor(t){return this.int16[3*t+2]}}Ue("SymbolLineVertexArray",B);class $ extends qs{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}$.prototype.size=12;class Z extends i{get(t){return new $(this,t)}}Ue("TextAnchorOffsetArray",Z);class G extends qs{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}G.prototype.size=8;class H extends o{get(t){return new G(this,t)}}Ue("FeatureIndexArray",H);class Y extends Hs{}class Q extends Hs{}class ee extends Hs{}class se extends Ws{}class te extends No{}class pe extends Cn{}class de extends Za{}class be extends fs{}class Te extends In{}class xe extends $a{}class Le extends En{}class Re extends qa{}class Se extends Ks{}class Ge extends a{}const st=Kt([{name:"a_pos",components:2,type:"Int16"}],4),{members:xt}=st;class at{constructor(t=[]){this._forceNewSegmentOnNextPrepare=!1,this.segments=t}prepareSegment(t,n,s,l){const d=this.segments[this.segments.length-1];return t>at.MAX_VERTEX_ARRAY_LENGTH&&bi(`Max vertices per segment is ${at.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${t}. Consider using the \`fillLargeMeshArrays\` function if you require meshes with more than ${at.MAX_VERTEX_ARRAY_LENGTH} vertices.`),this._forceNewSegmentOnNextPrepare||!d||d.vertexLength+t>at.MAX_VERTEX_ARRAY_LENGTH||d.sortKey!==l?this.createNewSegment(n,s,l):d}createNewSegment(t,n,s){const l={vertexOffset:t.length,primitiveOffset:n.length,vertexLength:0,primitiveLength:0,vaos:{}};return s!==void 0&&(l.sortKey=s),this._forceNewSegmentOnNextPrepare=!1,this.segments.push(l),l}getOrCreateLatestSegment(t,n,s){return this.prepareSegment(0,t,n,s)}forceNewSegmentOnNextPrepare(){this._forceNewSegmentOnNextPrepare=!0}get(){return this.segments}destroy(){for(const t of this.segments)for(const n in t.vaos)t.vaos[n].destroy()}static simpleSegment(t,n,s,l){return new at([{vertexOffset:t,primitiveOffset:n,vertexLength:s,primitiveLength:l,vaos:{},sortKey:0}])}}function Pt(r,t){return 256*(r=Yi(Math.floor(r),0,255))+Yi(Math.floor(t),0,255)}at.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Ue("SegmentVector",at);const Et=Kt([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var Rt,wt,St,Xt={exports:{}},si={exports:{}},ci={exports:{}},Li=function(){if(St)return Xt.exports;St=1;var r=(Rt||(Rt=1,si.exports=function(n,s){var l,d,p,m,g,x,b,w;for(d=n.length-(l=3&n.length),p=s,g=3432918353,x=461845907,w=0;w<d;)b=255&n.charCodeAt(w)|(255&n.charCodeAt(++w))<<8|(255&n.charCodeAt(++w))<<16|(255&n.charCodeAt(++w))<<24,++w,p=27492+(65535&(m=5*(65535&(p=(p^=b=(65535&(b=(b=(65535&b)*g+(((b>>>16)*g&65535)<<16)&4294967295)<<15|b>>>17))*x+(((b>>>16)*x&65535)<<16)&4294967295)<<13|p>>>19))+((5*(p>>>16)&65535)<<16)&4294967295))+((58964+(m>>>16)&65535)<<16);switch(b=0,l){case 3:b^=(255&n.charCodeAt(w+2))<<16;case 2:b^=(255&n.charCodeAt(w+1))<<8;case 1:p^=b=(65535&(b=(b=(65535&(b^=255&n.charCodeAt(w)))*g+(((b>>>16)*g&65535)<<16)&4294967295)<<15|b>>>17))*x+(((b>>>16)*x&65535)<<16)&4294967295}return p^=n.length,p=2246822507*(65535&(p^=p>>>16))+((2246822507*(p>>>16)&65535)<<16)&4294967295,p=3266489909*(65535&(p^=p>>>13))+((3266489909*(p>>>16)&65535)<<16)&4294967295,(p^=p>>>16)>>>0}),si.exports),t=(wt||(wt=1,ci.exports=function(n,s){for(var l,d=n.length,p=s^d,m=0;d>=4;)l=1540483477*(65535&(l=255&n.charCodeAt(m)|(255&n.charCodeAt(++m))<<8|(255&n.charCodeAt(++m))<<16|(255&n.charCodeAt(++m))<<24))+((1540483477*(l>>>16)&65535)<<16),p=1540483477*(65535&p)+((1540483477*(p>>>16)&65535)<<16)^(l=1540483477*(65535&(l^=l>>>24))+((1540483477*(l>>>16)&65535)<<16)),d-=4,++m;switch(d){case 3:p^=(255&n.charCodeAt(m+2))<<16;case 2:p^=(255&n.charCodeAt(m+1))<<8;case 1:p=1540483477*(65535&(p^=255&n.charCodeAt(m)))+((1540483477*(p>>>16)&65535)<<16)}return p=1540483477*(65535&(p^=p>>>13))+((1540483477*(p>>>16)&65535)<<16),(p^=p>>>15)>>>0}),ci.exports);return Xt.exports=r,Xt.exports.murmur3=r,Xt.exports.murmur2=t,Xt.exports}(),Ar=Ne(Li);class xr{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(t,n,s,l){this.ids.push(Xr(t)),this.positions.push(n,s,l)}getPositions(t){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const n=Xr(t);let s=0,l=this.ids.length-1;for(;s<l;){const p=s+l>>1;this.ids[p]>=n?l=p:s=p+1}const d=[];for(;this.ids[s]===n;)d.push({index:this.positions[3*s],start:this.positions[3*s+1],end:this.positions[3*s+2]}),s++;return d}static serialize(t,n){const s=new Float64Array(t.ids),l=new Uint32Array(t.positions);return Yr(s,l,0,s.length-1),n&&n.push(s.buffer,l.buffer),{ids:s,positions:l}}static deserialize(t){const n=new xr;return n.ids=t.ids,n.positions=t.positions,n.indexed=!0,n}}function Xr(r){const t=+r;return!isNaN(t)&&t<=Number.MAX_SAFE_INTEGER?t:Ar(String(r))}function Yr(r,t,n,s){for(;n<s;){const l=r[n+s>>1];let d=n-1,p=s+1;for(;;){do d++;while(r[d]<l);do p--;while(r[p]>l);if(d>=p)break;An(r,d,p),An(t,3*d,3*p),An(t,3*d+1,3*p+1),An(t,3*d+2,3*p+2)}p-n<s-p?(Yr(r,t,n,p),n=p+1):(Yr(r,t,p+1,s),s=p)}}function An(r,t,n){const s=r[t];r[t]=r[n],r[n]=s}Ue("FeaturePositionMap",xr);class vr{constructor(t,n){this.gl=t.gl,this.location=n}}class zr extends vr{constructor(t,n){super(t,n),this.current=0}set(t){this.current!==t&&(this.current=t,this.gl.uniform1f(this.location,t))}}class Ni extends vr{constructor(t,n){super(t,n),this.current=[0,0,0,0]}set(t){t[0]===this.current[0]&&t[1]===this.current[1]&&t[2]===this.current[2]&&t[3]===this.current[3]||(this.current=t,this.gl.uniform4f(this.location,t[0],t[1],t[2],t[3]))}}class kr extends vr{constructor(t,n){super(t,n),this.current=ft.transparent}set(t){t.r===this.current.r&&t.g===this.current.g&&t.b===this.current.b&&t.a===this.current.a||(this.current=t,this.gl.uniform4f(this.location,t.r,t.g,t.b,t.a))}}const zn=new Float32Array(16);function kn(r){return[Pt(255*r.r,255*r.g),Pt(255*r.b,255*r.a)]}class $t{constructor(t,n,s){this.value=t,this.uniformNames=n.map(l=>`u_${l}`),this.type=s}setUniform(t,n,s){t.set(s.constantOr(this.value))}getBinding(t,n,s){return this.type==="color"?new kr(t,n):new zr(t,n)}}class Gt{constructor(t,n){this.uniformNames=n.map(s=>`u_${s}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(t,n){this.pixelRatioFrom=n.pixelRatio,this.pixelRatioTo=t.pixelRatio,this.patternFrom=n.tlbr,this.patternTo=t.tlbr}setUniform(t,n,s,l){const d=l==="u_pattern_to"?this.patternTo:l==="u_pattern_from"?this.patternFrom:l==="u_pixel_ratio_to"?this.pixelRatioTo:l==="u_pixel_ratio_from"?this.pixelRatioFrom:null;d&&t.set(d)}getBinding(t,n,s){return s.substr(0,9)==="u_pattern"?new Ni(t,n):new zr(t,n)}}class Qt{constructor(t,n,s,l){this.expression=t,this.type=s,this.maxValue=0,this.paintVertexAttributes=n.map(d=>({name:`a_${d}`,type:"Float32",components:s==="color"?2:1,offset:0})),this.paintVertexArray=new l}populatePaintArray(t,n,s,l,d){const p=this.paintVertexArray.length,m=this.expression.evaluate(new kt(0),n,{},l,[],d);this.paintVertexArray.resize(t),this._setPaintValue(p,t,m)}updatePaintArray(t,n,s,l){const d=this.expression.evaluate({zoom:0},s,l);this._setPaintValue(t,n,d)}_setPaintValue(t,n,s){if(this.type==="color"){const l=kn(s);for(let d=t;d<n;d++)this.paintVertexArray.emplace(d,l[0],l[1])}else{for(let l=t;l<n;l++)this.paintVertexArray.emplace(l,s);this.maxValue=Math.max(this.maxValue,Math.abs(s))}}upload(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Mt{constructor(t,n,s,l,d,p){this.expression=t,this.uniformNames=n.map(m=>`u_${m}_t`),this.type=s,this.useIntegerZoom=l,this.zoom=d,this.maxValue=0,this.paintVertexAttributes=n.map(m=>({name:`a_${m}`,type:"Float32",components:s==="color"?4:2,offset:0})),this.paintVertexArray=new p}populatePaintArray(t,n,s,l,d){const p=this.expression.evaluate(new kt(this.zoom),n,{},l,[],d),m=this.expression.evaluate(new kt(this.zoom+1),n,{},l,[],d),g=this.paintVertexArray.length;this.paintVertexArray.resize(t),this._setPaintValue(g,t,p,m)}updatePaintArray(t,n,s,l){const d=this.expression.evaluate({zoom:this.zoom},s,l),p=this.expression.evaluate({zoom:this.zoom+1},s,l);this._setPaintValue(t,n,d,p)}_setPaintValue(t,n,s,l){if(this.type==="color"){const d=kn(s),p=kn(l);for(let m=t;m<n;m++)this.paintVertexArray.emplace(m,d[0],d[1],p[0],p[1])}else{for(let d=t;d<n;d++)this.paintVertexArray.emplace(d,s,l);this.maxValue=Math.max(this.maxValue,Math.abs(s),Math.abs(l))}}upload(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(t,n){const s=this.useIntegerZoom?Math.floor(n.zoom):n.zoom,l=Yi(this.expression.interpolationFactor(s,this.zoom,this.zoom+1),0,1);t.set(l)}getBinding(t,n,s){return new zr(t,n)}}class Jr{constructor(t,n,s,l,d,p){this.expression=t,this.type=n,this.useIntegerZoom=s,this.zoom=l,this.layerId=p,this.zoomInPaintVertexArray=new d,this.zoomOutPaintVertexArray=new d}populatePaintArray(t,n,s){const l=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(t),this.zoomOutPaintVertexArray.resize(t),this._setPaintValues(l,t,n.patterns&&n.patterns[this.layerId],s)}updatePaintArray(t,n,s,l,d){this._setPaintValues(t,n,s.patterns&&s.patterns[this.layerId],d)}_setPaintValues(t,n,s,l){if(!l||!s)return;const{min:d,mid:p,max:m}=s,g=l[d],x=l[p],b=l[m];if(g&&x&&b)for(let w=t;w<n;w++)this.zoomInPaintVertexArray.emplace(w,x.tl[0],x.tl[1],x.br[0],x.br[1],g.tl[0],g.tl[1],g.br[0],g.br[1],x.pixelRatio,g.pixelRatio),this.zoomOutPaintVertexArray.emplace(w,x.tl[0],x.tl[1],x.br[0],x.br[1],b.tl[0],b.tl[1],b.br[0],b.br[1],x.pixelRatio,b.pixelRatio)}upload(t){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=t.createVertexBuffer(this.zoomInPaintVertexArray,Et.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=t.createVertexBuffer(this.zoomOutPaintVertexArray,Et.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class _c{constructor(t,n,s){this.binders={},this._buffers=[];const l=[];for(const d in t.paint._values){if(!s(d))continue;const p=t.paint.get(d);if(!(p instanceof gr&&ns(p.property.specification)))continue;const m=yu(d,t.type),g=p.value,x=p.property.specification.type,b=p.property.useIntegerZoom,w=p.property.specification["property-type"],I=w==="cross-faded"||w==="cross-faded-data-driven";if(g.kind==="constant")this.binders[d]=I?new Gt(g.value,m):new $t(g.value,m,x),l.push(`/u_${d}`);else if(g.kind==="source"||I){const A=gc(d,x,"source");this.binders[d]=I?new Jr(g,x,b,n,A,t.id):new Qt(g,m,x,A),l.push(`/a_${d}`)}else{const A=gc(d,x,"composite");this.binders[d]=new Mt(g,m,x,b,n,A),l.push(`/z_${d}`)}}this.cacheKey=l.sort().join("")}getMaxValue(t){const n=this.binders[t];return n instanceof Qt||n instanceof Mt?n.maxValue:0}populatePaintArrays(t,n,s,l,d){for(const p in this.binders){const m=this.binders[p];(m instanceof Qt||m instanceof Mt||m instanceof Jr)&&m.populatePaintArray(t,n,s,l,d)}}setConstantPatternPositions(t,n){for(const s in this.binders){const l=this.binders[s];l instanceof Gt&&l.setConstantPatternPositions(t,n)}}updatePaintArrays(t,n,s,l,d){let p=!1;for(const m in t){const g=n.getPositions(m);for(const x of g){const b=s.feature(x.index);for(const w in this.binders){const I=this.binders[w];if((I instanceof Qt||I instanceof Mt||I instanceof Jr)&&I.expression.isStateDependent===!0){const A=l.paint.get(w);I.expression=A.value,I.updatePaintArray(x.start,x.end,b,t[m],d),p=!0}}}}return p}defines(){const t=[];for(const n in this.binders){const s=this.binders[n];(s instanceof $t||s instanceof Gt)&&t.push(...s.uniformNames.map(l=>`#define HAS_UNIFORM_${l}`))}return t}getBinderAttributes(){const t=[];for(const n in this.binders){const s=this.binders[n];if(s instanceof Qt||s instanceof Mt)for(let l=0;l<s.paintVertexAttributes.length;l++)t.push(s.paintVertexAttributes[l].name);else if(s instanceof Jr)for(let l=0;l<Et.members.length;l++)t.push(Et.members[l].name)}return t}getBinderUniforms(){const t=[];for(const n in this.binders){const s=this.binders[n];if(s instanceof $t||s instanceof Gt||s instanceof Mt)for(const l of s.uniformNames)t.push(l)}return t}getPaintVertexBuffers(){return this._buffers}getUniforms(t,n){const s=[];for(const l in this.binders){const d=this.binders[l];if(d instanceof $t||d instanceof Gt||d instanceof Mt){for(const p of d.uniformNames)if(n[p]){const m=d.getBinding(t,n[p],p);s.push({name:p,property:l,binding:m})}}}return s}setUniforms(t,n,s,l){for(const{name:d,property:p,binding:m}of n)this.binders[p].setUniform(m,l,s.get(p),d)}updatePaintBuffers(t){this._buffers=[];for(const n in this.binders){const s=this.binders[n];if(t&&s instanceof Jr){const l=t.fromScale===2?s.zoomInPaintVertexBuffer:s.zoomOutPaintVertexBuffer;l&&this._buffers.push(l)}else(s instanceof Qt||s instanceof Mt)&&s.paintVertexBuffer&&this._buffers.push(s.paintVertexBuffer)}}upload(t){for(const n in this.binders){const s=this.binders[n];(s instanceof Qt||s instanceof Mt||s instanceof Jr)&&s.upload(t)}this.updatePaintBuffers()}destroy(){for(const t in this.binders){const n=this.binders[t];(n instanceof Qt||n instanceof Mt||n instanceof Jr)&&n.destroy()}}}class Rn{constructor(t,n,s=()=>!0){this.programConfigurations={};for(const l of t)this.programConfigurations[l.id]=new _c(l,n,s);this.needsUpload=!1,this._featureMap=new xr,this._bufferOffset=0}populatePaintArrays(t,n,s,l,d,p){for(const m in this.programConfigurations)this.programConfigurations[m].populatePaintArrays(t,n,l,d,p);n.id!==void 0&&this._featureMap.add(n.id,s,this._bufferOffset,t),this._bufferOffset=t,this.needsUpload=!0}updatePaintArrays(t,n,s,l){for(const d of s)this.needsUpload=this.programConfigurations[d.id].updatePaintArrays(t,this._featureMap,n,d,l)||this.needsUpload}get(t){return this.programConfigurations[t]}upload(t){if(this.needsUpload){for(const n in this.programConfigurations)this.programConfigurations[n].upload(t);this.needsUpload=!1}}destroy(){for(const t in this.programConfigurations)this.programConfigurations[t].destroy()}}function yu(r,t){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[r]||[r.replace(`${t}-`,"").replace(/-/g,"_")]}function gc(r,t,n){const s={color:{source:Cn,composite:f},number:{source:e,composite:Cn}},l=function(d){return{"line-pattern":{source:de,composite:de},"fill-pattern":{source:de,composite:de},"fill-extrusion-pattern":{source:de,composite:de}}[d]}(r);return l&&l[n]||s[t][n]}Ue("ConstantBinder",$t),Ue("CrossFadedConstantBinder",Gt),Ue("SourceExpressionBinder",Qt),Ue("CrossFadedCompositeBinder",Jr),Ue("CompositeExpressionBinder",Mt),Ue("ProgramConfiguration",_c,{omit:["_buffers"]}),Ue("ProgramConfigurationSet",Rn);const Wa=Math.pow(2,14)-1,Qr=-Wa-1;function en(r){const t=bt/r.extent,n=r.loadGeometry();for(let s=0;s<n.length;s++){const l=n[s];for(let d=0;d<l.length;d++){const p=l[d],m=Math.round(p.x*t),g=Math.round(p.y*t);p.x=Yi(m,Qr,Wa),p.y=Yi(g,Qr,Wa),(m<p.x||m>p.x+1||g<p.y||g>p.y+1)&&bi("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return n}function tn(r,t){return{type:r.type,id:r.id,properties:r.properties,geometry:t?en(r):[]}}const Ka=-32768;function Xa(r,t,n,s,l){r.emplaceBack(Ka+8*t+s,Ka+8*n+l)}class Uo{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(n=>n.id),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new Q,this.indexArray=new Se,this.segments=new at,this.programConfigurations=new Rn(t.layers,t.zoom),this.stateDependentLayerIds=this.layers.filter(n=>n.isStateDependent()).map(n=>n.id)}populate(t,n,s){const l=this.layers[0],d=[];let p=null,m=!1,g=l.type==="heatmap";if(l.type==="circle"){const b=l;p=b.layout.get("circle-sort-key"),m=!p.isConstant(),g=g||b.paint.get("circle-pitch-alignment")==="map"}const x=g?n.subdivisionGranularity.circle:1;for(const{feature:b,id:w,index:I,sourceLayerIndex:A}of t){const k=this.layers[0]._featureFilter.needGeometry,L=tn(b,k);if(!this.layers[0]._featureFilter.filter(new kt(this.zoom),L,s))continue;const N=m?p.evaluate(L,{},s):void 0,q={id:w,properties:b.properties,type:b.type,sourceLayerIndex:A,index:I,geometry:k?L.geometry:en(b),patterns:{},sortKey:N};d.push(q)}m&&d.sort((b,w)=>b.sortKey-w.sortKey);for(const b of d){const{geometry:w,index:I,sourceLayerIndex:A}=b,k=t[I].feature;this.addFeature(b,w,I,s,x),n.featureIndex.insert(k,w,I,A,this.index)}}update(t,n,s){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,n,this.stateDependentLayers,s)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,xt),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(t,n,s,l,d=1){let p;switch(d){case 1:p=[0,7];break;case 3:p=[0,2,5,7];break;case 5:p=[0,1,3,4,6,7];break;case 7:p=[0,1,2,3,4,5,6,7];break;default:throw new Error(`Invalid circle bucket granularity: ${d}; valid values are 1, 3, 5, 7.`)}const m=p.length;for(const g of n)for(const x of g){const b=x.x,w=x.y;if(b<0||b>=bt||w<0||w>=bt)continue;const I=this.segments.prepareSegment(m*m,this.layoutVertexArray,this.indexArray,t.sortKey),A=I.vertexLength;for(let k=0;k<m;k++)for(let L=0;L<m;L++)Xa(this.layoutVertexArray,b,w,p[L],p[k]);for(let k=0;k<m-1;k++)for(let L=0;L<m-1;L++){const N=A+k*m+L,q=A+(k+1)*m+L;this.indexArray.emplaceBack(N,q+1,N+1),this.indexArray.emplaceBack(N,q,q+1)}I.vertexLength+=m*m,I.primitiveLength+=(m-1)*(m-1)*2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,s,{},l)}}function Zo(r,t){for(let n=0;n<r.length;n++)if(Xs(t,r[n]))return!0;for(let n=0;n<t.length;n++)if(Xs(r,t[n]))return!0;return!!xu(r,t)}function Up(r,t,n){return!!Xs(r,t)||!!vu(t,r,n)}function xh(r,t){if(r.length===1)return bh(t,r[0]);for(let n=0;n<t.length;n++){const s=t[n];for(let l=0;l<s.length;l++)if(Xs(r,s[l]))return!0}for(let n=0;n<r.length;n++)if(bh(t,r[n]))return!0;for(let n=0;n<t.length;n++)if(xu(r,t[n]))return!0;return!1}function Zp(r,t,n){if(r.length>1){if(xu(r,t))return!0;for(let s=0;s<t.length;s++)if(vu(t[s],r,n))return!0}for(let s=0;s<r.length;s++)if(vu(r[s],t,n))return!0;return!1}function xu(r,t){if(r.length===0||t.length===0)return!1;for(let n=0;n<r.length-1;n++){const s=r[n],l=r[n+1];for(let d=0;d<t.length-1;d++)if($p(s,l,t[d],t[d+1]))return!0}return!1}function $p(r,t,n,s){return ii(r,n,s)!==ii(t,n,s)&&ii(r,t,n)!==ii(r,t,s)}function vu(r,t,n){const s=n*n;if(t.length===1)return r.distSqr(t[0])<s;for(let l=1;l<t.length;l++)if(vh(r,t[l-1],t[l])<s)return!0;return!1}function vh(r,t,n){const s=t.distSqr(n);if(s===0)return r.distSqr(t);const l=((r.x-t.x)*(n.x-t.x)+(r.y-t.y)*(n.y-t.y))/s;return r.distSqr(l<0?t:l>1?n:n.sub(t)._mult(l)._add(t))}function bh(r,t){for(let n=0;n<r.length;n++)if(Xs(r[n],t))return!0;return!1}function Xs(r,t){let n=!1;for(let s=0,l=r.length-1;s<r.length;l=s++){const d=r[s],p=r[l];d.y>t.y!=p.y>t.y&&t.x<(p.x-d.x)*(t.y-d.y)/(p.y-d.y)+d.x&&(n=!n)}return n}function Gp(r,t,n){const s=n[0],l=n[2];if(r.x<s.x&&t.x<s.x||r.x>l.x&&t.x>l.x||r.y<s.y&&t.y<s.y||r.y>l.y&&t.y>l.y)return!1;const d=ii(r,t,n[0]);return d!==ii(r,t,n[1])||d!==ii(r,t,n[2])||d!==ii(r,t,n[3])}function Ya(r,t,n){const s=t.paint.get(r).value;return s.kind==="constant"?s.value:n.programConfigurations.get(t.id).getMaxValue(r)}function yc(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1])}function xc(r,t,n,s,l){if(!t[0]&&!t[1])return r;const d=Ae.convert(t)._mult(l);n==="viewport"&&d._rotate(-s);const p=[];for(let m=0;m<r.length;m++)p.push(r[m].sub(d));return p}let wh,Th;Ue("CircleBucket",Uo,{omit:["layers"]});var qp={get paint(){return Th=Th||new Di({"circle-radius":new Qe(z.paint_circle["circle-radius"]),"circle-color":new Qe(z.paint_circle["circle-color"]),"circle-blur":new Qe(z.paint_circle["circle-blur"]),"circle-opacity":new Qe(z.paint_circle["circle-opacity"]),"circle-translate":new We(z.paint_circle["circle-translate"]),"circle-translate-anchor":new We(z.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new We(z.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new We(z.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Qe(z.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Qe(z.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Qe(z.paint_circle["circle-stroke-opacity"])})},get layout(){return wh=wh||new Di({"circle-sort-key":new Qe(z.layout_circle["circle-sort-key"])})}};class Hp extends Ii{constructor(t){super(t,qp)}createBucket(t){return new Uo(t)}queryRadius(t){const n=t;return Ya("circle-radius",this,n)+Ya("circle-stroke-width",this,n)+yc(this.paint.get("circle-translate"))}queryIntersectsFeature({queryGeometry:t,feature:n,featureState:s,geometry:l,transform:d,pixelsToTileUnits:p,unwrappedTileID:m,getElevation:g}){const x=xc(t,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),-d.bearingInRadians,p),b=this.paint.get("circle-radius").evaluate(n,s)+this.paint.get("circle-stroke-width").evaluate(n,s),w=this.paint.get("circle-pitch-alignment")==="map",I=w?x:function(k,L,N,q){return k.map(ie=>Ph(ie,L,N,q))}(x,d,m,g),A=w?b*p:b;for(const k of l)for(const L of k){const N=w?L:Ph(L,d,m,g);let q=A;const ie=d.projectTileCoordinates(L.x,L.y,m,g).signedDistanceFromCamera;if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?q*=ie/d.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(q*=d.cameraToCenterDistance/ie),Up(I,N,q))return!0}return!1}}function Ph(r,t,n,s){const l=t.projectTileCoordinates(r.x,r.y,n,s).point;return new Ae((.5*l.x+.5)*t.width,(.5*-l.y+.5)*t.height)}class Sh extends Uo{}let Mh;Ue("HeatmapBucket",Sh,{omit:["layers"]});var Wp={get paint(){return Mh=Mh||new Di({"heatmap-radius":new Qe(z.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Qe(z.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new We(z.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Ua(z.paint_heatmap["heatmap-color"]),"heatmap-opacity":new We(z.paint_heatmap["heatmap-opacity"])})}};function bu(r,{width:t,height:n},s,l){if(l){if(l instanceof Uint8ClampedArray)l=new Uint8Array(l.buffer);else if(l.length!==t*n*s)throw new RangeError(`mismatched image size. expected: ${l.length} but got: ${t*n*s}`)}else l=new Uint8Array(t*n*s);return r.width=t,r.height=n,r.data=l,r}function Ch(r,{width:t,height:n},s){if(t===r.width&&n===r.height)return;const l=bu({},{width:t,height:n},s);wu(r,l,{x:0,y:0},{x:0,y:0},{width:Math.min(r.width,t),height:Math.min(r.height,n)},s),r.width=t,r.height=n,r.data=l.data}function wu(r,t,n,s,l,d){if(l.width===0||l.height===0)return t;if(l.width>r.width||l.height>r.height||n.x>r.width-l.width||n.y>r.height-l.height)throw new RangeError("out of range source coordinates for image copy");if(l.width>t.width||l.height>t.height||s.x>t.width-l.width||s.y>t.height-l.height)throw new RangeError("out of range destination coordinates for image copy");const p=r.data,m=t.data;if(p===m)throw new Error("srcData equals dstData, so image is already copied");for(let g=0;g<l.height;g++){const x=((n.y+g)*r.width+n.x)*d,b=((s.y+g)*t.width+s.x)*d;for(let w=0;w<l.width*d;w++)m[b+w]=p[x+w]}return t}class Ja{constructor(t,n){bu(this,t,1,n)}resize(t){Ch(this,t,1)}clone(){return new Ja({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(t,n,s,l,d){wu(t,n,s,l,d,1)}}class sr{constructor(t,n){bu(this,t,4,n)}resize(t){Ch(this,t,4)}replace(t,n){n?this.data.set(t):this.data=t instanceof Uint8ClampedArray?new Uint8Array(t.buffer):t}clone(){return new sr({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(t,n,s,l,d){wu(t,n,s,l,d,4)}}function Ih(r){const t={},n=r.resolution||256,s=r.clips?r.clips.length:1,l=r.image||new sr({width:n,height:s});if(Math.log(n)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${n}`);const d=(p,m,g)=>{t[r.evaluationKey]=g;const x=r.expression.evaluate(t);l.data[p+m+0]=Math.floor(255*x.r/x.a),l.data[p+m+1]=Math.floor(255*x.g/x.a),l.data[p+m+2]=Math.floor(255*x.b/x.a),l.data[p+m+3]=Math.floor(255*x.a)};if(r.clips)for(let p=0,m=0;p<s;++p,m+=4*n)for(let g=0,x=0;g<n;g++,x+=4){const b=g/(n-1),{start:w,end:I}=r.clips[p];d(m,x,w*(1-b)+I*b)}else for(let p=0,m=0;p<n;p++,m+=4)d(0,m,p/(n-1));return l}Ue("AlphaImage",Ja),Ue("RGBAImage",sr);const Tu="big-fb";class Kp extends Ii{createBucket(t){return new Sh(t)}constructor(t){super(t,Wp),this.heatmapFbos=new Map,this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(t){t==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=Ih({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbos.has(Tu)&&this.heatmapFbos.delete(Tu)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}}let Eh;var Xp={get paint(){return Eh=Eh||new Di({"hillshade-illumination-direction":new We(z.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new We(z.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new We(z.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new We(z.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new We(z.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new We(z.paint_hillshade["hillshade-accent-color"])})}};class Yp extends Ii{constructor(t){super(t,Xp)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}}const Jp=Kt([{name:"a_pos",components:2,type:"Int16"}],4),{members:Qp}=Jp;function Pu(r,t,n){const s=n.patternDependencies;let l=!1;for(const d of t){const p=d.paint.get(`${r}-pattern`);p.isConstant()||(l=!0);const m=p.constantOr(null);m&&(l=!0,s[m.to]=!0,s[m.from]=!0)}return l}function Su(r,t,n,s,l){const d=l.patternDependencies;for(const p of t){const m=p.paint.get(`${r}-pattern`).value;if(m.kind!=="constant"){let g=m.evaluate({zoom:s-1},n,{},l.availableImages),x=m.evaluate({zoom:s},n,{},l.availableImages),b=m.evaluate({zoom:s+1},n,{},l.availableImages);g=g&&g.name?g.name:g,x=x&&x.name?x.name:x,b=b&&b.name?b.name:b,d[g]=!0,d[x]=!0,d[b]=!0,n.patterns[p.id]={min:g,mid:x,max:b}}}return n}function Ah(r,t,n,s,l){let d;if(l===function(p,m,g,x){let b=0;for(let w=m,I=g-x;w<g;w+=x)b+=(p[I]-p[w])*(p[w+1]+p[I+1]),I=w;return b}(r,t,n,s)>0)for(let p=t;p<n;p+=s)d=Dh(p/s|0,r[p],r[p+1],d);else for(let p=n-s;p>=t;p-=s)d=Dh(p/s|0,r[p],r[p+1],d);return d&&$o(d,d.next)&&(il(d),d=d.next),d}function Ys(r,t){if(!r)return r;t||(t=r);let n,s=r;do if(n=!1,s.steiner||!$o(s,s.next)&&Yt(s.prev,s,s.next)!==0)s=s.next;else{if(il(s),s=t=s.prev,s===s.next)break;n=!0}while(n||s!==t);return t}function Qa(r,t,n,s,l,d,p){if(!r)return;!p&&d&&function(g,x,b,w){let I=g;do I.z===0&&(I.z=Mu(I.x,I.y,x,b,w)),I.prevZ=I.prev,I.nextZ=I.next,I=I.next;while(I!==g);I.prevZ.nextZ=null,I.prevZ=null,function(A){let k,L=1;do{let N,q=A;A=null;let ie=null;for(k=0;q;){k++;let W=q,E=0;for(let X=0;X<L&&(E++,W=W.nextZ,W);X++);let j=L;for(;E>0||j>0&&W;)E!==0&&(j===0||!W||q.z<=W.z)?(N=q,q=q.nextZ,E--):(N=W,W=W.nextZ,j--),ie?ie.nextZ=N:A=N,N.prevZ=ie,ie=N;q=W}ie.nextZ=null,L*=2}while(k>1)}(I)}(r,s,l,d);let m=r;for(;r.prev!==r.next;){const g=r.prev,x=r.next;if(d?tf(r,s,l,d):ef(r))t.push(g.i,r.i,x.i),il(r),r=x.next,m=x.next;else if((r=x)===m){p?p===1?Qa(r=rf(Ys(r),t),t,n,s,l,d,2):p===2&&nf(r,t,n,s,l,d):Qa(Ys(r),t,n,s,l,d,1);break}}}function ef(r){const t=r.prev,n=r,s=r.next;if(Yt(t,n,s)>=0)return!1;const l=t.x,d=n.x,p=s.x,m=t.y,g=n.y,x=s.y,b=Math.min(l,d,p),w=Math.min(m,g,x),I=Math.max(l,d,p),A=Math.max(m,g,x);let k=s.next;for(;k!==t;){if(k.x>=b&&k.x<=I&&k.y>=w&&k.y<=A&&el(l,m,d,g,p,x,k.x,k.y)&&Yt(k.prev,k,k.next)>=0)return!1;k=k.next}return!0}function tf(r,t,n,s){const l=r.prev,d=r,p=r.next;if(Yt(l,d,p)>=0)return!1;const m=l.x,g=d.x,x=p.x,b=l.y,w=d.y,I=p.y,A=Math.min(m,g,x),k=Math.min(b,w,I),L=Math.max(m,g,x),N=Math.max(b,w,I),q=Mu(A,k,t,n,s),ie=Mu(L,N,t,n,s);let W=r.prevZ,E=r.nextZ;for(;W&&W.z>=q&&E&&E.z<=ie;){if(W.x>=A&&W.x<=L&&W.y>=k&&W.y<=N&&W!==l&&W!==p&&el(m,b,g,w,x,I,W.x,W.y)&&Yt(W.prev,W,W.next)>=0||(W=W.prevZ,E.x>=A&&E.x<=L&&E.y>=k&&E.y<=N&&E!==l&&E!==p&&el(m,b,g,w,x,I,E.x,E.y)&&Yt(E.prev,E,E.next)>=0))return!1;E=E.nextZ}for(;W&&W.z>=q;){if(W.x>=A&&W.x<=L&&W.y>=k&&W.y<=N&&W!==l&&W!==p&&el(m,b,g,w,x,I,W.x,W.y)&&Yt(W.prev,W,W.next)>=0)return!1;W=W.prevZ}for(;E&&E.z<=ie;){if(E.x>=A&&E.x<=L&&E.y>=k&&E.y<=N&&E!==l&&E!==p&&el(m,b,g,w,x,I,E.x,E.y)&&Yt(E.prev,E,E.next)>=0)return!1;E=E.nextZ}return!0}function rf(r,t){let n=r;do{const s=n.prev,l=n.next.next;!$o(s,l)&&kh(s,n,n.next,l)&&tl(s,l)&&tl(l,s)&&(t.push(s.i,n.i,l.i),il(n),il(n.next),n=r=l),n=n.next}while(n!==r);return Ys(n)}function nf(r,t,n,s,l,d){let p=r;do{let m=p.next.next;for(;m!==p.prev;){if(p.i!==m.i&&cf(p,m)){let g=Rh(p,m);return p=Ys(p,p.next),g=Ys(g,g.next),Qa(p,t,n,s,l,d,0),void Qa(g,t,n,s,l,d,0)}m=m.next}p=p.next}while(p!==r)}function sf(r,t){let n=r.x-t.x;return n===0&&(n=r.y-t.y,n===0)&&(n=(r.next.y-r.y)/(r.next.x-r.x)-(t.next.y-t.y)/(t.next.x-t.x)),n}function of(r,t){const n=function(l,d){let p=d;const m=l.x,g=l.y;let x,b=-1/0;if($o(l,p))return p;do{if($o(l,p.next))return p.next;if(g<=p.y&&g>=p.next.y&&p.next.y!==p.y){const L=p.x+(g-p.y)*(p.next.x-p.x)/(p.next.y-p.y);if(L<=m&&L>b&&(b=L,x=p.x<p.next.x?p:p.next,L===m))return x}p=p.next}while(p!==d);if(!x)return null;const w=x,I=x.x,A=x.y;let k=1/0;p=x;do{if(m>=p.x&&p.x>=I&&m!==p.x&&zh(g<A?m:b,g,I,A,g<A?b:m,g,p.x,p.y)){const L=Math.abs(g-p.y)/(m-p.x);tl(p,l)&&(L<k||L===k&&(p.x>x.x||p.x===x.x&&af(x,p)))&&(x=p,k=L)}p=p.next}while(p!==w);return x}(r,t);if(!n)return t;const s=Rh(n,r);return Ys(s,s.next),Ys(n,n.next)}function af(r,t){return Yt(r.prev,r,t.prev)<0&&Yt(t.next,r,r.next)<0}function Mu(r,t,n,s,l){return(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r=(r-n)*l|0)|r<<8))|r<<4))|r<<2))|r<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-s)*l|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function lf(r){let t=r,n=r;do(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next;while(t!==r);return n}function zh(r,t,n,s,l,d,p,m){return(l-p)*(t-m)>=(r-p)*(d-m)&&(r-p)*(s-m)>=(n-p)*(t-m)&&(n-p)*(d-m)>=(l-p)*(s-m)}function el(r,t,n,s,l,d,p,m){return!(r===p&&t===m)&&zh(r,t,n,s,l,d,p,m)}function cf(r,t){return r.next.i!==t.i&&r.prev.i!==t.i&&!function(n,s){let l=n;do{if(l.i!==n.i&&l.next.i!==n.i&&l.i!==s.i&&l.next.i!==s.i&&kh(l,l.next,n,s))return!0;l=l.next}while(l!==n);return!1}(r,t)&&(tl(r,t)&&tl(t,r)&&function(n,s){let l=n,d=!1;const p=(n.x+s.x)/2,m=(n.y+s.y)/2;do l.y>m!=l.next.y>m&&l.next.y!==l.y&&p<(l.next.x-l.x)*(m-l.y)/(l.next.y-l.y)+l.x&&(d=!d),l=l.next;while(l!==n);return d}(r,t)&&(Yt(r.prev,r,t.prev)||Yt(r,t.prev,t))||$o(r,t)&&Yt(r.prev,r,r.next)>0&&Yt(t.prev,t,t.next)>0)}function Yt(r,t,n){return(t.y-r.y)*(n.x-t.x)-(t.x-r.x)*(n.y-t.y)}function $o(r,t){return r.x===t.x&&r.y===t.y}function kh(r,t,n,s){const l=bc(Yt(r,t,n)),d=bc(Yt(r,t,s)),p=bc(Yt(n,s,r)),m=bc(Yt(n,s,t));return l!==d&&p!==m||!(l!==0||!vc(r,n,t))||!(d!==0||!vc(r,s,t))||!(p!==0||!vc(n,r,s))||!(m!==0||!vc(n,t,s))}function vc(r,t,n){return t.x<=Math.max(r.x,n.x)&&t.x>=Math.min(r.x,n.x)&&t.y<=Math.max(r.y,n.y)&&t.y>=Math.min(r.y,n.y)}function bc(r){return r>0?1:r<0?-1:0}function tl(r,t){return Yt(r.prev,r,r.next)<0?Yt(r,t,r.next)>=0&&Yt(r,r.prev,t)>=0:Yt(r,t,r.prev)<0||Yt(r,r.next,t)<0}function Rh(r,t){const n=Cu(r.i,r.x,r.y),s=Cu(t.i,t.x,t.y),l=r.next,d=t.prev;return r.next=t,t.prev=r,n.next=l,l.prev=n,s.next=n,n.prev=s,d.next=s,s.prev=d,s}function Dh(r,t,n,s){const l=Cu(r,t,n);return s?(l.next=s.next,l.prev=s,s.next.prev=l,s.next=l):(l.prev=l,l.next=l),l}function il(r){r.next.prev=r.prev,r.prev.next=r.next,r.prevZ&&(r.prevZ.nextZ=r.nextZ),r.nextZ&&(r.nextZ.prevZ=r.prevZ)}function Cu(r,t,n){return{i:r,x:t,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}class Go{constructor(t,n){if(n>t)throw new Error("Min granularity must not be greater than base granularity.");this._baseZoomGranularity=t,this._minGranularity=n}getGranularityForZoomLevel(t){return Math.max(Math.floor(this._baseZoomGranularity/(1<<t)),this._minGranularity,1)}}class wc{constructor(t){this.fill=t.fill,this.line=t.line,this.tile=t.tile,this.stencil=t.stencil,this.circle=t.circle}}wc.noSubdivision=new wc({fill:new Go(0,0),line:new Go(0,0),tile:new Go(0,0),stencil:new Go(0,0),circle:1}),Ue("SubdivisionGranularityExpression",Go),Ue("SubdivisionGranularitySetting",wc);const qo=-32768,rl=32767;class uf{constructor(t,n){this._vertexBuffer=[],this._vertexDictionary=new Map,this._used=!1,this._granularity=t,this._granularityCellSize=bt/t,this._canonical=n}_getKey(t,n){return(t+=32768)<<16|(n+=32768)<<0}_vertexToIndex(t,n){if(t<-32768||n<-32768||t>32767||n>32767)throw new Error("Vertex coordinates are out of signed 16 bit integer range.");const s=0|Math.round(t),l=0|Math.round(n),d=this._getKey(s,l);if(this._vertexDictionary.has(d))return this._vertexDictionary.get(d);const p=this._vertexBuffer.length/2;return this._vertexDictionary.set(d,p),this._vertexBuffer.push(s,l),p}_subdivideTrianglesScanline(t){if(this._granularity<2)return function(l,d){const p=[];for(let m=0;m<d.length;m+=3){const g=d[m],x=d[m+1],b=d[m+2],w=l[2*g],I=l[2*g+1];(l[2*x]-w)*(l[2*b+1]-I)-(l[2*x+1]-I)*(l[2*b]-w)>0?(p.push(g),p.push(b),p.push(x)):(p.push(g),p.push(x),p.push(b))}return p}(this._vertexBuffer,t);const n=[],s=t.length;for(let l=0;l<s;l+=3){const d=[t[l+0],t[l+1],t[l+2]],p=[this._vertexBuffer[2*t[l+0]+0],this._vertexBuffer[2*t[l+0]+1],this._vertexBuffer[2*t[l+1]+0],this._vertexBuffer[2*t[l+1]+1],this._vertexBuffer[2*t[l+2]+0],this._vertexBuffer[2*t[l+2]+1]];let m=1/0,g=1/0,x=-1/0,b=-1/0;for(let L=0;L<3;L++){const N=p[2*L],q=p[2*L+1];m=Math.min(m,N),x=Math.max(x,N),g=Math.min(g,q),b=Math.max(b,q)}if(m===x||g===b)continue;const w=Math.floor(m/this._granularityCellSize),I=Math.ceil(x/this._granularityCellSize),A=Math.floor(g/this._granularityCellSize),k=Math.ceil(b/this._granularityCellSize);if(w!==I||A!==k)for(let L=A;L<k;L++){const N=this._scanlineGenerateVertexRingForCellRow(L,p,d);hf(this._vertexBuffer,N,n)}else n.push(...d)}return n}_scanlineGenerateVertexRingForCellRow(t,n,s){const l=t*this._granularityCellSize,d=l+this._granularityCellSize,p=[];for(let m=0;m<3;m++){const g=n[2*m],x=n[2*m+1],b=n[2*(m+1)%6],w=n[(2*(m+1)+1)%6],I=n[2*(m+2)%6],A=n[(2*(m+2)+1)%6],k=b-g,L=w-x,N=k===0,q=L===0,ie=(l-x)/L,W=(d-x)/L,E=Math.min(ie,W),j=Math.max(ie,W);if(!q&&(E>=1||j<=0)||q&&(x<l||x>d)){w>=l&&w<=d&&p.push(s[(m+1)%3]);continue}!q&&E>0&&p.push(this._vertexToIndex(g+k*E,x+L*E));const X=g+k*Math.max(E,0),fe=g+k*Math.min(j,1);N||this._generateIntraEdgeVertices(p,g,x,b,w,X,fe),!q&&j<1&&p.push(this._vertexToIndex(g+k*j,x+L*j)),(q||w>=l&&w<=d)&&p.push(s[(m+1)%3]),!q&&(w<=l||w>=d)&&this._generateInterEdgeVertices(p,g,x,b,w,I,A,fe,l,d)}return p}_generateIntraEdgeVertices(t,n,s,l,d,p,m){const g=l-n,x=d-s,b=x===0,w=b?Math.min(n,l):Math.min(p,m),I=b?Math.max(n,l):Math.max(p,m),A=Math.floor(w/this._granularityCellSize)+1,k=Math.ceil(I/this._granularityCellSize)-1;if(b?n<l:p<m)for(let L=A;L<=k;L++){const N=L*this._granularityCellSize;t.push(this._vertexToIndex(N,s+x*(N-n)/g))}else for(let L=k;L>=A;L--){const N=L*this._granularityCellSize;t.push(this._vertexToIndex(N,s+x*(N-n)/g))}}_generateInterEdgeVertices(t,n,s,l,d,p,m,g,x,b){const w=d-s,I=p-l,A=m-d,k=(x-d)/A,L=(b-d)/A,N=Math.min(k,L),q=Math.max(k,L),ie=l+I*N;let W=Math.floor(Math.min(ie,g)/this._granularityCellSize)+1,E=Math.ceil(Math.max(ie,g)/this._granularityCellSize)-1,j=g<ie;const X=A===0;if(X&&(m===x||m===b))return;if(X||N>=1||q<=0){const Ce=s-m,me=p+(n-p)*Math.min((x-m)/Ce,(b-m)/Ce);W=Math.floor(Math.min(me,g)/this._granularityCellSize)+1,E=Math.ceil(Math.max(me,g)/this._granularityCellSize)-1,j=g<me}const fe=w>0?b:x;if(j)for(let Ce=W;Ce<=E;Ce++)t.push(this._vertexToIndex(Ce*this._granularityCellSize,fe));else for(let Ce=E;Ce>=W;Ce--)t.push(this._vertexToIndex(Ce*this._granularityCellSize,fe))}_generateOutline(t){const n=[];for(const s of t){const l=Js(s,this._granularity,!0),d=this._pointArrayToIndices(l),p=[];for(let m=1;m<d.length;m++)p.push(d[m-1]),p.push(d[m]);n.push(p)}return n}_handlePoles(t){let n=!1,s=!1;this._canonical&&(this._canonical.y===0&&(n=!0),this._canonical.y===(1<<this._canonical.z)-1&&(s=!0)),(n||s)&&this._fillPoles(t,n,s)}_ensureNoPoleVertices(){const t=this._vertexBuffer;for(let n=0;n<t.length;n+=2){const s=t[n+1];s===qo&&(t[n+1]=-32767),s===rl&&(t[n+1]=32766)}}_generatePoleQuad(t,n,s,l,d,p){l>d!=(p===qo)?(t.push(n),t.push(s),t.push(this._vertexToIndex(l,p)),t.push(s),t.push(this._vertexToIndex(d,p)),t.push(this._vertexToIndex(l,p))):(t.push(s),t.push(n),t.push(this._vertexToIndex(l,p)),t.push(this._vertexToIndex(d,p)),t.push(s),t.push(this._vertexToIndex(l,p)))}_fillPoles(t,n,s){const l=this._vertexBuffer,d=bt,p=t.length;for(let m=2;m<p;m+=3){const g=t[m-2],x=t[m-1],b=t[m],w=l[2*g],I=l[2*g+1],A=l[2*x],k=l[2*x+1],L=l[2*b],N=l[2*b+1];n&&(I===0&&k===0&&this._generatePoleQuad(t,g,x,w,A,qo),k===0&&N===0&&this._generatePoleQuad(t,x,b,A,L,qo),N===0&&I===0&&this._generatePoleQuad(t,b,g,L,w,qo)),s&&(I===d&&k===d&&this._generatePoleQuad(t,g,x,w,A,rl),k===d&&N===d&&this._generatePoleQuad(t,x,b,A,L,rl),N===d&&I===d&&this._generatePoleQuad(t,b,g,L,w,rl))}}_initializeVertices(t){for(let n=0;n<t.length;n+=2)this._vertexToIndex(t[n],t[n+1])}subdividePolygonInternal(t,n){if(this._used)throw new Error("Subdivision: multiple use not allowed.");this._used=!0;const{flattened:s,holeIndices:l}=function(m){const g=[],x=[];for(const b of m)if(b.length!==0){b!==m[0]&&g.push(x.length/2);for(let w=0;w<b.length;w++)x.push(b[w].x),x.push(b[w].y)}return{flattened:x,holeIndices:g}}(t);let d;this._initializeVertices(s);try{const m=function(x,b,w=2){const I=b&&b.length,A=I?b[0]*w:x.length;let k=Ah(x,0,A,w,!0);const L=[];if(!k||k.next===k.prev)return L;let N,q,ie;if(I&&(k=function(W,E,j,X){const fe=[];for(let Ce=0,me=E.length;Ce<me;Ce++){const ye=Ah(W,E[Ce]*X,Ce<me-1?E[Ce+1]*X:W.length,X,!1);ye===ye.next&&(ye.steiner=!0),fe.push(lf(ye))}fe.sort(sf);for(let Ce=0;Ce<fe.length;Ce++)j=of(fe[Ce],j);return j}(x,b,k,w)),x.length>80*w){N=1/0,q=1/0;let W=-1/0,E=-1/0;for(let j=w;j<A;j+=w){const X=x[j],fe=x[j+1];X<N&&(N=X),fe<q&&(q=fe),X>W&&(W=X),fe>E&&(E=fe)}ie=Math.max(W-N,E-q),ie=ie!==0?32767/ie:0}return Qa(k,L,w,N,q,ie,0),L}(s,l),g=this._convertIndices(s,m);d=this._subdivideTrianglesScanline(g)}catch(m){console.error(m)}let p=[];return n&&(p=this._generateOutline(t)),this._ensureNoPoleVertices(),this._handlePoles(d),{verticesFlattened:this._vertexBuffer,indicesTriangles:d,indicesLineList:p}}_convertIndices(t,n){const s=[];for(let l=0;l<n.length;l++)s.push(this._vertexToIndex(t[2*n[l]],t[2*n[l]+1]));return s}_pointArrayToIndices(t){const n=[];for(let s=0;s<t.length;s++){const l=t[s];n.push(this._vertexToIndex(l.x,l.y))}return n}}function Lh(r,t,n,s=!0){return new uf(n,t).subdividePolygonInternal(r,s)}function Js(r,t,n=!1){if(!r||r.length<1)return[];if(r.length<2)return[];const s=r[0],l=r[r.length-1],d=n&&(s.x!==l.x||s.y!==l.y);if(t<2)return d?[...r,r[0]]:[...r];const p=Math.floor(bt/t),m=[];m.push(new Ae(r[0].x,r[0].y));const g=r.length,x=d?g:g-1;for(let b=0;b<x;b++){const w=r[b],I=b<g-1?r[b+1]:r[0],A=w.x,k=w.y,L=I.x,N=I.y,q=A!==L,ie=k!==N;if(!q&&!ie)continue;const W=L-A,E=N-k,j=Math.abs(W),X=Math.abs(E);let fe=A,Ce=k;for(;;){const ye=W>0?(Math.floor(fe/p)+1)*p:(Math.ceil(fe/p)-1)*p,ze=E>0?(Math.floor(Ce/p)+1)*p:(Math.ceil(Ce/p)-1)*p,Ie=Math.abs(fe-ye),ke=Math.abs(Ce-ze),we=Math.abs(fe-L),Ze=Math.abs(Ce-N),Je=q?Ie/j:Number.POSITIVE_INFINITY,Xe=ie?ke/X:Number.POSITIVE_INFINITY;if((we<=Ie||!q)&&(Ze<=ke||!ie))break;if(Je<Xe&&q||!ie){fe=ye,Ce+=E*Je;const He=new Ae(fe,Math.round(Ce));m[m.length-1].x===He.x&&m[m.length-1].y===He.y||m.push(He)}else{fe+=W*Xe,Ce=ze;const He=new Ae(Math.round(fe),Ce);m[m.length-1].x===He.x&&m[m.length-1].y===He.y||m.push(He)}}const me=new Ae(L,N);m[m.length-1].x===me.x&&m[m.length-1].y===me.y||m.push(me)}return m}function hf(r,t,n){if(t.length===0)throw new Error("Subdivision vertex ring is empty.");let s=0,l=r[2*t[0]];for(let g=1;g<t.length;g++){const x=r[2*t[g]];x<l&&(l=x,s=g)}const d=t.length;let p=s,m=(p+1)%d;for(;;){const g=p-1>=0?p-1:d-1,x=(m+1)%d,b=r[2*t[g]],w=r[2*t[x]],I=r[2*t[p]],A=r[2*t[p]+1],k=r[2*t[m]+1];let L=!1;if(b<w)L=!0;else if(b>w)L=!1;else{const N=k-A,q=-(r[2*t[m]]-I),ie=A<k?1:-1;((b-I)*N+(r[2*t[g]+1]-A)*q)*ie>((w-I)*N+(r[2*t[x]+1]-A)*q)*ie&&(L=!0)}if(L){const N=t[g],q=t[p],ie=t[m];N!==q&&N!==ie&&q!==ie&&n.push(ie,q,N),p--,p<0&&(p=d-1)}else{const N=t[x],q=t[p],ie=t[m];N!==q&&N!==ie&&q!==ie&&n.push(ie,q,N),m++,m>=d&&(m=0)}if(g===x)break}}function Fh(r,t,n,s,l,d,p,m,g){const x=l.length/2,b=p&&m&&g;if(x<at.MAX_VERTEX_ARRAY_LENGTH){const w=t.prepareSegment(x,n,s),I=w.vertexLength;for(let L=0;L<d.length;L+=3)s.emplaceBack(I+d[L],I+d[L+1],I+d[L+2]);let A,k;w.vertexLength+=x,w.primitiveLength+=d.length/3,b&&(k=p.prepareSegment(x,n,m),A=k.vertexLength,k.vertexLength+=x);for(let L=0;L<l.length;L+=2)r(l[L],l[L+1]);if(b)for(let L=0;L<g.length;L++){const N=g[L];for(let q=1;q<N.length;q+=2)m.emplaceBack(A+N[q-1],A+N[q]);k.primitiveLength+=N.length/2}}else(function(w,I,A,k,L,N){const q=[];for(let X=0;X<k.length/2;X++)q.push(-1);const ie={count:0};let W=0,E=w.getOrCreateLatestSegment(I,A),j=E.vertexLength;for(let X=2;X<L.length;X+=3){const fe=L[X-2],Ce=L[X-1],me=L[X];let ye=q[fe]<W,ze=q[Ce]<W,Ie=q[me]<W;E.vertexLength+((ye?1:0)+(ze?1:0)+(Ie?1:0))>at.MAX_VERTEX_ARRAY_LENGTH&&(E=w.createNewSegment(I,A),W=ie.count,ye=!0,ze=!0,Ie=!0,j=0);const ke=nl(q,k,N,ie,fe,ye,E),we=nl(q,k,N,ie,Ce,ze,E),Ze=nl(q,k,N,ie,me,Ie,E);A.emplaceBack(j+ke-W,j+we-W,j+Ze-W),E.primitiveLength++}})(t,n,s,l,d,r),b&&function(w,I,A,k,L,N){const q=[];for(let X=0;X<k.length/2;X++)q.push(-1);const ie={count:0};let W=0,E=w.getOrCreateLatestSegment(I,A),j=E.vertexLength;for(let X=0;X<L.length;X++){const fe=L[X];for(let Ce=1;Ce<L[X].length;Ce+=2){const me=fe[Ce-1],ye=fe[Ce];let ze=q[me]<W,Ie=q[ye]<W;E.vertexLength+((ze?1:0)+(Ie?1:0))>at.MAX_VERTEX_ARRAY_LENGTH&&(E=w.createNewSegment(I,A),W=ie.count,ze=!0,Ie=!0,j=0);const ke=nl(q,k,N,ie,me,ze,E),we=nl(q,k,N,ie,ye,Ie,E);A.emplaceBack(j+ke-W,j+we-W),E.primitiveLength++}}}(p,n,m,l,g,r),t.forceNewSegmentOnNextPrepare(),p==null||p.forceNewSegmentOnNextPrepare()}function nl(r,t,n,s,l,d,p){if(d){const m=s.count;return n(t[2*l],t[2*l+1]),r[l]=s.count,s.count++,p.vertexLength++,m}return r[l]}class Iu{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(n=>n.id),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new ee,this.indexArray=new Se,this.indexArray2=new Ge,this.programConfigurations=new Rn(t.layers,t.zoom),this.segments=new at,this.segments2=new at,this.stateDependentLayerIds=this.layers.filter(n=>n.isStateDependent()).map(n=>n.id)}populate(t,n,s){this.hasPattern=Pu("fill",this.layers,n);const l=this.layers[0].layout.get("fill-sort-key"),d=!l.isConstant(),p=[];for(const{feature:m,id:g,index:x,sourceLayerIndex:b}of t){const w=this.layers[0]._featureFilter.needGeometry,I=tn(m,w);if(!this.layers[0]._featureFilter.filter(new kt(this.zoom),I,s))continue;const A=d?l.evaluate(I,{},s,n.availableImages):void 0,k={id:g,properties:m.properties,type:m.type,sourceLayerIndex:b,index:x,geometry:w?I.geometry:en(m),patterns:{},sortKey:A};p.push(k)}d&&p.sort((m,g)=>m.sortKey-g.sortKey);for(const m of p){const{geometry:g,index:x,sourceLayerIndex:b}=m;if(this.hasPattern){const w=Su("fill",this.layers,m,this.zoom,n);this.patternFeatures.push(w)}else this.addFeature(m,g,x,s,{},n.subdivisionGranularity);n.featureIndex.insert(t[x].feature,g,x,b,this.index)}}update(t,n,s){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,n,this.stateDependentLayers,s)}addFeatures(t,n,s){for(const l of this.patternFeatures)this.addFeature(l,l.geometry,l.index,n,s,t.subdivisionGranularity)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Qp),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.indexBuffer2=t.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(t,n,s,l,d,p){for(const m of Ds(n,500)){const g=Lh(m,l,p.fill.getGranularityForZoomLevel(l.z)),x=this.layoutVertexArray;Fh((b,w)=>{x.emplaceBack(b,w)},this.segments,this.layoutVertexArray,this.indexArray,g.verticesFlattened,g.indicesTriangles,this.segments2,this.indexArray2,g.indicesLineList)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,s,d,l)}}let Bh,Oh;Ue("FillBucket",Iu,{omit:["layers","patternFeatures"]});var df={get paint(){return Oh=Oh||new Di({"fill-antialias":new We(z.paint_fill["fill-antialias"]),"fill-opacity":new Qe(z.paint_fill["fill-opacity"]),"fill-color":new Qe(z.paint_fill["fill-color"]),"fill-outline-color":new Qe(z.paint_fill["fill-outline-color"]),"fill-translate":new We(z.paint_fill["fill-translate"]),"fill-translate-anchor":new We(z.paint_fill["fill-translate-anchor"]),"fill-pattern":new Oo(z.paint_fill["fill-pattern"])})},get layout(){return Bh=Bh||new Di({"fill-sort-key":new Qe(z.layout_fill["fill-sort-key"])})}};class pf extends Ii{constructor(t){super(t,df)}recalculate(t,n){super.recalculate(t,n);const s=this.paint._values["fill-outline-color"];s.value.kind==="constant"&&s.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(t){return new Iu(t)}queryRadius(){return yc(this.paint.get("fill-translate"))}queryIntersectsFeature({queryGeometry:t,geometry:n,transform:s,pixelsToTileUnits:l}){return xh(xc(t,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),-s.bearingInRadians,l),n)}isTileClipped(){return!0}}const ff=Kt([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),mf=Kt([{name:"a_centroid",components:2,type:"Int16"}],4),{members:_f}=ff;var Eu,jh,Au,Nh,zu,Vh,Uh,Tc={};function Zh(){if(jh)return Eu;jh=1;var r=qe();function t(l,d,p,m,g){this.properties={},this.extent=p,this.type=0,this._pbf=l,this._geometry=-1,this._keys=m,this._values=g,l.readFields(n,this,d)}function n(l,d,p){l==1?d.id=p.readVarint():l==2?function(m,g){for(var x=m.readVarint()+m.pos;m.pos<x;){var b=g._keys[m.readVarint()],w=g._values[m.readVarint()];g.properties[b]=w}}(p,d):l==3?d.type=p.readVarint():l==4&&(d._geometry=p.pos)}function s(l){for(var d,p,m=0,g=0,x=l.length,b=x-1;g<x;b=g++)m+=((p=l[b]).x-(d=l[g]).x)*(d.y+p.y);return m}return Eu=t,t.types=["Unknown","Point","LineString","Polygon"],t.prototype.loadGeometry=function(){var l=this._pbf;l.pos=this._geometry;for(var d,p=l.readVarint()+l.pos,m=1,g=0,x=0,b=0,w=[];l.pos<p;){if(g<=0){var I=l.readVarint();m=7&I,g=I>>3}if(g--,m===1||m===2)x+=l.readSVarint(),b+=l.readSVarint(),m===1&&(d&&w.push(d),d=[]),d.push(new r(x,b));else{if(m!==7)throw new Error("unknown command "+m);d&&d.push(d[0].clone())}}return d&&w.push(d),w},t.prototype.bbox=function(){var l=this._pbf;l.pos=this._geometry;for(var d=l.readVarint()+l.pos,p=1,m=0,g=0,x=0,b=1/0,w=-1/0,I=1/0,A=-1/0;l.pos<d;){if(m<=0){var k=l.readVarint();p=7&k,m=k>>3}if(m--,p===1||p===2)(g+=l.readSVarint())<b&&(b=g),g>w&&(w=g),(x+=l.readSVarint())<I&&(I=x),x>A&&(A=x);else if(p!==7)throw new Error("unknown command "+p)}return[b,I,w,A]},t.prototype.toGeoJSON=function(l,d,p){var m,g,x=this.extent*Math.pow(2,p),b=this.extent*l,w=this.extent*d,I=this.loadGeometry(),A=t.types[this.type];function k(q){for(var ie=0;ie<q.length;ie++){var W=q[ie];q[ie]=[360*(W.x+b)/x-180,360/Math.PI*Math.atan(Math.exp((180-360*(W.y+w)/x)*Math.PI/180))-90]}}switch(this.type){case 1:var L=[];for(m=0;m<I.length;m++)L[m]=I[m][0];k(I=L);break;case 2:for(m=0;m<I.length;m++)k(I[m]);break;case 3:for(I=function(q){var ie=q.length;if(ie<=1)return[q];for(var W,E,j=[],X=0;X<ie;X++){var fe=s(q[X]);fe!==0&&(E===void 0&&(E=fe<0),E===fe<0?(W&&j.push(W),W=[q[X]]):W.push(q[X]))}return W&&j.push(W),j}(I),m=0;m<I.length;m++)for(g=0;g<I[m].length;g++)k(I[m][g])}I.length===1?I=I[0]:A="Multi"+A;var N={type:"Feature",geometry:{type:A,coordinates:I},properties:this.properties};return"id"in this&&(N.id=this.id),N},Eu}function $h(){if(Nh)return Au;Nh=1;var r=Zh();function t(s,l){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=s,this._keys=[],this._values=[],this._features=[],s.readFields(n,this,l),this.length=this._features.length}function n(s,l,d){s===15?l.version=d.readVarint():s===1?l.name=d.readString():s===5?l.extent=d.readVarint():s===2?l._features.push(d.pos):s===3?l._keys.push(d.readString()):s===4&&l._values.push(function(p){for(var m=null,g=p.readVarint()+p.pos;p.pos<g;){var x=p.readVarint()>>3;m=x===1?p.readString():x===2?p.readFloat():x===3?p.readDouble():x===4?p.readVarint64():x===5?p.readVarint():x===6?p.readSVarint():x===7?p.readBoolean():null}return m}(d))}return Au=t,t.prototype.feature=function(s){if(s<0||s>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[s];var l=this._pbf.readVarint()+this._pbf.pos;return new r(this._pbf,l,this.extent,this._keys,this._values)},Au}function Gh(){return Uh||(Uh=1,Tc.VectorTile=function(){if(Vh)return zu;Vh=1;var r=$h();function t(n,s,l){if(n===3){var d=new r(l,l.readVarint()+l.pos);d.length&&(s[d.name]=d)}}return zu=function(n,s){this.layers=n.readFields(t,{},s)},zu}(),Tc.VectorTileFeature=Zh(),Tc.VectorTileLayer=$h()),Tc}var sl=Ne(Gh());const gf=sl.VectorTileFeature.types,ku=Math.pow(2,13);function ol(r,t,n,s,l,d,p,m){r.emplaceBack(t,n,2*Math.floor(s*ku)+p,l*ku*2,d*ku*2,Math.round(m))}class Ru{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(n=>n.id),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new se,this.centroidVertexArray=new Y,this.indexArray=new Se,this.programConfigurations=new Rn(t.layers,t.zoom),this.segments=new at,this.stateDependentLayerIds=this.layers.filter(n=>n.isStateDependent()).map(n=>n.id)}populate(t,n,s){this.features=[],this.hasPattern=Pu("fill-extrusion",this.layers,n);for(const{feature:l,id:d,index:p,sourceLayerIndex:m}of t){const g=this.layers[0]._featureFilter.needGeometry,x=tn(l,g);if(!this.layers[0]._featureFilter.filter(new kt(this.zoom),x,s))continue;const b={id:d,sourceLayerIndex:m,index:p,geometry:g?x.geometry:en(l),properties:l.properties,type:l.type,patterns:{}};this.hasPattern?this.features.push(Su("fill-extrusion",this.layers,b,this.zoom,n)):this.addFeature(b,b.geometry,p,s,{},n.subdivisionGranularity),n.featureIndex.insert(l,b.geometry,p,m,this.index,!0)}}addFeatures(t,n,s){for(const l of this.features){const{geometry:d}=l;this.addFeature(l,d,l.index,n,s,t.subdivisionGranularity)}}update(t,n,s){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,n,this.stateDependentLayers,s)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,_f),this.centroidVertexBuffer=t.createVertexBuffer(this.centroidVertexArray,mf.members,!0),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(t,n,s,l,d,p){for(const m of Ds(n,500)){const g={x:0,y:0,sampleCount:0},x=this.layoutVertexArray.length;this.processPolygon(g,l,t,m,p);const b=this.layoutVertexArray.length-x,w=Math.floor(g.x/g.sampleCount),I=Math.floor(g.y/g.sampleCount);for(let A=0;A<b;A++)this.centroidVertexArray.emplaceBack(w,I)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,s,d,l)}processPolygon(t,n,s,l,d){if(l.length<1||qh(l[0]))return;for(const w of l)w.length!==0&&yf(t,w);const p={segment:this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray)},m=d.fill.getGranularityForZoomLevel(n.z),g=gf[s.type]==="Polygon";for(const w of l){if(w.length===0||qh(w))continue;const I=Js(w,m,g);this._generateSideFaces(I,p)}if(!g)return;const x=Lh(l,n,m,!1),b=this.layoutVertexArray;Fh((w,I)=>{ol(b,w,I,0,0,1,1,0)},this.segments,this.layoutVertexArray,this.indexArray,x.verticesFlattened,x.indicesTriangles)}_generateSideFaces(t,n){let s=0;for(let l=1;l<t.length;l++){const d=t[l],p=t[l-1];if(xf(d,p))continue;n.segment.vertexLength+4>at.MAX_VERTEX_ARRAY_LENGTH&&(n.segment=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const m=d.sub(p)._perp()._unit(),g=p.dist(d);s+g>32768&&(s=0),ol(this.layoutVertexArray,d.x,d.y,m.x,m.y,0,0,s),ol(this.layoutVertexArray,d.x,d.y,m.x,m.y,0,1,s),s+=g,ol(this.layoutVertexArray,p.x,p.y,m.x,m.y,0,0,s),ol(this.layoutVertexArray,p.x,p.y,m.x,m.y,0,1,s);const x=n.segment.vertexLength;this.indexArray.emplaceBack(x,x+2,x+1),this.indexArray.emplaceBack(x+1,x+2,x+3),n.segment.vertexLength+=4,n.segment.primitiveLength+=2}}}function yf(r,t){for(let n=0;n<t.length;n++){const s=t[n];n===t.length-1&&t[0].x===s.x&&t[0].y===s.y||(r.x+=s.x,r.y+=s.y,r.sampleCount++)}}function xf(r,t){return r.x===t.x&&(r.x<0||r.x>bt)||r.y===t.y&&(r.y<0||r.y>bt)}function qh(r){return r.every(t=>t.x<0)||r.every(t=>t.x>bt)||r.every(t=>t.y<0)||r.every(t=>t.y>bt)}let Hh;Ue("FillExtrusionBucket",Ru,{omit:["layers","features"]});var vf={get paint(){return Hh=Hh||new Di({"fill-extrusion-opacity":new We(z["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Qe(z["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new We(z["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new We(z["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Oo(z["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Qe(z["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Qe(z["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new We(z["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class bf extends Ii{constructor(t){super(t,vf)}createBucket(t){return new Ru(t)}queryRadius(){return yc(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature({queryGeometry:t,feature:n,featureState:s,geometry:l,transform:d,pixelsToTileUnits:p,pixelPosMatrix:m}){const g=xc(t,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),-d.bearingInRadians,p),x=this.paint.get("fill-extrusion-height").evaluate(n,s),b=this.paint.get("fill-extrusion-base").evaluate(n,s),w=function(A,k,L){const N=[];for(const q of A){const ie=[q.x,q.y,0,1];on(ie,ie,k),N.push(new Ae(ie[0]/ie[3],ie[1]/ie[3]))}return N}(g,m),I=function(A,k,L,N){const q=[],ie=[],W=N[8]*k,E=N[9]*k,j=N[10]*k,X=N[11]*k,fe=N[8]*L,Ce=N[9]*L,me=N[10]*L,ye=N[11]*L;for(const ze of A){const Ie=[],ke=[];for(const we of ze){const Ze=we.x,Je=we.y,Xe=N[0]*Ze+N[4]*Je+N[12],He=N[1]*Ze+N[5]*Je+N[13],ht=N[2]*Ze+N[6]*Je+N[14],qt=N[3]*Ze+N[7]*Je+N[15],ai=ht+j,Si=qt+X,ar=Xe+fe,Ui=He+Ce,gi=ht+me,Nt=qt+ye,ui=new Ae((Xe+W)/Si,(He+E)/Si);ui.z=ai/Si,Ie.push(ui);const yi=new Ae(ar/Nt,Ui/Nt);yi.z=gi/Nt,ke.push(yi)}q.push(Ie),ie.push(ke)}return[q,ie]}(l,b,x,m);return function(A,k,L){let N=1/0;xh(L,k)&&(N=Wh(L,k[0]));for(let q=0;q<k.length;q++){const ie=k[q],W=A[q];for(let E=0;E<ie.length-1;E++){const j=ie[E],X=[j,ie[E+1],W[E+1],W[E],j];Zo(L,X)&&(N=Math.min(N,Wh(L,X)))}}return N!==1/0&&N}(I[0],I[1],w)}}function al(r,t){return r.x*t.x+r.y*t.y}function Wh(r,t){if(r.length===1){let n=0;const s=t[n++];let l;for(;!l||s.equals(l);)if(l=t[n++],!l)return 1/0;for(;n<t.length;n++){const d=t[n],p=r[0],m=l.sub(s),g=d.sub(s),x=p.sub(s),b=al(m,m),w=al(m,g),I=al(g,g),A=al(x,m),k=al(x,g),L=b*I-w*w,N=(I*A-w*k)/L,q=(b*k-w*A)/L,ie=s.z*(1-N-q)+l.z*N+d.z*q;if(isFinite(ie))return ie}return 1/0}{let n=1/0;for(const s of t)n=Math.min(n,s.z);return n}}const wf=Kt([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:Tf}=wf,Pf=Kt([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:Sf}=Pf,Mf=sl.VectorTileFeature.types,Cf=Math.cos(Math.PI/180*37.5),Kh=Math.pow(2,14)/.5;class Du{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(n=>n.id),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(n=>{this.gradients[n.id]={}}),this.layoutVertexArray=new te,this.layoutVertexArray2=new pe,this.indexArray=new Se,this.programConfigurations=new Rn(t.layers,t.zoom),this.segments=new at,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(n=>n.isStateDependent()).map(n=>n.id)}populate(t,n,s){this.hasPattern=Pu("line",this.layers,n);const l=this.layers[0].layout.get("line-sort-key"),d=!l.isConstant(),p=[];for(const{feature:m,id:g,index:x,sourceLayerIndex:b}of t){const w=this.layers[0]._featureFilter.needGeometry,I=tn(m,w);if(!this.layers[0]._featureFilter.filter(new kt(this.zoom),I,s))continue;const A=d?l.evaluate(I,{},s):void 0,k={id:g,properties:m.properties,type:m.type,sourceLayerIndex:b,index:x,geometry:w?I.geometry:en(m),patterns:{},sortKey:A};p.push(k)}d&&p.sort((m,g)=>m.sortKey-g.sortKey);for(const m of p){const{geometry:g,index:x,sourceLayerIndex:b}=m;if(this.hasPattern){const w=Su("line",this.layers,m,this.zoom,n);this.patternFeatures.push(w)}else this.addFeature(m,g,x,s,{},n.subdivisionGranularity);n.featureIndex.insert(t[x].feature,g,x,b,this.index)}}update(t,n,s){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,n,this.stateDependentLayers,s)}addFeatures(t,n,s){for(const l of this.patternFeatures)this.addFeature(l,l.geometry,l.index,n,s,t.subdivisionGranularity)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=t.createVertexBuffer(this.layoutVertexArray2,Sf)),this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Tf),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(t){if(t.properties&&Object.prototype.hasOwnProperty.call(t.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(t.properties,"mapbox_clip_end"))return{start:+t.properties.mapbox_clip_start,end:+t.properties.mapbox_clip_end}}addFeature(t,n,s,l,d,p){const m=this.layers[0].layout,g=m.get("line-join").evaluate(t,{}),x=m.get("line-cap"),b=m.get("line-miter-limit"),w=m.get("line-round-limit");this.lineClips=this.lineFeatureClips(t);for(const I of n)this.addLine(I,t,g,x,b,w,l,p);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,s,d,l)}addLine(t,n,s,l,d,p,m,g){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,t=Js(t,m?g.line.getGranularityForZoomLevel(m.z):1),this.lineClips){this.lineClipsArray.push(this.lineClips);for(let W=0;W<t.length-1;W++)this.totalDistance+=t[W].dist(t[W+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const x=Mf[n.type]==="Polygon";let b=t.length;for(;b>=2&&t[b-1].equals(t[b-2]);)b--;let w=0;for(;w<b-1&&t[w].equals(t[w+1]);)w++;if(b<(x?3:2))return;s==="bevel"&&(d=1.05);const I=this.overscaling<=16?15*bt/(512*this.overscaling):0,A=this.segments.prepareSegment(10*b,this.layoutVertexArray,this.indexArray);let k,L,N,q,ie;this.e1=this.e2=-1,x&&(k=t[b-2],ie=t[w].sub(k)._unit()._perp());for(let W=w;W<b;W++){if(N=W===b-1?x?t[w+1]:void 0:t[W+1],N&&t[W].equals(N))continue;ie&&(q=ie),k&&(L=k),k=t[W],ie=N?N.sub(k)._unit()._perp():q,q=q||ie;let E=q.add(ie);E.x===0&&E.y===0||E._unit();const j=q.x*ie.x+q.y*ie.y,X=E.x*ie.x+E.y*ie.y,fe=X!==0?1/X:1/0,Ce=2*Math.sqrt(2-2*X),me=X<Cf&&L&&N,ye=q.x*ie.y-q.y*ie.x>0;if(me&&W>w){const ke=k.dist(L);if(ke>2*I){const we=k.sub(k.sub(L)._mult(I/ke)._round());this.updateDistance(L,we),this.addCurrentVertex(we,q,0,0,A),L=we}}const ze=L&&N;let Ie=ze?s:x?"butt":l;if(ze&&Ie==="round"&&(fe<p?Ie="miter":fe<=2&&(Ie="fakeround")),Ie==="miter"&&fe>d&&(Ie="bevel"),Ie==="bevel"&&(fe>2&&(Ie="flipbevel"),fe<d&&(Ie="miter")),L&&this.updateDistance(L,k),Ie==="miter")E._mult(fe),this.addCurrentVertex(k,E,0,0,A);else if(Ie==="flipbevel"){if(fe>100)E=ie.mult(-1);else{const ke=fe*q.add(ie).mag()/q.sub(ie).mag();E._perp()._mult(ke*(ye?-1:1))}this.addCurrentVertex(k,E,0,0,A),this.addCurrentVertex(k,E.mult(-1),0,0,A)}else if(Ie==="bevel"||Ie==="fakeround"){const ke=-Math.sqrt(fe*fe-1),we=ye?ke:0,Ze=ye?0:ke;if(L&&this.addCurrentVertex(k,q,we,Ze,A),Ie==="fakeround"){const Je=Math.round(180*Ce/Math.PI/20);for(let Xe=1;Xe<Je;Xe++){let He=Xe/Je;if(He!==.5){const qt=He-.5;He+=He*qt*(He-1)*((1.0904+j*(j*(3.55645-1.43519*j)-3.2452))*qt*qt+(.848013+j*(.215638*j-1.06021)))}const ht=ie.sub(q)._mult(He)._add(q)._unit()._mult(ye?-1:1);this.addHalfVertex(k,ht.x,ht.y,!1,ye,0,A)}}N&&this.addCurrentVertex(k,ie,-we,-Ze,A)}else if(Ie==="butt")this.addCurrentVertex(k,E,0,0,A);else if(Ie==="square"){const ke=L?1:-1;this.addCurrentVertex(k,E,ke,ke,A)}else Ie==="round"&&(L&&(this.addCurrentVertex(k,q,0,0,A),this.addCurrentVertex(k,q,1,1,A,!0)),N&&(this.addCurrentVertex(k,ie,-1,-1,A,!0),this.addCurrentVertex(k,ie,0,0,A)));if(me&&W<b-1){const ke=k.dist(N);if(ke>2*I){const we=k.add(N.sub(k)._mult(I/ke)._round());this.updateDistance(k,we),this.addCurrentVertex(we,ie,0,0,A),k=we}}}}addCurrentVertex(t,n,s,l,d,p=!1){const m=n.y*l-n.x,g=-n.y-n.x*l;this.addHalfVertex(t,n.x+n.y*s,n.y-n.x*s,p,!1,s,d),this.addHalfVertex(t,m,g,p,!0,-l,d),this.distance>Kh/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(t,n,s,l,d,p))}addHalfVertex({x:t,y:n},s,l,d,p,m,g){const x=.5*(this.lineClips?this.scaledDistance*(Kh-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((t<<1)+(d?1:0),(n<<1)+(p?1:0),Math.round(63*s)+128,Math.round(63*l)+128,1+(m===0?0:m<0?-1:1)|(63&x)<<2,x>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const b=g.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,b,this.e2),g.primitiveLength++),p?this.e2=b:this.e1=b}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(t,n){this.distance+=t.dist(n),this.updateScaledDistance()}}let Xh,Yh;Ue("LineBucket",Du,{omit:["layers","patternFeatures"]});var Jh={get paint(){return Yh=Yh||new Di({"line-opacity":new Qe(z.paint_line["line-opacity"]),"line-color":new Qe(z.paint_line["line-color"]),"line-translate":new We(z.paint_line["line-translate"]),"line-translate-anchor":new We(z.paint_line["line-translate-anchor"]),"line-width":new Qe(z.paint_line["line-width"]),"line-gap-width":new Qe(z.paint_line["line-gap-width"]),"line-offset":new Qe(z.paint_line["line-offset"]),"line-blur":new Qe(z.paint_line["line-blur"]),"line-dasharray":new Va(z.paint_line["line-dasharray"]),"line-pattern":new Oo(z.paint_line["line-pattern"]),"line-gradient":new Ua(z.paint_line["line-gradient"])})},get layout(){return Xh=Xh||new Di({"line-cap":new We(z.layout_line["line-cap"]),"line-join":new Qe(z.layout_line["line-join"]),"line-miter-limit":new We(z.layout_line["line-miter-limit"]),"line-round-limit":new We(z.layout_line["line-round-limit"]),"line-sort-key":new Qe(z.layout_line["line-sort-key"])})}};class If extends Qe{possiblyEvaluate(t,n){return n=new kt(Math.floor(n.zoom),{now:n.now,fadeDuration:n.fadeDuration,zoomHistory:n.zoomHistory,transition:n.transition}),super.possiblyEvaluate(t,n)}evaluate(t,n,s,l){return n=fi({},n,{zoom:Math.floor(n.zoom)}),super.evaluate(t,n,s,l)}}let Pc;class Ef extends Ii{constructor(t){super(t,Jh),this.gradientVersion=0,Pc||(Pc=new If(Jh.paint.properties["line-width"].specification),Pc.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(t){if(t==="line-gradient"){const n=this.gradientExpression();this.stepInterpolant=!!function(s){return s._styleExpression!==void 0}(n)&&n._styleExpression.expression instanceof Xn,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(t,n){super.recalculate(t,n),this.paint._values["line-floorwidth"]=Pc.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,t)}createBucket(t){return new Du(t)}queryRadius(t){const n=t,s=Qh(Ya("line-width",this,n),Ya("line-gap-width",this,n)),l=Ya("line-offset",this,n);return s/2+Math.abs(l)+yc(this.paint.get("line-translate"))}queryIntersectsFeature({queryGeometry:t,feature:n,featureState:s,geometry:l,transform:d,pixelsToTileUnits:p}){const m=xc(t,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),-d.bearingInRadians,p),g=p/2*Qh(this.paint.get("line-width").evaluate(n,s),this.paint.get("line-gap-width").evaluate(n,s)),x=this.paint.get("line-offset").evaluate(n,s);return x&&(l=function(b,w){const I=[];for(let A=0;A<b.length;A++){const k=b[A],L=[];for(let N=0;N<k.length;N++){const q=k[N-1],ie=k[N],W=k[N+1],E=N===0?new Ae(0,0):ie.sub(q)._unit()._perp(),j=N===k.length-1?new Ae(0,0):W.sub(ie)._unit()._perp(),X=E._add(j)._unit(),fe=X.x*j.x+X.y*j.y;fe!==0&&X._mult(1/fe),L.push(X._mult(w)._add(ie))}I.push(L)}return I}(l,x*p)),function(b,w,I){for(let A=0;A<w.length;A++){const k=w[A];if(b.length>=3){for(let L=0;L<k.length;L++)if(Xs(b,k[L]))return!0}if(Zp(b,k,I))return!0}return!1}(m,l,g)}isTileClipped(){return!0}}function Qh(r,t){return t>0?t+2*r:r}const Af=Kt([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),zf=Kt([{name:"a_projected_pos",components:3,type:"Float32"}],4);Kt([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const kf=Kt([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"},{name:"a_box_real",components:2,type:"Int16"}]);Kt([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const ed=Kt([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),Rf=Kt([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function Df(r,t,n){return r.sections.forEach(s=>{s.text=function(l,d,p){const m=d.layout.get("text-transform").evaluate(p,{});return m==="uppercase"?l=l.toLocaleUpperCase():m==="lowercase"&&(l=l.toLocaleLowerCase()),Er.applyArabicShaping&&(l=Er.applyArabicShaping(l)),l}(s.text,t,n)}),r}Kt([{name:"triangle",components:3,type:"Uint16"}]),Kt([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Kt([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),Kt([{type:"Float32",name:"offsetX"}]),Kt([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),Kt([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);const ll={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};var td,Lu,id,oi=24,Fu={};function Lf(){return td||(td=1,Fu.read=function(r,t,n,s,l){var d,p,m=8*l-s-1,g=(1<<m)-1,x=g>>1,b=-7,w=n?l-1:0,I=n?-1:1,A=r[t+w];for(w+=I,d=A&(1<<-b)-1,A>>=-b,b+=m;b>0;d=256*d+r[t+w],w+=I,b-=8);for(p=d&(1<<-b)-1,d>>=-b,b+=s;b>0;p=256*p+r[t+w],w+=I,b-=8);if(d===0)d=1-x;else{if(d===g)return p?NaN:1/0*(A?-1:1);p+=Math.pow(2,s),d-=x}return(A?-1:1)*p*Math.pow(2,d-s)},Fu.write=function(r,t,n,s,l,d){var p,m,g,x=8*d-l-1,b=(1<<x)-1,w=b>>1,I=l===23?Math.pow(2,-24)-Math.pow(2,-77):0,A=s?0:d-1,k=s?1:-1,L=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(m=isNaN(t)?1:0,p=b):(p=Math.floor(Math.log(t)/Math.LN2),t*(g=Math.pow(2,-p))<1&&(p--,g*=2),(t+=p+w>=1?I/g:I*Math.pow(2,1-w))*g>=2&&(p++,g/=2),p+w>=b?(m=0,p=b):p+w>=1?(m=(t*g-1)*Math.pow(2,l),p+=w):(m=t*Math.pow(2,w-1)*Math.pow(2,l),p=0));l>=8;r[n+A]=255&m,A+=k,m/=256,l-=8);for(p=p<<l|m,x+=l;x>0;r[n+A]=255&p,A+=k,p/=256,x-=8);r[n+A-k]|=128*L}),Fu}function rd(){if(id)return Lu;id=1,Lu=t;var r=Lf();function t(E){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(E)?E:new Uint8Array(E||0),this.pos=0,this.type=0,this.length=this.buf.length}t.Varint=0,t.Fixed64=1,t.Bytes=2,t.Fixed32=5;var n=4294967296,s=1/n,l=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");function d(E){return E.type===t.Bytes?E.readVarint()+E.pos:E.pos+1}function p(E,j,X){return X?4294967296*j+(E>>>0):4294967296*(j>>>0)+(E>>>0)}function m(E,j,X){var fe=j<=16383?1:j<=2097151?2:j<=268435455?3:Math.floor(Math.log(j)/(7*Math.LN2));X.realloc(fe);for(var Ce=X.pos-1;Ce>=E;Ce--)X.buf[Ce+fe]=X.buf[Ce]}function g(E,j){for(var X=0;X<E.length;X++)j.writeVarint(E[X])}function x(E,j){for(var X=0;X<E.length;X++)j.writeSVarint(E[X])}function b(E,j){for(var X=0;X<E.length;X++)j.writeFloat(E[X])}function w(E,j){for(var X=0;X<E.length;X++)j.writeDouble(E[X])}function I(E,j){for(var X=0;X<E.length;X++)j.writeBoolean(E[X])}function A(E,j){for(var X=0;X<E.length;X++)j.writeFixed32(E[X])}function k(E,j){for(var X=0;X<E.length;X++)j.writeSFixed32(E[X])}function L(E,j){for(var X=0;X<E.length;X++)j.writeFixed64(E[X])}function N(E,j){for(var X=0;X<E.length;X++)j.writeSFixed64(E[X])}function q(E,j){return(E[j]|E[j+1]<<8|E[j+2]<<16)+16777216*E[j+3]}function ie(E,j,X){E[X]=j,E[X+1]=j>>>8,E[X+2]=j>>>16,E[X+3]=j>>>24}function W(E,j){return(E[j]|E[j+1]<<8|E[j+2]<<16)+(E[j+3]<<24)}return t.prototype={destroy:function(){this.buf=null},readFields:function(E,j,X){for(X=X||this.length;this.pos<X;){var fe=this.readVarint(),Ce=fe>>3,me=this.pos;this.type=7&fe,E(Ce,j,this),this.pos===me&&this.skip(fe)}return j},readMessage:function(E,j){return this.readFields(E,j,this.readVarint()+this.pos)},readFixed32:function(){var E=q(this.buf,this.pos);return this.pos+=4,E},readSFixed32:function(){var E=W(this.buf,this.pos);return this.pos+=4,E},readFixed64:function(){var E=q(this.buf,this.pos)+q(this.buf,this.pos+4)*n;return this.pos+=8,E},readSFixed64:function(){var E=q(this.buf,this.pos)+W(this.buf,this.pos+4)*n;return this.pos+=8,E},readFloat:function(){var E=r.read(this.buf,this.pos,!0,23,4);return this.pos+=4,E},readDouble:function(){var E=r.read(this.buf,this.pos,!0,52,8);return this.pos+=8,E},readVarint:function(E){var j,X,fe=this.buf;return j=127&(X=fe[this.pos++]),X<128?j:(j|=(127&(X=fe[this.pos++]))<<7,X<128?j:(j|=(127&(X=fe[this.pos++]))<<14,X<128?j:(j|=(127&(X=fe[this.pos++]))<<21,X<128?j:function(Ce,me,ye){var ze,Ie,ke=ye.buf;if(ze=(112&(Ie=ke[ye.pos++]))>>4,Ie<128||(ze|=(127&(Ie=ke[ye.pos++]))<<3,Ie<128)||(ze|=(127&(Ie=ke[ye.pos++]))<<10,Ie<128)||(ze|=(127&(Ie=ke[ye.pos++]))<<17,Ie<128)||(ze|=(127&(Ie=ke[ye.pos++]))<<24,Ie<128)||(ze|=(1&(Ie=ke[ye.pos++]))<<31,Ie<128))return p(Ce,ze,me);throw new Error("Expected varint not more than 10 bytes")}(j|=(15&(X=fe[this.pos]))<<28,E,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var E=this.readVarint();return E%2==1?(E+1)/-2:E/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var E=this.readVarint()+this.pos,j=this.pos;return this.pos=E,E-j>=12&&l?function(X,fe,Ce){return l.decode(X.subarray(fe,Ce))}(this.buf,j,E):function(X,fe,Ce){for(var me="",ye=fe;ye<Ce;){var ze,Ie,ke,we=X[ye],Ze=null,Je=we>239?4:we>223?3:we>191?2:1;if(ye+Je>Ce)break;Je===1?we<128&&(Ze=we):Je===2?(192&(ze=X[ye+1]))==128&&(Ze=(31&we)<<6|63&ze)<=127&&(Ze=null):Je===3?(Ie=X[ye+2],(192&(ze=X[ye+1]))==128&&(192&Ie)==128&&((Ze=(15&we)<<12|(63&ze)<<6|63&Ie)<=2047||Ze>=55296&&Ze<=57343)&&(Ze=null)):Je===4&&(Ie=X[ye+2],ke=X[ye+3],(192&(ze=X[ye+1]))==128&&(192&Ie)==128&&(192&ke)==128&&((Ze=(15&we)<<18|(63&ze)<<12|(63&Ie)<<6|63&ke)<=65535||Ze>=1114112)&&(Ze=null)),Ze===null?(Ze=65533,Je=1):Ze>65535&&(Ze-=65536,me+=String.fromCharCode(Ze>>>10&1023|55296),Ze=56320|1023&Ze),me+=String.fromCharCode(Ze),ye+=Je}return me}(this.buf,j,E)},readBytes:function(){var E=this.readVarint()+this.pos,j=this.buf.subarray(this.pos,E);return this.pos=E,j},readPackedVarint:function(E,j){if(this.type!==t.Bytes)return E.push(this.readVarint(j));var X=d(this);for(E=E||[];this.pos<X;)E.push(this.readVarint(j));return E},readPackedSVarint:function(E){if(this.type!==t.Bytes)return E.push(this.readSVarint());var j=d(this);for(E=E||[];this.pos<j;)E.push(this.readSVarint());return E},readPackedBoolean:function(E){if(this.type!==t.Bytes)return E.push(this.readBoolean());var j=d(this);for(E=E||[];this.pos<j;)E.push(this.readBoolean());return E},readPackedFloat:function(E){if(this.type!==t.Bytes)return E.push(this.readFloat());var j=d(this);for(E=E||[];this.pos<j;)E.push(this.readFloat());return E},readPackedDouble:function(E){if(this.type!==t.Bytes)return E.push(this.readDouble());var j=d(this);for(E=E||[];this.pos<j;)E.push(this.readDouble());return E},readPackedFixed32:function(E){if(this.type!==t.Bytes)return E.push(this.readFixed32());var j=d(this);for(E=E||[];this.pos<j;)E.push(this.readFixed32());return E},readPackedSFixed32:function(E){if(this.type!==t.Bytes)return E.push(this.readSFixed32());var j=d(this);for(E=E||[];this.pos<j;)E.push(this.readSFixed32());return E},readPackedFixed64:function(E){if(this.type!==t.Bytes)return E.push(this.readFixed64());var j=d(this);for(E=E||[];this.pos<j;)E.push(this.readFixed64());return E},readPackedSFixed64:function(E){if(this.type!==t.Bytes)return E.push(this.readSFixed64());var j=d(this);for(E=E||[];this.pos<j;)E.push(this.readSFixed64());return E},skip:function(E){var j=7&E;if(j===t.Varint)for(;this.buf[this.pos++]>127;);else if(j===t.Bytes)this.pos=this.readVarint()+this.pos;else if(j===t.Fixed32)this.pos+=4;else{if(j!==t.Fixed64)throw new Error("Unimplemented type: "+j);this.pos+=8}},writeTag:function(E,j){this.writeVarint(E<<3|j)},realloc:function(E){for(var j=this.length||16;j<this.pos+E;)j*=2;if(j!==this.length){var X=new Uint8Array(j);X.set(this.buf),this.buf=X,this.length=j}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(E){this.realloc(4),ie(this.buf,E,this.pos),this.pos+=4},writeSFixed32:function(E){this.realloc(4),ie(this.buf,E,this.pos),this.pos+=4},writeFixed64:function(E){this.realloc(8),ie(this.buf,-1&E,this.pos),ie(this.buf,Math.floor(E*s),this.pos+4),this.pos+=8},writeSFixed64:function(E){this.realloc(8),ie(this.buf,-1&E,this.pos),ie(this.buf,Math.floor(E*s),this.pos+4),this.pos+=8},writeVarint:function(E){(E=+E||0)>268435455||E<0?function(j,X){var fe,Ce;if(j>=0?(fe=j%4294967296|0,Ce=j/4294967296|0):(Ce=~(-j/4294967296),4294967295^(fe=~(-j%4294967296))?fe=fe+1|0:(fe=0,Ce=Ce+1|0)),j>=18446744073709552e3||j<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");X.realloc(10),function(me,ye,ze){ze.buf[ze.pos++]=127&me|128,me>>>=7,ze.buf[ze.pos++]=127&me|128,me>>>=7,ze.buf[ze.pos++]=127&me|128,me>>>=7,ze.buf[ze.pos++]=127&me|128,ze.buf[ze.pos]=127&(me>>>=7)}(fe,0,X),function(me,ye){var ze=(7&me)<<4;ye.buf[ye.pos++]|=ze|((me>>>=3)?128:0),me&&(ye.buf[ye.pos++]=127&me|((me>>>=7)?128:0),me&&(ye.buf[ye.pos++]=127&me|((me>>>=7)?128:0),me&&(ye.buf[ye.pos++]=127&me|((me>>>=7)?128:0),me&&(ye.buf[ye.pos++]=127&me|((me>>>=7)?128:0),me&&(ye.buf[ye.pos++]=127&me)))))}(Ce,X)}(E,this):(this.realloc(4),this.buf[this.pos++]=127&E|(E>127?128:0),E<=127||(this.buf[this.pos++]=127&(E>>>=7)|(E>127?128:0),E<=127||(this.buf[this.pos++]=127&(E>>>=7)|(E>127?128:0),E<=127||(this.buf[this.pos++]=E>>>7&127))))},writeSVarint:function(E){this.writeVarint(E<0?2*-E-1:2*E)},writeBoolean:function(E){this.writeVarint(!!E)},writeString:function(E){E=String(E),this.realloc(4*E.length),this.pos++;var j=this.pos;this.pos=function(fe,Ce,me){for(var ye,ze,Ie=0;Ie<Ce.length;Ie++){if((ye=Ce.charCodeAt(Ie))>55295&&ye<57344){if(!ze){ye>56319||Ie+1===Ce.length?(fe[me++]=239,fe[me++]=191,fe[me++]=189):ze=ye;continue}if(ye<56320){fe[me++]=239,fe[me++]=191,fe[me++]=189,ze=ye;continue}ye=ze-55296<<10|ye-56320|65536,ze=null}else ze&&(fe[me++]=239,fe[me++]=191,fe[me++]=189,ze=null);ye<128?fe[me++]=ye:(ye<2048?fe[me++]=ye>>6|192:(ye<65536?fe[me++]=ye>>12|224:(fe[me++]=ye>>18|240,fe[me++]=ye>>12&63|128),fe[me++]=ye>>6&63|128),fe[me++]=63&ye|128)}return me}(this.buf,E,this.pos);var X=this.pos-j;X>=128&&m(j,X,this),this.pos=j-1,this.writeVarint(X),this.pos+=X},writeFloat:function(E){this.realloc(4),r.write(this.buf,E,this.pos,!0,23,4),this.pos+=4},writeDouble:function(E){this.realloc(8),r.write(this.buf,E,this.pos,!0,52,8),this.pos+=8},writeBytes:function(E){var j=E.length;this.writeVarint(j),this.realloc(j);for(var X=0;X<j;X++)this.buf[this.pos++]=E[X]},writeRawMessage:function(E,j){this.pos++;var X=this.pos;E(j,this);var fe=this.pos-X;fe>=128&&m(X,fe,this),this.pos=X-1,this.writeVarint(fe),this.pos+=fe},writeMessage:function(E,j,X){this.writeTag(E,t.Bytes),this.writeRawMessage(j,X)},writePackedVarint:function(E,j){j.length&&this.writeMessage(E,g,j)},writePackedSVarint:function(E,j){j.length&&this.writeMessage(E,x,j)},writePackedBoolean:function(E,j){j.length&&this.writeMessage(E,I,j)},writePackedFloat:function(E,j){j.length&&this.writeMessage(E,b,j)},writePackedDouble:function(E,j){j.length&&this.writeMessage(E,w,j)},writePackedFixed32:function(E,j){j.length&&this.writeMessage(E,A,j)},writePackedSFixed32:function(E,j){j.length&&this.writeMessage(E,k,j)},writePackedFixed64:function(E,j){j.length&&this.writeMessage(E,L,j)},writePackedSFixed64:function(E,j){j.length&&this.writeMessage(E,N,j)},writeBytesField:function(E,j){this.writeTag(E,t.Bytes),this.writeBytes(j)},writeFixed32Field:function(E,j){this.writeTag(E,t.Fixed32),this.writeFixed32(j)},writeSFixed32Field:function(E,j){this.writeTag(E,t.Fixed32),this.writeSFixed32(j)},writeFixed64Field:function(E,j){this.writeTag(E,t.Fixed64),this.writeFixed64(j)},writeSFixed64Field:function(E,j){this.writeTag(E,t.Fixed64),this.writeSFixed64(j)},writeVarintField:function(E,j){this.writeTag(E,t.Varint),this.writeVarint(j)},writeSVarintField:function(E,j){this.writeTag(E,t.Varint),this.writeSVarint(j)},writeStringField:function(E,j){this.writeTag(E,t.Bytes),this.writeString(j)},writeFloatField:function(E,j){this.writeTag(E,t.Fixed32),this.writeFloat(j)},writeDoubleField:function(E,j){this.writeTag(E,t.Fixed64),this.writeDouble(j)},writeBooleanField:function(E,j){this.writeVarintField(E,!!j)}},Lu}var Bu=Ne(rd());const Ou=3;function Ff(r,t,n){r===1&&n.readMessage(Bf,t)}function Bf(r,t,n){if(r===3){const{id:s,bitmap:l,width:d,height:p,left:m,top:g,advance:x}=n.readMessage(Of,{});t.push({id:s,bitmap:new Ja({width:d+2*Ou,height:p+2*Ou},l),metrics:{width:d,height:p,left:m,top:g,advance:x}})}}function Of(r,t,n){r===1?t.id=n.readVarint():r===2?t.bitmap=n.readBytes():r===3?t.width=n.readVarint():r===4?t.height=n.readVarint():r===5?t.left=n.readSVarint():r===6?t.top=n.readSVarint():r===7&&(t.advance=n.readVarint())}const jf=Ou;function nd(r){let t=0,n=0;for(const p of r)t+=p.w*p.h,n=Math.max(n,p.w);r.sort((p,m)=>m.h-p.h);const s=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),n),h:1/0}];let l=0,d=0;for(const p of r)for(let m=s.length-1;m>=0;m--){const g=s[m];if(!(p.w>g.w||p.h>g.h)){if(p.x=g.x,p.y=g.y,d=Math.max(d,p.y+p.h),l=Math.max(l,p.x+p.w),p.w===g.w&&p.h===g.h){const x=s.pop();m<s.length&&(s[m]=x)}else p.h===g.h?(g.x+=p.w,g.w-=p.w):p.w===g.w?(g.y+=p.h,g.h-=p.h):(s.push({x:g.x+p.w,y:g.y,w:g.w-p.w,h:p.h}),g.y+=p.h,g.h-=p.h);break}}return{w:l,h:d,fill:t/(l*d)||0}}const Vi=1;class ju{constructor(t,{pixelRatio:n,version:s,stretchX:l,stretchY:d,content:p,textFitWidth:m,textFitHeight:g}){this.paddedRect=t,this.pixelRatio=n,this.stretchX=l,this.stretchY=d,this.content=p,this.version=s,this.textFitWidth=m,this.textFitHeight=g}get tl(){return[this.paddedRect.x+Vi,this.paddedRect.y+Vi]}get br(){return[this.paddedRect.x+this.paddedRect.w-Vi,this.paddedRect.y+this.paddedRect.h-Vi]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2*Vi)/this.pixelRatio,(this.paddedRect.h-2*Vi)/this.pixelRatio]}}class sd{constructor(t,n){const s={},l={};this.haveRenderCallbacks=[];const d=[];this.addImages(t,s,d),this.addImages(n,l,d);const{w:p,h:m}=nd(d),g=new sr({width:p||1,height:m||1});for(const x in t){const b=t[x],w=s[x].paddedRect;sr.copy(b.data,g,{x:0,y:0},{x:w.x+Vi,y:w.y+Vi},b.data)}for(const x in n){const b=n[x],w=l[x].paddedRect,I=w.x+Vi,A=w.y+Vi,k=b.data.width,L=b.data.height;sr.copy(b.data,g,{x:0,y:0},{x:I,y:A},b.data),sr.copy(b.data,g,{x:0,y:L-1},{x:I,y:A-1},{width:k,height:1}),sr.copy(b.data,g,{x:0,y:0},{x:I,y:A+L},{width:k,height:1}),sr.copy(b.data,g,{x:k-1,y:0},{x:I-1,y:A},{width:1,height:L}),sr.copy(b.data,g,{x:0,y:0},{x:I+k,y:A},{width:1,height:L})}this.image=g,this.iconPositions=s,this.patternPositions=l}addImages(t,n,s){for(const l in t){const d=t[l],p={x:0,y:0,w:d.data.width+2*Vi,h:d.data.height+2*Vi};s.push(p),n[l]=new ju(p,d),d.hasRenderCallback&&this.haveRenderCallbacks.push(l)}}patchUpdatedImages(t,n){t.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const s in t.updatedImages)this.patchUpdatedImage(this.iconPositions[s],t.getImage(s),n),this.patchUpdatedImage(this.patternPositions[s],t.getImage(s),n)}patchUpdatedImage(t,n,s){if(!t||!n||t.version===n.version)return;t.version=n.version;const[l,d]=t.tl;s.update(n.data,void 0,{x:l,y:d})}}var ms;Ue("ImagePosition",ju),Ue("ImageAtlas",sd),P.ah=void 0,(ms=P.ah||(P.ah={}))[ms.none=0]="none",ms[ms.horizontal=1]="horizontal",ms[ms.vertical=2]="vertical",ms[ms.horizontalOnly=3]="horizontalOnly";const Sc=-17;class cl{constructor(){this.scale=1,this.fontStack="",this.imageName=null,this.verticalAlign="bottom"}static forText(t,n,s){const l=new cl;return l.scale=t||1,l.fontStack=n,l.verticalAlign=s||"bottom",l}static forImage(t,n){const s=new cl;return s.imageName=t,s.verticalAlign=n||"bottom",s}}class Ho{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(t,n){const s=new Ho;for(let l=0;l<t.sections.length;l++){const d=t.sections[l];d.image?s.addImageSection(d):s.addTextSection(d,n)}return s}length(){return this.text.length}getSection(t){return this.sections[this.sectionIndex[t]]}getSectionIndex(t){return this.sectionIndex[t]}getCharCode(t){return this.text.charCodeAt(t)}verticalizePunctuation(){this.text=function(t){let n="";for(let s=0;s<t.length;s++){const l=t.charCodeAt(s+1)||null,d=t.charCodeAt(s-1)||null;n+=l&&ja(l)&&!ll[t[s+1]]||d&&ja(d)&&!ll[t[s-1]]||!ll[t[s]]?t[s]:ll[t[s]]}return n}(this.text)}trim(){let t=0;for(let s=0;s<this.text.length&&Cc[this.text.charCodeAt(s)];s++)t++;let n=this.text.length;for(let s=this.text.length-1;s>=0&&s>=t&&Cc[this.text.charCodeAt(s)];s--)n--;this.text=this.text.substring(t,n),this.sectionIndex=this.sectionIndex.slice(t,n)}substring(t,n){const s=new Ho;return s.text=this.text.substring(t,n),s.sectionIndex=this.sectionIndex.slice(t,n),s.sections=this.sections,s}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((t,n)=>Math.max(t,this.sections[n].scale),0)}getMaxImageSize(t){let n=0,s=0;for(let l=0;l<this.length();l++){const d=this.getSection(l);if(d.imageName){const p=t[d.imageName];if(!p)continue;const m=p.displaySize;n=Math.max(n,m[0]),s=Math.max(s,m[1])}}return{maxImageWidth:n,maxImageHeight:s}}addTextSection(t,n){this.text+=t.text,this.sections.push(cl.forText(t.scale,t.fontStack||n,t.verticalAlign));const s=this.sections.length-1;for(let l=0;l<t.text.length;++l)this.sectionIndex.push(s)}addImageSection(t){const n=t.image?t.image.name:"";if(n.length===0)return void bi("Can't add FormattedSection with an empty image.");const s=this.getNextImageSectionCharCode();s?(this.text+=String.fromCharCode(s),this.sections.push(cl.forImage(n,t.verticalAlign)),this.sectionIndex.push(this.sections.length-1)):bi("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function Mc(r,t,n,s,l,d,p,m,g,x,b,w,I,A,k){const L=Ho.fromFeature(r,l);let N;w===P.ah.vertical&&L.verticalizePunctuation();const{processBidirectionalText:q,processStyledBidirectionalText:ie}=Er;if(q&&L.sections.length===1){N=[];const j=q(L.toString(),Nu(L,x,d,t,s,A));for(const X of j){const fe=new Ho;fe.text=X,fe.sections=L.sections;for(let Ce=0;Ce<X.length;Ce++)fe.sectionIndex.push(0);N.push(fe)}}else if(ie){N=[];const j=ie(L.text,L.sectionIndex,Nu(L,x,d,t,s,A));for(const X of j){const fe=new Ho;fe.text=X[0],fe.sectionIndex=X[1],fe.sections=L.sections,N.push(fe)}}else N=function(j,X){const fe=[],Ce=j.text;let me=0;for(const ye of X)fe.push(j.substring(me,ye)),me=ye;return me<Ce.length&&fe.push(j.substring(me,Ce.length)),fe}(L,Nu(L,x,d,t,s,A));const W=[],E={positionedLines:W,text:L.toString(),top:b[1],bottom:b[1],left:b[0],right:b[0],writingMode:w,iconsInText:!1,verticalizable:!1};return function(j,X,fe,Ce,me,ye,ze,Ie,ke,we,Ze,Je){let Xe=0,He=0,ht=0,qt=0;const ai=Ie==="right"?1:Ie==="left"?0:.5,Si=oi/Je;let ar=0;for(const Nt of me){Nt.trim();const ui=Nt.getMaxScale(),yi={positionedGlyphs:[],lineOffset:0};j.positionedLines[ar]=yi;const xi=yi.positionedGlyphs;let Fi=0;if(!Nt.length()){He+=ye,++ar;continue}const lr=Zf(Ce,Nt,Si);for(let Zi=0;Zi<Nt.length();Zi++){const li=Nt.getSection(Zi),di=Nt.getSectionIndex(Zi),pi=Nt.getCharCode(Zi),ei=$f(ke,Ze,pi);let Dt;if(li.imageName){if(j.iconsInText=!0,li.scale=li.scale*Si,Dt=qf(li,ei,ui,lr,Ce),!Dt)continue;Fi=Math.max(Fi,Dt.imageOffset)}else if(Dt=Gf(li,pi,ei,lr,X,fe),!Dt)continue;const{rect:Rr,metrics:Yo,baselineOffset:Dr}=Dt;xi.push({glyph:pi,imageName:li.imageName,x:Xe,y:He+Dr+Sc,vertical:ei,scale:li.scale,fontStack:li.fontStack,sectionIndex:di,metrics:Yo,rect:Rr}),ei?(j.verticalizable=!0,Xe+=(li.imageName?Yo.advance:oi)*li.scale+we):Xe+=Yo.advance*li.scale+we}xi.length!==0&&(ht=Math.max(Xe-we,ht),Hf(xi,0,xi.length-1,ai)),Xe=0,yi.lineOffset=Math.max(Fi,(ui-1)*oi);const hi=ye*ui+Fi;He+=hi,qt=Math.max(hi,qt),++ar}const{horizontalAlign:Ui,verticalAlign:gi}=Vu(ze);(function(Nt,ui,yi,xi,Fi,lr,hi,Zi,li){const di=(ui-yi)*Fi;let pi=0;pi=lr!==hi?-Zi*xi-Sc:-xi*li*hi+.5*hi;for(const ei of Nt)for(const Dt of ei.positionedGlyphs)Dt.x+=di,Dt.y+=pi})(j.positionedLines,ai,Ui,gi,ht,qt,ye,He,me.length),j.top+=-gi*He,j.bottom=j.top+He,j.left+=-Ui*ht,j.right=j.left+ht}(E,t,n,s,N,p,m,g,w,x,I,k),!function(j){for(const X of j)if(X.positionedGlyphs.length!==0)return!1;return!0}(W)&&E}const Cc={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Nf={10:!0,32:!0,38:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0},Vf={40:!0};function od(r,t,n,s,l,d){if(t.imageName){const p=s[t.imageName];return p?p.displaySize[0]*t.scale*oi/d+l:0}{const p=n[t.fontStack],m=p&&p[r];return m?m.metrics.advance*t.scale+l:0}}function ad(r,t,n,s){const l=Math.pow(r-t,2);return s?r<t?l/2:2*l:l+Math.abs(n)*n}function Uf(r,t,n){let s=0;return r===10&&(s-=1e4),n&&(s+=150),r!==40&&r!==65288||(s+=50),t!==41&&t!==65289||(s+=50),s}function ld(r,t,n,s,l,d){let p=null,m=ad(t,n,l,d);for(const g of s){const x=ad(t-g.x,n,l,d)+g.badness;x<=m&&(p=g,m=x)}return{index:r,x:t,priorBreak:p,badness:m}}function cd(r){return r?cd(r.priorBreak).concat(r.index):[]}function Nu(r,t,n,s,l,d){if(!r)return[];const p=[],m=function(w,I,A,k,L,N){let q=0;for(let ie=0;ie<w.length();ie++){const W=w.getSection(ie);q+=od(w.getCharCode(ie),W,k,L,I,N)}return q/Math.max(1,Math.ceil(q/A))}(r,t,n,s,l,d),g=r.text.indexOf("​")>=0;let x=0;for(let w=0;w<r.length();w++){const I=r.getSection(w),A=r.getCharCode(w);if(Cc[A]||(x+=od(A,I,s,l,t,d)),w<r.length()-1){const k=!((b=A)<11904)&&(!!ct["CJK Compatibility Forms"](b)||!!ct["CJK Compatibility"](b)||!!ct["CJK Strokes"](b)||!!ct["CJK Symbols and Punctuation"](b)||!!ct["Enclosed CJK Letters and Months"](b)||!!ct["Halfwidth and Fullwidth Forms"](b)||!!ct["Ideographic Description Characters"](b)||!!ct["Vertical Forms"](b)||Ba.test(String.fromCodePoint(b)));(Nf[A]||k||I.imageName||w!==r.length()-2&&Vf[r.getCharCode(w+1)])&&p.push(ld(w+1,x,m,p,Uf(A,r.getCharCode(w+1),k&&g),!1))}}var b;return cd(ld(r.length(),x,m,p,0,!0))}function Vu(r){let t=.5,n=.5;switch(r){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0}switch(r){case"bottom":case"bottom-right":case"bottom-left":n=1;break;case"top":case"top-right":case"top-left":n=0}return{horizontalAlign:t,verticalAlign:n}}function Zf(r,t,n){const s=t.getMaxScale()*oi,{maxImageWidth:l,maxImageHeight:d}=t.getMaxImageSize(r),p=Math.max(s,d*n);return{verticalLineContentWidth:Math.max(s,l*n),horizontalLineContentHeight:p}}function ud(r){switch(r){case"top":return 0;case"center":return .5;default:return 1}}function $f(r,t,n){return!(r===P.ah.horizontal||!t&&!Oa(n)||t&&(Cc[n]||(s=n,new RegExp("\\p{sc=Arab}","u").test(String.fromCodePoint(s)))));var s}function Gf(r,t,n,s,l,d){const p=d[r.fontStack],m=function(x,b,w,I){if(x&&x.rect)return x;const A=b[w.fontStack],k=A&&A[I];return k?{rect:null,metrics:k.metrics}:null}(p&&p[t],l,r,t);if(m===null)return null;let g;if(n)g=s.verticalLineContentWidth-r.scale*oi;else{const x=ud(r.verticalAlign);g=(s.horizontalLineContentHeight-r.scale*oi)*x}return{rect:m.rect,metrics:m.metrics,baselineOffset:g}}function qf(r,t,n,s,l){const d=l[r.imageName];if(!d)return null;const p=d.paddedRect,m=d.displaySize,g={width:m[0],height:m[1],left:Vi,top:-3,advance:t?m[1]:m[0]};let x;if(t)x=s.verticalLineContentWidth-m[1]*r.scale;else{const b=ud(r.verticalAlign);x=(s.horizontalLineContentHeight-m[1]*r.scale)*b}return{rect:p,metrics:g,baselineOffset:x,imageOffset:(t?m[0]:m[1])*r.scale-oi*n}}function Hf(r,t,n,s){if(s===0)return;const l=r[n],d=(r[n].x+l.metrics.advance*l.scale)*s;for(let p=t;p<=n;p++)r[p].x-=d}function Wf(r,t,n){const{horizontalAlign:s,verticalAlign:l}=Vu(n),d=t[0]-r.displaySize[0]*s,p=t[1]-r.displaySize[1]*l;return{image:r,top:p,bottom:p+r.displaySize[1],left:d,right:d+r.displaySize[0]}}function hd(r){var t,n;let s=r.left,l=r.top,d=r.right-s,p=r.bottom-l;const m=(t=r.image.textFitWidth)!==null&&t!==void 0?t:"stretchOrShrink",g=(n=r.image.textFitHeight)!==null&&n!==void 0?n:"stretchOrShrink",x=(r.image.content[2]-r.image.content[0])/(r.image.content[3]-r.image.content[1]);if(g==="proportional"){if(m==="stretchOnly"&&d/p<x||m==="proportional"){const b=Math.ceil(p*x);s*=b/d,d=b}}else if(m==="proportional"&&g==="stretchOnly"&&x!==0&&d/p>x){const b=Math.ceil(d/x);l*=b/p,p=b}return{x1:s,y1:l,x2:s+d,y2:l+p}}function dd(r,t,n,s,l,d){const p=r.image;let m;if(p.content){const N=p.content,q=p.pixelRatio||1;m=[N[0]/q,N[1]/q,p.displaySize[0]-N[2]/q,p.displaySize[1]-N[3]/q]}const g=t.left*d,x=t.right*d;let b,w,I,A;n==="width"||n==="both"?(A=l[0]+g-s[3],w=l[0]+x+s[1]):(A=l[0]+(g+x-p.displaySize[0])/2,w=A+p.displaySize[0]);const k=t.top*d,L=t.bottom*d;return n==="height"||n==="both"?(b=l[1]+k-s[0],I=l[1]+L+s[2]):(b=l[1]+(k+L-p.displaySize[1])/2,I=b+p.displaySize[1]),{image:p,top:b,right:w,bottom:I,left:A,collisionPadding:m}}const ul=255,rn=128,_s=ul*rn;function pd(r,t){const{expression:n}=t;if(n.kind==="constant")return{kind:"constant",layoutSize:n.evaluate(new kt(r+1))};if(n.kind==="source")return{kind:"source"};{const{zoomStops:s,interpolationType:l}=n;let d=0;for(;d<s.length&&s[d]<=r;)d++;d=Math.max(0,d-1);let p=d;for(;p<s.length&&s[p]<r+1;)p++;p=Math.min(s.length-1,p);const m=s[d],g=s[p];return n.kind==="composite"?{kind:"composite",minZoom:m,maxZoom:g,interpolationType:l}:{kind:"camera",minZoom:m,maxZoom:g,minSize:n.evaluate(new kt(m)),maxSize:n.evaluate(new kt(g)),interpolationType:l}}}function Uu(r,t,n){let s="never";const l=r.get(t);return l?s=l:r.get(n)&&(s="always"),s}const Kf=sl.VectorTileFeature.types,Xf=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Ic(r,t,n,s,l,d,p,m,g,x,b,w,I){const A=m?Math.min(_s,Math.round(m[0])):0,k=m?Math.min(_s,Math.round(m[1])):0;r.emplaceBack(t,n,Math.round(32*s),Math.round(32*l),d,p,(A<<1)+(g?1:0),k,16*x,16*b,256*w,256*I)}function Zu(r,t,n){r.emplaceBack(t.x,t.y,n),r.emplaceBack(t.x,t.y,n),r.emplaceBack(t.x,t.y,n),r.emplaceBack(t.x,t.y,n)}function Yf(r){for(const t of r.sections)if(mu(t.text))return!0;return!1}class $u{constructor(t){this.layoutVertexArray=new be,this.indexArray=new Se,this.programConfigurations=t,this.segments=new at,this.dynamicLayoutVertexArray=new Te,this.opacityVertexArray=new xe,this.hasVisibleVertices=!1,this.placedSymbolArray=new T}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(t,n,s,l){this.isEmpty()||(s&&(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Af.members),this.indexBuffer=t.createIndexBuffer(this.indexArray,n),this.dynamicLayoutVertexBuffer=t.createVertexBuffer(this.dynamicLayoutVertexArray,zf.members,!0),this.opacityVertexBuffer=t.createVertexBuffer(this.opacityVertexArray,Xf,!0),this.opacityVertexBuffer.itemSize=1),(s||l)&&this.programConfigurations.upload(t))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}Ue("SymbolBuffers",$u);class Gu{constructor(t,n,s){this.layoutVertexArray=new t,this.layoutAttributes=n,this.indexArray=new s,this.segments=new at,this.collisionVertexArray=new Re}upload(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=t.createVertexBuffer(this.collisionVertexArray,kf.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}Ue("CollisionBuffers",Gu);class Wo{constructor(t){this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(p=>p.id),this.index=t.index,this.pixelRatio=t.pixelRatio,this.sourceLayerIndex=t.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[];const n=this.layers[0]._unevaluatedLayout._values;this.textSizeData=pd(this.zoom,n["text-size"]),this.iconSizeData=pd(this.zoom,n["icon-size"]);const s=this.layers[0].layout,l=s.get("symbol-sort-key"),d=s.get("symbol-z-order");this.canOverlap=Uu(s,"text-overlap","text-allow-overlap")!=="never"||Uu(s,"icon-overlap","icon-allow-overlap")!=="never"||s.get("text-ignore-placement")||s.get("icon-ignore-placement"),this.sortFeaturesByKey=d!=="viewport-y"&&!l.isConstant(),this.sortFeaturesByY=(d==="viewport-y"||d==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,s.get("symbol-placement")==="point"&&(this.writingModes=s.get("text-writing-mode").map(p=>P.ah[p])),this.stateDependentLayerIds=this.layers.filter(p=>p.isStateDependent()).map(p=>p.id),this.sourceID=t.sourceID}createArrays(){this.text=new $u(new Rn(this.layers,this.zoom,t=>/^text/.test(t))),this.icon=new $u(new Rn(this.layers,this.zoom,t=>/^icon/.test(t))),this.glyphOffsetArray=new D,this.lineVertexArray=new B,this.symbolInstances=new M,this.textAnchorOffsets=new Z}calculateGlyphDependencies(t,n,s,l,d){for(let p=0;p<t.length;p++)if(n[t.charCodeAt(p)]=!0,(s||l)&&d){const m=ll[t.charAt(p)];m&&(n[m.charCodeAt(0)]=!0)}}populate(t,n,s){const l=this.layers[0],d=l.layout,p=d.get("text-font"),m=d.get("text-field"),g=d.get("icon-image"),x=(m.value.kind!=="constant"||m.value.value instanceof Mi&&!m.value.value.isEmpty()||m.value.value.toString().length>0)&&(p.value.kind!=="constant"||p.value.value.length>0),b=g.value.kind!=="constant"||!!g.value.value||Object.keys(g.parameters).length>0,w=d.get("symbol-sort-key");if(this.features=[],!x&&!b)return;const I=n.iconDependencies,A=n.glyphDependencies,k=n.availableImages,L=new kt(this.zoom);for(const{feature:N,id:q,index:ie,sourceLayerIndex:W}of t){const E=l._featureFilter.needGeometry,j=tn(N,E);if(!l._featureFilter.filter(L,j,s))continue;let X,fe;if(E||(j.geometry=en(N)),x){const me=l.getValueAndResolveTokens("text-field",j,s,k),ye=Mi.factory(me),ze=this.hasRTLText=this.hasRTLText||Yf(ye);(!ze||Er.getRTLTextPluginStatus()==="unavailable"||ze&&Er.isParsed())&&(X=Df(ye,l,j))}if(b){const me=l.getValueAndResolveTokens("icon-image",j,s,k);fe=me instanceof zi?me:zi.fromString(me)}if(!X&&!fe)continue;const Ce=this.sortFeaturesByKey?w.evaluate(j,{},s):void 0;if(this.features.push({id:q,text:X,icon:fe,index:ie,sourceLayerIndex:W,geometry:j.geometry,properties:N.properties,type:Kf[N.type],sortKey:Ce}),fe&&(I[fe.name]=!0),X){const me=p.evaluate(j,{},s).join(","),ye=d.get("text-rotation-alignment")!=="viewport"&&d.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(P.ah.vertical)>=0;for(const ze of X.sections)if(ze.image)I[ze.image.name]=!0;else{const Ie=Lo(X.toString()),ke=ze.fontStack||me,we=A[ke]=A[ke]||{};this.calculateGlyphDependencies(ze.text,we,ye,this.allowVerticalPlacement,Ie)}}}d.get("symbol-placement")==="line"&&(this.features=function(N){const q={},ie={},W=[];let E=0;function j(me){W.push(N[me]),E++}function X(me,ye,ze){const Ie=ie[me];return delete ie[me],ie[ye]=Ie,W[Ie].geometry[0].pop(),W[Ie].geometry[0]=W[Ie].geometry[0].concat(ze[0]),Ie}function fe(me,ye,ze){const Ie=q[ye];return delete q[ye],q[me]=Ie,W[Ie].geometry[0].shift(),W[Ie].geometry[0]=ze[0].concat(W[Ie].geometry[0]),Ie}function Ce(me,ye,ze){const Ie=ze?ye[0][ye[0].length-1]:ye[0][0];return`${me}:${Ie.x}:${Ie.y}`}for(let me=0;me<N.length;me++){const ye=N[me],ze=ye.geometry,Ie=ye.text?ye.text.toString():null;if(!Ie){j(me);continue}const ke=Ce(Ie,ze),we=Ce(Ie,ze,!0);if(ke in ie&&we in q&&ie[ke]!==q[we]){const Ze=fe(ke,we,ze),Je=X(ke,we,W[Ze].geometry);delete q[ke],delete ie[we],ie[Ce(Ie,W[Je].geometry,!0)]=Je,W[Ze].geometry=null}else ke in ie?X(ke,we,ze):we in q?fe(ke,we,ze):(j(me),q[ke]=E-1,ie[we]=E-1)}return W.filter(me=>me.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((N,q)=>N.sortKey-q.sortKey)}update(t,n,s){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(t,n,this.layers,s),this.icon.programConfigurations.updatePaintArrays(t,n,this.layers,s))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(t){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(t),this.iconCollisionBox.upload(t)),this.text.upload(t,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(t,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(t,n){const s=this.lineVertexArray.length;if(t.segment!==void 0){let l=t.dist(n[t.segment+1]),d=t.dist(n[t.segment]);const p={};for(let m=t.segment+1;m<n.length;m++)p[m]={x:n[m].x,y:n[m].y,tileUnitDistanceFromAnchor:l},m<n.length-1&&(l+=n[m+1].dist(n[m]));for(let m=t.segment||0;m>=0;m--)p[m]={x:n[m].x,y:n[m].y,tileUnitDistanceFromAnchor:d},m>0&&(d+=n[m-1].dist(n[m]));for(let m=0;m<n.length;m++){const g=p[m];this.lineVertexArray.emplaceBack(g.x,g.y,g.tileUnitDistanceFromAnchor)}}return{lineStartIndex:s,lineLength:this.lineVertexArray.length-s}}addSymbols(t,n,s,l,d,p,m,g,x,b,w,I){const A=t.indexArray,k=t.layoutVertexArray,L=t.segments.prepareSegment(4*n.length,k,A,this.canOverlap?p.sortKey:void 0),N=this.glyphOffsetArray.length,q=L.vertexLength,ie=this.allowVerticalPlacement&&m===P.ah.vertical?Math.PI/2:0,W=p.text&&p.text.sections;for(let E=0;E<n.length;E++){const{tl:j,tr:X,bl:fe,br:Ce,tex:me,pixelOffsetTL:ye,pixelOffsetBR:ze,minFontScaleX:Ie,minFontScaleY:ke,glyphOffset:we,isSDF:Ze,sectionIndex:Je}=n[E],Xe=L.vertexLength,He=we[1];Ic(k,g.x,g.y,j.x,He+j.y,me.x,me.y,s,Ze,ye.x,ye.y,Ie,ke),Ic(k,g.x,g.y,X.x,He+X.y,me.x+me.w,me.y,s,Ze,ze.x,ye.y,Ie,ke),Ic(k,g.x,g.y,fe.x,He+fe.y,me.x,me.y+me.h,s,Ze,ye.x,ze.y,Ie,ke),Ic(k,g.x,g.y,Ce.x,He+Ce.y,me.x+me.w,me.y+me.h,s,Ze,ze.x,ze.y,Ie,ke),Zu(t.dynamicLayoutVertexArray,g,ie),A.emplaceBack(Xe,Xe+2,Xe+1),A.emplaceBack(Xe+1,Xe+2,Xe+3),L.vertexLength+=4,L.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(we[0]),E!==n.length-1&&Je===n[E+1].sectionIndex||t.programConfigurations.populatePaintArrays(k.length,p,p.index,{},I,W&&W[Je])}t.placedSymbolArray.emplaceBack(g.x,g.y,N,this.glyphOffsetArray.length-N,q,x,b,g.segment,s?s[0]:0,s?s[1]:0,l[0],l[1],m,0,!1,0,w)}_addCollisionDebugVertex(t,n,s,l,d,p){return n.emplaceBack(0,0),t.emplaceBack(s.x,s.y,l,d,Math.round(p.x),Math.round(p.y))}addCollisionDebugVertices(t,n,s,l,d,p,m){const g=d.segments.prepareSegment(4,d.layoutVertexArray,d.indexArray),x=g.vertexLength,b=d.layoutVertexArray,w=d.collisionVertexArray,I=m.anchorX,A=m.anchorY;this._addCollisionDebugVertex(b,w,p,I,A,new Ae(t,n)),this._addCollisionDebugVertex(b,w,p,I,A,new Ae(s,n)),this._addCollisionDebugVertex(b,w,p,I,A,new Ae(s,l)),this._addCollisionDebugVertex(b,w,p,I,A,new Ae(t,l)),g.vertexLength+=4;const k=d.indexArray;k.emplaceBack(x,x+1),k.emplaceBack(x+1,x+2),k.emplaceBack(x+2,x+3),k.emplaceBack(x+3,x),g.primitiveLength+=4}addDebugCollisionBoxes(t,n,s,l){for(let d=t;d<n;d++){const p=this.collisionBoxArray.get(d);this.addCollisionDebugVertices(p.x1,p.y1,p.x2,p.y2,l?this.textCollisionBox:this.iconCollisionBox,p.anchorPoint,s)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Gu(Le,ed.members,Ge),this.iconCollisionBox=new Gu(Le,ed.members,Ge);for(let t=0;t<this.symbolInstances.length;t++){const n=this.symbolInstances.get(t);this.addDebugCollisionBoxes(n.textBoxStartIndex,n.textBoxEndIndex,n,!0),this.addDebugCollisionBoxes(n.verticalTextBoxStartIndex,n.verticalTextBoxEndIndex,n,!0),this.addDebugCollisionBoxes(n.iconBoxStartIndex,n.iconBoxEndIndex,n,!1),this.addDebugCollisionBoxes(n.verticalIconBoxStartIndex,n.verticalIconBoxEndIndex,n,!1)}}_deserializeCollisionBoxesForSymbol(t,n,s,l,d,p,m,g,x){const b={};for(let w=n;w<s;w++){const I=t.get(w);b.textBox={x1:I.x1,y1:I.y1,x2:I.x2,y2:I.y2,anchorPointX:I.anchorPointX,anchorPointY:I.anchorPointY},b.textFeatureIndex=I.featureIndex;break}for(let w=l;w<d;w++){const I=t.get(w);b.verticalTextBox={x1:I.x1,y1:I.y1,x2:I.x2,y2:I.y2,anchorPointX:I.anchorPointX,anchorPointY:I.anchorPointY},b.verticalTextFeatureIndex=I.featureIndex;break}for(let w=p;w<m;w++){const I=t.get(w);b.iconBox={x1:I.x1,y1:I.y1,x2:I.x2,y2:I.y2,anchorPointX:I.anchorPointX,anchorPointY:I.anchorPointY},b.iconFeatureIndex=I.featureIndex;break}for(let w=g;w<x;w++){const I=t.get(w);b.verticalIconBox={x1:I.x1,y1:I.y1,x2:I.x2,y2:I.y2,anchorPointX:I.anchorPointX,anchorPointY:I.anchorPointY},b.verticalIconFeatureIndex=I.featureIndex;break}return b}deserializeCollisionBoxes(t){this.collisionArrays=[];for(let n=0;n<this.symbolInstances.length;n++){const s=this.symbolInstances.get(n);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(t,s.textBoxStartIndex,s.textBoxEndIndex,s.verticalTextBoxStartIndex,s.verticalTextBoxEndIndex,s.iconBoxStartIndex,s.iconBoxEndIndex,s.verticalIconBoxStartIndex,s.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(t,n){const s=t.placedSymbolArray.get(n),l=s.vertexStartIndex+4*s.numGlyphs;for(let d=s.vertexStartIndex;d<l;d+=4)t.indexArray.emplaceBack(d,d+2,d+1),t.indexArray.emplaceBack(d+1,d+2,d+3)}getSortedSymbolIndexes(t){if(this.sortedAngle===t&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const n=Math.sin(t),s=Math.cos(t),l=[],d=[],p=[];for(let m=0;m<this.symbolInstances.length;++m){p.push(m);const g=this.symbolInstances.get(m);l.push(0|Math.round(n*g.anchorX+s*g.anchorY)),d.push(g.featureIndex)}return p.sort((m,g)=>l[m]-l[g]||d[g]-d[m]),p}addToSortKeyRanges(t,n){const s=this.sortKeyRanges[this.sortKeyRanges.length-1];s&&s.sortKey===n?s.symbolInstanceEnd=t+1:this.sortKeyRanges.push({sortKey:n,symbolInstanceStart:t,symbolInstanceEnd:t+1})}sortFeatures(t){if(this.sortFeaturesByY&&this.sortedAngle!==t&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(t),this.sortedAngle=t,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const n of this.symbolInstanceIndexes){const s=this.symbolInstances.get(n);this.featureSortOrder.push(s.featureIndex),[s.rightJustifiedTextSymbolIndex,s.centerJustifiedTextSymbolIndex,s.leftJustifiedTextSymbolIndex].forEach((l,d,p)=>{l>=0&&p.indexOf(l)===d&&this.addIndicesForPlacedSymbol(this.text,l)}),s.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,s.verticalPlacedTextSymbolIndex),s.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,s.placedIconSymbolIndex),s.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,s.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let fd,md;Ue("SymbolBucket",Wo,{omit:["layers","collisionBoxArray","features","compareText"]}),Wo.MAX_GLYPHS=65535,Wo.addDynamicAttributes=Zu;var qu={get paint(){return md=md||new Di({"icon-opacity":new Qe(z.paint_symbol["icon-opacity"]),"icon-color":new Qe(z.paint_symbol["icon-color"]),"icon-halo-color":new Qe(z.paint_symbol["icon-halo-color"]),"icon-halo-width":new Qe(z.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Qe(z.paint_symbol["icon-halo-blur"]),"icon-translate":new We(z.paint_symbol["icon-translate"]),"icon-translate-anchor":new We(z.paint_symbol["icon-translate-anchor"]),"text-opacity":new Qe(z.paint_symbol["text-opacity"]),"text-color":new Qe(z.paint_symbol["text-color"],{runtimeType:nt,getOverride:r=>r.textColor,hasOverride:r=>!!r.textColor}),"text-halo-color":new Qe(z.paint_symbol["text-halo-color"]),"text-halo-width":new Qe(z.paint_symbol["text-halo-width"]),"text-halo-blur":new Qe(z.paint_symbol["text-halo-blur"]),"text-translate":new We(z.paint_symbol["text-translate"]),"text-translate-anchor":new We(z.paint_symbol["text-translate-anchor"])})},get layout(){return fd=fd||new Di({"symbol-placement":new We(z.layout_symbol["symbol-placement"]),"symbol-spacing":new We(z.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new We(z.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Qe(z.layout_symbol["symbol-sort-key"]),"symbol-z-order":new We(z.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new We(z.layout_symbol["icon-allow-overlap"]),"icon-overlap":new We(z.layout_symbol["icon-overlap"]),"icon-ignore-placement":new We(z.layout_symbol["icon-ignore-placement"]),"icon-optional":new We(z.layout_symbol["icon-optional"]),"icon-rotation-alignment":new We(z.layout_symbol["icon-rotation-alignment"]),"icon-size":new Qe(z.layout_symbol["icon-size"]),"icon-text-fit":new We(z.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new We(z.layout_symbol["icon-text-fit-padding"]),"icon-image":new Qe(z.layout_symbol["icon-image"]),"icon-rotate":new Qe(z.layout_symbol["icon-rotate"]),"icon-padding":new Qe(z.layout_symbol["icon-padding"]),"icon-keep-upright":new We(z.layout_symbol["icon-keep-upright"]),"icon-offset":new Qe(z.layout_symbol["icon-offset"]),"icon-anchor":new Qe(z.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new We(z.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new We(z.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new We(z.layout_symbol["text-rotation-alignment"]),"text-field":new Qe(z.layout_symbol["text-field"]),"text-font":new Qe(z.layout_symbol["text-font"]),"text-size":new Qe(z.layout_symbol["text-size"]),"text-max-width":new Qe(z.layout_symbol["text-max-width"]),"text-line-height":new We(z.layout_symbol["text-line-height"]),"text-letter-spacing":new Qe(z.layout_symbol["text-letter-spacing"]),"text-justify":new Qe(z.layout_symbol["text-justify"]),"text-radial-offset":new Qe(z.layout_symbol["text-radial-offset"]),"text-variable-anchor":new We(z.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new Qe(z.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new Qe(z.layout_symbol["text-anchor"]),"text-max-angle":new We(z.layout_symbol["text-max-angle"]),"text-writing-mode":new We(z.layout_symbol["text-writing-mode"]),"text-rotate":new Qe(z.layout_symbol["text-rotate"]),"text-padding":new We(z.layout_symbol["text-padding"]),"text-keep-upright":new We(z.layout_symbol["text-keep-upright"]),"text-transform":new Qe(z.layout_symbol["text-transform"]),"text-offset":new Qe(z.layout_symbol["text-offset"]),"text-allow-overlap":new We(z.layout_symbol["text-allow-overlap"]),"text-overlap":new We(z.layout_symbol["text-overlap"]),"text-ignore-placement":new We(z.layout_symbol["text-ignore-placement"]),"text-optional":new We(z.layout_symbol["text-optional"])})}};class _d{constructor(t){if(t.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=t.property.overrides?t.property.overrides.runtimeType:pt,this.defaultValue=t}evaluate(t){if(t.formattedSection){const n=this.defaultValue.property.overrides;if(n&&n.hasOverride(t.formattedSection))return n.getOverride(t.formattedSection)}return t.feature&&t.featureState?this.defaultValue.evaluate(t.feature,t.featureState):this.defaultValue.property.specification.default}eachChild(t){this.defaultValue.isConstant()||t(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Ue("FormatSectionOverride",_d,{omit:["defaultValue"]});class Ec extends Ii{constructor(t){super(t,qu)}recalculate(t,n){if(super.recalculate(t,n),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const s=this.layout.get("text-writing-mode");if(s){const l=[];for(const d of s)l.indexOf(d)<0&&l.push(d);this.layout._values["text-writing-mode"]=l}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(t,n,s,l){const d=this.layout.get(t).evaluate(n,{},s,l),p=this._unevaluatedLayout._values[t];return p.isDataDriven()||Bs(p.value)||!d?d:function(m,g){return g.replace(/{([^{}]+)}/g,(x,b)=>m&&b in m?String(m[b]):"")}(n.properties,d)}createBucket(t){return new Wo(t)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const t of qu.paint.overridableProperties){if(!Ec.hasPaintOverride(this.layout,t))continue;const n=this.paint.get(t),s=new _d(n),l=new ss(s,n.property.specification);let d=null;d=n.value.kind==="constant"||n.value.kind==="source"?new Sa("source",l):new Ma("composite",l,n.value.zoomStops),this.paint._values[t]=new gr(n.property,d,n.parameters)}}_handleOverridablePaintPropertyUpdate(t,n,s){return!(!this.layout||n.isDataDriven()||s.isDataDriven())&&Ec.hasPaintOverride(this.layout,t)}static hasPaintOverride(t,n){const s=t.get("text-field"),l=qu.paint.properties[n];let d=!1;const p=m=>{for(const g of m)if(l.overrides&&l.overrides.hasOverride(g))return void(d=!0)};if(s.value.kind==="constant"&&s.value.value instanceof Mi)p(s.value.value.sections);else if(s.value.kind==="source"){const m=x=>{d||(x instanceof Wr&&Bt(x.value)===At?p(x.value.sections):x instanceof Jn?p(x.sections):x.eachChild(m))},g=s.value;g._styleExpression&&m(g._styleExpression.expression)}return d}}let gd;var Jf={get paint(){return gd=gd||new Di({"background-color":new We(z.paint_background["background-color"]),"background-pattern":new Va(z.paint_background["background-pattern"]),"background-opacity":new We(z.paint_background["background-opacity"])})}};class Qf extends Ii{constructor(t){super(t,Jf)}}let yd;var em={get paint(){return yd=yd||new Di({"raster-opacity":new We(z.paint_raster["raster-opacity"]),"raster-hue-rotate":new We(z.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new We(z.paint_raster["raster-brightness-min"]),"raster-brightness-max":new We(z.paint_raster["raster-brightness-max"]),"raster-saturation":new We(z.paint_raster["raster-saturation"]),"raster-contrast":new We(z.paint_raster["raster-contrast"]),"raster-resampling":new We(z.paint_raster["raster-resampling"]),"raster-fade-duration":new We(z.paint_raster["raster-fade-duration"])})}};class tm extends Ii{constructor(t){super(t,em)}}class im extends Ii{constructor(t){super(t,{}),this.onAdd=n=>{this.implementation.onAdd&&this.implementation.onAdd(n,n.painter.context.gl)},this.onRemove=n=>{this.implementation.onRemove&&this.implementation.onRemove(n,n.painter.context.gl)},this.implementation=t}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class rm{constructor(t){this._methodToThrottle=t,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._methodToThrottle()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._methodToThrottle()},0))}remove(){delete this._channel,this._methodToThrottle=()=>{}}}const nm={once:!0},Hu=63710088e-1;class gs{constructor(t,n){if(isNaN(t)||isNaN(n))throw new Error(`Invalid LngLat object: (${t}, ${n})`);if(this.lng=+t,this.lat=+n,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new gs(Gi(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(t){const n=Math.PI/180,s=this.lat*n,l=t.lat*n,d=Math.sin(s)*Math.sin(l)+Math.cos(s)*Math.cos(l)*Math.cos((t.lng-this.lng)*n);return Hu*Math.acos(Math.min(d,1))}static convert(t){if(t instanceof gs)return t;if(Array.isArray(t)&&(t.length===2||t.length===3))return new gs(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&typeof t=="object"&&t!==null)return new gs(Number("lng"in t?t.lng:t.lon),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const xd=2*Math.PI*Hu;function vd(r){return xd*Math.cos(r*Math.PI/180)}function bd(r){return(180+r)/360}function wd(r){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+r*Math.PI/360)))/360}function Td(r,t){return r/vd(t)}function Wu(r){return 360/Math.PI*Math.atan(Math.exp((180-360*r)*Math.PI/180))-90}function Pd(r,t){return r*vd(Wu(t))}class hl{constructor(t,n,s=0){this.x=+t,this.y=+n,this.z=+s}static fromLngLat(t,n=0){const s=gs.convert(t);return new hl(bd(s.lng),wd(s.lat),Td(n,s.lat))}toLngLat(){return new gs(360*this.x-180,Wu(this.y))}toAltitude(){return Pd(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/xd*(t=Wu(this.y),1/Math.cos(t*Math.PI/180));var t}}function Sd(r,t,n){var s=2*Math.PI*6378137/256/Math.pow(2,n);return[r*s-2*Math.PI*6378137/2,t*s-2*Math.PI*6378137/2]}class Ku{constructor(t,n,s){if(!function(l,d,p){return!(l<0||l>25||p<0||p>=Math.pow(2,l)||d<0||d>=Math.pow(2,l))}(t,n,s))throw new Error(`x=${n}, y=${s}, z=${t} outside of bounds. 0<=x<${Math.pow(2,t)}, 0<=y<${Math.pow(2,t)} 0<=z<=25 `);this.z=t,this.x=n,this.y=s,this.key=Ko(0,t,t,n,s)}equals(t){return this.z===t.z&&this.x===t.x&&this.y===t.y}url(t,n,s){const l=(p=this.y,m=this.z,g=Sd(256*(d=this.x),256*(p=Math.pow(2,m)-p-1),m),x=Sd(256*(d+1),256*(p+1),m),g[0]+","+g[1]+","+x[0]+","+x[1]);var d,p,m,g,x;const b=function(w,I,A){let k,L="";for(let N=w;N>0;N--)k=1<<N-1,L+=(I&k?1:0)+(A&k?2:0);return L}(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(s==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,n>1?"@2x":"").replace(/{quadkey}/g,b).replace(/{bbox-epsg-3857}/g,l)}isChildOf(t){const n=this.z-t.z;return n>0&&t.x===this.x>>n&&t.y===this.y>>n}getTilePoint(t){const n=Math.pow(2,this.z);return new Ae((t.x*n-this.x)*bt,(t.y*n-this.y)*bt)}toString(){return`${this.z}/${this.x}/${this.y}`}}class Md{constructor(t,n){this.wrap=t,this.canonical=n,this.key=Ko(t,n.z,n.z,n.x,n.y)}}class or{constructor(t,n,s,l,d){if(this.terrainRttPosMatrix32f=null,t<s)throw new Error(`overscaledZ should be >= z; overscaledZ = ${t}; z = ${s}`);this.overscaledZ=t,this.wrap=n,this.canonical=new Ku(s,+l,+d),this.key=Ko(n,t,s,l,d)}clone(){return new or(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(t){return this.overscaledZ===t.overscaledZ&&this.wrap===t.wrap&&this.canonical.equals(t.canonical)}scaledTo(t){if(t>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${t}; overscaledZ = ${this.overscaledZ}`);const n=this.canonical.z-t;return t>this.canonical.z?new or(t,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new or(t,this.wrap,t,this.canonical.x>>n,this.canonical.y>>n)}calculateScaledKey(t,n){if(t>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${t}; overscaledZ = ${this.overscaledZ}`);const s=this.canonical.z-t;return t>this.canonical.z?Ko(this.wrap*+n,t,this.canonical.z,this.canonical.x,this.canonical.y):Ko(this.wrap*+n,t,t,this.canonical.x>>s,this.canonical.y>>s)}isChildOf(t){if(t.wrap!==this.wrap)return!1;const n=this.canonical.z-t.canonical.z;return t.overscaledZ===0||t.overscaledZ<this.overscaledZ&&t.canonical.x===this.canonical.x>>n&&t.canonical.y===this.canonical.y>>n}children(t){if(this.overscaledZ>=t)return[new or(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const n=this.canonical.z+1,s=2*this.canonical.x,l=2*this.canonical.y;return[new or(n,this.wrap,n,s,l),new or(n,this.wrap,n,s+1,l),new or(n,this.wrap,n,s,l+1),new or(n,this.wrap,n,s+1,l+1)]}isLessThan(t){return this.wrap<t.wrap||!(this.wrap>t.wrap)&&(this.overscaledZ<t.overscaledZ||!(this.overscaledZ>t.overscaledZ)&&(this.canonical.x<t.canonical.x||!(this.canonical.x>t.canonical.x)&&this.canonical.y<t.canonical.y))}wrapped(){return new or(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(t){return new or(this.overscaledZ,t,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new Md(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(t){return this.canonical.getTilePoint(new hl(t.x-this.wrap,t.y))}}function Ko(r,t,n,s,l){(r*=2)<0&&(r=-1*r-1);const d=1<<n;return(d*d*r+d*l+s).toString(36)+n.toString(36)+t.toString(36)}Ue("CanonicalTileID",Ku),Ue("OverscaledTileID",or,{omit:["terrainRttPosMatrix32f"]});class Cd{constructor(t,n,s,l=1,d=1,p=1,m=0){if(this.uid=t,n.height!==n.width)throw new RangeError("DEM tiles must be square");if(s&&!["mapbox","terrarium","custom"].includes(s))return void bi(`"${s}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=n.height;const g=this.dim=n.height-2;switch(this.data=new Uint32Array(n.data.buffer),s){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=l,this.greenFactor=d,this.blueFactor=p,this.baseShift=m;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let x=0;x<g;x++)this.data[this._idx(-1,x)]=this.data[this._idx(0,x)],this.data[this._idx(g,x)]=this.data[this._idx(g-1,x)],this.data[this._idx(x,-1)]=this.data[this._idx(x,0)],this.data[this._idx(x,g)]=this.data[this._idx(x,g-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(g,-1)]=this.data[this._idx(g-1,0)],this.data[this._idx(-1,g)]=this.data[this._idx(0,g-1)],this.data[this._idx(g,g)]=this.data[this._idx(g-1,g-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let x=0;x<g;x++)for(let b=0;b<g;b++){const w=this.get(x,b);w>this.max&&(this.max=w),w<this.min&&(this.min=w)}}get(t,n){const s=new Uint8Array(this.data.buffer),l=4*this._idx(t,n);return this.unpack(s[l],s[l+1],s[l+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(t,n){if(t<-1||t>=this.dim+1||n<-1||n>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(n+1)*this.stride+(t+1)}unpack(t,n,s){return t*this.redFactor+n*this.greenFactor+s*this.blueFactor-this.baseShift}getPixels(){return new sr({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(t,n,s){if(this.dim!==t.dim)throw new Error("dem dimension mismatch");let l=n*this.dim,d=n*this.dim+this.dim,p=s*this.dim,m=s*this.dim+this.dim;switch(n){case-1:l=d-1;break;case 1:d=l+1}switch(s){case-1:p=m-1;break;case 1:m=p+1}const g=-n*this.dim,x=-s*this.dim;for(let b=p;b<m;b++)for(let w=l;w<d;w++)this.data[this._idx(w,b)]=t.data[this._idx(w+g,b+x)]}}Ue("DEMData",Cd);class Id{constructor(t){this._stringToNumber={},this._numberToString=[];for(let n=0;n<t.length;n++){const s=t[n];this._stringToNumber[s]=n,this._numberToString[n]=s}}encode(t){return this._stringToNumber[t]}decode(t){if(t>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${t} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[t]}}class Ed{constructor(t,n,s,l,d){this.type="Feature",this._vectorTileFeature=t,t._z=n,t._x=s,t._y=l,this.properties=t.properties,this.id=d}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(t){this._geometry=t}toJSON(){const t={geometry:this.geometry};for(const n in this)n!=="_geometry"&&n!=="_vectorTileFeature"&&(t[n]=this[n]);return t}}class Ad{constructor(t,n){this.tileID=t,this.x=t.canonical.x,this.y=t.canonical.y,this.z=t.canonical.z,this.grid=new Vs(bt,16,0),this.grid3D=new Vs(bt,16,0),this.featureIndexArray=new H,this.promoteId=n}insert(t,n,s,l,d,p){const m=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(s,l,d);const g=p?this.grid3D:this.grid;for(let x=0;x<n.length;x++){const b=n[x],w=[1/0,1/0,-1/0,-1/0];for(let I=0;I<b.length;I++){const A=b[I];w[0]=Math.min(w[0],A.x),w[1]=Math.min(w[1],A.y),w[2]=Math.max(w[2],A.x),w[3]=Math.max(w[3],A.y)}w[0]<bt&&w[1]<bt&&w[2]>=0&&w[3]>=0&&g.insert(m,w[0],w[1],w[2],w[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new sl.VectorTile(new Bu(this.rawTileData)).layers,this.sourceLayerCoder=new Id(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(t,n,s,l){this.loadVTLayers();const d=t.params,p=bt/t.tileSize/t.scale,m=Ca(d.filter),g=t.queryGeometry,x=t.queryPadding*p,b=kd(g),w=this.grid.query(b.minX-x,b.minY-x,b.maxX+x,b.maxY+x),I=kd(t.cameraQueryGeometry),A=this.grid3D.query(I.minX-x,I.minY-x,I.maxX+x,I.maxY+x,(N,q,ie,W)=>function(E,j,X,fe,Ce){for(const ye of E)if(j<=ye.x&&X<=ye.y&&fe>=ye.x&&Ce>=ye.y)return!0;const me=[new Ae(j,X),new Ae(j,Ce),new Ae(fe,Ce),new Ae(fe,X)];if(E.length>2){for(const ye of me)if(Xs(E,ye))return!0}for(let ye=0;ye<E.length-1;ye++)if(Gp(E[ye],E[ye+1],me))return!0;return!1}(t.cameraQueryGeometry,N-x,q-x,ie+x,W+x));for(const N of A)w.push(N);w.sort(sm);const k={};let L;for(let N=0;N<w.length;N++){const q=w[N];if(q===L)continue;L=q;const ie=this.featureIndexArray.get(q);let W=null;this.loadMatchingFeature(k,ie.bucketIndex,ie.sourceLayerIndex,ie.featureIndex,m,d.layers,d.availableImages,n,s,l,(E,j,X)=>(W||(W=en(E)),j.queryIntersectsFeature({queryGeometry:g,feature:E,featureState:X,geometry:W,zoom:this.z,transform:t.transform,pixelsToTileUnits:p,pixelPosMatrix:t.pixelPosMatrix,unwrappedTileID:this.tileID.toUnwrapped(),getElevation:t.getElevation})))}return k}loadMatchingFeature(t,n,s,l,d,p,m,g,x,b,w){const I=this.bucketLayerIDs[n];if(p&&!I.some(N=>p.has(N)))return;const A=this.sourceLayerCoder.decode(s),k=this.vtLayers[A].feature(l);if(d.needGeometry){const N=tn(k,!0);if(!d.filter(new kt(this.tileID.overscaledZ),N,this.tileID.canonical))return}else if(!d.filter(new kt(this.tileID.overscaledZ),k))return;const L=this.getId(k,A);for(let N=0;N<I.length;N++){const q=I[N];if(p&&!p.has(q))continue;const ie=g[q];if(!ie)continue;let W={};L&&b&&(W=b.getState(ie.sourceLayer||"_geojsonTileLayer",L));const E=fi({},x[q]);E.paint=zd(E.paint,ie.paint,k,W,m),E.layout=zd(E.layout,ie.layout,k,W,m);const j=!w||w(k,ie,W);if(!j)continue;const X=new Ed(k,this.z,this.x,this.y,L);X.layer=E;let fe=t[q];fe===void 0&&(fe=t[q]=[]),fe.push({featureIndex:l,feature:X,intersectionZ:j})}}lookupSymbolFeatures(t,n,s,l,d,p,m,g){const x={};this.loadVTLayers();const b=Ca(d);for(const w of t)this.loadMatchingFeature(x,s,l,w,b,p,m,g,n);return x}hasLayer(t){for(const n of this.bucketLayerIDs)for(const s of n)if(t===s)return!0;return!1}getId(t,n){var s;let l=t.id;return this.promoteId&&(l=t.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[n]],typeof l=="boolean"&&(l=Number(l)),l===void 0&&(!((s=t.properties)===null||s===void 0)&&s.cluster)&&this.promoteId&&(l=Number(t.properties.cluster_id))),l}}function zd(r,t,n,s,l){return un(r,(d,p)=>{const m=t instanceof Gs?t.get(p):null;return m&&m.evaluate?m.evaluate(n,s,l):m})}function kd(r){let t=1/0,n=1/0,s=-1/0,l=-1/0;for(const d of r)t=Math.min(t,d.x),n=Math.min(n,d.y),s=Math.max(s,d.x),l=Math.max(l,d.y);return{minX:t,minY:n,maxX:s,maxY:l}}function sm(r,t){return t-r}function Rd(r,t,n,s,l){const d=[];for(let p=0;p<r.length;p++){const m=r[p];let g;for(let x=0;x<m.length-1;x++){let b=m[x],w=m[x+1];b.x<t&&w.x<t||(b.x<t?b=new Ae(t,b.y+(t-b.x)/(w.x-b.x)*(w.y-b.y))._round():w.x<t&&(w=new Ae(t,b.y+(t-b.x)/(w.x-b.x)*(w.y-b.y))._round()),b.y<n&&w.y<n||(b.y<n?b=new Ae(b.x+(n-b.y)/(w.y-b.y)*(w.x-b.x),n)._round():w.y<n&&(w=new Ae(b.x+(n-b.y)/(w.y-b.y)*(w.x-b.x),n)._round()),b.x>=s&&w.x>=s||(b.x>=s?b=new Ae(s,b.y+(s-b.x)/(w.x-b.x)*(w.y-b.y))._round():w.x>=s&&(w=new Ae(s,b.y+(s-b.x)/(w.x-b.x)*(w.y-b.y))._round()),b.y>=l&&w.y>=l||(b.y>=l?b=new Ae(b.x+(l-b.y)/(w.y-b.y)*(w.x-b.x),l)._round():w.y>=l&&(w=new Ae(b.x+(l-b.y)/(w.y-b.y)*(w.x-b.x),l)._round()),g&&b.equals(g[g.length-1])||(g=[b],d.push(g)),g.push(w)))))}}return d}Ue("FeatureIndex",Ad,{omit:["rawTileData","sourceLayerCoder"]});class ys extends Ae{constructor(t,n,s,l){super(t,n),this.angle=s,l!==void 0&&(this.segment=l)}clone(){return new ys(this.x,this.y,this.angle,this.segment)}}function Dd(r,t,n,s,l){if(t.segment===void 0||n===0)return!0;let d=t,p=t.segment+1,m=0;for(;m>-n/2;){if(p--,p<0)return!1;m-=r[p].dist(d),d=r[p]}m+=r[p].dist(r[p+1]),p++;const g=[];let x=0;for(;m<n/2;){const b=r[p],w=r[p+1];if(!w)return!1;let I=r[p-1].angleTo(b)-b.angleTo(w);for(I=Math.abs((I+3*Math.PI)%(2*Math.PI)-Math.PI),g.push({distance:m,angleDelta:I}),x+=I;m-g[0].distance>s;)x-=g.shift().angleDelta;if(x>l)return!1;p++,m+=b.dist(w)}return!0}function Ld(r){let t=0;for(let n=0;n<r.length-1;n++)t+=r[n].dist(r[n+1]);return t}function Fd(r,t,n){return r?.6*t*n:0}function Bd(r,t){return Math.max(r?r.right-r.left:0,t?t.right-t.left:0)}function om(r,t,n,s,l,d){const p=Fd(n,l,d),m=Bd(n,s)*d;let g=0;const x=Ld(r)/2;for(let b=0;b<r.length-1;b++){const w=r[b],I=r[b+1],A=w.dist(I);if(g+A>x){const k=(x-g)/A,L=rr.number(w.x,I.x,k),N=rr.number(w.y,I.y,k),q=new ys(L,N,I.angleTo(w),b);return q._round(),!p||Dd(r,q,m,p,t)?q:void 0}g+=A}}function am(r,t,n,s,l,d,p,m,g){const x=Fd(s,d,p),b=Bd(s,l),w=b*p,I=r[0].x===0||r[0].x===g||r[0].y===0||r[0].y===g;return t-w<t/4&&(t=w+t/4),Od(r,I?t/2*m%t:(b/2+2*d)*p*m%t,t,x,n,w,I,!1,g)}function Od(r,t,n,s,l,d,p,m,g){const x=d/2,b=Ld(r);let w=0,I=t-n,A=[];for(let k=0;k<r.length-1;k++){const L=r[k],N=r[k+1],q=L.dist(N),ie=N.angleTo(L);for(;I+n<w+q;){I+=n;const W=(I-w)/q,E=rr.number(L.x,N.x,W),j=rr.number(L.y,N.y,W);if(E>=0&&E<g&&j>=0&&j<g&&I-x>=0&&I+x<=b){const X=new ys(E,j,ie,k);X._round(),s&&!Dd(r,X,d,s,l)||A.push(X)}}w+=q}return m||A.length||p||(A=Od(r,w/2,n,s,l,d,p,!0,g)),A}Ue("Anchor",ys);const dl=Vi;function jd(r,t,n,s){const l=[],d=r.image,p=d.pixelRatio,m=d.paddedRect.w-2*dl,g=d.paddedRect.h-2*dl;let x={x1:r.left,y1:r.top,x2:r.right,y2:r.bottom};const b=d.stretchX||[[0,m]],w=d.stretchY||[[0,g]],I=(we,Ze)=>we+Ze[1]-Ze[0],A=b.reduce(I,0),k=w.reduce(I,0),L=m-A,N=g-k;let q=0,ie=A,W=0,E=k,j=0,X=L,fe=0,Ce=N;if(d.content&&s){const we=d.content,Ze=we[2]-we[0],Je=we[3]-we[1];(d.textFitWidth||d.textFitHeight)&&(x=hd(r)),q=Ac(b,0,we[0]),W=Ac(w,0,we[1]),ie=Ac(b,we[0],we[2]),E=Ac(w,we[1],we[3]),j=we[0]-q,fe=we[1]-W,X=Ze-ie,Ce=Je-E}const me=x.x1,ye=x.y1,ze=x.x2-me,Ie=x.y2-ye,ke=(we,Ze,Je,Xe)=>{const He=zc(we.stretch-q,ie,ze,me),ht=kc(we.fixed-j,X,we.stretch,A),qt=zc(Ze.stretch-W,E,Ie,ye),ai=kc(Ze.fixed-fe,Ce,Ze.stretch,k),Si=zc(Je.stretch-q,ie,ze,me),ar=kc(Je.fixed-j,X,Je.stretch,A),Ui=zc(Xe.stretch-W,E,Ie,ye),gi=kc(Xe.fixed-fe,Ce,Xe.stretch,k),Nt=new Ae(He,qt),ui=new Ae(Si,qt),yi=new Ae(Si,Ui),xi=new Ae(He,Ui),Fi=new Ae(ht/p,ai/p),lr=new Ae(ar/p,gi/p),hi=t*Math.PI/180;if(hi){const di=Math.sin(hi),pi=Math.cos(hi),ei=[pi,-di,di,pi];Nt._matMult(ei),ui._matMult(ei),xi._matMult(ei),yi._matMult(ei)}const Zi=we.stretch+we.fixed,li=Ze.stretch+Ze.fixed;return{tl:Nt,tr:ui,bl:xi,br:yi,tex:{x:d.paddedRect.x+dl+Zi,y:d.paddedRect.y+dl+li,w:Je.stretch+Je.fixed-Zi,h:Xe.stretch+Xe.fixed-li},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Fi,pixelOffsetBR:lr,minFontScaleX:X/p/ze,minFontScaleY:Ce/p/Ie,isSDF:n}};if(s&&(d.stretchX||d.stretchY)){const we=Nd(b,L,A),Ze=Nd(w,N,k);for(let Je=0;Je<we.length-1;Je++){const Xe=we[Je],He=we[Je+1];for(let ht=0;ht<Ze.length-1;ht++)l.push(ke(Xe,Ze[ht],He,Ze[ht+1]))}}else l.push(ke({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:m+1},{fixed:0,stretch:g+1}));return l}function Ac(r,t,n){let s=0;for(const l of r)s+=Math.max(t,Math.min(n,l[1]))-Math.max(t,Math.min(n,l[0]));return s}function Nd(r,t,n){const s=[{fixed:-1,stretch:0}];for(const[l,d]of r){const p=s[s.length-1];s.push({fixed:l-p.stretch,stretch:p.stretch}),s.push({fixed:l-p.stretch,stretch:p.stretch+(d-l)})}return s.push({fixed:t+dl,stretch:n}),s}function zc(r,t,n,s){return r/t*n+s}function kc(r,t,n,s){return r-t*n/s}class Rc{constructor(t,n,s,l,d,p,m,g,x,b){var w;if(this.boxStartIndex=t.length,x){let I=p.top,A=p.bottom;const k=p.collisionPadding;k&&(I-=k[1],A+=k[3]);let L=A-I;L>0&&(L=Math.max(10,L),this.circleDiameter=L)}else{const I=!((w=p.image)===null||w===void 0)&&w.content&&(p.image.textFitWidth||p.image.textFitHeight)?hd(p):{x1:p.left,y1:p.top,x2:p.right,y2:p.bottom};I.y1=I.y1*m-g[0],I.y2=I.y2*m+g[2],I.x1=I.x1*m-g[3],I.x2=I.x2*m+g[1];const A=p.collisionPadding;if(A&&(I.x1-=A[0]*m,I.y1-=A[1]*m,I.x2+=A[2]*m,I.y2+=A[3]*m),b){const k=new Ae(I.x1,I.y1),L=new Ae(I.x2,I.y1),N=new Ae(I.x1,I.y2),q=new Ae(I.x2,I.y2),ie=b*Math.PI/180;k._rotate(ie),L._rotate(ie),N._rotate(ie),q._rotate(ie),I.x1=Math.min(k.x,L.x,N.x,q.x),I.x2=Math.max(k.x,L.x,N.x,q.x),I.y1=Math.min(k.y,L.y,N.y,q.y),I.y2=Math.max(k.y,L.y,N.y,q.y)}t.emplaceBack(n.x,n.y,I.x1,I.y1,I.x2,I.y2,s,l,d)}this.boxEndIndex=t.length}}class lm{constructor(t=[],n=(s,l)=>s<l?-1:s>l?1:0){if(this.data=t,this.length=this.data.length,this.compare=n,this.length>0)for(let s=(this.length>>1)-1;s>=0;s--)this._down(s)}push(t){this.data.push(t),this._up(this.length++)}pop(){if(this.length===0)return;const t=this.data[0],n=this.data.pop();return--this.length>0&&(this.data[0]=n,this._down(0)),t}peek(){return this.data[0]}_up(t){const{data:n,compare:s}=this,l=n[t];for(;t>0;){const d=t-1>>1,p=n[d];if(s(l,p)>=0)break;n[t]=p,t=d}n[t]=l}_down(t){const{data:n,compare:s}=this,l=this.length>>1,d=n[t];for(;t<l;){let p=1+(t<<1);const m=p+1;if(m<this.length&&s(n[m],n[p])<0&&(p=m),s(n[p],d)>=0)break;n[t]=n[p],t=p}n[t]=d}}function cm(r,t=1,n=!1){let s=1/0,l=1/0,d=-1/0,p=-1/0;const m=r[0];for(let A=0;A<m.length;A++){const k=m[A];(!A||k.x<s)&&(s=k.x),(!A||k.y<l)&&(l=k.y),(!A||k.x>d)&&(d=k.x),(!A||k.y>p)&&(p=k.y)}const g=Math.min(d-s,p-l);let x=g/2;const b=new lm([],um);if(g===0)return new Ae(s,l);for(let A=s;A<d;A+=g)for(let k=l;k<p;k+=g)b.push(new Xo(A+x,k+x,x,r));let w=function(A){let k=0,L=0,N=0;const q=A[0];for(let ie=0,W=q.length,E=W-1;ie<W;E=ie++){const j=q[ie],X=q[E],fe=j.x*X.y-X.x*j.y;L+=(j.x+X.x)*fe,N+=(j.y+X.y)*fe,k+=3*fe}return new Xo(L/k,N/k,0,A)}(r),I=b.length;for(;b.length;){const A=b.pop();(A.d>w.d||!w.d)&&(w=A,n&&console.log("found best %d after %d probes",Math.round(1e4*A.d)/1e4,I)),A.max-w.d<=t||(x=A.h/2,b.push(new Xo(A.p.x-x,A.p.y-x,x,r)),b.push(new Xo(A.p.x+x,A.p.y-x,x,r)),b.push(new Xo(A.p.x-x,A.p.y+x,x,r)),b.push(new Xo(A.p.x+x,A.p.y+x,x,r)),I+=4)}return n&&(console.log(`num probes: ${I}`),console.log(`best distance: ${w.d}`)),w.p}function um(r,t){return t.max-r.max}function Xo(r,t,n,s){this.p=new Ae(r,t),this.h=n,this.d=function(l,d){let p=!1,m=1/0;for(let g=0;g<d.length;g++){const x=d[g];for(let b=0,w=x.length,I=w-1;b<w;I=b++){const A=x[b],k=x[I];A.y>l.y!=k.y>l.y&&l.x<(k.x-A.x)*(l.y-A.y)/(k.y-A.y)+A.x&&(p=!p),m=Math.min(m,vh(l,A,k))}}return(p?1:-1)*Math.sqrt(m)}(this.p,s),this.max=this.d+this.h*Math.SQRT2}var Pi;P.ay=void 0,(Pi=P.ay||(P.ay={}))[Pi.center=1]="center",Pi[Pi.left=2]="left",Pi[Pi.right=3]="right",Pi[Pi.top=4]="top",Pi[Pi.bottom=5]="bottom",Pi[Pi["top-left"]=6]="top-left",Pi[Pi["top-right"]=7]="top-right",Pi[Pi["bottom-left"]=8]="bottom-left",Pi[Pi["bottom-right"]=9]="bottom-right";const xs=7,Xu=Number.POSITIVE_INFINITY;function Vd(r,t){return t[1]!==Xu?function(n,s,l){let d=0,p=0;switch(s=Math.abs(s),l=Math.abs(l),n){case"top-right":case"top-left":case"top":p=l-xs;break;case"bottom-right":case"bottom-left":case"bottom":p=-l+xs}switch(n){case"top-right":case"bottom-right":case"right":d=-s;break;case"top-left":case"bottom-left":case"left":d=s}return[d,p]}(r,t[0],t[1]):function(n,s){let l=0,d=0;s<0&&(s=0);const p=s/Math.SQRT2;switch(n){case"top-right":case"top-left":d=p-xs;break;case"bottom-right":case"bottom-left":d=-p+xs;break;case"bottom":d=-s+xs;break;case"top":d=s-xs}switch(n){case"top-right":case"bottom-right":l=-p;break;case"top-left":case"bottom-left":l=p;break;case"left":l=s;break;case"right":l=-s}return[l,d]}(r,t[0])}function Ud(r,t,n){var s;const l=r.layout,d=(s=l.get("text-variable-anchor-offset"))===null||s===void 0?void 0:s.evaluate(t,{},n);if(d){const m=d.values,g=[];for(let x=0;x<m.length;x+=2){const b=g[x]=m[x],w=m[x+1].map(I=>I*oi);b.startsWith("top")?w[1]-=xs:b.startsWith("bottom")&&(w[1]+=xs),g[x+1]=w}return new Ci(g)}const p=l.get("text-variable-anchor");if(p){let m;m=r._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[l.get("text-radial-offset").evaluate(t,{},n)*oi,Xu]:l.get("text-offset").evaluate(t,{},n).map(x=>x*oi);const g=[];for(const x of p)g.push(x,Vd(x,m));return new Ci(g)}return null}function Yu(r){switch(r){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function hm(r,t,n,s,l,d,p,m,g,x,b,w){let I=d.textMaxSize.evaluate(t,{});I===void 0&&(I=p);const A=r.layers[0].layout,k=A.get("icon-offset").evaluate(t,{},b),L=$d(n.horizontal),N=p/24,q=r.tilePixelRatio*N,ie=r.tilePixelRatio*I/24,W=r.tilePixelRatio*m,E=r.tilePixelRatio*A.get("symbol-spacing"),j=A.get("text-padding")*r.tilePixelRatio,X=function(Je,Xe,He,ht=1){const qt=Je.get("icon-padding").evaluate(Xe,{},He),ai=qt&&qt.values;return[ai[0]*ht,ai[1]*ht,ai[2]*ht,ai[3]*ht]}(A,t,b,r.tilePixelRatio),fe=A.get("text-max-angle")/180*Math.PI,Ce=A.get("text-rotation-alignment")!=="viewport"&&A.get("symbol-placement")!=="point",me=A.get("icon-rotation-alignment")==="map"&&A.get("symbol-placement")!=="point",ye=A.get("symbol-placement"),ze=E/2,Ie=A.get("icon-text-fit");let ke;s&&Ie!=="none"&&(r.allowVerticalPlacement&&n.vertical&&(ke=dd(s,n.vertical,Ie,A.get("icon-text-fit-padding"),k,N)),L&&(s=dd(s,L,Ie,A.get("icon-text-fit-padding"),k,N)));const we=b?w.line.getGranularityForZoomLevel(b.z):1,Ze=(Je,Xe)=>{Xe.x<0||Xe.x>=bt||Xe.y<0||Xe.y>=bt||function(He,ht,qt,ai,Si,ar,Ui,gi,Nt,ui,yi,xi,Fi,lr,hi,Zi,li,di,pi,ei,Dt,Rr,Yo,Dr,fm){const Jo=He.addToLineVertexArray(ht,qt);let Qs,Qo,ea,ta,Wd=0,Kd=0,Xd=0,Yd=0,sh=-1,oh=-1;const Dn={};let Jd=Ar("");if(He.allowVerticalPlacement&&ai.vertical){const Ei=gi.layout.get("text-rotate").evaluate(Dt,{},Dr)+90;ea=new Rc(Nt,ht,ui,yi,xi,ai.vertical,Fi,lr,hi,Ei),Ui&&(ta=new Rc(Nt,ht,ui,yi,xi,Ui,li,di,hi,Ei))}if(Si){const Ei=gi.layout.get("icon-rotate").evaluate(Dt,{}),cr=gi.layout.get("icon-text-fit")!=="none",eo=jd(Si,Ei,Yo,cr),Fr=Ui?jd(Ui,Ei,Yo,cr):void 0;Qo=new Rc(Nt,ht,ui,yi,xi,Si,li,di,!1,Ei),Wd=4*eo.length;const to=He.iconSizeData;let nn=null;to.kind==="source"?(nn=[rn*gi.layout.get("icon-size").evaluate(Dt,{})],nn[0]>_s&&bi(`${He.layerIds[0]}: Value for "icon-size" is >= ${ul}. Reduce your "icon-size".`)):to.kind==="composite"&&(nn=[rn*Rr.compositeIconSizes[0].evaluate(Dt,{},Dr),rn*Rr.compositeIconSizes[1].evaluate(Dt,{},Dr)],(nn[0]>_s||nn[1]>_s)&&bi(`${He.layerIds[0]}: Value for "icon-size" is >= ${ul}. Reduce your "icon-size".`)),He.addSymbols(He.icon,eo,nn,ei,pi,Dt,P.ah.none,ht,Jo.lineStartIndex,Jo.lineLength,-1,Dr),sh=He.icon.placedSymbolArray.length-1,Fr&&(Kd=4*Fr.length,He.addSymbols(He.icon,Fr,nn,ei,pi,Dt,P.ah.vertical,ht,Jo.lineStartIndex,Jo.lineLength,-1,Dr),oh=He.icon.placedSymbolArray.length-1)}const Qd=Object.keys(ai.horizontal);for(const Ei of Qd){const cr=ai.horizontal[Ei];if(!Qs){Jd=Ar(cr.text);const Fr=gi.layout.get("text-rotate").evaluate(Dt,{},Dr);Qs=new Rc(Nt,ht,ui,yi,xi,cr,Fi,lr,hi,Fr)}const eo=cr.positionedLines.length===1;if(Xd+=Zd(He,ht,cr,ar,gi,hi,Dt,Zi,Jo,ai.vertical?P.ah.horizontal:P.ah.horizontalOnly,eo?Qd:[Ei],Dn,sh,Rr,Dr),eo)break}ai.vertical&&(Yd+=Zd(He,ht,ai.vertical,ar,gi,hi,Dt,Zi,Jo,P.ah.vertical,["vertical"],Dn,oh,Rr,Dr));const mm=Qs?Qs.boxStartIndex:He.collisionBoxArray.length,_m=Qs?Qs.boxEndIndex:He.collisionBoxArray.length,gm=ea?ea.boxStartIndex:He.collisionBoxArray.length,ym=ea?ea.boxEndIndex:He.collisionBoxArray.length,xm=Qo?Qo.boxStartIndex:He.collisionBoxArray.length,vm=Qo?Qo.boxEndIndex:He.collisionBoxArray.length,bm=ta?ta.boxStartIndex:He.collisionBoxArray.length,wm=ta?ta.boxEndIndex:He.collisionBoxArray.length;let Lr=-1;const Lc=(Ei,cr)=>Ei&&Ei.circleDiameter?Math.max(Ei.circleDiameter,cr):cr;Lr=Lc(Qs,Lr),Lr=Lc(ea,Lr),Lr=Lc(Qo,Lr),Lr=Lc(ta,Lr);const ep=Lr>-1?1:0;ep&&(Lr*=fm/oi),He.glyphOffsetArray.length>=Wo.MAX_GLYPHS&&bi("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Dt.sortKey!==void 0&&He.addToSortKeyRanges(He.symbolInstances.length,Dt.sortKey);const Tm=Ud(gi,Dt,Dr),[Pm,Sm]=function(Ei,cr){const eo=Ei.length,Fr=cr==null?void 0:cr.values;if((Fr==null?void 0:Fr.length)>0)for(let to=0;to<Fr.length;to+=2){const nn=Fr[to+1];Ei.emplaceBack(P.ay[Fr[to]],nn[0],nn[1])}return[eo,Ei.length]}(He.textAnchorOffsets,Tm);He.symbolInstances.emplaceBack(ht.x,ht.y,Dn.right>=0?Dn.right:-1,Dn.center>=0?Dn.center:-1,Dn.left>=0?Dn.left:-1,Dn.vertical||-1,sh,oh,Jd,mm,_m,gm,ym,xm,vm,bm,wm,ui,Xd,Yd,Wd,Kd,ep,0,Fi,Lr,Pm,Sm)}(r,Xe,Je,n,s,l,ke,r.layers[0],r.collisionBoxArray,t.index,t.sourceLayerIndex,r.index,q,[j,j,j,j],Ce,g,W,X,me,k,t,d,x,b,p)};if(ye==="line")for(const Je of Rd(t.geometry,0,0,bt,bt)){const Xe=Js(Je,we),He=am(Xe,E,fe,n.vertical||L,s,24,ie,r.overscaling,bt);for(const ht of He)L&&dm(r,L.text,ze,ht)||Ze(Xe,ht)}else if(ye==="line-center"){for(const Je of t.geometry)if(Je.length>1){const Xe=Js(Je,we),He=om(Xe,fe,n.vertical||L,s,24,ie);He&&Ze(Xe,He)}}else if(t.type==="Polygon")for(const Je of Ds(t.geometry,0)){const Xe=cm(Je,16);Ze(Js(Je[0],we,!0),new ys(Xe.x,Xe.y,0))}else if(t.type==="LineString")for(const Je of t.geometry){const Xe=Js(Je,we);Ze(Xe,new ys(Xe[0].x,Xe[0].y,0))}else if(t.type==="Point")for(const Je of t.geometry)for(const Xe of Je)Ze([Xe],new ys(Xe.x,Xe.y,0))}function Zd(r,t,n,s,l,d,p,m,g,x,b,w,I,A,k){const L=function(ie,W,E,j,X,fe,Ce,me){const ye=j.layout.get("text-rotate").evaluate(fe,{})*Math.PI/180,ze=[];for(const Ie of W.positionedLines)for(const ke of Ie.positionedGlyphs){if(!ke.rect)continue;const we=ke.rect||{};let Ze=jf+1,Je=!0,Xe=1,He=0;const ht=(X||me)&&ke.vertical,qt=ke.metrics.advance*ke.scale/2;if(me&&W.verticalizable&&(He=Ie.lineOffset/2-(ke.imageName?-(oi-ke.metrics.width*ke.scale)/2:(ke.scale-1)*oi)),ke.imageName){const di=Ce[ke.imageName];Je=di.sdf,Xe=di.pixelRatio,Ze=Vi/Xe}const ai=X?[ke.x+qt,ke.y]:[0,0];let Si=X?[0,0]:[ke.x+qt+E[0],ke.y+E[1]-He],ar=[0,0];ht&&(ar=Si,Si=[0,0]);const Ui=ke.metrics.isDoubleResolution?2:1,gi=(ke.metrics.left-Ze)*ke.scale-qt+Si[0],Nt=(-ke.metrics.top-Ze)*ke.scale+Si[1],ui=gi+we.w/Ui*ke.scale/Xe,yi=Nt+we.h/Ui*ke.scale/Xe,xi=new Ae(gi,Nt),Fi=new Ae(ui,Nt),lr=new Ae(gi,yi),hi=new Ae(ui,yi);if(ht){const di=new Ae(-qt,qt-Sc),pi=-Math.PI/2,ei=oi/2-qt,Dt=new Ae(5-Sc-ei,-(ke.imageName?ei:0)),Rr=new Ae(...ar);xi._rotateAround(pi,di)._add(Dt)._add(Rr),Fi._rotateAround(pi,di)._add(Dt)._add(Rr),lr._rotateAround(pi,di)._add(Dt)._add(Rr),hi._rotateAround(pi,di)._add(Dt)._add(Rr)}if(ye){const di=Math.sin(ye),pi=Math.cos(ye),ei=[pi,-di,di,pi];xi._matMult(ei),Fi._matMult(ei),lr._matMult(ei),hi._matMult(ei)}const Zi=new Ae(0,0),li=new Ae(0,0);ze.push({tl:xi,tr:Fi,bl:lr,br:hi,tex:we,writingMode:W.writingMode,glyphOffset:ai,sectionIndex:ke.sectionIndex,isSDF:Je,pixelOffsetTL:Zi,pixelOffsetBR:li,minFontScaleX:0,minFontScaleY:0})}return ze}(0,n,m,l,d,p,s,r.allowVerticalPlacement),N=r.textSizeData;let q=null;N.kind==="source"?(q=[rn*l.layout.get("text-size").evaluate(p,{})],q[0]>_s&&bi(`${r.layerIds[0]}: Value for "text-size" is >= ${ul}. Reduce your "text-size".`)):N.kind==="composite"&&(q=[rn*A.compositeTextSizes[0].evaluate(p,{},k),rn*A.compositeTextSizes[1].evaluate(p,{},k)],(q[0]>_s||q[1]>_s)&&bi(`${r.layerIds[0]}: Value for "text-size" is >= ${ul}. Reduce your "text-size".`)),r.addSymbols(r.text,L,q,m,d,p,x,t,g.lineStartIndex,g.lineLength,I,k);for(const ie of b)w[ie]=r.text.placedSymbolArray.length-1;return 4*L.length}function $d(r){for(const t in r)return r[t];return null}function dm(r,t,n,s){const l=r.compareText;if(t in l){const d=l[t];for(let p=d.length-1;p>=0;p--)if(s.dist(d[p])<n)return!0}else l[t]=[];return l[t].push(s),!1}const Gd=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class Ju{static from(t){if(!(t instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[n,s]=new Uint8Array(t,0,2);if(n!==219)throw new Error("Data does not appear to be in a KDBush format.");const l=s>>4;if(l!==1)throw new Error(`Got v${l} data when expected v1.`);const d=Gd[15&s];if(!d)throw new Error("Unrecognized array type.");const[p]=new Uint16Array(t,2,1),[m]=new Uint32Array(t,4,1);return new Ju(m,p,d,t)}constructor(t,n=64,s=Float64Array,l){if(isNaN(t)||t<0)throw new Error(`Unpexpected numItems value: ${t}.`);this.numItems=+t,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=s,this.IndexArrayType=t<65536?Uint16Array:Uint32Array;const d=Gd.indexOf(this.ArrayType),p=2*t*this.ArrayType.BYTES_PER_ELEMENT,m=t*this.IndexArrayType.BYTES_PER_ELEMENT,g=(8-m%8)%8;if(d<0)throw new Error(`Unexpected typed array class: ${s}.`);l&&l instanceof ArrayBuffer?(this.data=l,this.ids=new this.IndexArrayType(this.data,8,t),this.coords=new this.ArrayType(this.data,8+m+g,2*t),this._pos=2*t,this._finished=!0):(this.data=new ArrayBuffer(8+p+m+g),this.ids=new this.IndexArrayType(this.data,8,t),this.coords=new this.ArrayType(this.data,8+m+g,2*t),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+d]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=t)}add(t,n){const s=this._pos>>1;return this.ids[s]=s,this.coords[this._pos++]=t,this.coords[this._pos++]=n,s}finish(){const t=this._pos>>1;if(t!==this.numItems)throw new Error(`Added ${t} items when expected ${this.numItems}.`);return Qu(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(t,n,s,l){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:d,coords:p,nodeSize:m}=this,g=[0,d.length-1,0],x=[];for(;g.length;){const b=g.pop()||0,w=g.pop()||0,I=g.pop()||0;if(w-I<=m){for(let N=I;N<=w;N++){const q=p[2*N],ie=p[2*N+1];q>=t&&q<=s&&ie>=n&&ie<=l&&x.push(d[N])}continue}const A=I+w>>1,k=p[2*A],L=p[2*A+1];k>=t&&k<=s&&L>=n&&L<=l&&x.push(d[A]),(b===0?t<=k:n<=L)&&(g.push(I),g.push(A-1),g.push(1-b)),(b===0?s>=k:l>=L)&&(g.push(A+1),g.push(w),g.push(1-b))}return x}within(t,n,s){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:l,coords:d,nodeSize:p}=this,m=[0,l.length-1,0],g=[],x=s*s;for(;m.length;){const b=m.pop()||0,w=m.pop()||0,I=m.pop()||0;if(w-I<=p){for(let N=I;N<=w;N++)Hd(d[2*N],d[2*N+1],t,n)<=x&&g.push(l[N]);continue}const A=I+w>>1,k=d[2*A],L=d[2*A+1];Hd(k,L,t,n)<=x&&g.push(l[A]),(b===0?t-s<=k:n-s<=L)&&(m.push(I),m.push(A-1),m.push(1-b)),(b===0?t+s>=k:n+s>=L)&&(m.push(A+1),m.push(w),m.push(1-b))}return g}}function Qu(r,t,n,s,l,d){if(l-s<=n)return;const p=s+l>>1;qd(r,t,p,s,l,d),Qu(r,t,n,s,p-1,1-d),Qu(r,t,n,p+1,l,1-d)}function qd(r,t,n,s,l,d){for(;l>s;){if(l-s>600){const x=l-s+1,b=n-s+1,w=Math.log(x),I=.5*Math.exp(2*w/3),A=.5*Math.sqrt(w*I*(x-I)/x)*(b-x/2<0?-1:1);qd(r,t,n,Math.max(s,Math.floor(n-b*I/x+A)),Math.min(l,Math.floor(n+(x-b)*I/x+A)),d)}const p=t[2*n+d];let m=s,g=l;for(pl(r,t,s,n),t[2*l+d]>p&&pl(r,t,s,l);m<g;){for(pl(r,t,m,g),m++,g--;t[2*m+d]<p;)m++;for(;t[2*g+d]>p;)g--}t[2*s+d]===p?pl(r,t,s,g):(g++,pl(r,t,g,l)),g<=n&&(s=g+1),n<=g&&(l=g-1)}}function pl(r,t,n,s){eh(r,n,s),eh(t,2*n,2*s),eh(t,2*n+1,2*s+1)}function eh(r,t,n){const s=r[t];r[t]=r[n],r[n]=s}function Hd(r,t,n,s){const l=r-n,d=t-s;return l*l+d*d}var th;P.ck=void 0,(th=P.ck||(P.ck={})).create="create",th.load="load",th.fullLoad="fullLoad";let Dc=null,fl=[];const ih=1e3/60,rh="loadTime",nh="fullLoadTime",pm={mark(r){performance.mark(r)},frame(r){const t=r;Dc!=null&&fl.push(t-Dc),Dc=t},clearMetrics(){Dc=null,fl=[],performance.clearMeasures(rh),performance.clearMeasures(nh);for(const r in P.ck)performance.clearMarks(P.ck[r])},getPerformanceMetrics(){performance.measure(rh,P.ck.create,P.ck.load),performance.measure(nh,P.ck.create,P.ck.fullLoad);const r=performance.getEntriesByName(rh)[0].duration,t=performance.getEntriesByName(nh)[0].duration,n=fl.length,s=1/(fl.reduce((d,p)=>d+p,0)/n/1e3),l=fl.filter(d=>d>ih).reduce((d,p)=>d+(p-ih)/ih,0);return{loadTime:r,fullLoadTime:t,fps:s,percentDroppedFrames:l/(n+l)*100,totalFrames:n}}};P.$=hl,P.A=yt,P.B=rr,P.C=kt,P.D=We,P.E=O,P.F=hu,P.G=function(r){if(Ht==null){const t=r.navigator?r.navigator.userAgent:null;Ht=!!r.safari||!(!t||!(/\b(iPad|iPhone|iPod)\b/.test(t)||t.match("Safari")&&!t.match("Chrome")))}return Ht},P.H=class{constructor(r,t){this.target=r,this.mapId=t,this.resolveRejects={},this.tasks={},this.taskQueue=[],this.abortControllers={},this.messageHandlers={},this.invoker=new rm(()=>this.process()),this.subscription=Qi(this.target,"message",n=>this.receive(n),!1),this.globalScope=br(self)?r:window}registerMessageHandler(r,t){this.messageHandlers[r]=t}sendAsync(r,t){return new Promise((n,s)=>{const l=Math.round(1e18*Math.random()).toString(36).substring(0,10),d=t?Qi(t.signal,"abort",()=>{d==null||d.unsubscribe(),delete this.resolveRejects[l];const g={id:l,type:"<cancel>",origin:location.origin,targetMapId:r.targetMapId,sourceMapId:this.mapId};this.target.postMessage(g)},nm):null;this.resolveRejects[l]={resolve:g=>{d==null||d.unsubscribe(),n(g)},reject:g=>{d==null||d.unsubscribe(),s(g)}};const p=[],m=Object.assign(Object.assign({},r),{id:l,sourceMapId:this.mapId,origin:location.origin,data:Mn(r.data,p)});this.target.postMessage(m,{transfer:p})})}receive(r){const t=r.data,n=t.id;if(!(t.origin!=="file://"&&location.origin!=="file://"&&t.origin!=="resource://android"&&location.origin!=="resource://android"&&t.origin!==location.origin||t.targetMapId&&this.mapId!==t.targetMapId)){if(t.type==="<cancel>"){delete this.tasks[n];const s=this.abortControllers[n];return delete this.abortControllers[n],void(s&&s.abort())}if(br(self)||t.mustQueue)return this.tasks[n]=t,this.taskQueue.push(n),void this.invoker.trigger();this.processTask(n,t)}}process(){if(this.taskQueue.length===0)return;const r=this.taskQueue.shift(),t=this.tasks[r];delete this.tasks[r],this.taskQueue.length>0&&this.invoker.trigger(),t&&this.processTask(r,t)}processTask(r,t){return c(this,void 0,void 0,function*(){if(t.type==="<response>"){const l=this.resolveRejects[r];return delete this.resolveRejects[r],l?void(t.error?l.reject(Kr(t.error)):l.resolve(Kr(t.data))):void 0}if(!this.messageHandlers[t.type])return void this.completeTask(r,new Error(`Could not find a registered handler for ${t.type}, map ID: ${this.mapId}, available handlers: ${Object.keys(this.messageHandlers).join(", ")}`));const n=Kr(t.data),s=new AbortController;this.abortControllers[r]=s;try{const l=yield this.messageHandlers[t.type](t.sourceMapId,n,s);this.completeTask(r,null,l)}catch(l){this.completeTask(r,l)}})}completeTask(r,t,n){const s=[];delete this.abortControllers[r];const l={id:r,type:"<response>",sourceMapId:this.mapId,origin:location.origin,error:t?Mn(t):null,data:Mn(n,s)};this.target.postMessage(l,{transfer:s})}remove(){this.invoker.remove(),this.subscription.unsubscribe()}},P.I=ju,P.J=wr,P.K=function(){var r=new yt(16);return yt!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0),r[0]=1,r[5]=1,r[10]=1,r[15]=1,r},P.L=function(r,t,n){var s,l,d,p,m,g,x,b,w,I,A,k,L=n[0],N=n[1],q=n[2];return t===r?(r[12]=t[0]*L+t[4]*N+t[8]*q+t[12],r[13]=t[1]*L+t[5]*N+t[9]*q+t[13],r[14]=t[2]*L+t[6]*N+t[10]*q+t[14],r[15]=t[3]*L+t[7]*N+t[11]*q+t[15]):(l=t[1],d=t[2],p=t[3],m=t[4],g=t[5],x=t[6],b=t[7],w=t[8],I=t[9],A=t[10],k=t[11],r[0]=s=t[0],r[1]=l,r[2]=d,r[3]=p,r[4]=m,r[5]=g,r[6]=x,r[7]=b,r[8]=w,r[9]=I,r[10]=A,r[11]=k,r[12]=s*L+m*N+w*q+t[12],r[13]=l*L+g*N+I*q+t[13],r[14]=d*L+x*N+A*q+t[14],r[15]=p*L+b*N+k*q+t[15]),r},P.M=function(r,t,n){var s=n[0],l=n[1],d=n[2];return r[0]=t[0]*s,r[1]=t[1]*s,r[2]=t[2]*s,r[3]=t[3]*s,r[4]=t[4]*l,r[5]=t[5]*l,r[6]=t[6]*l,r[7]=t[7]*l,r[8]=t[8]*d,r[9]=t[9]*d,r[10]=t[10]*d,r[11]=t[11]*d,r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r},P.N=function(r,t,n){var s=t[0],l=t[1],d=t[2],p=t[3],m=t[4],g=t[5],x=t[6],b=t[7],w=t[8],I=t[9],A=t[10],k=t[11],L=t[12],N=t[13],q=t[14],ie=t[15],W=n[0],E=n[1],j=n[2],X=n[3];return r[0]=W*s+E*m+j*w+X*L,r[1]=W*l+E*g+j*I+X*N,r[2]=W*d+E*x+j*A+X*q,r[3]=W*p+E*b+j*k+X*ie,r[4]=(W=n[4])*s+(E=n[5])*m+(j=n[6])*w+(X=n[7])*L,r[5]=W*l+E*g+j*I+X*N,r[6]=W*d+E*x+j*A+X*q,r[7]=W*p+E*b+j*k+X*ie,r[8]=(W=n[8])*s+(E=n[9])*m+(j=n[10])*w+(X=n[11])*L,r[9]=W*l+E*g+j*I+X*N,r[10]=W*d+E*x+j*A+X*q,r[11]=W*p+E*b+j*k+X*ie,r[12]=(W=n[12])*s+(E=n[13])*m+(j=n[14])*w+(X=n[15])*L,r[13]=W*l+E*g+j*I+X*N,r[14]=W*d+E*x+j*A+X*q,r[15]=W*p+E*b+j*k+X*ie,r},P.O=function(r,t){const n={};for(let s=0;s<t.length;s++){const l=t[s];l in r&&(n[l]=r[l])}return n},P.P=Ae,P.Q=gs,P.R=sr,P.S=wd,P.T=$s,P.U=bd,P.V=Ot,P.W=Lt,P.X=Ji,P.Y=or,P.Z=bt,P._=c,P.a=Zr,P.a$=function(r,t,n){var s=Math.sin(n),l=Math.cos(n),d=t[4],p=t[5],m=t[6],g=t[7],x=t[8],b=t[9],w=t[10],I=t[11];return t!==r&&(r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[4]=d*l+x*s,r[5]=p*l+b*s,r[6]=m*l+w*s,r[7]=g*l+I*s,r[8]=x*l-d*s,r[9]=b*l-p*s,r[10]=w*l-m*s,r[11]=I*l-g*s,r},P.a0=25,P.a1=Ku,P.a2=r=>{const t=window.document.createElement("video");return t.muted=!0,new Promise(n=>{t.onloadstart=()=>{n(t)};for(const s of r){const l=window.document.createElement("source");Ts(s)||(t.crossOrigin="Anonymous"),l.src=s,t.appendChild(l)}})},P.a3=ge,P.a4=function(){return cn++},P.a5=y,P.a6=Wo,P.a7=Ca,P.a8=tn,P.a9=Ed,P.aA=Yu,P.aB=Vu,P.aC=Ju,P.aD=Kt,P.aE=wc,P.aF=Y,P.aG=at,P.aH=Se,P.aI=function(r){return Math.pow(2,r)},P.aJ=85.051129,P.aK=Td,P.aL=Gi,P.aM=er,P.aN=Pd,P.aO=function(r,t,n){return r[0]=t[0]*n,r[1]=t[1]*n,r[2]=t[2]*n,r},P.aP=function(r,t,n){return r[0]=t[0]+n[0],r[1]=t[1]+n[1],r[2]=t[2]+n[2],r},P.aQ=function(r){var t=new yt(3);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t},P.aR=function(r,t,n){return r[0]=t[0]*n[0],r[1]=t[1]*n[1],r[2]=t[2]*n[2],r[3]=t[3]*n[3],r},P.aS=function(r,t,n){return r[0]=t[0]-n[0],r[1]=t[1]-n[1],r[2]=t[2]-n[2],r},P.aT=function(r,t){var n=t[0],s=t[1],l=t[2],d=n*n+s*s+l*l;return d>0&&(d=1/Math.sqrt(d)),r[0]=t[0]*d,r[1]=t[1]*d,r[2]=t[2]*d,r},P.aU=function(r,t,n){var s=t[0],l=t[1],d=t[2],p=n[0],m=n[1],g=n[2];return r[0]=l*g-d*m,r[1]=d*p-s*g,r[2]=s*m-l*p,r},P.aV=function(r,t){return r[0]*t[0]+r[1]*t[1]+r[2]*t[2]},P.aW=Md,P.aX=Ko,P.aY=function(r,t,n,s,l){var d,p=1/Math.tan(t/2);return r[0]=p/n,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=p,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=-1,r[12]=0,r[13]=0,r[15]=0,l!=null&&l!==1/0?(r[10]=(l+s)*(d=1/(s-l)),r[14]=2*l*s*d):(r[10]=-1,r[14]=-2*s),r},P.aZ=function(r){var t=new yt(16);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t},P.a_=function(r,t,n){var s=Math.sin(n),l=Math.cos(n),d=t[0],p=t[1],m=t[2],g=t[3],x=t[4],b=t[5],w=t[6],I=t[7];return t!==r&&(r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[0]=d*l+x*s,r[1]=p*l+b*s,r[2]=m*l+w*s,r[3]=g*l+I*s,r[4]=x*l-d*s,r[5]=b*l-p*s,r[6]=w*l-m*s,r[7]=I*l-g*s,r},P.aa=function(r){const t={};if(r.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(n,s,l,d)=>{const p=l||d;return t[s]=!p||p.toLowerCase(),""}),t["max-age"]){const n=parseInt(t["max-age"],10);isNaN(n)?delete t["max-age"]:t["max-age"]=n}return t},P.ab=function(r){return Math.log(r)/Math.LN2},P.ac=function(r){var t=r[0],n=r[1];return t*t+n*n},P.ad=function(r){return r*Math.PI/180},P.ae=Yi,P.af=function(r,t){const n=[];for(const s in r)s in t||n.push(s);return n},P.ag=function(r,t){let n=0,s=0;if(r.kind==="constant")s=r.layoutSize;else if(r.kind!=="source"){const{interpolationType:l,minZoom:d,maxZoom:p}=r,m=l?Yi(wi.interpolationFactor(l,t,d,p),0,1):0;r.kind==="camera"?s=rr.number(r.minSize,r.maxSize,m):n=m}return{uSizeT:n,uSize:s}},P.ai=function(r,{uSize:t,uSizeT:n},{lowerSize:s,upperSize:l}){return r.kind==="source"?s/rn:r.kind==="composite"?rr.number(s/rn,l/rn,n):t},P.aj=function(r,t){var n=t[0],s=t[1],l=t[2],d=t[3],p=t[4],m=t[5],g=t[6],x=t[7],b=t[8],w=t[9],I=t[10],A=t[11],k=t[12],L=t[13],N=t[14],q=t[15],ie=n*m-s*p,W=n*g-l*p,E=n*x-d*p,j=s*g-l*m,X=s*x-d*m,fe=l*x-d*g,Ce=b*L-w*k,me=b*N-I*k,ye=b*q-A*k,ze=w*N-I*L,Ie=w*q-A*L,ke=I*q-A*N,we=ie*ke-W*Ie+E*ze+j*ye-X*me+fe*Ce;return we?(r[0]=(m*ke-g*Ie+x*ze)*(we=1/we),r[1]=(l*Ie-s*ke-d*ze)*we,r[2]=(L*fe-N*X+q*j)*we,r[3]=(I*X-w*fe-A*j)*we,r[4]=(g*ye-p*ke-x*me)*we,r[5]=(n*ke-l*ye+d*me)*we,r[6]=(N*E-k*fe-q*W)*we,r[7]=(b*fe-I*E+A*W)*we,r[8]=(p*Ie-m*ye+x*Ce)*we,r[9]=(s*ye-n*Ie-d*Ce)*we,r[10]=(k*X-L*E+q*ie)*we,r[11]=(w*E-b*X-A*ie)*we,r[12]=(m*me-p*ze-g*Ce)*we,r[13]=(n*ze-s*me+l*Ce)*we,r[14]=(L*W-k*j-N*ie)*we,r[15]=(b*j-w*W+I*ie)*we,r):null},P.ak=vi,P.al=function(r){return Math.hypot(r[0],r[1])},P.am=function(r){return r[0]=0,r[1]=0,r},P.an=function(r,t,n){return r[0]=t[0]*n,r[1]=t[1]*n,r},P.ao=Zu,P.ap=on,P.aq=function(r,t,n,s){const l=t.y-r.y,d=t.x-r.x,p=s.y-n.y,m=s.x-n.x,g=p*d-m*l;if(g===0)return null;const x=(m*(r.y-n.y)-p*(r.x-n.x))/g;return new Ae(r.x+x*d,r.y+x*l)},P.ar=Rd,P.as=Zo,P.at=Or,P.au=function(r){let t=1/0,n=1/0,s=-1/0,l=-1/0;for(const d of r)t=Math.min(t,d.x),n=Math.min(n,d.y),s=Math.max(s,d.x),l=Math.max(l,d.y);return[t,n,s,l]},P.av=oi,P.aw=Ln,P.ax=function(r,t,n,s,l=!1){if(!n[0]&&!n[1])return[0,0];const d=l?s==="map"?-r.bearingInRadians:0:s==="viewport"?r.bearingInRadians:0;if(d){const p=Math.sin(d),m=Math.cos(d);n=[n[0]*m-n[1]*p,n[0]*p+n[1]*m]}return[l?n[0]:Ln(t,n[0],r.zoom),l?n[1]:Ln(t,n[1],r.zoom)]},P.az=Uu,P.b=dn,P.b$=r=>r.type==="symbol",P.b0=function(){const r=new Float32Array(16);return Or(r),r},P.b1=function(){const r=new Float64Array(16);return Or(r),r},P.b2=function(){return new Float64Array(16)},P.b3=function(r,t,n){const s=new Float64Array(4);return function(l,d,p,m){var g=.5*Math.PI/180;d*=g,p*=g,m*=g;var x=Math.sin(d),b=Math.cos(d),w=Math.sin(p),I=Math.cos(p),A=Math.sin(m),k=Math.cos(m);l[0]=x*I*k-b*w*A,l[1]=b*w*k+x*I*A,l[2]=b*I*A-x*w*k,l[3]=b*I*k+x*w*A}(s,r,t-90,n),s},P.b4=function(r,t,n,s){var l,d,p,m,g,x=t[0],b=t[1],w=t[2],I=t[3],A=n[0],k=n[1],L=n[2],N=n[3];return(d=x*A+b*k+w*L+I*N)<0&&(d=-d,A=-A,k=-k,L=-L,N=-N),1-d>vt?(l=Math.acos(d),p=Math.sin(l),m=Math.sin((1-s)*l)/p,g=Math.sin(s*l)/p):(m=1-s,g=s),r[0]=m*x+g*A,r[1]=m*b+g*k,r[2]=m*w+g*L,r[3]=m*I+g*N,r},P.b5=function(r){const t=new Float64Array(9);var n,s,l,d,p,m,g,x,b,w,I,A,k,L,N,q,ie,W;w=(l=(s=r)[0])*(g=l+l),I=(d=s[1])*g,k=(p=s[2])*g,L=p*(x=d+d),q=(m=s[3])*g,ie=m*x,W=m*(b=p+p),(n=t)[0]=1-(A=d*x)-(N=p*b),n[3]=I-W,n[6]=k+ie,n[1]=I+W,n[4]=1-w-N,n[7]=L-q,n[2]=k-ie,n[5]=L+q,n[8]=1-w-A;const E=er(-Math.asin(Yi(t[2],-1,1)));let j,X;return Math.hypot(t[5],t[8])<.001?(j=0,X=-er(Math.atan2(t[3],t[4]))):(j=er(t[5]===0&&t[8]===0?0:Math.atan2(t[5],t[8])),X=er(t[1]===0&&t[0]===0?0:Math.atan2(t[1],t[0]))),{roll:j,pitch:E+90,bearing:X}},P.b6=function(r,t){return r.roll==t.roll&&r.pitch==t.pitch&&r.bearing==t.bearing},P.b7=ft,P.b8=zr,P.b9=qo,P.bA=function(r,t){if(!r)return[{command:"setStyle",args:[t]}];let n=[];try{if(!re(r.version,t.version))return[{command:"setStyle",args:[t]}];re(r.center,t.center)||n.push({command:"setCenter",args:[t.center]}),re(r.centerAltitude,t.centerAltitude)||n.push({command:"setCenterAltitude",args:[t.centerAltitude]}),re(r.zoom,t.zoom)||n.push({command:"setZoom",args:[t.zoom]}),re(r.bearing,t.bearing)||n.push({command:"setBearing",args:[t.bearing]}),re(r.pitch,t.pitch)||n.push({command:"setPitch",args:[t.pitch]}),re(r.roll,t.roll)||n.push({command:"setRoll",args:[t.roll]}),re(r.sprite,t.sprite)||n.push({command:"setSprite",args:[t.sprite]}),re(r.glyphs,t.glyphs)||n.push({command:"setGlyphs",args:[t.glyphs]}),re(r.transition,t.transition)||n.push({command:"setTransition",args:[t.transition]}),re(r.light,t.light)||n.push({command:"setLight",args:[t.light]}),re(r.terrain,t.terrain)||n.push({command:"setTerrain",args:[t.terrain]}),re(r.sky,t.sky)||n.push({command:"setSky",args:[t.sky]}),re(r.projection,t.projection)||n.push({command:"setProjection",args:[t.projection]});const s={},l=[];(function(p,m,g,x){let b;for(b in m=m||{},p=p||{})Object.prototype.hasOwnProperty.call(p,b)&&(Object.prototype.hasOwnProperty.call(m,b)||ve(b,g,x));for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&(Object.prototype.hasOwnProperty.call(p,b)?re(p[b],m[b])||(p[b].type==="geojson"&&m[b].type==="geojson"&&ce(p,m,b)?ue(g,{command:"setGeoJSONSourceData",args:[b,m[b].data]}):_e(b,m,g,x)):oe(b,m,g))})(r.sources,t.sources,l,s);const d=[];r.layers&&r.layers.forEach(p=>{"source"in p&&s[p.source]?n.push({command:"removeLayer",args:[p.id]}):d.push(p)}),n=n.concat(l),function(p,m,g){m=m||[];const x=(p=p||[]).map(Oe),b=m.map(Oe),w=p.reduce(je,{}),I=m.reduce(je,{}),A=x.slice(),k=Object.create(null);let L,N,q,ie,W;for(let E=0,j=0;E<x.length;E++)L=x[E],Object.prototype.hasOwnProperty.call(I,L)?j++:(ue(g,{command:"removeLayer",args:[L]}),A.splice(A.indexOf(L,j),1));for(let E=0,j=0;E<b.length;E++)L=b[b.length-1-E],A[A.length-1-E]!==L&&(Object.prototype.hasOwnProperty.call(w,L)?(ue(g,{command:"removeLayer",args:[L]}),A.splice(A.lastIndexOf(L,A.length-j),1)):j++,ie=A[A.length-E],ue(g,{command:"addLayer",args:[I[L],ie]}),A.splice(A.length-E,0,L),k[L]=!0);for(let E=0;E<b.length;E++)if(L=b[E],N=w[L],q=I[L],!k[L]&&!re(N,q))if(re(N.source,q.source)&&re(N["source-layer"],q["source-layer"])&&re(N.type,q.type)){for(W in Me(N.layout,q.layout,g,L,null,"setLayoutProperty"),Me(N.paint,q.paint,g,L,null,"setPaintProperty"),re(N.filter,q.filter)||ue(g,{command:"setFilter",args:[L,q.filter]}),re(N.minzoom,q.minzoom)&&re(N.maxzoom,q.maxzoom)||ue(g,{command:"setLayerZoomRange",args:[L,q.minzoom,q.maxzoom]}),N)Object.prototype.hasOwnProperty.call(N,W)&&W!=="layout"&&W!=="paint"&&W!=="filter"&&W!=="metadata"&&W!=="minzoom"&&W!=="maxzoom"&&(W.indexOf("paint.")===0?Me(N[W],q[W],g,L,W.slice(6),"setPaintProperty"):re(N[W],q[W])||ue(g,{command:"setLayerProperty",args:[L,W,q[W]]}));for(W in q)Object.prototype.hasOwnProperty.call(q,W)&&!Object.prototype.hasOwnProperty.call(N,W)&&W!=="layout"&&W!=="paint"&&W!=="filter"&&W!=="metadata"&&W!=="minzoom"&&W!=="maxzoom"&&(W.indexOf("paint.")===0?Me(N[W],q[W],g,L,W.slice(6),"setPaintProperty"):re(N[W],q[W])||ue(g,{command:"setLayerProperty",args:[L,W,q[W]]}))}else ue(g,{command:"removeLayer",args:[L]}),ie=A[A.lastIndexOf(L)+1],ue(g,{command:"addLayer",args:[q,ie]})}(d,t.layers,n)}catch(s){console.warn("Unable to compute style diff:",s),n=[{command:"setStyle",args:[t]}]}return n},P.bB=function(r){const t=[],n=r.id;return n===void 0&&t.push({message:`layers.${n}: missing required property "id"`}),r.render===void 0&&t.push({message:`layers.${n}: missing required method "render"`}),r.renderingMode&&r.renderingMode!=="2d"&&r.renderingMode!=="3d"&&t.push({message:`layers.${n}: property "renderingMode" must be either "2d" or "3d"`}),t},P.bC=function r(t,n){if(Array.isArray(t)){if(!Array.isArray(n)||t.length!==n.length)return!1;for(let s=0;s<t.length;s++)if(!r(t[s],n[s]))return!1;return!0}if(typeof t=="object"&&t!==null&&n!==null){if(typeof n!="object"||Object.keys(t).length!==Object.keys(n).length)return!1;for(const s in t)if(!r(t[s],n[s]))return!1;return!0}return t===n},P.bD=un,P.bE=hn,P.bF=class extends vr{constructor(r,t){super(r,t),this.current=0}set(r){this.current!==r&&(this.current=r,this.gl.uniform1i(this.location,r))}},P.bG=kr,P.bH=class extends vr{constructor(r,t){super(r,t),this.current=zn}set(r){if(r[12]!==this.current[12]||r[0]!==this.current[0])return this.current=r,void this.gl.uniformMatrix4fv(this.location,!1,r);for(let t=1;t<16;t++)if(r[t]!==this.current[t]){this.current=r,this.gl.uniformMatrix4fv(this.location,!1,r);break}}},P.bI=Ni,P.bJ=class extends vr{constructor(r,t){super(r,t),this.current=[0,0,0]}set(r){r[0]===this.current[0]&&r[1]===this.current[1]&&r[2]===this.current[2]||(this.current=r,this.gl.uniform3f(this.location,r[0],r[1],r[2]))}},P.bK=class extends vr{constructor(r,t){super(r,t),this.current=[0,0]}set(r){r[0]===this.current[0]&&r[1]===this.current[1]||(this.current=r,this.gl.uniform2f(this.location,r[0],r[1]))}},P.bL=It,P.bM=function(r,t){var n=Math.sin(t),s=Math.cos(t);return r[0]=s,r[1]=n,r[2]=0,r[3]=-n,r[4]=s,r[5]=0,r[6]=0,r[7]=0,r[8]=1,r},P.bN=function(r,t,n){var s=t[0],l=t[1],d=t[2];return r[0]=s*n[0]+l*n[3]+d*n[6],r[1]=s*n[1]+l*n[4]+d*n[7],r[2]=s*n[2]+l*n[5]+d*n[8],r},P.bO=function(r,t,n,s,l,d,p){var m=1/(t-n),g=1/(s-l),x=1/(d-p);return r[0]=-2*m,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*g,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=2*x,r[11]=0,r[12]=(t+n)*m,r[13]=(l+s)*g,r[14]=(p+d)*x,r[15]=1,r},P.bP=class extends Ga{},P.bQ=Rf,P.bR=class extends Ks{},P.bS=Tu,P.bT=function(r){return r<=1?1:Math.pow(2,Math.ceil(Math.log(r)/Math.LN2))},P.bU=Ih,P.bV=function(r,t,n){var s=t[0],l=t[1],d=t[2],p=n[3]*s+n[7]*l+n[11]*d+n[15];return r[0]=(n[0]*s+n[4]*l+n[8]*d+n[12])/(p=p||1),r[1]=(n[1]*s+n[5]*l+n[9]*d+n[13])/p,r[2]=(n[2]*s+n[6]*l+n[10]*d+n[14])/p,r},P.bW=class extends jo{},P.bX=class extends h{},P.bY=function(r,t){return r[0]===t[0]&&r[1]===t[1]&&r[2]===t[2]&&r[3]===t[3]&&r[4]===t[4]&&r[5]===t[5]&&r[6]===t[6]&&r[7]===t[7]&&r[8]===t[8]&&r[9]===t[9]&&r[10]===t[10]&&r[11]===t[11]&&r[12]===t[12]&&r[13]===t[13]&&r[14]===t[14]&&r[15]===t[15]},P.bZ=function(r,t){var n=r[0],s=r[1],l=r[2],d=r[3],p=r[4],m=r[5],g=r[6],x=r[7],b=r[8],w=r[9],I=r[10],A=r[11],k=r[12],L=r[13],N=r[14],q=r[15],ie=t[0],W=t[1],E=t[2],j=t[3],X=t[4],fe=t[5],Ce=t[6],me=t[7],ye=t[8],ze=t[9],Ie=t[10],ke=t[11],we=t[12],Ze=t[13],Je=t[14],Xe=t[15];return Math.abs(n-ie)<=vt*Math.max(1,Math.abs(n),Math.abs(ie))&&Math.abs(s-W)<=vt*Math.max(1,Math.abs(s),Math.abs(W))&&Math.abs(l-E)<=vt*Math.max(1,Math.abs(l),Math.abs(E))&&Math.abs(d-j)<=vt*Math.max(1,Math.abs(d),Math.abs(j))&&Math.abs(p-X)<=vt*Math.max(1,Math.abs(p),Math.abs(X))&&Math.abs(m-fe)<=vt*Math.max(1,Math.abs(m),Math.abs(fe))&&Math.abs(g-Ce)<=vt*Math.max(1,Math.abs(g),Math.abs(Ce))&&Math.abs(x-me)<=vt*Math.max(1,Math.abs(x),Math.abs(me))&&Math.abs(b-ye)<=vt*Math.max(1,Math.abs(b),Math.abs(ye))&&Math.abs(w-ze)<=vt*Math.max(1,Math.abs(w),Math.abs(ze))&&Math.abs(I-Ie)<=vt*Math.max(1,Math.abs(I),Math.abs(Ie))&&Math.abs(A-ke)<=vt*Math.max(1,Math.abs(A),Math.abs(ke))&&Math.abs(k-we)<=vt*Math.max(1,Math.abs(k),Math.abs(we))&&Math.abs(L-Ze)<=vt*Math.max(1,Math.abs(L),Math.abs(Ze))&&Math.abs(N-Je)<=vt*Math.max(1,Math.abs(N),Math.abs(Je))&&Math.abs(q-Xe)<=vt*Math.max(1,Math.abs(q),Math.abs(Xe))},P.b_=function(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r},P.ba=rl,P.bb=Go,P.bc=an,P.bd=ln,P.be=ni,P.bf=function(r,t,n,s,l){return an(s,l,Yi((r-t)/(n-t),0,1))},P.bg=Nr,P.bh=function(){return new Float64Array(4)},P.bi=function(){return new Float64Array(3)},P.bj=function(r,t,n,s){var l=[],d=[];return l[0]=t[0]-n[0],l[1]=t[1]-n[1],l[2]=t[2]-n[2],d[0]=l[0]*Math.cos(s)-l[1]*Math.sin(s),d[1]=l[0]*Math.sin(s)+l[1]*Math.cos(s),d[2]=l[2],r[0]=d[0]+n[0],r[1]=d[1]+n[1],r[2]=d[2]+n[2],r},P.bk=function(r,t,n,s){var l=[],d=[];return l[0]=t[0]-n[0],l[1]=t[1]-n[1],l[2]=t[2]-n[2],d[0]=l[0],d[1]=l[1]*Math.cos(s)-l[2]*Math.sin(s),d[2]=l[1]*Math.sin(s)+l[2]*Math.cos(s),r[0]=d[0]+n[0],r[1]=d[1]+n[1],r[2]=d[2]+n[2],r},P.bl=function(r,t,n,s){var l=[],d=[];return l[0]=t[0]-n[0],l[1]=t[1]-n[1],l[2]=t[2]-n[2],d[0]=l[2]*Math.sin(s)+l[0]*Math.cos(s),d[1]=l[1],d[2]=l[2]*Math.cos(s)-l[0]*Math.sin(s),r[0]=d[0]+n[0],r[1]=d[1]+n[1],r[2]=d[2]+n[2],r},P.bm=function(r,t,n){var s=Math.sin(n),l=Math.cos(n),d=t[0],p=t[1],m=t[2],g=t[3],x=t[8],b=t[9],w=t[10],I=t[11];return t!==r&&(r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[0]=d*l-x*s,r[1]=p*l-b*s,r[2]=m*l-w*s,r[3]=g*l-I*s,r[8]=d*s+x*l,r[9]=p*s+b*l,r[10]=m*s+w*l,r[11]=g*s+I*l,r},P.bn=function(r,t){const n=Nr(r,360),s=Nr(t,360),l=s-n,d=s>n?l-360:l+360;return Math.abs(l)<Math.abs(d)?l:d},P.bo=function(r){return r[0]=0,r[1]=0,r[2]=0,r},P.bp=function(r,t,n,s){const l=Math.sqrt(r*r+t*t),d=Math.sqrt(n*n+s*s);r/=l,t/=l,n/=d,s/=d;const p=Math.acos(r*n+t*s);return-t*n+r*s>0?p:-p},P.bq=function(r,t){return r[0]*t[0]+r[1]*t[1]+r[2]*t[2]+r[3]},P.br=Hu,P.bs=function(r,t){const n=Nr(r,2*Math.PI),s=Nr(t,2*Math.PI);return Math.min(Math.abs(n-s),Math.abs(n-s+2*Math.PI),Math.abs(n-s-2*Math.PI))},P.bt=function(r){return Math.hypot(r[0],r[1],r[2])},P.bu=function(){const r={},t=z.$version;for(const n in z.$root){const s=z.$root[n];if(s.required){let l=null;l=n==="version"?t:s.type==="array"?[]:{},l!=null&&(r[n]=l)}}return r},P.bv=Fa,P.bw=Tr,P.bx=function(r){r=r.slice();const t=Object.create(null);for(let n=0;n<r.length;n++)t[r[n].id]=r[n];for(let n=0;n<r.length;n++)"ref"in r[n]&&(r[n]=ne(r[n],t[r[n].ref]));return r},P.by=function(r){if(r.type==="custom")return new im(r);switch(r.type){case"background":return new Qf(r);case"circle":return new Hp(r);case"fill":return new pf(r);case"fill-extrusion":return new bf(r);case"heatmap":return new Kp(r);case"hillshade":return new Yp(r);case"line":return new Ef(r);case"raster":return new tm(r);case"symbol":return new Ec(r)}},P.bz=Oi,P.c=fn,P.c0=r=>r.type==="circle",P.c1=r=>r.type==="heatmap",P.c2=r=>r.type==="line",P.c3=r=>r.type==="fill",P.c4=r=>r.type==="fill-extrusion",P.c5=r=>r.type==="hillshade",P.c6=r=>r.type==="raster",P.c7=r=>r.type==="background",P.c8=r=>r.type==="custom",P.c9=Fn,P.cA=class{constructor(r){this._marks={start:[r.url,"start"].join("#"),end:[r.url,"end"].join("#"),measure:r.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let r=performance.getEntriesByName(this._marks.measure);return r.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),r=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),r}},P.cB=function(r,t,n,s,l){return c(this,void 0,void 0,function*(){if(Lt())try{return yield Ji(r,t,n,s,l)}catch{}return function(d,p,m,g,x){const b=d.width,w=d.height;Vr&&Ur||(Vr=new OffscreenCanvas(b,w),Ur=Vr.getContext("2d",{willReadFrequently:!0})),Vr.width=b,Vr.height=w,Ur.drawImage(d,0,0,b,w);const I=Ur.getImageData(p,m,g,x);return Ur.clearRect(0,0,b,w),I.data}(r,t,n,s,l)})},P.cC=Cd,P.cD=Ne,P.cE=qe,P.cF=Gh,P.cG=rd,P.cH=Co,P.cI=Er,P.ca=function(r,t,n){const s=vs(t.x-n.x,t.y-n.y),l=vs(r.x-n.x,r.y-n.y);var d,p;return er(Math.atan2(s[0]*l[1]-s[1]*l[0],(d=s)[0]*(p=l)[0]+d[1]*p[1]))},P.cb=hr,P.cc=function(r,t){return On[t]&&(r instanceof MouseEvent||r instanceof WheelEvent)},P.cd=function(r,t){return Bn[t]&&"touches"in r},P.ce=function(r){return Bn[r]||On[r]},P.cf=function(r,t,n){var s=t[0],l=t[1];return r[0]=n[0]*s+n[4]*l+n[12],r[1]=n[1]*s+n[5]*l+n[13],r},P.cg=function(r,t){const{x:n,y:s}=hl.fromLngLat(t);return!(r<0||r>25||s<0||s>=1||n<0||n>=1)},P.ch=function(r,t){return r[0]=t[0],r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=t[1],r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=t[2],r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r},P.ci=class extends yr{},P.cj=pm,P.cl=function(r){return r.message===ws},P.cm=dr,P.cn=function(r,t){Zr.REGISTERED_PROTOCOLS[r]=t},P.co=function(r){delete Zr.REGISTERED_PROTOCOLS[r]},P.cp=function(r,t){const n={};for(let l=0;l<r.length;l++){const d=t&&t[r[l].id]||uu(r[l]);t&&(t[r[l].id]=d);let p=n[d];p||(p=n[d]=[]),p.push(r[l])}const s=[];for(const l in n)s.push(n[l]);return s},P.cq=Ue,P.cr=Id,P.cs=Ad,P.ct=sd,P.cu=function(r){r.bucket.createArrays(),r.bucket.tilePixelRatio=bt/(512*r.bucket.overscaling),r.bucket.compareText={},r.bucket.iconsNeedLinear=!1;const t=r.bucket.layers[0],n=t.layout,s=t._unevaluatedLayout._values,l={layoutIconSize:s["icon-size"].possiblyEvaluate(new kt(r.bucket.zoom+1),r.canonical),layoutTextSize:s["text-size"].possiblyEvaluate(new kt(r.bucket.zoom+1),r.canonical),textMaxSize:s["text-size"].possiblyEvaluate(new kt(18))};if(r.bucket.textSizeData.kind==="composite"){const{minZoom:x,maxZoom:b}=r.bucket.textSizeData;l.compositeTextSizes=[s["text-size"].possiblyEvaluate(new kt(x),r.canonical),s["text-size"].possiblyEvaluate(new kt(b),r.canonical)]}if(r.bucket.iconSizeData.kind==="composite"){const{minZoom:x,maxZoom:b}=r.bucket.iconSizeData;l.compositeIconSizes=[s["icon-size"].possiblyEvaluate(new kt(x),r.canonical),s["icon-size"].possiblyEvaluate(new kt(b),r.canonical)]}const d=n.get("text-line-height")*oi,p=n.get("text-rotation-alignment")!=="viewport"&&n.get("symbol-placement")!=="point",m=n.get("text-keep-upright"),g=n.get("text-size");for(const x of r.bucket.features){const b=n.get("text-font").evaluate(x,{},r.canonical).join(","),w=g.evaluate(x,{},r.canonical),I=l.layoutTextSize.evaluate(x,{},r.canonical),A=l.layoutIconSize.evaluate(x,{},r.canonical),k={horizontal:{},vertical:void 0},L=x.text;let N,q=[0,0];if(L){const E=L.toString(),j=n.get("text-letter-spacing").evaluate(x,{},r.canonical)*oi,X=uc(E)?j:0,fe=n.get("text-anchor").evaluate(x,{},r.canonical),Ce=Ud(t,x,r.canonical);if(!Ce){const Ie=n.get("text-radial-offset").evaluate(x,{},r.canonical);q=Ie?Vd(fe,[Ie*oi,Xu]):n.get("text-offset").evaluate(x,{},r.canonical).map(ke=>ke*oi)}let me=p?"center":n.get("text-justify").evaluate(x,{},r.canonical);const ye=n.get("symbol-placement")==="point"?n.get("text-max-width").evaluate(x,{},r.canonical)*oi:1/0,ze=()=>{r.bucket.allowVerticalPlacement&&Lo(E)&&(k.vertical=Mc(L,r.glyphMap,r.glyphPositions,r.imagePositions,b,ye,d,fe,"left",X,q,P.ah.vertical,!0,I,w))};if(!p&&Ce){const Ie=new Set;if(me==="auto")for(let we=0;we<Ce.values.length;we+=2)Ie.add(Yu(Ce.values[we]));else Ie.add(me);let ke=!1;for(const we of Ie)if(!k.horizontal[we])if(ke)k.horizontal[we]=k.horizontal[0];else{const Ze=Mc(L,r.glyphMap,r.glyphPositions,r.imagePositions,b,ye,d,"center",we,X,q,P.ah.horizontal,!1,I,w);Ze&&(k.horizontal[we]=Ze,ke=Ze.positionedLines.length===1)}ze()}else{me==="auto"&&(me=Yu(fe));const Ie=Mc(L,r.glyphMap,r.glyphPositions,r.imagePositions,b,ye,d,fe,me,X,q,P.ah.horizontal,!1,I,w);Ie&&(k.horizontal[me]=Ie),ze(),Lo(E)&&p&&m&&(k.vertical=Mc(L,r.glyphMap,r.glyphPositions,r.imagePositions,b,ye,d,fe,me,X,q,P.ah.vertical,!1,I,w))}}let ie=!1;if(x.icon&&x.icon.name){const E=r.imageMap[x.icon.name];E&&(N=Wf(r.imagePositions[x.icon.name],n.get("icon-offset").evaluate(x,{},r.canonical),n.get("icon-anchor").evaluate(x,{},r.canonical)),ie=!!E.sdf,r.bucket.sdfIcons===void 0?r.bucket.sdfIcons=ie:r.bucket.sdfIcons!==ie&&bi("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(E.pixelRatio!==r.bucket.pixelRatio||n.get("icon-rotate").constantOr(1)!==0)&&(r.bucket.iconsNeedLinear=!0))}const W=$d(k.horizontal)||k.vertical;r.bucket.iconsInText=!!W&&W.iconsInText,(W||N)&&hm(r.bucket,x,k,N,r.imageMap,l,I,A,q,ie,r.canonical,r.subdivisionGranularity)}r.showCollisionBoxes&&r.bucket.generateCollisionDebugBuffers()},P.cv=Du,P.cw=Iu,P.cx=Ru,P.cy=sl,P.cz=Bu,P.d=Ts,P.e=fi,P.f=r=>c(void 0,void 0,void 0,function*(){if(r.byteLength===0)return createImageBitmap(new ImageData(1,1));const t=new Blob([new Uint8Array(r)],{type:"image/png"});try{return createImageBitmap(t)}catch(n){throw new Error(`Could not load image because of ${n.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`)}}),P.g=jn,P.h=r=>new Promise((t,n)=>{const s=new Image;s.onload=()=>{t(s),URL.revokeObjectURL(s.src),s.onload=null,window.requestAnimationFrame(()=>{s.src=pn})},s.onerror=()=>n(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const l=new Blob([new Uint8Array(r)],{type:"image/png"});s.src=r.byteLength?URL.createObjectURL(l):pn}),P.i=br,P.j=(r,t)=>Nn(fi(r,{type:"json"}),t),P.k=F,P.l=le,P.m=Nn,P.n=(r,t)=>Nn(fi(r,{type:"arrayBuffer"}),t),P.o=function(r){return new Bu(r).readFields(Ff,[])},P.p=nd,P.q=Ja,P.r=Di,P.s=Qi,P.t=Da,P.u=ct,P.v=z,P.w=bi,P.x=ds,P.y=Sn,P.z=function([r,t,n]){return t+=90,t*=Math.PI/180,n*=Math.PI/180,{x:r*Math.cos(t)*Math.sin(n),y:r*Math.sin(t)*Math.sin(n),z:r*Math.cos(n)}}}),J("worker",["./shared"],function(P){class c{constructor(F){this.keyCache={},F&&this.replace(F)}replace(F){this._layerConfigs={},this._layers={},this.update(F,[])}update(F,O){for(const K of F){this._layerConfigs[K.id]=K;const ne=this._layers[K.id]=P.by(K);ne._featureFilter=P.a7(ne.filter),this.keyCache[K.id]&&delete this.keyCache[K.id]}for(const K of O)delete this.keyCache[K],delete this._layerConfigs[K],delete this._layers[K];this.familiesBySource={};const z=P.cp(Object.values(this._layerConfigs),this.keyCache);for(const K of z){const ne=K.map(ce=>this._layers[ce.id]),re=ne[0];if(re.visibility==="none")continue;const ue=re.source||"";let oe=this.familiesBySource[ue];oe||(oe=this.familiesBySource[ue]={});const ve=re.sourceLayer||"_geojsonTileLayer";let _e=oe[ve];_e||(_e=oe[ve]=[]),_e.push(ne)}}}class Ne{constructor(F){const O={},z=[];for(const ue in F){const oe=F[ue],ve=O[ue]={};for(const _e in oe){const ce=oe[+_e];if(!ce||ce.bitmap.width===0||ce.bitmap.height===0)continue;const Me={x:0,y:0,w:ce.bitmap.width+2,h:ce.bitmap.height+2};z.push(Me),ve[_e]={rect:Me,metrics:ce.metrics}}}const{w:K,h:ne}=P.p(z),re=new P.q({width:K||1,height:ne||1});for(const ue in F){const oe=F[ue];for(const ve in oe){const _e=oe[+ve];if(!_e||_e.bitmap.width===0||_e.bitmap.height===0)continue;const ce=O[ue][ve].rect;P.q.copy(_e.bitmap,re,{x:0,y:0},{x:ce.x+1,y:ce.y+1},_e.bitmap)}}this.image=re,this.positions=O}}P.cq("GlyphAtlas",Ne);class De{constructor(F){this.tileID=new P.Y(F.tileID.overscaledZ,F.tileID.wrap,F.tileID.canonical.z,F.tileID.canonical.x,F.tileID.canonical.y),this.uid=F.uid,this.zoom=F.zoom,this.pixelRatio=F.pixelRatio,this.tileSize=F.tileSize,this.source=F.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=F.showCollisionBoxes,this.collectResourceTiming=!!F.collectResourceTiming,this.returnDependencies=!!F.returnDependencies,this.promoteId=F.promoteId,this.inFlightDependencies=[]}parse(F,O,z,K,ne){return P._(this,void 0,void 0,function*(){this.status="parsing",this.data=F,this.collisionBoxArray=new P.a5;const re=new P.cr(Object.keys(F.layers).sort()),ue=new P.cs(this.tileID,this.promoteId);ue.bucketLayerIDs=[];const oe={},ve={featureIndex:ue,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:z,subdivisionGranularity:ne},_e=O.familiesBySource[this.source];for(const Be in _e){const nt=F.layers[Be];if(!nt)continue;nt.version===1&&P.w(`Vector tile source "${this.source}" layer "${Be}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const Ut=re.encode(Be),Sr=[];for(let et=0;et<nt.length;et++){const ri=nt.feature(et),At=ue.getId(ri,Be);Sr.push({feature:ri,id:At,index:et,sourceLayerIndex:Ut})}for(const et of _e[Be]){const ri=et[0];ri.source!==this.source&&P.w(`layer.source = ${ri.source} does not equal this.source = ${this.source}`),ri.minzoom&&this.zoom<Math.floor(ri.minzoom)||ri.maxzoom&&this.zoom>=ri.maxzoom||ri.visibility!=="none"&&(Fe(et,this.zoom,z),(oe[ri.id]=ri.createBucket({index:ue.bucketLayerIDs.length,layers:et,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Ut,sourceID:this.source})).populate(Sr,ve,this.tileID.canonical),ue.bucketLayerIDs.push(et.map(At=>At.id)))}}const ce=P.bD(ve.glyphDependencies,Be=>Object.keys(Be).map(Number));this.inFlightDependencies.forEach(Be=>Be==null?void 0:Be.abort()),this.inFlightDependencies=[];let Me=Promise.resolve({});if(Object.keys(ce).length){const Be=new AbortController;this.inFlightDependencies.push(Be),Me=K.sendAsync({type:"GG",data:{stacks:ce,source:this.source,tileID:this.tileID,type:"glyphs"}},Be)}const Oe=Object.keys(ve.iconDependencies);let je=Promise.resolve({});if(Oe.length){const Be=new AbortController;this.inFlightDependencies.push(Be),je=K.sendAsync({type:"GI",data:{icons:Oe,source:this.source,tileID:this.tileID,type:"icons"}},Be)}const ge=Object.keys(ve.patternDependencies);let it=Promise.resolve({});if(ge.length){const Be=new AbortController;this.inFlightDependencies.push(Be),it=K.sendAsync({type:"GI",data:{icons:ge,source:this.source,tileID:this.tileID,type:"patterns"}},Be)}const[Ye,tt,pt]=yield Promise.all([Me,je,it]),Ee=new Ne(Ye),$e=new P.ct(tt,pt);for(const Be in oe){const nt=oe[Be];nt instanceof P.a6?(Fe(nt.layers,this.zoom,z),P.cu({bucket:nt,glyphMap:Ye,glyphPositions:Ee.positions,imageMap:tt,imagePositions:$e.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical,subdivisionGranularity:ve.subdivisionGranularity})):nt.hasPattern&&(nt instanceof P.cv||nt instanceof P.cw||nt instanceof P.cx)&&(Fe(nt.layers,this.zoom,z),nt.addFeatures(ve,this.tileID.canonical,$e.patternPositions))}return this.status="done",{buckets:Object.values(oe).filter(Be=>!Be.isEmpty()),featureIndex:ue,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Ee.image,imageAtlas:$e,glyphMap:this.returnDependencies?Ye:null,iconMap:this.returnDependencies?tt:null,glyphPositions:this.returnDependencies?Ee.positions:null}})}}function Fe(le,F,O){const z=new P.C(F);for(const K of le)K.recalculate(z,O)}class qe{constructor(F,O,z){this.actor=F,this.layerIndex=O,this.availableImages=z,this.fetching={},this.loading={},this.loaded={}}loadVectorTile(F,O){return P._(this,void 0,void 0,function*(){const z=yield P.n(F.request,O);try{return{vectorTile:new P.cy.VectorTile(new P.cz(z.data)),rawData:z.data,cacheControl:z.cacheControl,expires:z.expires}}catch(K){const ne=new Uint8Array(z.data);let re=`Unable to parse the tile at ${F.request.url}, `;throw re+=ne[0]===31&&ne[1]===139?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${K.message}`,new Error(re)}})}loadTile(F){return P._(this,void 0,void 0,function*(){const O=F.uid,z=!!(F&&F.request&&F.request.collectResourceTiming)&&new P.cA(F.request),K=new De(F);this.loading[O]=K;const ne=new AbortController;K.abort=ne;try{const re=yield this.loadVectorTile(F,ne);if(delete this.loading[O],!re)return null;const ue=re.rawData,oe={};re.expires&&(oe.expires=re.expires),re.cacheControl&&(oe.cacheControl=re.cacheControl);const ve={};if(z){const ce=z.finish();ce&&(ve.resourceTiming=JSON.parse(JSON.stringify(ce)))}K.vectorTile=re.vectorTile;const _e=K.parse(re.vectorTile,this.layerIndex,this.availableImages,this.actor,F.subdivisionGranularity);this.loaded[O]=K,this.fetching[O]={rawTileData:ue,cacheControl:oe,resourceTiming:ve};try{const ce=yield _e;return P.e({rawTileData:ue.slice(0)},ce,oe,ve)}finally{delete this.fetching[O]}}catch(re){throw delete this.loading[O],K.status="done",this.loaded[O]=K,re}})}reloadTile(F){return P._(this,void 0,void 0,function*(){const O=F.uid;if(!this.loaded||!this.loaded[O])throw new Error("Should not be trying to reload a tile that was never loaded or has been removed");const z=this.loaded[O];if(z.showCollisionBoxes=F.showCollisionBoxes,z.status==="parsing"){const K=yield z.parse(z.vectorTile,this.layerIndex,this.availableImages,this.actor,F.subdivisionGranularity);let ne;if(this.fetching[O]){const{rawTileData:re,cacheControl:ue,resourceTiming:oe}=this.fetching[O];delete this.fetching[O],ne=P.e({rawTileData:re.slice(0)},K,ue,oe)}else ne=K;return ne}if(z.status==="done"&&z.vectorTile)return z.parse(z.vectorTile,this.layerIndex,this.availableImages,this.actor,F.subdivisionGranularity)})}abortTile(F){return P._(this,void 0,void 0,function*(){const O=this.loading,z=F.uid;O&&O[z]&&O[z].abort&&(O[z].abort.abort(),delete O[z])})}removeTile(F){return P._(this,void 0,void 0,function*(){this.loaded&&this.loaded[F.uid]&&delete this.loaded[F.uid]})}}class Ve{constructor(){this.loaded={}}loadTile(F){return P._(this,void 0,void 0,function*(){const{uid:O,encoding:z,rawImageData:K,redFactor:ne,greenFactor:re,blueFactor:ue,baseShift:oe}=F,ve=K.width+2,_e=K.height+2,ce=P.b(K)?new P.R({width:ve,height:_e},yield P.cB(K,-1,-1,ve,_e)):K,Me=new P.cC(O,ce,z,ne,re,ue,oe);return this.loaded=this.loaded||{},this.loaded[O]=Me,Me})}removeTile(F){const O=this.loaded,z=F.uid;O&&O[z]&&delete O[z]}}var he,Ae,rt=function(){if(Ae)return he;function le(O,z){if(O.length!==0){F(O[0],z);for(var K=1;K<O.length;K++)F(O[K],!z)}}function F(O,z){for(var K=0,ne=0,re=0,ue=O.length,oe=ue-1;re<ue;oe=re++){var ve=(O[re][0]-O[oe][0])*(O[oe][1]+O[re][1]),_e=K+ve;ne+=Math.abs(K)>=Math.abs(ve)?K-_e+ve:ve-_e+K,K=_e}K+ne>=0!=!!z&&O.reverse()}return Ae=1,he=function O(z,K){var ne,re=z&&z.type;if(re==="FeatureCollection")for(ne=0;ne<z.features.length;ne++)O(z.features[ne],K);else if(re==="GeometryCollection")for(ne=0;ne<z.geometries.length;ne++)O(z.geometries[ne],K);else if(re==="Feature")O(z.geometry,K);else if(re==="Polygon")le(z.coordinates,K);else if(re==="MultiPolygon")for(ne=0;ne<z.coordinates.length;ne++)le(z.coordinates[ne],K);return z}}(),Ke=P.cD(rt);const Tt=P.cy.VectorTileFeature.prototype.toGeoJSON;class Ct{constructor(F){this._feature=F,this.extent=P.Z,this.type=F.type,this.properties=F.tags,"id"in F&&!isNaN(F.id)&&(this.id=parseInt(F.id,10))}loadGeometry(){if(this._feature.type===1){const F=[];for(const O of this._feature.geometry)F.push([new P.P(O[0],O[1])]);return F}{const F=[];for(const O of this._feature.geometry){const z=[];for(const K of O)z.push(new P.P(K[0],K[1]));F.push(z)}return F}}toGeoJSON(F,O,z){return Tt.call(this,F,O,z)}}class Ot{constructor(F){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=P.Z,this.length=F.length,this._features=F}feature(F){return new Ct(this._features[F])}}var Lt,Vt,vt,yt={exports:{}},It=function(){if(vt)return yt.exports;vt=1;var le=P.cG(),F=function(){if(Vt)return Lt;Vt=1;var _e=P.cE(),ce=P.cF().VectorTileFeature;function Me(je,ge){this.options=ge||{},this.features=je,this.length=je.length}function Oe(je,ge){this.id=typeof je.id=="number"?je.id:void 0,this.type=je.type,this.rawGeometry=je.type===1?[je.geometry]:je.geometry,this.properties=je.tags,this.extent=ge||4096}return Lt=Me,Me.prototype.feature=function(je){return new Oe(this.features[je],this.options.extent)},Oe.prototype.loadGeometry=function(){var je=this.rawGeometry;this.geometry=[];for(var ge=0;ge<je.length;ge++){for(var it=je[ge],Ye=[],tt=0;tt<it.length;tt++)Ye.push(new _e(it[tt][0],it[tt][1]));this.geometry.push(Ye)}return this.geometry},Oe.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var je=this.geometry,ge=1/0,it=-1/0,Ye=1/0,tt=-1/0,pt=0;pt<je.length;pt++)for(var Ee=je[pt],$e=0;$e<Ee.length;$e++){var Be=Ee[$e];ge=Math.min(ge,Be.x),it=Math.max(it,Be.x),Ye=Math.min(Ye,Be.y),tt=Math.max(tt,Be.y)}return[ge,Ye,it,tt]},Oe.prototype.toGeoJSON=ce.prototype.toGeoJSON,Lt}();function O(_e){var ce=new le;return function(Me,Oe){for(var je in Me.layers)Oe.writeMessage(3,z,Me.layers[je])}(_e,ce),ce.finish()}function z(_e,ce){var Me;ce.writeVarintField(15,_e.version||1),ce.writeStringField(1,_e.name||""),ce.writeVarintField(5,_e.extent||4096);var Oe={keys:[],values:[],keycache:{},valuecache:{}};for(Me=0;Me<_e.length;Me++)Oe.feature=_e.feature(Me),ce.writeMessage(2,K,Oe);var je=Oe.keys;for(Me=0;Me<je.length;Me++)ce.writeStringField(3,je[Me]);var ge=Oe.values;for(Me=0;Me<ge.length;Me++)ce.writeMessage(4,ve,ge[Me])}function K(_e,ce){var Me=_e.feature;Me.id!==void 0&&ce.writeVarintField(1,Me.id),ce.writeMessage(2,ne,_e),ce.writeVarintField(3,Me.type),ce.writeMessage(4,oe,Me)}function ne(_e,ce){var Me=_e.feature,Oe=_e.keys,je=_e.values,ge=_e.keycache,it=_e.valuecache;for(var Ye in Me.properties){var tt=Me.properties[Ye],pt=ge[Ye];if(tt!==null){pt===void 0&&(Oe.push(Ye),ge[Ye]=pt=Oe.length-1),ce.writeVarint(pt);var Ee=typeof tt;Ee!=="string"&&Ee!=="boolean"&&Ee!=="number"&&(tt=JSON.stringify(tt));var $e=Ee+":"+tt,Be=it[$e];Be===void 0&&(je.push(tt),it[$e]=Be=je.length-1),ce.writeVarint(Be)}}}function re(_e,ce){return(ce<<3)+(7&_e)}function ue(_e){return _e<<1^_e>>31}function oe(_e,ce){for(var Me=_e.loadGeometry(),Oe=_e.type,je=0,ge=0,it=Me.length,Ye=0;Ye<it;Ye++){var tt=Me[Ye],pt=1;Oe===1&&(pt=tt.length),ce.writeVarint(re(1,pt));for(var Ee=Oe===3?tt.length-1:tt.length,$e=0;$e<Ee;$e++){$e===1&&Oe!==1&&ce.writeVarint(re(2,Ee-1));var Be=tt[$e].x-je,nt=tt[$e].y-ge;ce.writeVarint(ue(Be)),ce.writeVarint(ue(nt)),je+=Be,ge+=nt}Oe===3&&ce.writeVarint(re(7,1))}}function ve(_e,ce){var Me=typeof _e;Me==="string"?ce.writeStringField(1,_e):Me==="boolean"?ce.writeBooleanField(7,_e):Me==="number"&&(_e%1!=0?ce.writeDoubleField(3,_e):_e<0?ce.writeSVarintField(6,_e):ce.writeVarintField(5,_e))}return yt.exports=O,yt.exports.fromVectorTileJs=O,yt.exports.fromGeojsonVt=function(_e,ce){ce=ce||{};var Me={};for(var Oe in _e)Me[Oe]=new F(_e[Oe].features,ce),Me[Oe].name=Oe,Me[Oe].version=ce.version,Me[Oe].extent=ce.extent;return O({layers:Me})},yt.exports.GeoJSONWrapper=F,yt.exports}(),Or=P.cD(It);const so={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:le=>le},jr=Math.fround||(on=new Float32Array(1),le=>(on[0]=+le,on[0]));var on;const $i=3,vi=5,vs=6;class bt{constructor(F){this.options=Object.assign(Object.create(so),F),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(F){const{log:O,minZoom:z,maxZoom:K}=this.options;O&&console.time("total time");const ne=`prepare ${F.length} points`;O&&console.time(ne),this.points=F;const re=[];for(let oe=0;oe<F.length;oe++){const ve=F[oe];if(!ve.geometry)continue;const[_e,ce]=ve.geometry.coordinates,Me=jr(an(_e)),Oe=jr(ln(ce));re.push(Me,Oe,1/0,oe,-1,1),this.options.reduce&&re.push(0)}let ue=this.trees[K+1]=this._createTree(re);O&&console.timeEnd(ne);for(let oe=K;oe>=z;oe--){const ve=+Date.now();ue=this.trees[oe]=this._createTree(this._cluster(ue,oe)),O&&console.log("z%d: %d clusters in %dms",oe,ue.numItems,+Date.now()-ve)}return O&&console.timeEnd("total time"),this}getClusters(F,O){let z=((F[0]+180)%360+360)%360-180;const K=Math.max(-90,Math.min(90,F[1]));let ne=F[2]===180?180:((F[2]+180)%360+360)%360-180;const re=Math.max(-90,Math.min(90,F[3]));if(F[2]-F[0]>=360)z=-180,ne=180;else if(z>ne){const ce=this.getClusters([z,K,180,re],O),Me=this.getClusters([-180,K,ne,re],O);return ce.concat(Me)}const ue=this.trees[this._limitZoom(O)],oe=ue.range(an(z),ln(re),an(ne),ln(K)),ve=ue.data,_e=[];for(const ce of oe){const Me=this.stride*ce;_e.push(ve[Me+vi]>1?Ln(ve,Me,this.clusterProps):this.points[ve[Me+$i]])}return _e}getChildren(F){const O=this._getOriginId(F),z=this._getOriginZoom(F),K="No cluster with the specified id.",ne=this.trees[z];if(!ne)throw new Error(K);const re=ne.data;if(O*this.stride>=re.length)throw new Error(K);const ue=this.options.radius/(this.options.extent*Math.pow(2,z-1)),oe=ne.within(re[O*this.stride],re[O*this.stride+1],ue),ve=[];for(const _e of oe){const ce=_e*this.stride;re[ce+4]===F&&ve.push(re[ce+vi]>1?Ln(re,ce,this.clusterProps):this.points[re[ce+$i]])}if(ve.length===0)throw new Error(K);return ve}getLeaves(F,O,z){const K=[];return this._appendLeaves(K,F,O=O||10,z=z||0,0),K}getTile(F,O,z){const K=this.trees[this._limitZoom(F)],ne=Math.pow(2,F),{extent:re,radius:ue}=this.options,oe=ue/re,ve=(z-oe)/ne,_e=(z+1+oe)/ne,ce={features:[]};return this._addTileFeatures(K.range((O-oe)/ne,ve,(O+1+oe)/ne,_e),K.data,O,z,ne,ce),O===0&&this._addTileFeatures(K.range(1-oe/ne,ve,1,_e),K.data,ne,z,ne,ce),O===ne-1&&this._addTileFeatures(K.range(0,ve,oe/ne,_e),K.data,-1,z,ne,ce),ce.features.length?ce:null}getClusterExpansionZoom(F){let O=this._getOriginZoom(F)-1;for(;O<=this.options.maxZoom;){const z=this.getChildren(F);if(O++,z.length!==1)break;F=z[0].properties.cluster_id}return O}_appendLeaves(F,O,z,K,ne){const re=this.getChildren(O);for(const ue of re){const oe=ue.properties;if(oe&&oe.cluster?ne+oe.point_count<=K?ne+=oe.point_count:ne=this._appendLeaves(F,oe.cluster_id,z,K,ne):ne<K?ne++:F.push(ue),F.length===z)break}return ne}_createTree(F){const O=new P.aC(F.length/this.stride|0,this.options.nodeSize,Float32Array);for(let z=0;z<F.length;z+=this.stride)O.add(F[z],F[z+1]);return O.finish(),O.data=F,O}_addTileFeatures(F,O,z,K,ne,re){for(const ue of F){const oe=ue*this.stride,ve=O[oe+vi]>1;let _e,ce,Me;if(ve)_e=Nr(O,oe,this.clusterProps),ce=O[oe],Me=O[oe+1];else{const ge=this.points[O[oe+$i]];_e=ge.properties;const[it,Ye]=ge.geometry.coordinates;ce=an(it),Me=ln(Ye)}const Oe={type:1,geometry:[[Math.round(this.options.extent*(ce*ne-z)),Math.round(this.options.extent*(Me*ne-K))]],tags:_e};let je;je=ve||this.options.generateId?O[oe+$i]:this.points[O[oe+$i]].id,je!==void 0&&(Oe.id=je),re.features.push(Oe)}}_limitZoom(F){return Math.max(this.options.minZoom,Math.min(Math.floor(+F),this.options.maxZoom+1))}_cluster(F,O){const{radius:z,extent:K,reduce:ne,minPoints:re}=this.options,ue=z/(K*Math.pow(2,O)),oe=F.data,ve=[],_e=this.stride;for(let ce=0;ce<oe.length;ce+=_e){if(oe[ce+2]<=O)continue;oe[ce+2]=O;const Me=oe[ce],Oe=oe[ce+1],je=F.within(oe[ce],oe[ce+1],ue),ge=oe[ce+vi];let it=ge;for(const Ye of je){const tt=Ye*_e;oe[tt+2]>O&&(it+=oe[tt+vi])}if(it>ge&&it>=re){let Ye,tt=Me*ge,pt=Oe*ge,Ee=-1;const $e=((ce/_e|0)<<5)+(O+1)+this.points.length;for(const Be of je){const nt=Be*_e;if(oe[nt+2]<=O)continue;oe[nt+2]=O;const Ut=oe[nt+vi];tt+=oe[nt]*Ut,pt+=oe[nt+1]*Ut,oe[nt+4]=$e,ne&&(Ye||(Ye=this._map(oe,ce,!0),Ee=this.clusterProps.length,this.clusterProps.push(Ye)),ne(Ye,this._map(oe,nt)))}oe[ce+4]=$e,ve.push(tt/it,pt/it,1/0,$e,-1,it),ne&&ve.push(Ee)}else{for(let Ye=0;Ye<_e;Ye++)ve.push(oe[ce+Ye]);if(it>1)for(const Ye of je){const tt=Ye*_e;if(!(oe[tt+2]<=O)){oe[tt+2]=O;for(let pt=0;pt<_e;pt++)ve.push(oe[tt+pt])}}}}return ve}_getOriginId(F){return F-this.points.length>>5}_getOriginZoom(F){return(F-this.points.length)%32}_map(F,O,z){if(F[O+vi]>1){const re=this.clusterProps[F[O+vs]];return z?Object.assign({},re):re}const K=this.points[F[O+$i]].properties,ne=this.options.map(K);return z&&ne===K?Object.assign({},ne):ne}}function Ln(le,F,O){return{type:"Feature",id:le[F+$i],properties:Nr(le,F,O),geometry:{type:"Point",coordinates:[(z=le[F],360*(z-.5)),Fn(le[F+1])]}};var z}function Nr(le,F,O){const z=le[F+vi],K=z>=1e4?`${Math.round(z/1e3)}k`:z>=1e3?Math.round(z/100)/10+"k":z,ne=le[F+vs],re=ne===-1?{}:Object.assign({},O[ne]);return Object.assign(re,{cluster:!0,cluster_id:le[F+$i],point_count:z,point_count_abbreviated:K})}function an(le){return le/360+.5}function ln(le){const F=Math.sin(le*Math.PI/180),O=.5-.25*Math.log((1+F)/(1-F))/Math.PI;return O<0?0:O>1?1:O}function Fn(le){const F=(180-360*le)*Math.PI/180;return 360*Math.atan(Math.exp(F))/Math.PI-90}function hr(le,F,O,z){let K=z;const ne=F+(O-F>>1);let re,ue=O-F;const oe=le[F],ve=le[F+1],_e=le[O],ce=le[O+1];for(let Me=F+3;Me<O;Me+=3){const Oe=Yi(le[Me],le[Me+1],oe,ve,_e,ce);if(Oe>K)re=Me,K=Oe;else if(Oe===K){const je=Math.abs(Me-ne);je<ue&&(re=Me,ue=je)}}K>z&&(re-F>3&&hr(le,F,re,z),le[re+2]=K,O-re>3&&hr(le,re,O,z))}function Yi(le,F,O,z,K,ne){let re=K-O,ue=ne-z;if(re!==0||ue!==0){const oe=((le-O)*re+(F-z)*ue)/(re*re+ue*ue);oe>1?(O=K,z=ne):oe>0&&(O+=re*oe,z+=ue*oe)}return re=le-O,ue=F-z,re*re+ue*ue}function Gi(le,F,O,z){const K={id:le??null,type:F,geometry:O,tags:z,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};if(F==="Point"||F==="MultiPoint"||F==="LineString")fi(K,O);else if(F==="Polygon")fi(K,O[0]);else if(F==="MultiLineString")for(const ne of O)fi(K,ne);else if(F==="MultiPolygon")for(const ne of O)fi(K,ne[0]);return K}function fi(le,F){for(let O=0;O<F.length;O+=3)le.minX=Math.min(le.minX,F[O]),le.minY=Math.min(le.minY,F[O+1]),le.maxX=Math.max(le.maxX,F[O]),le.maxY=Math.max(le.maxY,F[O+1])}function cn(le,F,O,z){if(!F.geometry)return;const K=F.geometry.coordinates;if(K&&K.length===0)return;const ne=F.geometry.type,re=Math.pow(O.tolerance/((1<<O.maxZoom)*O.extent),2);let ue=[],oe=F.id;if(O.promoteId?oe=F.properties[O.promoteId]:O.generateId&&(oe=z||0),ne==="Point")un(K,ue);else if(ne==="MultiPoint")for(const ve of K)un(ve,ue);else if(ne==="LineString")hn(K,ue,re,!1);else if(ne==="MultiLineString"){if(O.lineMetrics){for(const ve of K)ue=[],hn(ve,ue,re,!1),le.push(Gi(oe,"LineString",ue,F.properties));return}Oi(K,ue,re,!1)}else if(ne==="Polygon")Oi(K,ue,re,!0);else{if(ne!=="MultiPolygon"){if(ne==="GeometryCollection"){for(const ve of F.geometry.geometries)cn(le,{id:oe,geometry:ve,properties:F.properties},O,z);return}throw new Error("Input data is not a valid GeoJSON object.")}for(const ve of K){const _e=[];Oi(ve,_e,re,!0),ue.push(_e)}}le.push(Gi(oe,ne,ue,F.properties))}function un(le,F){F.push(bs(le[0]),bi(le[1]),0)}function hn(le,F,O,z){let K,ne,re=0;for(let oe=0;oe<le.length;oe++){const ve=bs(le[oe][0]),_e=bi(le[oe][1]);F.push(ve,_e,0),oe>0&&(re+=z?(K*_e-ve*ne)/2:Math.sqrt(Math.pow(ve-K,2)+Math.pow(_e-ne,2))),K=ve,ne=_e}const ue=F.length-3;F[2]=1,hr(F,0,ue,O),F[ue+2]=1,F.size=Math.abs(re),F.start=0,F.end=F.size}function Oi(le,F,O,z){for(let K=0;K<le.length;K++){const ne=[];hn(le[K],ne,O,z),F.push(ne)}}function bs(le){return le/360+.5}function bi(le){const F=Math.sin(le*Math.PI/180),O=.5-.25*Math.log((1+F)/(1-F))/Math.PI;return O<0?0:O>1?1:O}function ii(le,F,O,z,K,ne,re,ue){if(z/=F,ne>=(O/=F)&&re<z)return le;if(re<O||ne>=z)return null;const oe=[];for(const ve of le){const _e=ve.geometry;let ce=ve.type;const Me=K===0?ve.minX:ve.minY,Oe=K===0?ve.maxX:ve.maxY;if(Me>=O&&Oe<z){oe.push(ve);continue}if(Oe<O||Me>=z)continue;let je=[];if(ce==="Point"||ce==="MultiPoint")br(_e,je,O,z,K);else if(ce==="LineString")Ht(_e,je,O,z,K,!1,ue.lineMetrics);else if(ce==="MultiLineString")pn(_e,je,O,z,K,!1);else if(ce==="Polygon")pn(_e,je,O,z,K,!0);else if(ce==="MultiPolygon")for(const ge of _e){const it=[];pn(ge,it,O,z,K,!0),it.length&&je.push(it)}if(je.length){if(ue.lineMetrics&&ce==="LineString"){for(const ge of je)oe.push(Gi(ve.id,ce,ge,ve.tags));continue}ce!=="LineString"&&ce!=="MultiLineString"||(je.length===1?(ce="LineString",je=je[0]):ce="MultiLineString"),ce!=="Point"&&ce!=="MultiPoint"||(ce=je.length===3?"Point":"MultiPoint"),oe.push(Gi(ve.id,ce,je,ve.tags))}}return oe.length?oe:null}function br(le,F,O,z,K){for(let ne=0;ne<le.length;ne+=3){const re=le[ne+K];re>=O&&re<=z&&Ji(F,le[ne],le[ne+1],le[ne+2])}}function Ht(le,F,O,z,K,ne,re){let ue=dn(le);const oe=K===0?Vr:Ur;let ve,_e,ce=le.start;for(let it=0;it<le.length-3;it+=3){const Ye=le[it],tt=le[it+1],pt=le[it+2],Ee=le[it+3],$e=le[it+4],Be=K===0?Ye:tt,nt=K===0?Ee:$e;let Ut=!1;re&&(ve=Math.sqrt(Math.pow(Ye-Ee,2)+Math.pow(tt-$e,2))),Be<O?nt>O&&(_e=oe(ue,Ye,tt,Ee,$e,O),re&&(ue.start=ce+ve*_e)):Be>z?nt<z&&(_e=oe(ue,Ye,tt,Ee,$e,z),re&&(ue.start=ce+ve*_e)):Ji(ue,Ye,tt,pt),nt<O&&Be>=O&&(_e=oe(ue,Ye,tt,Ee,$e,O),Ut=!0),nt>z&&Be<=z&&(_e=oe(ue,Ye,tt,Ee,$e,z),Ut=!0),!ne&&Ut&&(re&&(ue.end=ce+ve*_e),F.push(ue),ue=dn(le)),re&&(ce+=ve)}let Me=le.length-3;const Oe=le[Me],je=le[Me+1],ge=K===0?Oe:je;ge>=O&&ge<=z&&Ji(ue,Oe,je,le[Me+2]),Me=ue.length-3,ne&&Me>=3&&(ue[Me]!==ue[0]||ue[Me+1]!==ue[1])&&Ji(ue,ue[0],ue[1],ue[2]),ue.length&&F.push(ue)}function dn(le){const F=[];return F.size=le.size,F.start=le.start,F.end=le.end,F}function pn(le,F,O,z,K,ne){for(const re of le)Ht(re,F,O,z,K,ne,!1)}function Ji(le,F,O,z){le.push(F,O,z)}function Vr(le,F,O,z,K,ne){const re=(ne-F)/(z-F);return Ji(le,ne,O+(K-O)*re,1),re}function Ur(le,F,O,z,K,ne){const re=(ne-O)/(K-O);return Ji(le,F+(z-F)*re,ne,1),re}function Qi(le,F){const O=[];for(let z=0;z<le.length;z++){const K=le[z],ne=K.type;let re;if(ne==="Point"||ne==="MultiPoint"||ne==="LineString")re=er(K.geometry,F);else if(ne==="MultiLineString"||ne==="Polygon"){re=[];for(const ue of K.geometry)re.push(er(ue,F))}else if(ne==="MultiPolygon"){re=[];for(const ue of K.geometry){const oe=[];for(const ve of ue)oe.push(er(ve,F));re.push(oe)}}O.push(Gi(K.id,ne,re,K.tags))}return O}function er(le,F){const O=[];O.size=le.size,le.start!==void 0&&(O.start=le.start,O.end=le.end);for(let z=0;z<le.length;z+=3)O.push(le[z]+F,le[z+1],le[z+2]);return O}function Bn(le,F){if(le.transformed)return le;const O=1<<le.z,z=le.x,K=le.y;for(const ne of le.features){const re=ne.geometry,ue=ne.type;if(ne.geometry=[],ue===1)for(let oe=0;oe<re.length;oe+=2)ne.geometry.push(On(re[oe],re[oe+1],F,O,z,K));else for(let oe=0;oe<re.length;oe++){const ve=[];for(let _e=0;_e<re[oe].length;_e+=2)ve.push(On(re[oe][_e],re[oe][_e+1],F,O,z,K));ne.geometry.push(ve)}}return le.transformed=!0,le}function On(le,F,O,z,K,ne){return[Math.round(O*(le*z-K)),Math.round(O*(F*z-ne))]}function ws(le,F,O,z,K){const ne=F===K.maxZoom?0:K.tolerance/((1<<F)*K.extent),re={features:[],numPoints:0,numSimplified:0,numFeatures:le.length,source:null,x:O,y:z,z:F,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0};for(const ue of le)fn(re,ue,ne,K);return re}function fn(le,F,O,z){const K=F.geometry,ne=F.type,re=[];if(le.minX=Math.min(le.minX,F.minX),le.minY=Math.min(le.minY,F.minY),le.maxX=Math.max(le.maxX,F.maxX),le.maxY=Math.max(le.maxY,F.maxY),ne==="Point"||ne==="MultiPoint")for(let ue=0;ue<K.length;ue+=3)re.push(K[ue],K[ue+1]),le.numPoints++,le.numSimplified++;else if(ne==="LineString")Zr(re,K,le,O,!1,!1);else if(ne==="MultiLineString"||ne==="Polygon")for(let ue=0;ue<K.length;ue++)Zr(re,K[ue],le,O,ne==="Polygon",ue===0);else if(ne==="MultiPolygon")for(let ue=0;ue<K.length;ue++){const oe=K[ue];for(let ve=0;ve<oe.length;ve++)Zr(re,oe[ve],le,O,!0,ve===0)}if(re.length){let ue=F.tags||null;if(ne==="LineString"&&z.lineMetrics){ue={};for(const ve in F.tags)ue[ve]=F.tags[ve];ue.mapbox_clip_start=K.start/K.size,ue.mapbox_clip_end=K.end/K.size}const oe={geometry:re,type:ne==="Polygon"||ne==="MultiPolygon"?3:ne==="LineString"||ne==="MultiLineString"?2:1,tags:ue};F.id!==null&&(oe.id=F.id),le.features.push(oe)}}function Zr(le,F,O,z,K,ne){const re=z*z;if(z>0&&F.size<(K?re:z))return void(O.numPoints+=F.length/3);const ue=[];for(let oe=0;oe<F.length;oe+=3)(z===0||F[oe+2]>re)&&(O.numSimplified++,ue.push(F[oe],F[oe+1])),O.numPoints++;K&&function(oe,ve){let _e=0;for(let ce=0,Me=oe.length,Oe=Me-2;ce<Me;Oe=ce,ce+=2)_e+=(oe[ce]-oe[Oe])*(oe[ce+1]+oe[Oe+1]);if(_e>0===ve)for(let ce=0,Me=oe.length;ce<Me/2;ce+=2){const Oe=oe[ce],je=oe[ce+1];oe[ce]=oe[Me-2-ce],oe[ce+1]=oe[Me-1-ce],oe[Me-2-ce]=Oe,oe[Me-1-ce]=je}}(ue,ne),le.push(ue)}const jn={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0};class wr{constructor(F,O){const z=(O=this.options=function(ne,re){for(const ue in re)ne[ue]=re[ue];return ne}(Object.create(jn),O)).debug;if(z&&console.time("preprocess data"),O.maxZoom<0||O.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(O.promoteId&&O.generateId)throw new Error("promoteId and generateId cannot be used together.");let K=function(ne,re){const ue=[];if(ne.type==="FeatureCollection")for(let oe=0;oe<ne.features.length;oe++)cn(ue,ne.features[oe],re,oe);else cn(ue,ne.type==="Feature"?ne:{geometry:ne},re);return ue}(F,O);this.tiles={},this.tileCoords=[],z&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",O.indexMaxZoom,O.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),K=function(ne,re){const ue=re.buffer/re.extent;let oe=ne;const ve=ii(ne,1,-1-ue,ue,0,-1,2,re),_e=ii(ne,1,1-ue,2+ue,0,-1,2,re);return(ve||_e)&&(oe=ii(ne,1,-ue,1+ue,0,-1,2,re)||[],ve&&(oe=Qi(ve,1).concat(oe)),_e&&(oe=oe.concat(Qi(_e,-1)))),oe}(K,O),K.length&&this.splitTile(K,0,0,0),z&&(K.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}splitTile(F,O,z,K,ne,re,ue){const oe=[F,O,z,K],ve=this.options,_e=ve.debug;for(;oe.length;){K=oe.pop(),z=oe.pop(),O=oe.pop(),F=oe.pop();const ce=1<<O,Me=dr(O,z,K);let Oe=this.tiles[Me];if(!Oe&&(_e>1&&console.time("creation"),Oe=this.tiles[Me]=ws(F,O,z,K,ve),this.tileCoords.push({z:O,x:z,y:K}),_e)){_e>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",O,z,K,Oe.numFeatures,Oe.numPoints,Oe.numSimplified),console.timeEnd("creation"));const Ut=`z${O}`;this.stats[Ut]=(this.stats[Ut]||0)+1,this.total++}if(Oe.source=F,ne==null){if(O===ve.indexMaxZoom||Oe.numPoints<=ve.indexMaxPoints)continue}else{if(O===ve.maxZoom||O===ne)continue;if(ne!=null){const Ut=ne-O;if(z!==re>>Ut||K!==ue>>Ut)continue}}if(Oe.source=null,F.length===0)continue;_e>1&&console.time("clipping");const je=.5*ve.buffer/ve.extent,ge=.5-je,it=.5+je,Ye=1+je;let tt=null,pt=null,Ee=null,$e=null,Be=ii(F,ce,z-je,z+it,0,Oe.minX,Oe.maxX,ve),nt=ii(F,ce,z+ge,z+Ye,0,Oe.minX,Oe.maxX,ve);F=null,Be&&(tt=ii(Be,ce,K-je,K+it,1,Oe.minY,Oe.maxY,ve),pt=ii(Be,ce,K+ge,K+Ye,1,Oe.minY,Oe.maxY,ve),Be=null),nt&&(Ee=ii(nt,ce,K-je,K+it,1,Oe.minY,Oe.maxY,ve),$e=ii(nt,ce,K+ge,K+Ye,1,Oe.minY,Oe.maxY,ve),nt=null),_e>1&&console.timeEnd("clipping"),oe.push(tt||[],O+1,2*z,2*K),oe.push(pt||[],O+1,2*z,2*K+1),oe.push(Ee||[],O+1,2*z+1,2*K),oe.push($e||[],O+1,2*z+1,2*K+1)}}getTile(F,O,z){F=+F,O=+O,z=+z;const K=this.options,{extent:ne,debug:re}=K;if(F<0||F>24)return null;const ue=1<<F,oe=dr(F,O=O+ue&ue-1,z);if(this.tiles[oe])return Bn(this.tiles[oe],ne);re>1&&console.log("drilling down to z%d-%d-%d",F,O,z);let ve,_e=F,ce=O,Me=z;for(;!ve&&_e>0;)_e--,ce>>=1,Me>>=1,ve=this.tiles[dr(_e,ce,Me)];return ve&&ve.source?(re>1&&(console.log("found parent tile z%d-%d-%d",_e,ce,Me),console.time("drilling down")),this.splitTile(ve.source,_e,ce,Me,F,O,z),re>1&&console.timeEnd("drilling down"),this.tiles[oe]?Bn(this.tiles[oe],ne):null):null}}function dr(le,F,O){return 32*((1<<le)*O+F)+le}function Tr(le,F){return F?le.properties[F]:le.id}function Nn(le,F){if(le==null)return!0;if(le.type==="Feature")return Tr(le,F)!=null;if(le.type==="FeatureCollection"){const O=new Set;for(const z of le.features){const K=Tr(z,F);if(K==null||O.has(K))return!1;O.add(K)}return!0}return!1}function Ts(le,F){const O=new Map;if(le!=null)if(le.type==="Feature")O.set(Tr(le,F),le);else for(const z of le.features)O.set(Tr(z,F),z);return O}class oo extends qe{constructor(){super(...arguments),this._dataUpdateable=new Map}loadVectorTile(F,O){return P._(this,void 0,void 0,function*(){const z=F.tileID.canonical;if(!this._geoJSONIndex)throw new Error("Unable to parse the data into a cluster or geojson");const K=this._geoJSONIndex.getTile(z.z,z.x,z.y);if(!K)return null;const ne=new Ot(K.features);let re=Or(ne);return re.byteOffset===0&&re.byteLength===re.buffer.byteLength||(re=new Uint8Array(re)),{vectorTile:ne,rawData:re.buffer}})}loadData(F){return P._(this,void 0,void 0,function*(){var O;(O=this._pendingRequest)===null||O===void 0||O.abort();const z=!!(F&&F.request&&F.request.collectResourceTiming)&&new P.cA(F.request);this._pendingRequest=new AbortController;try{this._pendingData=this.loadAndProcessGeoJSON(F,this._pendingRequest),this._geoJSONIndex=F.cluster?new bt(function({superclusterOptions:re,clusterProperties:ue}){if(!ue||!re)return re;const oe={},ve={},_e={accumulated:null,zoom:0},ce={properties:null},Me=Object.keys(ue);for(const Oe of Me){const[je,ge]=ue[Oe],it=P.cH(ge),Ye=P.cH(typeof je=="string"?[je,["accumulated"],["get",Oe]]:je);oe[Oe]=it.value,ve[Oe]=Ye.value}return re.map=Oe=>{ce.properties=Oe;const je={};for(const ge of Me)je[ge]=oe[ge].evaluate(_e,ce);return je},re.reduce=(Oe,je)=>{ce.properties=je;for(const ge of Me)_e.accumulated=Oe[ge],Oe[ge]=ve[ge].evaluate(_e,ce)},re}(F)).load((yield this._pendingData).features):(K=yield this._pendingData,new wr(K,F.geojsonVtOptions)),this.loaded={};const ne={};if(z){const re=z.finish();re&&(ne.resourceTiming={},ne.resourceTiming[F.source]=JSON.parse(JSON.stringify(re)))}return ne}catch(ne){if(delete this._pendingRequest,P.cl(ne))return{abandoned:!0};throw ne}var K})}getData(){return P._(this,void 0,void 0,function*(){return this._pendingData})}reloadTile(F){const O=this.loaded;return O&&O[F.uid]?super.reloadTile(F):this.loadTile(F)}loadAndProcessGeoJSON(F,O){return P._(this,void 0,void 0,function*(){let z=yield this.loadGeoJSON(F,O);if(delete this._pendingRequest,typeof z!="object")throw new Error(`Input data given to '${F.source}' is not a valid GeoJSON object.`);if(Ke(z,!0),F.filter){const K=P.cH(F.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(K.result==="error")throw new Error(K.value.map(re=>`${re.key}: ${re.message}`).join(", "));z={type:"FeatureCollection",features:z.features.filter(re=>K.value.evaluate({zoom:0},re))}}return z})}loadGeoJSON(F,O){return P._(this,void 0,void 0,function*(){const{promoteId:z}=F;if(F.request){const K=yield P.j(F.request,O);return this._dataUpdateable=Nn(K.data,z)?Ts(K.data,z):void 0,K.data}if(typeof F.data=="string")try{const K=JSON.parse(F.data);return this._dataUpdateable=Nn(K,z)?Ts(K,z):void 0,K}catch{throw new Error(`Input data given to '${F.source}' is not a valid GeoJSON object.`)}if(!F.dataDiff)throw new Error(`Input data given to '${F.source}' is not a valid GeoJSON object.`);if(!this._dataUpdateable)throw new Error(`Cannot update existing geojson data in ${F.source}`);return function(K,ne,re){var ue,oe,ve,_e;if(ne.removeAll&&K.clear(),ne.remove)for(const ce of ne.remove)K.delete(ce);if(ne.add)for(const ce of ne.add){const Me=Tr(ce,re);Me!=null&&K.set(Me,ce)}if(ne.update)for(const ce of ne.update){let Me=K.get(ce.id);if(Me==null)continue;const Oe=!ce.removeAllProperties&&(((ue=ce.removeProperties)===null||ue===void 0?void 0:ue.length)>0||((oe=ce.addOrUpdateProperties)===null||oe===void 0?void 0:oe.length)>0);if((ce.newGeometry||ce.removeAllProperties||Oe)&&(Me=Object.assign({},Me),K.set(ce.id,Me),Oe&&(Me.properties=Object.assign({},Me.properties))),ce.newGeometry&&(Me.geometry=ce.newGeometry),ce.removeAllProperties)Me.properties={};else if(((ve=ce.removeProperties)===null||ve===void 0?void 0:ve.length)>0)for(const je of ce.removeProperties)Object.prototype.hasOwnProperty.call(Me.properties,je)&&delete Me.properties[je];if(((_e=ce.addOrUpdateProperties)===null||_e===void 0?void 0:_e.length)>0)for(const{key:je,value:ge}of ce.addOrUpdateProperties)Me.properties[je]=ge}}(this._dataUpdateable,F.dataDiff,z),{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())}})}removeSource(F){return P._(this,void 0,void 0,function*(){this._pendingRequest&&this._pendingRequest.abort()})}getClusterExpansionZoom(F){return this._geoJSONIndex.getClusterExpansionZoom(F.clusterId)}getClusterChildren(F){return this._geoJSONIndex.getChildren(F.clusterId)}getClusterLeaves(F){return this._geoJSONIndex.getLeaves(F.clusterId,F.limit,F.offset)}}class Pr{constructor(F){this.self=F,this.actor=new P.H(F),this.layerIndexes={},this.availableImages={},this.workerSources={},this.demWorkerSources={},this.externalWorkerSourceTypes={},this.self.registerWorkerSource=(O,z)=>{if(this.externalWorkerSourceTypes[O])throw new Error(`Worker source with name "${O}" already registered.`);this.externalWorkerSourceTypes[O]=z},this.self.addProtocol=P.cn,this.self.removeProtocol=P.co,this.self.registerRTLTextPlugin=O=>{P.cI.setMethods(O)},this.actor.registerMessageHandler("LDT",(O,z)=>this._getDEMWorkerSource(O,z.source).loadTile(z)),this.actor.registerMessageHandler("RDT",(O,z)=>P._(this,void 0,void 0,function*(){this._getDEMWorkerSource(O,z.source).removeTile(z)})),this.actor.registerMessageHandler("GCEZ",(O,z)=>P._(this,void 0,void 0,function*(){return this._getWorkerSource(O,z.type,z.source).getClusterExpansionZoom(z)})),this.actor.registerMessageHandler("GCC",(O,z)=>P._(this,void 0,void 0,function*(){return this._getWorkerSource(O,z.type,z.source).getClusterChildren(z)})),this.actor.registerMessageHandler("GCL",(O,z)=>P._(this,void 0,void 0,function*(){return this._getWorkerSource(O,z.type,z.source).getClusterLeaves(z)})),this.actor.registerMessageHandler("LD",(O,z)=>this._getWorkerSource(O,z.type,z.source).loadData(z)),this.actor.registerMessageHandler("GD",(O,z)=>this._getWorkerSource(O,z.type,z.source).getData()),this.actor.registerMessageHandler("LT",(O,z)=>this._getWorkerSource(O,z.type,z.source).loadTile(z)),this.actor.registerMessageHandler("RT",(O,z)=>this._getWorkerSource(O,z.type,z.source).reloadTile(z)),this.actor.registerMessageHandler("AT",(O,z)=>this._getWorkerSource(O,z.type,z.source).abortTile(z)),this.actor.registerMessageHandler("RMT",(O,z)=>this._getWorkerSource(O,z.type,z.source).removeTile(z)),this.actor.registerMessageHandler("RS",(O,z)=>P._(this,void 0,void 0,function*(){if(!this.workerSources[O]||!this.workerSources[O][z.type]||!this.workerSources[O][z.type][z.source])return;const K=this.workerSources[O][z.type][z.source];delete this.workerSources[O][z.type][z.source],K.removeSource!==void 0&&K.removeSource(z)})),this.actor.registerMessageHandler("RM",O=>P._(this,void 0,void 0,function*(){delete this.layerIndexes[O],delete this.availableImages[O],delete this.workerSources[O],delete this.demWorkerSources[O]})),this.actor.registerMessageHandler("SR",(O,z)=>P._(this,void 0,void 0,function*(){this.referrer=z})),this.actor.registerMessageHandler("SRPS",(O,z)=>this._syncRTLPluginState(O,z)),this.actor.registerMessageHandler("IS",(O,z)=>P._(this,void 0,void 0,function*(){this.self.importScripts(z)})),this.actor.registerMessageHandler("SI",(O,z)=>this._setImages(O,z)),this.actor.registerMessageHandler("UL",(O,z)=>P._(this,void 0,void 0,function*(){this._getLayerIndex(O).update(z.layers,z.removedIds)})),this.actor.registerMessageHandler("SL",(O,z)=>P._(this,void 0,void 0,function*(){this._getLayerIndex(O).replace(z)}))}_setImages(F,O){return P._(this,void 0,void 0,function*(){this.availableImages[F]=O;for(const z in this.workerSources[F]){const K=this.workerSources[F][z];for(const ne in K)K[ne].availableImages=O}})}_syncRTLPluginState(F,O){return P._(this,void 0,void 0,function*(){return yield P.cI.syncState(O,this.self.importScripts)})}_getAvailableImages(F){let O=this.availableImages[F];return O||(O=[]),O}_getLayerIndex(F){let O=this.layerIndexes[F];return O||(O=this.layerIndexes[F]=new c),O}_getWorkerSource(F,O,z){if(this.workerSources[F]||(this.workerSources[F]={}),this.workerSources[F][O]||(this.workerSources[F][O]={}),!this.workerSources[F][O][z]){const K={sendAsync:(ne,re)=>(ne.targetMapId=F,this.actor.sendAsync(ne,re))};switch(O){case"vector":this.workerSources[F][O][z]=new qe(K,this._getLayerIndex(F),this._getAvailableImages(F));break;case"geojson":this.workerSources[F][O][z]=new oo(K,this._getLayerIndex(F),this._getAvailableImages(F));break;default:this.workerSources[F][O][z]=new this.externalWorkerSourceTypes[O](K,this._getLayerIndex(F),this._getAvailableImages(F))}}return this.workerSources[F][O][z]}_getDEMWorkerSource(F,O){return this.demWorkerSources[F]||(this.demWorkerSources[F]={}),this.demWorkerSources[F][O]||(this.demWorkerSources[F][O]=new Ve),this.demWorkerSources[F][O]}}return P.i(self)&&(self.worker=new Pr(self)),Pr}),J("index",["exports","./shared"],function(P,c){var Ne="5.3.0";function De(){var u=new c.A(4);return c.A!=Float32Array&&(u[1]=0,u[2]=0),u[0]=1,u[3]=1,u}let Fe,qe;const Ve={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(u,e,i){const o=requestAnimationFrame(h=>{a(),e(h)}),{unsubscribe:a}=c.s(u.signal,"abort",()=>{a(),cancelAnimationFrame(o),i(c.c())},!1)},frameAsync(u){return new Promise((e,i)=>{this.frame(u,e,i)})},getImageData(u,e=0){return this.getImageCanvasContext(u).getImageData(-e,-e,u.width+2*e,u.height+2*e)},getImageCanvasContext(u){const e=window.document.createElement("canvas"),i=e.getContext("2d",{willReadFrequently:!0});if(!i)throw new Error("failed to create canvas 2d context");return e.width=u.width,e.height=u.height,i.drawImage(u,0,0,u.width,u.height),i},resolveURL:u=>(Fe||(Fe=document.createElement("a")),Fe.href=u,Fe.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(qe==null&&(qe=matchMedia("(prefers-reduced-motion: reduce)")),qe.matches)}};class he{static testProp(e){if(!he.docStyle)return e[0];for(let i=0;i<e.length;i++)if(e[i]in he.docStyle)return e[i];return e[0]}static create(e,i,o){const a=window.document.createElement(e);return i!==void 0&&(a.className=i),o&&o.appendChild(a),a}static createNS(e,i){return window.document.createElementNS(e,i)}static disableDrag(){he.docStyle&&he.selectProp&&(he.userSelect=he.docStyle[he.selectProp],he.docStyle[he.selectProp]="none")}static enableDrag(){he.docStyle&&he.selectProp&&(he.docStyle[he.selectProp]=he.userSelect)}static setTransform(e,i){e.style[he.transformProp]=i}static addEventListener(e,i,o,a={}){e.addEventListener(i,o,"passive"in a?a:a.capture)}static removeEventListener(e,i,o,a={}){e.removeEventListener(i,o,"passive"in a?a:a.capture)}static suppressClickInternal(e){e.preventDefault(),e.stopPropagation(),window.removeEventListener("click",he.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",he.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",he.suppressClickInternal,!0)},0)}static getScale(e){const i=e.getBoundingClientRect();return{x:i.width/e.offsetWidth||1,y:i.height/e.offsetHeight||1,boundingClientRect:i}}static getPoint(e,i,o){const a=i.boundingClientRect;return new c.P((o.clientX-a.left)/i.x-e.clientLeft,(o.clientY-a.top)/i.y-e.clientTop)}static mousePos(e,i){const o=he.getScale(e);return he.getPoint(e,o,i)}static touchPos(e,i){const o=[],a=he.getScale(e);for(let h=0;h<i.length;h++)o.push(he.getPoint(e,a,i[h]));return o}static mouseButton(e){return e.button}static remove(e){e.parentNode&&e.parentNode.removeChild(e)}static sanitize(e){const i=new DOMParser().parseFromString(e,"text/html").body||document.createElement("body"),o=i.querySelectorAll("script");for(const a of o)a.remove();return he.clean(i),i.innerHTML}static isPossiblyDangerous(e,i){const o=i.replace(/\s+/g,"").toLowerCase();return!(!["src","href","xlink:href"].includes(e)||!o.includes("javascript:")&&!o.includes("data:"))||!!e.startsWith("on")||void 0}static clean(e){const i=e.children;for(const o of i)he.removeAttributes(o),he.clean(o)}static removeAttributes(e){for(const{name:i,value:o}of e.attributes)he.isPossiblyDangerous(i,o)&&e.removeAttribute(i)}}he.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,he.selectProp=he.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),he.transformProp=he.testProp(["transform","WebkitTransform"]);const Ae={supported:!1,testSupport:function(u){!Tt&&Ke&&(Ct?Ot(u):rt=u)}};let rt,Ke,Tt=!1,Ct=!1;function Ot(u){const e=u.createTexture();u.bindTexture(u.TEXTURE_2D,e);try{if(u.texImage2D(u.TEXTURE_2D,0,u.RGBA,u.RGBA,u.UNSIGNED_BYTE,Ke),u.isContextLost())return;Ae.supported=!0}catch{}u.deleteTexture(e),Tt=!0}var Lt;typeof document<"u"&&(Ke=document.createElement("img"),Ke.onload=()=>{rt&&Ot(rt),rt=null,Ct=!0},Ke.onerror=()=>{Tt=!0,rt=null},Ke.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(u){let e,i,o,a;u.resetRequestQueue=()=>{e=[],i=0,o=0,a={}},u.addThrottleControl=y=>{const v=o++;return a[v]=y,v},u.removeThrottleControl=y=>{delete a[y],f()},u.getImage=(y,v,T=!0)=>new Promise((C,M)=>{Ae.supported&&(y.headers||(y.headers={}),y.headers.accept="image/webp,*/*"),c.e(y,{type:"image"}),e.push({abortController:v,requestParameters:y,supportImageRefresh:T,state:"queued",onError:D=>{M(D)},onSuccess:D=>{C(D)}}),f()});const h=y=>c._(this,void 0,void 0,function*(){y.state="running";const{requestParameters:v,supportImageRefresh:T,onError:C,onSuccess:M,abortController:D}=y,B=T===!1&&!c.i(self)&&!c.g(v.url)&&(!v.headers||Object.keys(v.headers).reduce((G,H)=>G&&H==="accept",!0));i++;const $=B?_(v,D):c.m(v,D);try{const G=yield $;delete y.abortController,y.state="completed",G.data instanceof HTMLImageElement||c.b(G.data)?M(G):G.data&&M({data:yield(Z=G.data,typeof createImageBitmap=="function"?c.f(Z):c.h(Z)),cacheControl:G.cacheControl,expires:G.expires})}catch(G){delete y.abortController,C(G)}finally{i--,f()}var Z}),f=()=>{const y=(()=>{for(const v of Object.keys(a))if(a[v]())return!0;return!1})()?c.a.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:c.a.MAX_PARALLEL_IMAGE_REQUESTS;for(let v=i;v<y&&e.length>0;v++){const T=e.shift();T.abortController.signal.aborted?v--:h(T)}},_=(y,v)=>new Promise((T,C)=>{const M=new Image,D=y.url,B=y.credentials;B&&B==="include"?M.crossOrigin="use-credentials":(B&&B==="same-origin"||!c.d(D))&&(M.crossOrigin="anonymous"),v.signal.addEventListener("abort",()=>{M.src="",C(c.c())}),M.fetchPriority="high",M.onload=()=>{M.onerror=M.onload=null,T({data:M})},M.onerror=()=>{M.onerror=M.onload=null,v.signal.aborted||C(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))},M.src=D})}(Lt||(Lt={})),Lt.resetRequestQueue();class Vt{constructor(e){this._transformRequestFn=e}transformRequest(e,i){return this._transformRequestFn&&this._transformRequestFn(e,i)||{url:e}}setTransformRequest(e){this._transformRequestFn=e}}function vt(u){const e=[];if(typeof u=="string")e.push({id:"default",url:u});else if(u&&u.length>0){const i=[];for(const{id:o,url:a}of u){const h=`${o}${a}`;i.indexOf(h)===-1&&(i.push(h),e.push({id:o,url:a}))}}return e}function yt(u,e,i){try{const o=new URL(u);return o.pathname+=`${e}${i}`,o.toString()}catch{throw new Error(`Invalid sprite URL "${u}", must be absolute. Modify style specification directly or use TransformStyleFunction to correct the issue dynamically`)}}class It{constructor(e,i,o,a){this.context=e,this.format=o,this.texture=e.gl.createTexture(),this.update(i,a)}update(e,i,o){const{width:a,height:h}=e,f=!(this.size&&this.size[0]===a&&this.size[1]===h||o),{context:_}=this,{gl:y}=_;if(this.useMipmap=!!(i&&i.useMipmap),y.bindTexture(y.TEXTURE_2D,this.texture),_.pixelStoreUnpackFlipY.set(!1),_.pixelStoreUnpack.set(1),_.pixelStoreUnpackPremultiplyAlpha.set(this.format===y.RGBA&&(!i||i.premultiply!==!1)),f)this.size=[a,h],e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof HTMLVideoElement||e instanceof ImageData||c.b(e)?y.texImage2D(y.TEXTURE_2D,0,this.format,this.format,y.UNSIGNED_BYTE,e):y.texImage2D(y.TEXTURE_2D,0,this.format,a,h,0,this.format,y.UNSIGNED_BYTE,e.data);else{const{x:v,y:T}=o||{x:0,y:0};e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof HTMLVideoElement||e instanceof ImageData||c.b(e)?y.texSubImage2D(y.TEXTURE_2D,0,v,T,y.RGBA,y.UNSIGNED_BYTE,e):y.texSubImage2D(y.TEXTURE_2D,0,v,T,a,h,y.RGBA,y.UNSIGNED_BYTE,e.data)}this.useMipmap&&this.isSizePowerOfTwo()&&y.generateMipmap(y.TEXTURE_2D)}bind(e,i,o){const{context:a}=this,{gl:h}=a;h.bindTexture(h.TEXTURE_2D,this.texture),o!==h.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(o=h.LINEAR),e!==this.filter&&(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,e),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,o||e),this.filter=e),i!==this.wrap&&(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,i),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,i),this.wrap=i)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:e}=this.context;e.deleteTexture(this.texture),this.texture=null}}function Or(u){const{userImage:e}=u;return!!(e&&e.render&&e.render())&&(u.data.replace(new Uint8Array(e.data.buffer)),!0)}class so extends c.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new c.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(e){if(this.loaded!==e&&(this.loaded=e,e)){for(const{ids:i,promiseResolve:o}of this.requestors)o(this._getImagesForIds(i));this.requestors=[]}}getImage(e){const i=this.images[e];if(i&&!i.data&&i.spriteData){const o=i.spriteData;i.data=new c.R({width:o.width,height:o.height},o.context.getImageData(o.x,o.y,o.width,o.height).data),i.spriteData=null}return i}addImage(e,i){if(this.images[e])throw new Error(`Image id ${e} already exist, use updateImage instead`);this._validate(e,i)&&(this.images[e]=i)}_validate(e,i){let o=!0;const a=i.data||i.spriteData;return this._validateStretch(i.stretchX,a&&a.width)||(this.fire(new c.k(new Error(`Image "${e}" has invalid "stretchX" value`))),o=!1),this._validateStretch(i.stretchY,a&&a.height)||(this.fire(new c.k(new Error(`Image "${e}" has invalid "stretchY" value`))),o=!1),this._validateContent(i.content,i)||(this.fire(new c.k(new Error(`Image "${e}" has invalid "content" value`))),o=!1),o}_validateStretch(e,i){if(!e)return!0;let o=0;for(const a of e){if(a[0]<o||a[1]<a[0]||i<a[1])return!1;o=a[1]}return!0}_validateContent(e,i){if(!e)return!0;if(e.length!==4)return!1;const o=i.spriteData,a=o&&o.width||i.data.width,h=o&&o.height||i.data.height;return!(e[0]<0||a<e[0]||e[1]<0||h<e[1]||e[2]<0||a<e[2]||e[3]<0||h<e[3]||e[2]<e[0]||e[3]<e[1])}updateImage(e,i,o=!0){const a=this.getImage(e);if(o&&(a.data.width!==i.data.width||a.data.height!==i.data.height))throw new Error(`size mismatch between old image (${a.data.width}x${a.data.height}) and new image (${i.data.width}x${i.data.height}).`);i.version=a.version+1,this.images[e]=i,this.updatedImages[e]=!0}removeImage(e){const i=this.images[e];delete this.images[e],delete this.patterns[e],i.userImage&&i.userImage.onRemove&&i.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(e){return new Promise((i,o)=>{let a=!0;if(!this.isLoaded())for(const h of e)this.images[h]||(a=!1);this.isLoaded()||a?i(this._getImagesForIds(e)):this.requestors.push({ids:e,promiseResolve:i})})}_getImagesForIds(e){const i={};for(const o of e){let a=this.getImage(o);a||(this.fire(new c.l("styleimagemissing",{id:o})),a=this.getImage(o)),a?i[o]={data:a.data.clone(),pixelRatio:a.pixelRatio,sdf:a.sdf,version:a.version,stretchX:a.stretchX,stretchY:a.stretchY,content:a.content,textFitWidth:a.textFitWidth,textFitHeight:a.textFitHeight,hasRenderCallback:!!(a.userImage&&a.userImage.render)}:c.w(`Image "${o}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}return i}getPixelSize(){const{width:e,height:i}=this.atlasImage;return{width:e,height:i}}getPattern(e){const i=this.patterns[e],o=this.getImage(e);if(!o)return null;if(i&&i.position.version===o.version)return i.position;if(i)i.position.version=o.version;else{const a={w:o.data.width+2,h:o.data.height+2,x:0,y:0},h=new c.I(a,o);this.patterns[e]={bin:a,position:h}}return this._updatePatternAtlas(),this.patterns[e].position}bind(e){const i=e.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new It(e,this.atlasImage,i.RGBA),this.atlasTexture.bind(i.LINEAR,i.CLAMP_TO_EDGE)}_updatePatternAtlas(){const e=[];for(const h in this.patterns)e.push(this.patterns[h].bin);const{w:i,h:o}=c.p(e),a=this.atlasImage;a.resize({width:i||1,height:o||1});for(const h in this.patterns){const{bin:f}=this.patterns[h],_=f.x+1,y=f.y+1,v=this.getImage(h).data,T=v.width,C=v.height;c.R.copy(v,a,{x:0,y:0},{x:_,y},{width:T,height:C}),c.R.copy(v,a,{x:0,y:C-1},{x:_,y:y-1},{width:T,height:1}),c.R.copy(v,a,{x:0,y:0},{x:_,y:y+C},{width:T,height:1}),c.R.copy(v,a,{x:T-1,y:0},{x:_-1,y},{width:1,height:C}),c.R.copy(v,a,{x:0,y:0},{x:_+T,y},{width:1,height:C})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(e){for(const i of e){if(this.callbackDispatchedThisFrame[i])continue;this.callbackDispatchedThisFrame[i]=!0;const o=this.getImage(i);o||c.w(`Image with ID: "${i}" was not found`),Or(o)&&this.updateImage(i,o)}}}const jr=1e20;function on(u,e,i,o,a,h,f,_,y){for(let v=e;v<e+o;v++)$i(u,i*h+v,h,a,f,_,y);for(let v=i;v<i+a;v++)$i(u,v*h+e,1,o,f,_,y)}function $i(u,e,i,o,a,h,f){h[0]=0,f[0]=-1e20,f[1]=jr,a[0]=u[e];for(let _=1,y=0,v=0;_<o;_++){a[_]=u[e+_*i];const T=_*_;do{const C=h[y];v=(a[_]-a[C]+T-C*C)/(_-C)/2}while(v<=f[y]&&--y>-1);y++,h[y]=_,f[y]=v,f[y+1]=jr}for(let _=0,y=0;_<o;_++){for(;f[y+1]<_;)y++;const v=h[y],T=_-v;u[e+_*i]=a[v]+T*T}}class vi{constructor(e,i){this.requestManager=e,this.localIdeographFontFamily=i,this.entries={}}setURL(e){this.url=e}getGlyphs(e){return c._(this,void 0,void 0,function*(){const i=[];for(const h in e)for(const f of e[h])i.push(this._getAndCacheGlyphsPromise(h,f));const o=yield Promise.all(i),a={};for(const{stack:h,id:f,glyph:_}of o)a[h]||(a[h]={}),a[h][f]=_&&{id:_.id,bitmap:_.bitmap.clone(),metrics:_.metrics};return a})}_getAndCacheGlyphsPromise(e,i){return c._(this,void 0,void 0,function*(){let o=this.entries[e];o||(o=this.entries[e]={glyphs:{},requests:{},ranges:{}});let a=o.glyphs[i];if(a!==void 0)return{stack:e,id:i,glyph:a};if(a=this._tinySDF(o,e,i),a)return o.glyphs[i]=a,{stack:e,id:i,glyph:a};const h=Math.floor(i/256);if(256*h>65535)throw new Error("glyphs > 65535 not supported");if(o.ranges[h])return{stack:e,id:i,glyph:a};if(!this.url)throw new Error("glyphsUrl is not set");if(!o.requests[h]){const _=vi.loadGlyphRange(e,h,this.url,this.requestManager);o.requests[h]=_}const f=yield o.requests[h];for(const _ in f)this._doesCharSupportLocalGlyph(+_)||(o.glyphs[+_]=f[+_]);return o.ranges[h]=!0,{stack:e,id:i,glyph:f[i]||null}})}_doesCharSupportLocalGlyph(e){return!!this.localIdeographFontFamily&&(new RegExp("\\p{Ideo}|\\p{sc=Hang}|\\p{sc=Hira}|\\p{sc=Kana}","u").test(String.fromCodePoint(e))||c.u["CJK Unified Ideographs"](e)||c.u["Hangul Syllables"](e)||c.u.Hiragana(e)||c.u.Katakana(e)||c.u["CJK Symbols and Punctuation"](e)||c.u["Halfwidth and Fullwidth Forms"](e))}_tinySDF(e,i,o){const a=this.localIdeographFontFamily;if(!a||!this._doesCharSupportLocalGlyph(o))return;let h=e.tinySDF;if(!h){let _="400";/bold/i.test(i)?_="900":/medium/i.test(i)?_="500":/light/i.test(i)&&(_="200"),h=e.tinySDF=new vi.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:a,fontWeight:_})}const f=h.draw(String.fromCharCode(o));return{id:o,bitmap:new c.q({width:f.width||60,height:f.height||60},f.data),metrics:{width:f.glyphWidth/2||24,height:f.glyphHeight/2||24,left:f.glyphLeft/2+.5||0,top:f.glyphTop/2-27.5||-8,advance:f.glyphAdvance/2||24,isDoubleResolution:!0}}}}vi.loadGlyphRange=function(u,e,i,o){return c._(this,void 0,void 0,function*(){const a=256*e,h=a+255,f=o.transformRequest(i.replace("{fontstack}",u).replace("{range}",`${a}-${h}`),"Glyphs"),_=yield c.n(f,new AbortController);if(!_||!_.data)throw new Error(`Could not load glyph range. range: ${e}, ${a}-${h}`);const y={};for(const v of c.o(_.data))y[v.id]=v;return y})},vi.TinySDF=class{constructor({fontSize:u=24,buffer:e=3,radius:i=8,cutoff:o=.25,fontFamily:a="sans-serif",fontWeight:h="normal",fontStyle:f="normal"}={}){this.buffer=e,this.cutoff=o,this.radius=i;const _=this.size=u+4*e,y=this._createCanvas(_),v=this.ctx=y.getContext("2d",{willReadFrequently:!0});v.font=`${f} ${h} ${u}px ${a}`,v.textBaseline="alphabetic",v.textAlign="left",v.fillStyle="black",this.gridOuter=new Float64Array(_*_),this.gridInner=new Float64Array(_*_),this.f=new Float64Array(_),this.z=new Float64Array(_+1),this.v=new Uint16Array(_)}_createCanvas(u){const e=document.createElement("canvas");return e.width=e.height=u,e}draw(u){const{width:e,actualBoundingBoxAscent:i,actualBoundingBoxDescent:o,actualBoundingBoxLeft:a,actualBoundingBoxRight:h}=this.ctx.measureText(u),f=Math.ceil(i),_=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(h-a))),y=Math.min(this.size-this.buffer,f+Math.ceil(o)),v=_+2*this.buffer,T=y+2*this.buffer,C=Math.max(v*T,0),M=new Uint8ClampedArray(C),D={data:M,width:v,height:T,glyphWidth:_,glyphHeight:y,glyphTop:f,glyphLeft:0,glyphAdvance:e};if(_===0||y===0)return D;const{ctx:B,buffer:$,gridInner:Z,gridOuter:G}=this;B.clearRect($,$,_,y),B.fillText(u,$,$+f);const H=B.getImageData($,$,_,y);G.fill(jr,0,C),Z.fill(0,0,C);for(let Y=0;Y<y;Y++)for(let Q=0;Q<_;Q++){const ee=H.data[4*(Y*_+Q)+3]/255;if(ee===0)continue;const se=(Y+$)*v+Q+$;if(ee===1)G[se]=0,Z[se]=jr;else{const te=.5-ee;G[se]=te>0?te*te:0,Z[se]=te<0?te*te:0}}on(G,0,0,v,T,v,this.f,this.v,this.z),on(Z,$,$,_,y,v,this.f,this.v,this.z);for(let Y=0;Y<C;Y++){const Q=Math.sqrt(G[Y])-Math.sqrt(Z[Y]);M[Y]=Math.round(255-255*(Q/this.radius+this.cutoff))}return D}};class vs{constructor(){this.specification=c.v.light.position}possiblyEvaluate(e,i){return c.z(e.expression.evaluate(i))}interpolate(e,i,o){return{x:c.B.number(e.x,i.x,o),y:c.B.number(e.y,i.y,o),z:c.B.number(e.z,i.z,o)}}}let bt;class Ln extends c.E{constructor(e){super(),bt=bt||new c.r({anchor:new c.D(c.v.light.anchor),position:new vs,color:new c.D(c.v.light.color),intensity:new c.D(c.v.light.intensity)}),this._transitionable=new c.T(bt),this.setLight(e),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(e,i={}){if(!this._validate(c.t,e,i))for(const o in e){const a=e[o];o.endsWith("-transition")?this._transitionable.setTransition(o.slice(0,-11),a):this._transitionable.setValue(o,a)}}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e)}_validate(e,i,o){return(!o||o.validate!==!1)&&c.x(this,e.call(c.y,{value:i,style:{glyphs:!0,sprite:!0},styleSpec:c.v}))}}const Nr=new c.r({"sky-color":new c.D(c.v.sky["sky-color"]),"horizon-color":new c.D(c.v.sky["horizon-color"]),"fog-color":new c.D(c.v.sky["fog-color"]),"fog-ground-blend":new c.D(c.v.sky["fog-ground-blend"]),"horizon-fog-blend":new c.D(c.v.sky["horizon-fog-blend"]),"sky-horizon-blend":new c.D(c.v.sky["sky-horizon-blend"]),"atmosphere-blend":new c.D(c.v.sky["atmosphere-blend"])});class an extends c.E{constructor(e){super(),this._transitionable=new c.T(Nr),this.setSky(e),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new c.C(0))}setSky(e,i={}){if(!this._validate(c.F,e,i)){e||(e={"sky-color":"transparent","horizon-color":"transparent","fog-color":"transparent","fog-ground-blend":1,"atmosphere-blend":0});for(const o in e){const a=e[o];o.endsWith("-transition")?this._transitionable.setTransition(o.slice(0,-11),a):this._transitionable.setValue(o,a)}}}getSky(){return this._transitionable.serialize()}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e)}_validate(e,i,o={}){return(o==null?void 0:o.validate)!==!1&&c.x(this,e.call(c.y,c.e({value:i,style:{glyphs:!0,sprite:!0},styleSpec:c.v})))}calculateFogBlendOpacity(e){return e<60?0:e<70?(e-60)/10:1}}class ln{constructor(e,i){this.width=e,this.height=i,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(e,i){const o=e.join(",")+String(i);return this.dashEntry[o]||(this.dashEntry[o]=this.addDash(e,i)),this.dashEntry[o]}getDashRanges(e,i,o){const a=[];let h=e.length%2==1?-e[e.length-1]*o:0,f=e[0]*o,_=!0;a.push({left:h,right:f,isDash:_,zeroLength:e[0]===0});let y=e[0];for(let v=1;v<e.length;v++){_=!_;const T=e[v];h=y*o,y+=T,f=y*o,a.push({left:h,right:f,isDash:_,zeroLength:T===0})}return a}addRoundDash(e,i,o){const a=i/2;for(let h=-o;h<=o;h++){const f=this.width*(this.nextRow+o+h);let _=0,y=e[_];for(let v=0;v<this.width;v++){v/y.right>1&&(y=e[++_]);const T=Math.abs(v-y.left),C=Math.abs(v-y.right),M=Math.min(T,C);let D;const B=h/o*(a+1);if(y.isDash){const $=a-Math.abs(B);D=Math.sqrt(M*M+$*$)}else D=a-Math.sqrt(M*M+B*B);this.data[f+v]=Math.max(0,Math.min(255,D+128))}}}addRegularDash(e){for(let _=e.length-1;_>=0;--_){const y=e[_],v=e[_+1];y.zeroLength?e.splice(_,1):v&&v.isDash===y.isDash&&(v.left=y.left,e.splice(_,1))}const i=e[0],o=e[e.length-1];i.isDash===o.isDash&&(i.left=o.left-this.width,o.right=i.right+this.width);const a=this.width*this.nextRow;let h=0,f=e[h];for(let _=0;_<this.width;_++){_/f.right>1&&(f=e[++h]);const y=Math.abs(_-f.left),v=Math.abs(_-f.right),T=Math.min(y,v);this.data[a+_]=Math.max(0,Math.min(255,(f.isDash?T:-T)+128))}}addDash(e,i){const o=i?7:0,a=2*o+1;if(this.nextRow+a>this.height)return c.w("LineAtlas out of space"),null;let h=0;for(let _=0;_<e.length;_++)h+=e[_];if(h!==0){const _=this.width/h,y=this.getDashRanges(e,this.width,_);i?this.addRoundDash(y,_,o):this.addRegularDash(y)}const f={y:(this.nextRow+o+.5)/this.height,height:2*o/this.height,width:h};return this.nextRow+=a,this.dirty=!0,f}bind(e){const i=e.gl;this.texture?(i.bindTexture(i.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,i.texSubImage2D(i.TEXTURE_2D,0,0,0,this.width,this.height,i.ALPHA,i.UNSIGNED_BYTE,this.data))):(this.texture=i.createTexture(),i.bindTexture(i.TEXTURE_2D,this.texture),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.REPEAT),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.REPEAT),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),i.texImage2D(i.TEXTURE_2D,0,i.ALPHA,this.width,this.height,0,i.ALPHA,i.UNSIGNED_BYTE,this.data))}}const Fn="maplibre_preloaded_worker_pool";class hr{constructor(){this.active={}}acquire(e){if(!this.workers)for(this.workers=[];this.workers.length<hr.workerCount;)this.workers.push(new Worker(c.a.WORKER_URL));return this.active[e]=!0,this.workers.slice()}release(e){delete this.active[e],this.numActive()===0&&(this.workers.forEach(i=>{i.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Fn]}numActive(){return Object.keys(this.active).length}}const Yi=Math.floor(Ve.hardwareConcurrency/2);let Gi,fi;function cn(){return Gi||(Gi=new hr),Gi}hr.workerCount=c.G(globalThis)?Math.max(Math.min(Yi,3),1):1;class un{constructor(e,i){this.workerPool=e,this.actors=[],this.currentActor=0,this.id=i;const o=this.workerPool.acquire(i);for(let a=0;a<o.length;a++){const h=new c.H(o[a],i);h.name=`Worker ${a}`,this.actors.push(h)}if(!this.actors.length)throw new Error("No actors found")}broadcast(e,i){const o=[];for(const a of this.actors)o.push(a.sendAsync({type:e,data:i}));return Promise.all(o)}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(e=!0){this.actors.forEach(i=>{i.remove()}),this.actors=[],e&&this.workerPool.release(this.id)}registerMessageHandler(e,i){for(const o of this.actors)o.registerMessageHandler(e,i)}}function hn(){return fi||(fi=new un(cn(),c.J),fi.registerMessageHandler("GR",(u,e,i)=>c.m(e,i))),fi}function Oi(u,e){const i=c.K();return c.L(i,i,[1,1,0]),c.M(i,i,[.5*u.width,.5*u.height,1]),u.calculatePosMatrix?c.N(i,i,u.calculatePosMatrix(e.toUnwrapped())):i}function bs(u,e,i,o,a,h,f){var _;const y=function(M,D,B){if(M)for(const $ of M){const Z=D[$];if(Z&&Z.source===B&&Z.type==="fill-extrusion")return!0}else for(const $ in D){const Z=D[$];if(Z.source===B&&Z.type==="fill-extrusion")return!0}return!1}((_=a==null?void 0:a.layers)!==null&&_!==void 0?_:null,e,u.id),v=h.maxPitchScaleFactor(),T=u.tilesIn(o,v,y);T.sort(bi);const C=[];for(const M of T)C.push({wrappedTileID:M.tileID.wrapped().key,queryResults:M.tile.queryRenderedFeatures(e,i,u._state,M.queryGeometry,M.cameraQueryGeometry,M.scale,a,h,v,Oi(u.transform,M.tileID),f?(D,B)=>f(M.tileID,D,B):void 0)});return function(M,D){for(const B in M)for(const $ of M[B])ii($,D);return M}(function(M){const D={},B={};for(const $ of M){const Z=$.queryResults,G=$.wrappedTileID,H=B[G]=B[G]||{};for(const Y in Z){const Q=Z[Y],ee=H[Y]=H[Y]||{},se=D[Y]=D[Y]||[];for(const te of Q)ee[te.featureIndex]||(ee[te.featureIndex]=!0,se.push(te))}}return D}(C),u)}function bi(u,e){const i=u.tileID,o=e.tileID;return i.overscaledZ-o.overscaledZ||i.canonical.y-o.canonical.y||i.wrap-o.wrap||i.canonical.x-o.canonical.x}function ii(u,e){const i=u.feature,o=e.getFeatureState(i.layer["source-layer"],i.id);i.source=i.layer.source,i.layer["source-layer"]&&(i.sourceLayer=i.layer["source-layer"]),i.state=o}function br(u,e,i){return c._(this,void 0,void 0,function*(){let o=u;if(u.url?o=(yield c.j(e.transformRequest(u.url,"Source"),i)).data:yield Ve.frameAsync(i),!o)return null;const a=c.O(c.e(o,u),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);return"vector_layers"in o&&o.vector_layers&&(a.vectorLayerIds=o.vector_layers.map(h=>h.id)),a})}class Ht{constructor(e,i){e&&(i?this.setSouthWest(e).setNorthEast(i):Array.isArray(e)&&(e.length===4?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1])))}setNorthEast(e){return this._ne=e instanceof c.Q?new c.Q(e.lng,e.lat):c.Q.convert(e),this}setSouthWest(e){return this._sw=e instanceof c.Q?new c.Q(e.lng,e.lat):c.Q.convert(e),this}extend(e){const i=this._sw,o=this._ne;let a,h;if(e instanceof c.Q)a=e,h=e;else{if(!(e instanceof Ht))return Array.isArray(e)?e.length===4||e.every(Array.isArray)?this.extend(Ht.convert(e)):this.extend(c.Q.convert(e)):e&&("lng"in e||"lon"in e)&&"lat"in e?this.extend(c.Q.convert(e)):this;if(a=e._sw,h=e._ne,!a||!h)return this}return i||o?(i.lng=Math.min(a.lng,i.lng),i.lat=Math.min(a.lat,i.lat),o.lng=Math.max(h.lng,o.lng),o.lat=Math.max(h.lat,o.lat)):(this._sw=new c.Q(a.lng,a.lat),this._ne=new c.Q(h.lng,h.lat)),this}getCenter(){return new c.Q((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new c.Q(this.getWest(),this.getNorth())}getSouthEast(){return new c.Q(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(e){const{lng:i,lat:o}=c.Q.convert(e);let a=this._sw.lng<=i&&i<=this._ne.lng;return this._sw.lng>this._ne.lng&&(a=this._sw.lng>=i&&i>=this._ne.lng),this._sw.lat<=o&&o<=this._ne.lat&&a}static convert(e){return e instanceof Ht?e:e&&new Ht(e)}static fromLngLat(e,i=0){const o=360*i/40075017,a=o/Math.cos(Math.PI/180*e.lat);return new Ht(new c.Q(e.lng-a,e.lat-o),new c.Q(e.lng+a,e.lat+o))}adjustAntiMeridian(){const e=new c.Q(this._sw.lng,this._sw.lat),i=new c.Q(this._ne.lng,this._ne.lat);return new Ht(e,e.lng>i.lng?new c.Q(i.lng+360,i.lat):i)}}class dn{constructor(e,i,o){this.bounds=Ht.convert(this.validateBounds(e)),this.minzoom=i||0,this.maxzoom=o||24}validateBounds(e){return Array.isArray(e)&&e.length===4?[Math.max(-180,e[0]),Math.max(-90,e[1]),Math.min(180,e[2]),Math.min(90,e[3])]:[-180,-90,180,90]}contains(e){const i=Math.pow(2,e.z),o=Math.floor(c.U(this.bounds.getWest())*i),a=Math.floor(c.S(this.bounds.getNorth())*i),h=Math.ceil(c.U(this.bounds.getEast())*i),f=Math.ceil(c.S(this.bounds.getSouth())*i);return e.x>=o&&e.x<h&&e.y>=a&&e.y<f}}class pn extends c.E{constructor(e,i,o,a){if(super(),this.id=e,this.dispatcher=o,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,c.e(this,c.O(i,["url","scheme","tileSize","promoteId"])),this._options=c.e({type:"vector"},i),this._collectResourceTiming=i.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(a)}load(){return c._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new c.l("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const e=yield br(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),e&&(c.e(this,e),e.bounds&&(this.tileBounds=new dn(e.bounds,this.minzoom,this.maxzoom)),this.fire(new c.l("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new c.l("data",{dataType:"source",sourceDataType:"content"})))}catch(e){this._tileJSONRequest=null,this.fire(new c.k(e))}})}loaded(){return this._loaded}hasTile(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)}onAdd(e){this.map=e,this.load()}setSourceProperty(e){this._tileJSONRequest&&this._tileJSONRequest.abort(),e(),this.load()}setTiles(e){return this.setSourceProperty(()=>{this._options.tiles=e}),this}setUrl(e){return this.setSourceProperty(()=>{this.url=e,this._options.url=e}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}serialize(){return c.e({},this._options)}loadTile(e){return c._(this,void 0,void 0,function*(){const i=e.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),o={request:this.map._requestManager.transformRequest(i,"Tile"),uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,tileSize:this.tileSize*e.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity};o.request.collectResourceTiming=this._collectResourceTiming;let a="RT";if(e.actor&&e.state!=="expired"){if(e.state==="loading")return new Promise((h,f)=>{e.reloadPromise={resolve:h,reject:f}})}else e.actor=this.dispatcher.getActor(),a="LT";e.abortController=new AbortController;try{const h=yield e.actor.sendAsync({type:a,data:o},e.abortController);if(delete e.abortController,e.aborted)return;this._afterTileLoadWorkerResponse(e,h)}catch(h){if(delete e.abortController,e.aborted)return;if(h&&h.status!==404)throw h;this._afterTileLoadWorkerResponse(e,null)}})}_afterTileLoadWorkerResponse(e,i){if(i&&i.resourceTiming&&(e.resourceTiming=i.resourceTiming),i&&this.map._refreshExpiredTiles&&e.setExpiryData(i),e.loadVectorData(i,this.map.painter),e.reloadPromise){const o=e.reloadPromise;e.reloadPromise=null,this.loadTile(e).then(o.resolve).catch(o.reject)}}abortTile(e){return c._(this,void 0,void 0,function*(){e.abortController&&(e.abortController.abort(),delete e.abortController),e.actor&&(yield e.actor.sendAsync({type:"AT",data:{uid:e.uid,type:this.type,source:this.id}}))})}unloadTile(e){return c._(this,void 0,void 0,function*(){e.unloadVectorData(),e.actor&&(yield e.actor.sendAsync({type:"RMT",data:{uid:e.uid,type:this.type,source:this.id}}))})}hasTransition(){return!1}}class Ji extends c.E{constructor(e,i,o,a){super(),this.id=e,this.dispatcher=o,this.setEventedParent(a),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=c.e({type:"raster"},i),c.e(this,c.O(i,["url","scheme","tileSize"]))}load(){return c._(this,arguments,void 0,function*(e=!1){this._loaded=!1,this.fire(new c.l("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const i=yield br(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,i&&(c.e(this,i),i.bounds&&(this.tileBounds=new dn(i.bounds,this.minzoom,this.maxzoom)),this.fire(new c.l("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new c.l("data",{dataType:"source",sourceDataType:"content",sourceDataChanged:e})))}catch(i){this._tileJSONRequest=null,this.fire(new c.k(i))}})}loaded(){return this._loaded}onAdd(e){this.map=e,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}setSourceProperty(e){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null),e(),this.load(!0)}setTiles(e){return this.setSourceProperty(()=>{this._options.tiles=e}),this}setUrl(e){return this.setSourceProperty(()=>{this.url=e,this._options.url=e}),this}serialize(){return c.e({},this._options)}hasTile(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)}loadTile(e){return c._(this,void 0,void 0,function*(){const i=e.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);e.abortController=new AbortController;try{const o=yield Lt.getImage(this.map._requestManager.transformRequest(i,"Tile"),e.abortController,this.map._refreshExpiredTiles);if(delete e.abortController,e.aborted)return void(e.state="unloaded");if(o&&o.data){this.map._refreshExpiredTiles&&o.cacheControl&&o.expires&&e.setExpiryData({cacheControl:o.cacheControl,expires:o.expires});const a=this.map.painter.context,h=a.gl,f=o.data;e.texture=this.map.painter.getTileTexture(f.width),e.texture?e.texture.update(f,{useMipmap:!0}):(e.texture=new It(a,f,h.RGBA,{useMipmap:!0}),e.texture.bind(h.LINEAR,h.CLAMP_TO_EDGE,h.LINEAR_MIPMAP_NEAREST)),e.state="loaded"}}catch(o){if(delete e.abortController,e.aborted)e.state="unloaded";else if(o)throw e.state="errored",o}})}abortTile(e){return c._(this,void 0,void 0,function*(){e.abortController&&(e.abortController.abort(),delete e.abortController)})}unloadTile(e){return c._(this,void 0,void 0,function*(){e.texture&&this.map.painter.saveTileTexture(e.texture)})}hasTransition(){return!1}}class Vr extends Ji{constructor(e,i,o,a){super(e,i,o,a),this.type="raster-dem",this.maxzoom=22,this._options=c.e({type:"raster-dem"},i),this.encoding=i.encoding||"mapbox",this.redFactor=i.redFactor,this.greenFactor=i.greenFactor,this.blueFactor=i.blueFactor,this.baseShift=i.baseShift}loadTile(e){return c._(this,void 0,void 0,function*(){const i=e.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),o=this.map._requestManager.transformRequest(i,"Tile");e.neighboringTiles=this._getNeighboringTiles(e.tileID),e.abortController=new AbortController;try{const a=yield Lt.getImage(o,e.abortController,this.map._refreshExpiredTiles);if(delete e.abortController,e.aborted)return void(e.state="unloaded");if(a&&a.data){const h=a.data;this.map._refreshExpiredTiles&&a.cacheControl&&a.expires&&e.setExpiryData({cacheControl:a.cacheControl,expires:a.expires});const f=c.b(h)&&c.V()?h:yield this.readImageNow(h),_={type:this.type,uid:e.uid,source:this.id,rawImageData:f,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};if(!e.actor||e.state==="expired"){e.actor=this.dispatcher.getActor();const y=yield e.actor.sendAsync({type:"LDT",data:_});e.dem=y,e.needsHillshadePrepare=!0,e.needsTerrainPrepare=!0,e.state="loaded"}}}catch(a){if(delete e.abortController,e.aborted)e.state="unloaded";else if(a)throw e.state="errored",a}})}readImageNow(e){return c._(this,void 0,void 0,function*(){if(typeof VideoFrame<"u"&&c.W()){const i=e.width+2,o=e.height+2;try{return new c.R({width:i,height:o},yield c.X(e,-1,-1,i,o))}catch{}}return Ve.getImageData(e,1)})}_getNeighboringTiles(e){const i=e.canonical,o=Math.pow(2,i.z),a=(i.x-1+o)%o,h=i.x===0?e.wrap-1:e.wrap,f=(i.x+1+o)%o,_=i.x+1===o?e.wrap+1:e.wrap,y={};return y[new c.Y(e.overscaledZ,h,i.z,a,i.y).key]={backfilled:!1},y[new c.Y(e.overscaledZ,_,i.z,f,i.y).key]={backfilled:!1},i.y>0&&(y[new c.Y(e.overscaledZ,h,i.z,a,i.y-1).key]={backfilled:!1},y[new c.Y(e.overscaledZ,e.wrap,i.z,i.x,i.y-1).key]={backfilled:!1},y[new c.Y(e.overscaledZ,_,i.z,f,i.y-1).key]={backfilled:!1}),i.y+1<o&&(y[new c.Y(e.overscaledZ,h,i.z,a,i.y+1).key]={backfilled:!1},y[new c.Y(e.overscaledZ,e.wrap,i.z,i.x,i.y+1).key]={backfilled:!1},y[new c.Y(e.overscaledZ,_,i.z,f,i.y+1).key]={backfilled:!1}),y}unloadTile(e){return c._(this,void 0,void 0,function*(){e.demTexture&&this.map.painter.saveTileTexture(e.demTexture),e.fbo&&(e.fbo.destroy(),delete e.fbo),e.dem&&delete e.dem,delete e.neighboringTiles,e.state="unloaded",e.actor&&(yield e.actor.sendAsync({type:"RDT",data:{type:this.type,uid:e.uid,source:this.id}}))})}}class Ur extends c.E{constructor(e,i,o,a){super(),this.id=e,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=o.getActor(),this.setEventedParent(a),this._data=i.data,this._options=c.e({},i),this._collectResourceTiming=i.collectResourceTiming,i.maxzoom!==void 0&&(this.maxzoom=i.maxzoom),i.type&&(this.type=i.type),i.attribution&&(this.attribution=i.attribution),this.promoteId=i.promoteId,i.clusterMaxZoom!==void 0&&this.maxzoom<=i.clusterMaxZoom&&c.w(`The maxzoom value "${this.maxzoom}" is expected to be greater than the clusterMaxZoom value "${i.clusterMaxZoom}".`),this.workerOptions=c.e({source:this.id,cluster:i.cluster||!1,geojsonVtOptions:{buffer:this._pixelsToTileUnits(i.buffer!==void 0?i.buffer:128),tolerance:this._pixelsToTileUnits(i.tolerance!==void 0?i.tolerance:.375),extent:c.Z,maxZoom:this.maxzoom,lineMetrics:i.lineMetrics||!1,generateId:i.generateId||!1},superclusterOptions:{maxZoom:i.clusterMaxZoom!==void 0?i.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,i.clusterMinPoints||2),extent:c.Z,radius:this._pixelsToTileUnits(i.clusterRadius||50),log:!1,generateId:i.generateId||!1},clusterProperties:i.clusterProperties,filter:i.filter},i.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}_pixelsToTileUnits(e){return e*(c.Z/this.tileSize)}load(){return c._(this,void 0,void 0,function*(){yield this._updateWorkerData()})}onAdd(e){this.map=e,this.load()}setData(e){return this._data=e,this._updateWorkerData(),this}updateData(e){return this._updateWorkerData(e),this}getData(){return c._(this,void 0,void 0,function*(){const e=c.e({type:this.type},this.workerOptions);return this.actor.sendAsync({type:"GD",data:e})})}getCoordinatesFromGeometry(e){return e.type==="GeometryCollection"?e.geometries.map(i=>i.coordinates).flat(1/0):e.coordinates.flat(1/0)}getBounds(){return c._(this,void 0,void 0,function*(){const e=new Ht,i=yield this.getData();let o;switch(i.type){case"FeatureCollection":o=i.features.map(a=>this.getCoordinatesFromGeometry(a.geometry)).flat(1/0);break;case"Feature":o=this.getCoordinatesFromGeometry(i.geometry);break;default:o=this.getCoordinatesFromGeometry(i)}if(o.length==0)return e;for(let a=0;a<o.length-1;a+=2)e.extend([o[a],o[a+1]]);return e})}setClusterOptions(e){return this.workerOptions.cluster=e.cluster,e&&(e.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=this._pixelsToTileUnits(e.clusterRadius)),e.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=e.clusterMaxZoom)),this._updateWorkerData(),this}getClusterExpansionZoom(e){return this.actor.sendAsync({type:"GCEZ",data:{type:this.type,clusterId:e,source:this.id}})}getClusterChildren(e){return this.actor.sendAsync({type:"GCC",data:{type:this.type,clusterId:e,source:this.id}})}getClusterLeaves(e,i,o){return this.actor.sendAsync({type:"GCL",data:{type:this.type,source:this.id,clusterId:e,limit:i,offset:o}})}_updateWorkerData(e){return c._(this,void 0,void 0,function*(){const i=c.e({type:this.type},this.workerOptions);e?i.dataDiff=e:typeof this._data=="string"?(i.request=this.map._requestManager.transformRequest(Ve.resolveURL(this._data),"Source"),i.request.collectResourceTiming=this._collectResourceTiming):i.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new c.l("dataloading",{dataType:"source"}));try{const o=yield this.actor.sendAsync({type:"LD",data:i});if(this._pendingLoads--,this._removed||o.abandoned)return void this.fire(new c.l("dataabort",{dataType:"source"}));let a=null;o.resourceTiming&&o.resourceTiming[this.id]&&(a=o.resourceTiming[this.id].slice(0));const h={dataType:"source"};this._collectResourceTiming&&a&&a.length>0&&c.e(h,{resourceTiming:a}),this.fire(new c.l("data",Object.assign(Object.assign({},h),{sourceDataType:"metadata"}))),this.fire(new c.l("data",Object.assign(Object.assign({},h),{sourceDataType:"content"})))}catch(o){if(this._pendingLoads--,this._removed)return void this.fire(new c.l("dataabort",{dataType:"source"}));this.fire(new c.k(o))}})}loaded(){return this._pendingLoads===0}loadTile(e){return c._(this,void 0,void 0,function*(){const i=e.actor?"RT":"LT";e.actor=this.actor;const o={type:this.type,uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity};e.abortController=new AbortController;const a=yield this.actor.sendAsync({type:i,data:o},e.abortController);delete e.abortController,e.unloadVectorData(),e.aborted||e.loadVectorData(a,this.map.painter,i==="RT")})}abortTile(e){return c._(this,void 0,void 0,function*(){e.abortController&&(e.abortController.abort(),delete e.abortController),e.aborted=!0})}unloadTile(e){return c._(this,void 0,void 0,function*(){e.unloadVectorData(),yield this.actor.sendAsync({type:"RMT",data:{uid:e.uid,type:this.type,source:this.id}})})}onRemove(){this._removed=!0,this.actor.sendAsync({type:"RS",data:{type:this.type,source:this.id}})}serialize(){return c.e({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}}class Qi extends c.E{constructor(e,i,o,a){super(),this.flippedWindingOrder=!1,this.id=e,this.dispatcher=o,this.coordinates=i.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(a),this.options=i}load(e){return c._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new c.l("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=new AbortController;try{const i=yield Lt.getImage(this.map._requestManager.transformRequest(this.url,"Image"),this._request);this._request=null,this._loaded=!0,i&&i.data&&(this.image=i.data,e&&(this.coordinates=e),this._finishLoading())}catch(i){this._request=null,this._loaded=!0,this.fire(new c.k(i))}})}loaded(){return this._loaded}updateImage(e){return e.url?(this._request&&(this._request.abort(),this._request=null),this.options.url=e.url,this.load(e.coordinates).finally(()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new c.l("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(e){this.map=e,this.load()}onRemove(){this._request&&(this._request.abort(),this._request=null)}setCoordinates(e){this.coordinates=e;const i=e.map(c.$.fromLngLat);var o;return this.tileID=function(a){let h=1/0,f=1/0,_=-1/0,y=-1/0;for(const M of a)h=Math.min(h,M.x),f=Math.min(f,M.y),_=Math.max(_,M.x),y=Math.max(y,M.y);const v=Math.max(_-h,y-f),T=Math.max(0,Math.floor(-Math.log(v)/Math.LN2)),C=Math.pow(2,T);return new c.a1(T,Math.floor((h+_)/2*C),Math.floor((f+y)/2*C))}(i),this.terrainTileRanges=this._getOverlappingTileRanges(i),this.minzoom=this.maxzoom=this.tileID.z,this.tileCoords=i.map(a=>this.tileID.getTilePoint(a)._round()),this.flippedWindingOrder=((o=this.tileCoords)[1].x-o[0].x)*(o[2].y-o[0].y)-(o[1].y-o[0].y)*(o[2].x-o[0].x)<0,this.fire(new c.l("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const e=this.map.painter.context,i=e.gl;this.texture||(this.texture=new It(e,this.image,i.RGBA),this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE));let o=!1;for(const a in this.tiles){const h=this.tiles[a];h.state!=="loaded"&&(h.state="loaded",h.texture=this.texture,o=!0)}o&&this.fire(new c.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}loadTile(e){return c._(this,void 0,void 0,function*(){this.tileID&&this.tileID.equals(e.tileID.canonical)?(this.tiles[String(e.tileID.wrap)]=e,e.buckets={}):e.state="errored"})}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}_getOverlappingTileRanges(e){let i=1/0,o=1/0,a=-1/0,h=-1/0;for(const _ of e)i=Math.min(i,_.x),o=Math.min(o,_.y),a=Math.max(a,_.x),h=Math.max(h,_.y);const f={};for(let _=0;_<=c.a0;_++){const y=Math.pow(2,_),v=Math.floor(i*y),T=Math.floor(o*y),C=Math.floor(a*y),M=Math.floor(h*y);f[_]={minTileX:v,minTileY:T,maxTileX:C,maxTileY:M}}return f}}class er extends Qi{constructor(e,i,o,a){super(e,i,o,a),this.roundZoom=!0,this.type="video",this.options=i}load(){return c._(this,void 0,void 0,function*(){this._loaded=!1;const e=this.options;this.urls=[];for(const i of e.urls)this.urls.push(this.map._requestManager.transformRequest(i,"Source").url);try{const i=yield c.a2(this.urls);if(this._loaded=!0,!i)return;this.video=i,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading()}catch(i){this.fire(new c.k(i))}})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(e){if(this.video){const i=this.video.seekable;e<i.start(0)||e>i.end(0)?this.fire(new c.k(new c.a3(`sources.${this.id}`,null,`Playback for this video can be set only between the ${i.start(0)} and ${i.end(0)}-second mark.`))):this.video.currentTime=e}}getVideo(){return this.video}onAdd(e){this.map||(this.map=e,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const e=this.map.painter.context,i=e.gl;this.texture?this.video.paused||(this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE),i.texSubImage2D(i.TEXTURE_2D,0,0,0,i.RGBA,i.UNSIGNED_BYTE,this.video)):(this.texture=new It(e,this.video,i.RGBA),this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE));let o=!1;for(const a in this.tiles){const h=this.tiles[a];h.state!=="loaded"&&(h.state="loaded",h.texture=this.texture,o=!0)}o&&this.fire(new c.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class Bn extends Qi{constructor(e,i,o,a){super(e,i,o,a),i.coordinates?Array.isArray(i.coordinates)&&i.coordinates.length===4&&!i.coordinates.some(h=>!Array.isArray(h)||h.length!==2||h.some(f=>typeof f!="number"))||this.fire(new c.k(new c.a3(`sources.${e}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new c.k(new c.a3(`sources.${e}`,null,'missing required property "coordinates"'))),i.animate&&typeof i.animate!="boolean"&&this.fire(new c.k(new c.a3(`sources.${e}`,null,'optional "animate" property must be a boolean value'))),i.canvas?typeof i.canvas=="string"||i.canvas instanceof HTMLCanvasElement||this.fire(new c.k(new c.a3(`sources.${e}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new c.k(new c.a3(`sources.${e}`,null,'missing required property "canvas"'))),this.options=i,this.animate=i.animate===void 0||i.animate}load(){return c._(this,void 0,void 0,function*(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new c.k(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())})}getCanvas(){return this.canvas}onAdd(e){this.map=e,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let e=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,e=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,e=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const i=this.map.painter.context,o=i.gl;this.texture?(e||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new It(i,this.canvas,o.RGBA,{premultiply:!0});let a=!1;for(const h in this.tiles){const f=this.tiles[h];f.state!=="loaded"&&(f.state="loaded",f.texture=this.texture,a=!0)}a&&this.fire(new c.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const e of[this.canvas.width,this.canvas.height])if(isNaN(e)||e<=0)return!0;return!1}}const On={},ws=u=>{switch(u){case"geojson":return Ur;case"image":return Qi;case"raster":return Ji;case"raster-dem":return Vr;case"vector":return pn;case"video":return er;case"canvas":return Bn}return On[u]},fn="RTLPluginLoaded";class Zr extends c.E{constructor(){super(...arguments),this.status="unavailable",this.url=null,this.dispatcher=hn()}_syncState(e){return this.status=e,this.dispatcher.broadcast("SRPS",{pluginStatus:e,pluginURL:this.url}).catch(i=>{throw this.status="error",i})}getRTLTextPluginStatus(){return this.status}clearRTLTextPlugin(){this.status="unavailable",this.url=null}setRTLTextPlugin(e){return c._(this,arguments,void 0,function*(i,o=!1){if(this.url)throw new Error("setRTLTextPlugin cannot be called multiple times.");if(this.url=Ve.resolveURL(i),!this.url)throw new Error(`requested url ${i} is invalid`);if(this.status==="unavailable"){if(!o)return this._requestImport();this.status="deferred",this._syncState(this.status)}else if(this.status==="requested")return this._requestImport()})}_requestImport(){return c._(this,void 0,void 0,function*(){yield this._syncState("loading"),this.status="loaded",this.fire(new c.l(fn))})}lazyLoad(){this.status==="unavailable"?this.status="requested":this.status==="deferred"&&this._requestImport()}}let jn=null;function wr(){return jn||(jn=new Zr),jn}class dr{constructor(e,i){this.timeAdded=0,this.fadeEndTime=0,this.tileID=e,this.uid=c.a4(),this.uses=0,this.tileSize=i,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(e){const i=e+this.timeAdded;i<this.fadeEndTime||(this.fadeEndTime=i)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(e){this.demTexture&&e.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(e,i,o){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",e){e.featureIndex&&(this.latestFeatureIndex=e.featureIndex,e.rawTileData?(this.latestRawTileData=e.rawTileData,this.latestFeatureIndex.rawTileData=e.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=e.collisionBoxArray,this.buckets=function(a,h){const f={};if(!h)return f;for(const _ of a){const y=_.layerIds.map(v=>h.getLayer(v)).filter(Boolean);if(y.length!==0){_.layers=y,_.stateDependentLayerIds&&(_.stateDependentLayers=_.stateDependentLayerIds.map(v=>y.filter(T=>T.id===v)[0]));for(const v of y)f[v.id]=_}}return f}(e.buckets,i==null?void 0:i.style),this.hasSymbolBuckets=!1;for(const a in this.buckets){const h=this.buckets[a];if(h instanceof c.a6){if(this.hasSymbolBuckets=!0,!o)break;h.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const a in this.buckets){const h=this.buckets[a];if(h instanceof c.a6&&h.hasRTLText){this.hasRTLText=!0,wr().lazyLoad();break}}this.queryPadding=0;for(const a in this.buckets){const h=this.buckets[a];this.queryPadding=Math.max(this.queryPadding,i.style.getLayer(a).queryRadius(h))}e.imageAtlas&&(this.imageAtlas=e.imageAtlas),e.glyphAtlasImage&&(this.glyphAtlasImage=e.glyphAtlasImage)}else this.collisionBoxArray=new c.a5}unloadVectorData(){for(const e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(e){return this.buckets[e.id]}upload(e){for(const o in this.buckets){const a=this.buckets[o];a.uploadPending()&&a.upload(e)}const i=e.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new It(e,this.imageAtlas.image,i.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new It(e,this.glyphAtlasImage,i.ALPHA),this.glyphAtlasImage=null)}prepare(e){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(e,this.imageAtlasTexture)}queryRenderedFeatures(e,i,o,a,h,f,_,y,v,T,C){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:a,cameraQueryGeometry:h,scale:f,tileSize:this.tileSize,pixelPosMatrix:T,transform:y,params:_,queryPadding:this.queryPadding*v,getElevation:C},e,i,o):{}}querySourceFeatures(e,i){const o=this.latestFeatureIndex;if(!o||!o.rawTileData)return;const a=o.loadVTLayers(),h=i&&i.sourceLayer?i.sourceLayer:"",f=a._geojsonTileLayer||a[h];if(!f)return;const _=c.a7(i&&i.filter),{z:y,x:v,y:T}=this.tileID.canonical,C={z:y,x:v,y:T};for(let M=0;M<f.length;M++){const D=f.feature(M);if(_.needGeometry){const Z=c.a8(D,!0);if(!_.filter(new c.C(this.tileID.overscaledZ),Z,this.tileID.canonical))continue}else if(!_.filter(new c.C(this.tileID.overscaledZ),D))continue;const B=o.getId(D,h),$=new c.a9(D,y,v,T,B);$.tile=C,e.push($)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(e){const i=this.expirationTime;if(e.cacheControl){const o=c.aa(e.cacheControl);o["max-age"]&&(this.expirationTime=Date.now()+1e3*o["max-age"])}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){const o=Date.now();let a=!1;if(this.expirationTime>o)a=!1;else if(i)if(this.expirationTime<i)a=!0;else{const h=this.expirationTime-i;h?this.expirationTime=o+Math.max(h,3e4):a=!0}else a=!0;a?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(e,i){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(e).length===0)return;const o=this.latestFeatureIndex.loadVTLayers();for(const a in this.buckets){if(!i.style.hasLayer(a))continue;const h=this.buckets[a],f=h.layers[0].sourceLayer||"_geojsonTileLayer",_=o[f],y=e[f];if(!_||!y||Object.keys(y).length===0)continue;h.update(y,_,this.imageAtlas&&this.imageAtlas.patternPositions||{});const v=i&&i.style&&i.style.getLayer(a);v&&(this.queryPadding=Math.max(this.queryPadding,v.queryRadius(h)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<Ve.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(e){this.symbolFadeHoldUntil=Ve.now()+e}setDependencies(e,i){const o={};for(const a of i)o[a]=!0;this.dependencies[e]=o}hasDependency(e,i){for(const o of e){const a=this.dependencies[o];if(a){for(const h of i)if(a[h])return!0}}return!1}}class Tr{constructor(e,i){this.max=e,this.onRemove=i,this.reset()}reset(){for(const e in this.data)for(const i of this.data[e])i.timeout&&clearTimeout(i.timeout),this.onRemove(i.value);return this.data={},this.order=[],this}add(e,i,o){const a=e.wrapped().key;this.data[a]===void 0&&(this.data[a]=[]);const h={value:i,timeout:void 0};if(o!==void 0&&(h.timeout=setTimeout(()=>{this.remove(e,h)},o)),this.data[a].push(h),this.order.push(a),this.order.length>this.max){const f=this._getAndRemoveByKey(this.order[0]);f&&this.onRemove(f)}return this}has(e){return e.wrapped().key in this.data}getAndRemove(e){return this.has(e)?this._getAndRemoveByKey(e.wrapped().key):null}_getAndRemoveByKey(e){const i=this.data[e].shift();return i.timeout&&clearTimeout(i.timeout),this.data[e].length===0&&delete this.data[e],this.order.splice(this.order.indexOf(e),1),i.value}getByKey(e){const i=this.data[e];return i?i[0].value:null}get(e){return this.has(e)?this.data[e.wrapped().key][0].value:null}remove(e,i){if(!this.has(e))return this;const o=e.wrapped().key,a=i===void 0?0:this.data[o].indexOf(i),h=this.data[o][a];return this.data[o].splice(a,1),h.timeout&&clearTimeout(h.timeout),this.data[o].length===0&&delete this.data[o],this.onRemove(h.value),this.order.splice(this.order.indexOf(o),1),this}setMaxSize(e){for(this.max=e;this.order.length>this.max;){const i=this._getAndRemoveByKey(this.order[0]);i&&this.onRemove(i)}return this}filter(e){const i=[];for(const o in this.data)for(const a of this.data[o])e(a.value)||i.push(a);for(const o of i)this.remove(o.value.tileID,o)}}class Nn{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(e,i,o){const a=String(i);if(this.stateChanges[e]=this.stateChanges[e]||{},this.stateChanges[e][a]=this.stateChanges[e][a]||{},c.e(this.stateChanges[e][a],o),this.deletedStates[e]===null){this.deletedStates[e]={};for(const h in this.state[e])h!==a&&(this.deletedStates[e][h]=null)}else if(this.deletedStates[e]&&this.deletedStates[e][a]===null){this.deletedStates[e][a]={};for(const h in this.state[e][a])o[h]||(this.deletedStates[e][a][h]=null)}else for(const h in o)this.deletedStates[e]&&this.deletedStates[e][a]&&this.deletedStates[e][a][h]===null&&delete this.deletedStates[e][a][h]}removeFeatureState(e,i,o){if(this.deletedStates[e]===null)return;const a=String(i);if(this.deletedStates[e]=this.deletedStates[e]||{},o&&i!==void 0)this.deletedStates[e][a]!==null&&(this.deletedStates[e][a]=this.deletedStates[e][a]||{},this.deletedStates[e][a][o]=null);else if(i!==void 0)if(this.stateChanges[e]&&this.stateChanges[e][a])for(o in this.deletedStates[e][a]={},this.stateChanges[e][a])this.deletedStates[e][a][o]=null;else this.deletedStates[e][a]=null;else this.deletedStates[e]=null}getState(e,i){const o=String(i),a=c.e({},(this.state[e]||{})[o],(this.stateChanges[e]||{})[o]);if(this.deletedStates[e]===null)return{};if(this.deletedStates[e]){const h=this.deletedStates[e][i];if(h===null)return{};for(const f in h)delete a[f]}return a}initializeTileState(e,i){e.setFeatureState(this.state,i)}coalesceChanges(e,i){const o={};for(const a in this.stateChanges){this.state[a]=this.state[a]||{};const h={};for(const f in this.stateChanges[a])this.state[a][f]||(this.state[a][f]={}),c.e(this.state[a][f],this.stateChanges[a][f]),h[f]=this.state[a][f];o[a]=h}for(const a in this.deletedStates){this.state[a]=this.state[a]||{};const h={};if(this.deletedStates[a]===null)for(const f in this.state[a])h[f]={},this.state[a][f]={};else for(const f in this.deletedStates[a]){if(this.deletedStates[a][f]===null)this.state[a][f]={};else for(const _ of Object.keys(this.deletedStates[a][f]))delete this.state[a][f][_];h[f]=this.state[a][f]}o[a]=o[a]||{},c.e(o[a],h)}if(this.stateChanges={},this.deletedStates={},Object.keys(o).length!==0)for(const a in e)e[a].setFeatureState(o,i)}}function Ts(u,e,i){const o=e.intersectsFrustum(u);if(!i)return o;const a=e.intersectsPlane(i);return o===0||a===0?0:o===2&&a===2?2:1}function oo(u,e,i,o,a){let h=u;const f=Math.atan(e/i),_=Math.hypot(e,i);return h=u+c.ab(o/_/Math.max(.5,Math.cos(c.ad(a/2)))),h+=1*c.ab(Math.cos(f))/2,h+=c.ae(u-h,-0,0),h}function Pr(u,e){const i=(e.roundZoom?Math.round:Math.floor)(u.zoom+c.ab(u.tileSize/e.tileSize));return Math.max(0,i)}function le(u,e){const i=u.getCameraFrustum(),o=u.getClippingPlane(),a=u.screenPointToMercatorCoordinate(u.getCameraPoint()),h=c.$.fromLngLat(u.center,u.elevation);a.z=h.z+Math.cos(u.pitchInRadians)*u.cameraToCenterDistance/u.worldSize;const f=u.getCoveringTilesDetailsProvider(),_=f.allowVariableZoom(u,e),y=Pr(u,e),v=e.minzoom||0,T=e.maxzoom!==void 0?e.maxzoom:u.maxZoom,C=Math.min(Math.max(0,y),T),M=Math.pow(2,C),D=[M*a.x,M*a.y,0],B=[M*h.x,M*h.y,0],$=Math.hypot(h.x-a.x,h.y-a.y),Z=Math.abs(h.z-a.z),G=Math.hypot($,Z),H=ee=>({zoom:0,x:0,y:0,wrap:ee,fullyVisible:!1}),Y=[],Q=[];if(u.renderWorldCopies&&f.allowWorldCopies())for(let ee=1;ee<=3;ee++)Y.push(H(-ee)),Y.push(H(ee));for(Y.push(H(0));Y.length>0;){const ee=Y.pop(),se=ee.x,te=ee.y;let pe=ee.fullyVisible;const de={x:se,y:te,z:ee.zoom},be=f.getTileAABB(de,ee.wrap,u.elevation,e);if(!pe){const Re=Ts(i,be,o);if(Re===0)continue;pe=Re===2}const Te=f.distanceToTile2d(a.x,a.y,de,be);let xe=y;_&&(xe=(e.calculateTileZoom||oo)(u.zoom+c.ab(u.tileSize/e.tileSize),Te,Z,G,u.fov)),xe=(e.roundZoom?Math.round:Math.floor)(xe),xe=Math.max(0,xe);const Le=Math.min(xe,T);if(ee.wrap=f.getWrap(h,de,ee.wrap),ee.zoom>=Le){if(ee.zoom<v)continue;const Re=C-ee.zoom,Se=D[0]-.5-(se<<Re),Ge=D[1]-.5-(te<<Re),st=e.reparseOverscaled?Math.max(ee.zoom,xe):ee.zoom;Q.push({tileID:new c.Y(ee.zoom===T?st:ee.zoom,ee.wrap,ee.zoom,se,te),distanceSq:c.ac([B[0]-.5-se,B[1]-.5-te]),tileDistanceToCamera:Math.sqrt(Se*Se+Ge*Ge)})}else for(let Re=0;Re<4;Re++)Y.push({zoom:ee.zoom+1,x:(se<<1)+Re%2,y:(te<<1)+(Re>>1),wrap:ee.wrap,fullyVisible:pe})}return Q.sort((ee,se)=>ee.distanceSq-se.distanceSq).map(ee=>ee.tileID)}class F extends c.E{constructor(e,i,o){super(),this.id=e,this.dispatcher=o,this.on("data",a=>this._dataHandler(a)),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=((a,h,f,_)=>{const y=new(ws(h.type))(a,h,f,_);if(y.id!==a)throw new Error(`Expected Source id to be ${a} instead of ${y.id}`);return y})(e,i,o,this),this._tiles={},this._cache=new Tr(0,a=>this._unloadTile(a)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new Nn,this._didEmitContent=!1,this._updated=!1}onAdd(e){this.map=e,this._maxTileCacheSize=e?e._maxTileCacheSize:null,this._maxTileCacheZoomLevels=e?e._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(e)}onRemove(e){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(e)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const e in this._tiles){const i=this._tiles[e];if(i.state!=="loaded"&&i.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const e=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,e&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(e,i,o){return c._(this,void 0,void 0,function*(){try{yield this._source.loadTile(e),this._tileLoaded(e,i,o)}catch(a){e.state="errored",a.status!==404?this._source.fire(new c.k(a,{tile:e})):this.update(this.transform,this.terrain)}})}_unloadTile(e){this._source.unloadTile&&this._source.unloadTile(e)}_abortTile(e){this._source.abortTile&&this._source.abortTile(e),this._source.fire(new c.l("dataabort",{tile:e,coord:e.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(e){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const i in this._tiles){const o=this._tiles[i];o.upload(e),o.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(e=>e.tileID).sort(O).map(e=>e.key)}getRenderableIds(e){const i=[];for(const o in this._tiles)this._isIdRenderable(o,e)&&i.push(this._tiles[o]);return e?i.sort((o,a)=>{const h=o.tileID,f=a.tileID,_=new c.P(h.canonical.x,h.canonical.y)._rotate(-this.transform.bearingInRadians),y=new c.P(f.canonical.x,f.canonical.y)._rotate(-this.transform.bearingInRadians);return h.overscaledZ-f.overscaledZ||y.y-_.y||y.x-_.x}).map(o=>o.tileID.key):i.map(o=>o.tileID).sort(O).map(o=>o.key)}hasRenderableParent(e){const i=this.findLoadedParent(e,0);return!!i&&this._isIdRenderable(i.tileID.key)}_isIdRenderable(e,i){return this._tiles[e]&&this._tiles[e].hasData()&&!this._coveredTiles[e]&&(i||!this._tiles[e].holdingForFade())}reload(e){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const i in this._tiles)(e||this._tiles[i].state!=="errored")&&this._reloadTile(i,"reloading")}}_reloadTile(e,i){return c._(this,void 0,void 0,function*(){const o=this._tiles[e];o&&(o.state!=="loading"&&(o.state=i),yield this._loadTile(o,e,i))})}_tileLoaded(e,i,o){e.timeAdded=Ve.now(),o==="expired"&&(e.refreshedUponExpiration=!0),this._setTileReloadTimer(i,e),this.getSource().type==="raster-dem"&&e.dem&&this._backfillDEM(e),this._state.initializeTileState(e,this.map?this.map.painter:null),e.aborted||this._source.fire(new c.l("data",{dataType:"source",tile:e,coord:e.tileID}))}_backfillDEM(e){const i=this.getRenderableIds();for(let a=0;a<i.length;a++){const h=i[a];if(e.neighboringTiles&&e.neighboringTiles[h]){const f=this.getTileByID(h);o(e,f),o(f,e)}}function o(a,h){a.needsHillshadePrepare=!0,a.needsTerrainPrepare=!0;let f=h.tileID.canonical.x-a.tileID.canonical.x;const _=h.tileID.canonical.y-a.tileID.canonical.y,y=Math.pow(2,a.tileID.canonical.z),v=h.tileID.key;f===0&&_===0||Math.abs(_)>1||(Math.abs(f)>1&&(Math.abs(f+y)===1?f+=y:Math.abs(f-y)===1&&(f-=y)),h.dem&&a.dem&&(a.dem.backfillBorder(h.dem,f,_),a.neighboringTiles&&a.neighboringTiles[v]&&(a.neighboringTiles[v].backfilled=!0)))}}getTile(e){return this.getTileByID(e.key)}getTileByID(e){return this._tiles[e]}_retainLoadedChildren(e,i,o,a){for(const h in this._tiles){let f=this._tiles[h];if(a[h]||!f.hasData()||f.tileID.overscaledZ<=i||f.tileID.overscaledZ>o)continue;let _=f.tileID;for(;f&&f.tileID.overscaledZ>i+1;){const v=f.tileID.scaledTo(f.tileID.overscaledZ-1);f=this._tiles[v.key],f&&f.hasData()&&(_=v)}let y=_;for(;y.overscaledZ>i;)if(y=y.scaledTo(y.overscaledZ-1),e[y.key]||e[y.canonical.key]){a[_.key]=_;break}}}findLoadedParent(e,i){if(e.key in this._loadedParentTiles){const o=this._loadedParentTiles[e.key];return o&&o.tileID.overscaledZ>=i?o:null}for(let o=e.overscaledZ-1;o>=i;o--){const a=e.scaledTo(o),h=this._getLoadedTile(a);if(h)return h}}findLoadedSibling(e){return this._getLoadedTile(e)}_getLoadedTile(e){const i=this._tiles[e.key];return i&&i.hasData()?i:this._cache.getByKey(e.wrapped().key)}updateCacheSize(e){const i=Math.ceil(e.width/this._source.tileSize)+1,o=Math.ceil(e.height/this._source.tileSize)+1,a=Math.floor(i*o*(this._maxTileCacheZoomLevels===null?c.a.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),h=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,a):a;this._cache.setMaxSize(h)}handleWrapJump(e){const i=Math.round((e-(this._prevLng===void 0?e:this._prevLng))/360);if(this._prevLng=e,i){const o={};for(const a in this._tiles){const h=this._tiles[a];h.tileID=h.tileID.unwrapTo(h.tileID.wrap+i),o[h.tileID.key]=h}this._tiles=o;for(const a in this._timers)clearTimeout(this._timers[a]),delete this._timers[a];for(const a in this._tiles)this._setTileReloadTimer(a,this._tiles[a])}}_updateCoveredAndRetainedTiles(e,i,o,a,h,f){const _={},y={},v=Object.keys(e),T=Ve.now();for(const C of v){const M=e[C],D=this._tiles[C];if(!D||D.fadeEndTime!==0&&D.fadeEndTime<=T)continue;const B=this.findLoadedParent(M,i),$=this.findLoadedSibling(M),Z=B||$||null;Z&&(this._addTile(Z.tileID),_[Z.tileID.key]=Z.tileID),y[C]=M}this._retainLoadedChildren(y,a,o,e);for(const C in _)e[C]||(this._coveredTiles[C]=!0,e[C]=_[C]);if(f){const C={},M={};for(const D of h)this._tiles[D.key].hasData()?C[D.key]=D:M[D.key]=D;for(const D in M){const B=M[D].children(this._source.maxzoom);this._tiles[B[0].key]&&this._tiles[B[1].key]&&this._tiles[B[2].key]&&this._tiles[B[3].key]&&(C[B[0].key]=e[B[0].key]=B[0],C[B[1].key]=e[B[1].key]=B[1],C[B[2].key]=e[B[2].key]=B[2],C[B[3].key]=e[B[3].key]=B[3],delete M[D])}for(const D in M){const B=M[D],$=this.findLoadedParent(B,this._source.minzoom),Z=this.findLoadedSibling(B),G=$||Z||null;if(G){C[G.tileID.key]=e[G.tileID.key]=G.tileID;for(const H in C)C[H].isChildOf(G.tileID)&&delete C[H]}}for(const D in this._tiles)C[D]||(this._coveredTiles[D]=!0)}}update(e,i){if(!this._sourceLoaded||this._paused)return;let o;this.transform=e,this.terrain=i,this.updateCacheSize(e),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?o=e.getVisibleUnwrappedCoordinates(this._source.tileID).map(T=>new c.Y(T.canonical.z,T.wrap,T.canonical.z,T.canonical.x,T.canonical.y)):(o=le(e,{tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:i,calculateTileZoom:this._source.calculateTileZoom}),this._source.hasTile&&(o=o.filter(T=>this._source.hasTile(T)))):o=[];const a=Pr(e,this._source),h=Math.max(a-F.maxOverzooming,this._source.minzoom),f=Math.max(a+F.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const T={};for(const C of o)if(C.canonical.z>this._source.minzoom){const M=C.scaledTo(C.canonical.z-1);T[M.key]=M;const D=C.scaledTo(Math.max(this._source.minzoom,Math.min(C.canonical.z,5)));T[D.key]=D}o=o.concat(Object.values(T))}const _=o.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,_&&this.fire(new c.l("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const y=this._updateRetainedTiles(o,a);z(this._source.type)&&this._updateCoveredAndRetainedTiles(y,h,f,a,o,i);for(const T in y)this._tiles[T].clearFadeHold();const v=c.af(this._tiles,y);for(const T of v){const C=this._tiles[T];C.hasSymbolBuckets&&!C.holdingForFade()?C.setHoldDuration(this.map._fadeDuration):C.hasSymbolBuckets&&!C.symbolFadeFinished()||this._removeTile(T)}this._updateLoadedParentTileCache(),this._updateLoadedSiblingTileCache()}releaseSymbolFadeTiles(){for(const e in this._tiles)this._tiles[e].holdingForFade()&&this._removeTile(e)}_updateRetainedTiles(e,i){var o;const a={},h={},f=Math.max(i-F.maxOverzooming,this._source.minzoom),_=Math.max(i+F.maxUnderzooming,this._source.minzoom),y={};for(const v of e){const T=this._addTile(v);a[v.key]=v,T.hasData()||i<this._source.maxzoom&&(y[v.key]=v)}this._retainLoadedChildren(y,i,_,a);for(const v of e){let T=this._tiles[v.key];if(T.hasData())continue;if(i+1>this._source.maxzoom){const M=v.children(this._source.maxzoom)[0],D=this.getTile(M);if(D&&D.hasData()){a[M.key]=M;continue}}else{const M=v.children(this._source.maxzoom);if(a[M[0].key]&&a[M[1].key]&&a[M[2].key]&&a[M[3].key])continue}let C=T.wasRequested();for(let M=v.overscaledZ-1;M>=f;--M){const D=v.scaledTo(M);if(h[D.key])break;if(h[D.key]=!0,T=this.getTile(D),!T&&C&&(T=this._addTile(D)),T){const B=T.hasData();if((B||!(!((o=this.map)===null||o===void 0)&&o.cancelPendingTileRequestsWhileZooming)||C)&&(a[D.key]=D),C=T.wasRequested(),B)break}}}return a}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const e in this._tiles){const i=[];let o,a=this._tiles[e].tileID;for(;a.overscaledZ>0;){if(a.key in this._loadedParentTiles){o=this._loadedParentTiles[a.key];break}i.push(a.key);const h=a.scaledTo(a.overscaledZ-1);if(o=this._getLoadedTile(h),o)break;a=h}for(const h of i)this._loadedParentTiles[h]=o}}_updateLoadedSiblingTileCache(){this._loadedSiblingTiles={};for(const e in this._tiles){const i=this._tiles[e].tileID,o=this._getLoadedTile(i);this._loadedSiblingTiles[i.key]=o}}_addTile(e){let i=this._tiles[e.key];if(i)return i;i=this._cache.getAndRemove(e),i&&(this._setTileReloadTimer(e.key,i),i.tileID=e,this._state.initializeTileState(i,this.map?this.map.painter:null),this._cacheTimers[e.key]&&(clearTimeout(this._cacheTimers[e.key]),delete this._cacheTimers[e.key],this._setTileReloadTimer(e.key,i)));const o=i;return i||(i=new dr(e,this._source.tileSize*e.overscaleFactor()),this._loadTile(i,e.key,i.state)),i.uses++,this._tiles[e.key]=i,o||this._source.fire(new c.l("dataloading",{tile:i,coord:i.tileID,dataType:"source"})),i}_setTileReloadTimer(e,i){e in this._timers&&(clearTimeout(this._timers[e]),delete this._timers[e]);const o=i.getExpiryTimeout();o&&(this._timers[e]=setTimeout(()=>{this._reloadTile(e,"expired"),delete this._timers[e]},o))}_removeTile(e){const i=this._tiles[e];i&&(i.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),delete this._timers[e]),i.uses>0||(i.hasData()&&i.state!=="reloading"?this._cache.add(i.tileID,i,i.getExpiryTimeout()):(i.aborted=!0,this._abortTile(i),this._unloadTile(i))))}_dataHandler(e){const i=e.sourceDataType;e.dataType==="source"&&i==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&e.dataType==="source"&&i==="content"&&(this.reload(e.sourceDataChanged),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const e in this._tiles)this._removeTile(e);this._cache.reset()}tilesIn(e,i,o){const a=[],h=this.transform;if(!h)return a;const f=o?h.getCameraQueryGeometry(e):e,_=e.map(B=>h.screenPointToMercatorCoordinate(B,this.terrain)),y=f.map(B=>h.screenPointToMercatorCoordinate(B,this.terrain)),v=this.getIds();let T=1/0,C=1/0,M=-1/0,D=-1/0;for(const B of y)T=Math.min(T,B.x),C=Math.min(C,B.y),M=Math.max(M,B.x),D=Math.max(D,B.y);for(let B=0;B<v.length;B++){const $=this._tiles[v[B]];if($.holdingForFade())continue;const Z=$.tileID,G=Math.pow(2,h.zoom-$.tileID.overscaledZ),H=i*$.queryPadding*c.Z/$.tileSize/G,Y=[Z.getTilePoint(new c.$(T,C)),Z.getTilePoint(new c.$(M,D))];if(Y[0].x-H<c.Z&&Y[0].y-H<c.Z&&Y[1].x+H>=0&&Y[1].y+H>=0){const Q=_.map(se=>Z.getTilePoint(se)),ee=y.map(se=>Z.getTilePoint(se));a.push({tile:$,tileID:Z,queryGeometry:Q,cameraQueryGeometry:ee,scale:G})}}return a}getVisibleCoordinates(e){const i=this.getRenderableIds(e).map(o=>this._tiles[o].tileID);return this.transform&&this.transform.populateCache(i),i}hasTransition(){if(this._source.hasTransition())return!0;if(z(this._source.type)){const e=Ve.now();for(const i in this._tiles)if(this._tiles[i].fadeEndTime>=e)return!0}return!1}setFeatureState(e,i,o){this._state.updateState(e=e||"_geojsonTileLayer",i,o)}removeFeatureState(e,i,o){this._state.removeFeatureState(e=e||"_geojsonTileLayer",i,o)}getFeatureState(e,i){return this._state.getState(e=e||"_geojsonTileLayer",i)}setDependencies(e,i,o){const a=this._tiles[e];a&&a.setDependencies(i,o)}reloadTilesForDependencies(e,i){for(const o in this._tiles)this._tiles[o].hasDependency(e,i)&&this._reloadTile(o,"reloading");this._cache.filter(o=>!o.hasDependency(e,i))}}function O(u,e){const i=Math.abs(2*u.wrap)-+(u.wrap<0),o=Math.abs(2*e.wrap)-+(e.wrap<0);return u.overscaledZ-e.overscaledZ||o-i||e.canonical.y-u.canonical.y||e.canonical.x-u.canonical.x}function z(u){return u==="raster"||u==="image"||u==="video"}F.maxOverzooming=10,F.maxUnderzooming=3;class K{constructor(e,i){this.reset(e,i)}reset(e,i){this.points=e||[],this._distances=[0];for(let o=1;o<this.points.length;o++)this._distances[o]=this._distances[o-1]+this.points[o].dist(this.points[o-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(i||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(e){if(this.points.length===1)return this.points[0];e=c.ae(e,0,1);let i=1,o=this._distances[i];const a=e*this.paddedLength+this.padding;for(;o<a&&i<this._distances.length;)o=this._distances[++i];const h=i-1,f=this._distances[h],_=o-f,y=_>0?(a-f)/_:0;return this.points[h].mult(1-y).add(this.points[i].mult(y))}}function ne(u,e){let i=!0;return u==="always"||u!=="never"&&e!=="never"||(i=!1),i}class re{constructor(e,i,o){const a=this.boxCells=[],h=this.circleCells=[];this.xCellCount=Math.ceil(e/o),this.yCellCount=Math.ceil(i/o);for(let f=0;f<this.xCellCount*this.yCellCount;f++)a.push([]),h.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=e,this.height=i,this.xScale=this.xCellCount/e,this.yScale=this.yCellCount/i,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(e,i,o,a,h){this._forEachCell(i,o,a,h,this._insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(i),this.bboxes.push(o),this.bboxes.push(a),this.bboxes.push(h)}insertCircle(e,i,o,a){this._forEachCell(i-a,o-a,i+a,o+a,this._insertCircleCell,this.circleUid++),this.circleKeys.push(e),this.circles.push(i),this.circles.push(o),this.circles.push(a)}_insertBoxCell(e,i,o,a,h,f){this.boxCells[h].push(f)}_insertCircleCell(e,i,o,a,h,f){this.circleCells[h].push(f)}_query(e,i,o,a,h,f,_){if(o<0||e>this.width||a<0||i>this.height)return[];const y=[];if(e<=0&&i<=0&&this.width<=o&&this.height<=a){if(h)return[{key:null,x1:e,y1:i,x2:o,y2:a}];for(let v=0;v<this.boxKeys.length;v++)y.push({key:this.boxKeys[v],x1:this.bboxes[4*v],y1:this.bboxes[4*v+1],x2:this.bboxes[4*v+2],y2:this.bboxes[4*v+3]});for(let v=0;v<this.circleKeys.length;v++){const T=this.circles[3*v],C=this.circles[3*v+1],M=this.circles[3*v+2];y.push({key:this.circleKeys[v],x1:T-M,y1:C-M,x2:T+M,y2:C+M})}}else this._forEachCell(e,i,o,a,this._queryCell,y,{hitTest:h,overlapMode:f,seenUids:{box:{},circle:{}}},_);return y}query(e,i,o,a){return this._query(e,i,o,a,!1,null)}hitTest(e,i,o,a,h,f){return this._query(e,i,o,a,!0,h,f).length>0}hitTestCircle(e,i,o,a,h){const f=e-o,_=e+o,y=i-o,v=i+o;if(_<0||f>this.width||v<0||y>this.height)return!1;const T=[];return this._forEachCell(f,y,_,v,this._queryCellCircle,T,{hitTest:!0,overlapMode:a,circle:{x:e,y:i,radius:o},seenUids:{box:{},circle:{}}},h),T.length>0}_queryCell(e,i,o,a,h,f,_,y){const{seenUids:v,hitTest:T,overlapMode:C}=_,M=this.boxCells[h];if(M!==null){const B=this.bboxes;for(const $ of M)if(!v.box[$]){v.box[$]=!0;const Z=4*$,G=this.boxKeys[$];if(e<=B[Z+2]&&i<=B[Z+3]&&o>=B[Z+0]&&a>=B[Z+1]&&(!y||y(G))&&(!T||!ne(C,G.overlapMode))&&(f.push({key:G,x1:B[Z],y1:B[Z+1],x2:B[Z+2],y2:B[Z+3]}),T))return!0}}const D=this.circleCells[h];if(D!==null){const B=this.circles;for(const $ of D)if(!v.circle[$]){v.circle[$]=!0;const Z=3*$,G=this.circleKeys[$];if(this._circleAndRectCollide(B[Z],B[Z+1],B[Z+2],e,i,o,a)&&(!y||y(G))&&(!T||!ne(C,G.overlapMode))){const H=B[Z],Y=B[Z+1],Q=B[Z+2];if(f.push({key:G,x1:H-Q,y1:Y-Q,x2:H+Q,y2:Y+Q}),T)return!0}}}return!1}_queryCellCircle(e,i,o,a,h,f,_,y){const{circle:v,seenUids:T,overlapMode:C}=_,M=this.boxCells[h];if(M!==null){const B=this.bboxes;for(const $ of M)if(!T.box[$]){T.box[$]=!0;const Z=4*$,G=this.boxKeys[$];if(this._circleAndRectCollide(v.x,v.y,v.radius,B[Z+0],B[Z+1],B[Z+2],B[Z+3])&&(!y||y(G))&&!ne(C,G.overlapMode))return f.push(!0),!0}}const D=this.circleCells[h];if(D!==null){const B=this.circles;for(const $ of D)if(!T.circle[$]){T.circle[$]=!0;const Z=3*$,G=this.circleKeys[$];if(this._circlesCollide(B[Z],B[Z+1],B[Z+2],v.x,v.y,v.radius)&&(!y||y(G))&&!ne(C,G.overlapMode))return f.push(!0),!0}}}_forEachCell(e,i,o,a,h,f,_,y){const v=this._convertToXCellCoord(e),T=this._convertToYCellCoord(i),C=this._convertToXCellCoord(o),M=this._convertToYCellCoord(a);for(let D=v;D<=C;D++)for(let B=T;B<=M;B++)if(h.call(this,e,i,o,a,this.xCellCount*B+D,f,_,y))return}_convertToXCellCoord(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))}_convertToYCellCoord(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))}_circlesCollide(e,i,o,a,h,f){const _=a-e,y=h-i,v=o+f;return v*v>_*_+y*y}_circleAndRectCollide(e,i,o,a,h,f,_){const y=(f-a)/2,v=Math.abs(e-(a+y));if(v>y+o)return!1;const T=(_-h)/2,C=Math.abs(i-(h+T));if(C>T+o)return!1;if(v<=y||C<=T)return!0;const M=v-y,D=C-T;return M*M+D*D<=o*o}}function ue(u,e,i){const o=c.K();if(!u){const{vecSouth:C,vecEast:M}=ve(e),D=De();D[0]=M[0],D[1]=M[1],D[2]=C[0],D[3]=C[1],a=D,(T=(f=(h=D)[0])*(v=h[3])-(y=h[2])*(_=h[1]))&&(a[0]=v*(T=1/T),a[1]=-_*T,a[2]=-y*T,a[3]=f*T),o[0]=D[0],o[1]=D[1],o[4]=D[2],o[5]=D[3]}var a,h,f,_,y,v,T;return c.M(o,o,[1/i,1/i,1]),o}function oe(u,e,i,o){if(u){const a=c.K();if(!e){const{vecSouth:h,vecEast:f}=ve(i);a[0]=f[0],a[1]=f[1],a[4]=h[0],a[5]=h[1]}return c.M(a,a,[o,o,1]),a}return i.pixelsToClipSpaceMatrix}function ve(u){const e=Math.cos(u.rollInRadians),i=Math.sin(u.rollInRadians),o=Math.cos(u.pitchInRadians),a=Math.cos(u.bearingInRadians),h=Math.sin(u.bearingInRadians),f=c.ak();f[0]=-a*o*i-h*e,f[1]=-h*o*i+a*e;const _=c.al(f);_<1e-9?c.am(f):c.an(f,f,1/_);const y=c.ak();y[0]=a*o*e-h*i,y[1]=h*o*e+a*i;const v=c.al(y);return v<1e-9?c.am(y):c.an(y,y,1/v),{vecEast:y,vecSouth:f}}function _e(u,e,i,o){let a;o?(a=[u,e,o(u,e),1],c.ap(a,a,i)):(a=[u,e,0,1],ri(a,a,i));const h=a[3];return{point:new c.P(a[0]/h,a[1]/h),signedDistanceFromCamera:h,isOccluded:!1}}function ce(u,e){return .5+u/e*.5}function Me(u,e){return u.x>=-e[0]&&u.x<=e[0]&&u.y>=-e[1]&&u.y<=e[1]}function Oe(u,e,i,o,a,h,f,_,y,v,T,C,M){const D=i?u.textSizeData:u.iconSizeData,B=c.ag(D,e.transform.zoom),$=[256/e.width*2+1,256/e.height*2+1],Z=i?u.text.dynamicLayoutVertexArray:u.icon.dynamicLayoutVertexArray;Z.clear();const G=u.lineVertexArray,H=i?u.text.placedSymbolArray:u.icon.placedSymbolArray,Y=e.transform.width/e.transform.height;let Q=!1;for(let ee=0;ee<H.length;ee++){const se=H.get(ee);if(se.hidden||se.writingMode===c.ah.vertical&&!Q){et(se.numGlyphs,Z);continue}Q=!1;const te=new c.P(se.anchorX,se.anchorY),pe={getElevation:M,pitchedLabelPlaneMatrix:o,lineVertexArray:G,pitchWithMap:h,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:e.transform,tileAnchorPoint:te,unwrappedTileID:y,width:v,height:T,translation:C},de=$e(se.anchorX,se.anchorY,pe);if(!Me(de.point,$)){et(se.numGlyphs,Z);continue}const be=ce(e.transform.cameraToCenterDistance,de.signedDistanceFromCamera),Te=c.ai(D,B,se),xe=h?Te*e.transform.getPitchedTextCorrection(se.anchorX,se.anchorY,y)/be:Te*be,Le=it({projectionContext:pe,pitchedLabelPlaneMatrixInverse:a,symbol:se,fontSize:xe,flip:!1,keepUpright:f,glyphOffsetArray:u.glyphOffsetArray,dynamicLayoutVertexArray:Z,aspectRatio:Y,rotateToLine:_});Q=Le.useVertical,(Le.notEnoughRoom||Q||Le.needsFlipping&&it({projectionContext:pe,pitchedLabelPlaneMatrixInverse:a,symbol:se,fontSize:xe,flip:!0,keepUpright:f,glyphOffsetArray:u.glyphOffsetArray,dynamicLayoutVertexArray:Z,aspectRatio:Y,rotateToLine:_}).notEnoughRoom)&&et(se.numGlyphs,Z)}i?u.text.dynamicLayoutVertexBuffer.updateData(Z):u.icon.dynamicLayoutVertexBuffer.updateData(Z)}function je(u,e,i,o,a,h,f,_){const y=h.glyphStartIndex+h.numGlyphs,v=h.lineStartIndex,T=h.lineStartIndex+h.lineLength,C=e.getoffsetX(h.glyphStartIndex),M=e.getoffsetX(y-1),D=Ut(u*C,i,o,a,h.segment,v,T,_,f);if(!D)return null;const B=Ut(u*M,i,o,a,h.segment,v,T,_,f);return B?_.projectionCache.anyProjectionOccluded?null:{first:D,last:B}:null}function ge(u,e,i,o){return u===c.ah.horizontal&&Math.abs(i.y-e.y)>Math.abs(i.x-e.x)*o?{useVertical:!0}:(u===c.ah.vertical?e.y<i.y:e.x>i.x)?{needsFlipping:!0}:null}function it(u){const{projectionContext:e,pitchedLabelPlaneMatrixInverse:i,symbol:o,fontSize:a,flip:h,keepUpright:f,glyphOffsetArray:_,dynamicLayoutVertexArray:y,aspectRatio:v,rotateToLine:T}=u,C=a/24,M=o.lineOffsetX*C,D=o.lineOffsetY*C;let B;if(o.numGlyphs>1){const $=o.glyphStartIndex+o.numGlyphs,Z=o.lineStartIndex,G=o.lineStartIndex+o.lineLength,H=je(C,_,M,D,h,o,T,e);if(!H)return{notEnoughRoom:!0};const Y=Ee(H.first.point.x,H.first.point.y,e,i),Q=Ee(H.last.point.x,H.last.point.y,e,i);if(f&&!h){const ee=ge(o.writingMode,Y,Q,v);if(ee)return ee}B=[H.first];for(let ee=o.glyphStartIndex+1;ee<$-1;ee++)B.push(Ut(C*_.getoffsetX(ee),M,D,h,o.segment,Z,G,e,T));B.push(H.last)}else{if(f&&!h){const Z=pt(e.tileAnchorPoint.x,e.tileAnchorPoint.y,e).point,G=o.lineStartIndex+o.segment+1,H=new c.P(e.lineVertexArray.getx(G),e.lineVertexArray.gety(G)),Y=pt(H.x,H.y,e),Q=Y.signedDistanceFromCamera>0?Y.point:Ye(e.tileAnchorPoint,H,Z,1,e),ee=Ee(Z.x,Z.y,e,i),se=Ee(Q.x,Q.y,e,i),te=ge(o.writingMode,ee,se,v);if(te)return te}const $=Ut(C*_.getoffsetX(o.glyphStartIndex),M,D,h,o.segment,o.lineStartIndex,o.lineStartIndex+o.lineLength,e,T);if(!$||e.projectionCache.anyProjectionOccluded)return{notEnoughRoom:!0};B=[$]}for(const $ of B)c.ao(y,$.point,$.angle);return{}}function Ye(u,e,i,o,a){const h=u.add(u.sub(e)._unit()),f=pt(h.x,h.y,a).point,_=i.sub(f);return i.add(_._mult(o/_.mag()))}function tt(u,e,i){const o=e.projectionCache;if(o.projections[u])return o.projections[u];const a=new c.P(e.lineVertexArray.getx(u),e.lineVertexArray.gety(u)),h=pt(a.x,a.y,e);if(h.signedDistanceFromCamera>0)return o.projections[u]=h.point,o.anyProjectionOccluded=o.anyProjectionOccluded||h.isOccluded,h.point;const f=u-i.direction;return Ye(i.distanceFromAnchor===0?e.tileAnchorPoint:new c.P(e.lineVertexArray.getx(f),e.lineVertexArray.gety(f)),a,i.previousVertex,i.absOffsetX-i.distanceFromAnchor+1,e)}function pt(u,e,i){const o=u+i.translation[0],a=e+i.translation[1];let h;return i.pitchWithMap?(h=_e(o,a,i.pitchedLabelPlaneMatrix,i.getElevation),h.isOccluded=!1):(h=i.transform.projectTileCoordinates(o,a,i.unwrappedTileID,i.getElevation),h.point.x=(.5*h.point.x+.5)*i.width,h.point.y=(.5*-h.point.y+.5)*i.height),h}function Ee(u,e,i,o){if(i.pitchWithMap){const a=[u,e,0,1];return c.ap(a,a,o),i.transform.projectTileCoordinates(a[0]/a[3],a[1]/a[3],i.unwrappedTileID,i.getElevation).point}return{x:u/i.width*2-1,y:e/i.height*2-1}}function $e(u,e,i){return i.transform.projectTileCoordinates(u,e,i.unwrappedTileID,i.getElevation)}function Be(u,e,i){return u._unit()._perp()._mult(e*i)}function nt(u,e,i,o,a,h,f,_,y){if(_.projectionCache.offsets[u])return _.projectionCache.offsets[u];const v=i.add(e);if(u+y.direction<o||u+y.direction>=a)return _.projectionCache.offsets[u]=v,v;const T=tt(u+y.direction,_,y),C=Be(T.sub(i),f,y.direction),M=i.add(C),D=T.add(C);return _.projectionCache.offsets[u]=c.aq(h,v,M,D)||v,_.projectionCache.offsets[u]}function Ut(u,e,i,o,a,h,f,_,y){const v=o?u-e:u+e;let T=v>0?1:-1,C=0;o&&(T*=-1,C=Math.PI),T<0&&(C+=Math.PI);let M,D=T>0?h+a:h+a+1;_.projectionCache.cachedAnchorPoint?M=_.projectionCache.cachedAnchorPoint:(M=pt(_.tileAnchorPoint.x,_.tileAnchorPoint.y,_).point,_.projectionCache.cachedAnchorPoint=M);let B,$,Z=M,G=M,H=0,Y=0;const Q=Math.abs(v),ee=[];let se;for(;H+Y<=Q;){if(D+=T,D<h||D>=f)return null;H+=Y,G=Z,$=B;const de={absOffsetX:Q,direction:T,distanceFromAnchor:H,previousVertex:G};if(Z=tt(D,_,de),i===0)ee.push(G),se=Z.sub(G);else{let be;const Te=Z.sub(G);be=Te.mag()===0?Be(tt(D+T,_,de).sub(Z),i,T):Be(Te,i,T),$||($=G.add(be)),B=nt(D,be,Z,h,f,$,i,_,de),ee.push($),se=B.sub($)}Y=se.mag()}const te=se._mult((Q-H)/Y)._add($||G),pe=C+Math.atan2(Z.y-G.y,Z.x-G.x);return ee.push(te),{point:te,angle:y?pe:0,path:ee}}const Sr=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function et(u,e){for(let i=0;i<u;i++){const o=e.length;e.resize(o+4),e.float32.set(Sr,3*o)}}function ri(u,e,i){const o=e[0],a=e[1];return u[0]=i[0]*o+i[4]*a+i[12],u[1]=i[1]*o+i[5]*a+i[13],u[3]=i[3]*o+i[7]*a+i[15],u}const At=100;class ao{constructor(e,i=new re(e.width+200,e.height+200,25),o=new re(e.width+200,e.height+200,25)){this.transform=e,this.grid=i,this.ignoredGrid=o,this.pitchFactor=Math.cos(e.pitch*Math.PI/180)*e.cameraToCenterDistance,this.screenRightBoundary=e.width+At,this.screenBottomBoundary=e.height+At,this.gridRightBoundary=e.width+200,this.gridBottomBoundary=e.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(e,i,o,a,h,f,_,y,v,T,C,M){const D=this.projectAndGetPerspectiveRatio(e.anchorPointX+y[0],e.anchorPointY+y[1],h,T,M),B=o*D.perspectiveRatio;let $;if(f||_)$=this._projectCollisionBox(e,B,a,h,f,_,y,D,T,C,M);else{const se=D.x+(C?C.x*B:0),te=D.y+(C?C.y*B:0);$={allPointsOccluded:!1,box:[se+e.x1*B,te+e.y1*B,se+e.x2*B,te+e.y2*B]}}const[Z,G,H,Y]=$.box,Q=f?$.allPointsOccluded:D.isOccluded;let ee=Q;return ee||(ee=D.perspectiveRatio<this.perspectiveRatioCutoff),ee||(ee=!this.isInsideGrid(Z,G,H,Y)),ee||i!=="always"&&this.grid.hitTest(Z,G,H,Y,i,v)?{box:[Z,G,H,Y],placeable:!1,offscreen:!1,occluded:Q}:{box:[Z,G,H,Y],placeable:!0,offscreen:this.isOffscreen(Z,G,H,Y),occluded:Q}}placeCollisionCircles(e,i,o,a,h,f,_,y,v,T,C,M,D,B){const $=[],Z=new c.P(i.anchorX,i.anchorY),G=this.getPerspectiveRatio(Z.x,Z.y,f,B),H=(v?h*this.transform.getPitchedTextCorrection(i.anchorX,i.anchorY,f)/G:h*G)/c.av,Y={getElevation:B,pitchedLabelPlaneMatrix:_,lineVertexArray:o,pitchWithMap:v,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:this.transform,tileAnchorPoint:Z,unwrappedTileID:f,width:this.transform.width,height:this.transform.height,translation:D},Q=je(H,a,i.lineOffsetX*H,i.lineOffsetY*H,!1,i,!1,Y);let ee=!1,se=!1,te=!0;if(Q){const pe=.5*C*G+M,de=new c.P(-100,-100),be=new c.P(this.screenRightBoundary,this.screenBottomBoundary),Te=new K,xe=Q.first,Le=Q.last;let Re=[];for(let st=xe.path.length-1;st>=1;st--)Re.push(xe.path[st]);for(let st=1;st<Le.path.length;st++)Re.push(Le.path[st]);const Se=2.5*pe;if(v){const st=this.projectPathToScreenSpace(Re,Y);Re=st.some(xt=>xt.signedDistanceFromCamera<=0)?[]:st.map(xt=>xt.point)}let Ge=[];if(Re.length>0){const st=Re[0].clone(),xt=Re[0].clone();for(let at=1;at<Re.length;at++)st.x=Math.min(st.x,Re[at].x),st.y=Math.min(st.y,Re[at].y),xt.x=Math.max(xt.x,Re[at].x),xt.y=Math.max(xt.y,Re[at].y);Ge=st.x>=de.x&&xt.x<=be.x&&st.y>=de.y&&xt.y<=be.y?[Re]:xt.x<de.x||st.x>be.x||xt.y<de.y||st.y>be.y?[]:c.ar([Re],de.x,de.y,be.x,be.y)}for(const st of Ge){Te.reset(st,.25*pe);let xt=0;xt=Te.length<=.5*pe?1:Math.ceil(Te.paddedLength/Se)+1;for(let at=0;at<xt;at++){const Pt=at/Math.max(xt-1,1),Et=Te.lerp(Pt),Rt=Et.x+At,wt=Et.y+At;$.push(Rt,wt,pe,0);const St=Rt-pe,Xt=wt-pe,si=Rt+pe,ci=wt+pe;if(te=te&&this.isOffscreen(St,Xt,si,ci),se=se||this.isInsideGrid(St,Xt,si,ci),e!=="always"&&this.grid.hitTestCircle(Rt,wt,pe,e,T)&&(ee=!0,!y))return{circles:[],offscreen:!1,collisionDetected:ee}}}}return{circles:!y&&ee||!se||G<this.perspectiveRatioCutoff?[]:$,offscreen:te,collisionDetected:ee}}projectPathToScreenSpace(e,i){const o=function(a,h){const f=c.K();return c.aj(f,h.pitchedLabelPlaneMatrix),a.map(_=>{const y=_e(_.x,_.y,f,h.getElevation),v=h.transform.projectTileCoordinates(y.point.x,y.point.y,h.unwrappedTileID,h.getElevation);return v.point.x=(.5*v.point.x+.5)*h.width,v.point.y=(.5*-v.point.y+.5)*h.height,v})}(e,i);return function(a){let h=0,f=0,_=0,y=0;for(let v=0;v<a.length;v++)a[v].isOccluded?(_=v+1,y=0):(y++,y>f&&(f=y,h=_));return a.slice(h,h+f)}(o)}queryRenderedSymbols(e){if(e.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const i=[];let o=1/0,a=1/0,h=-1/0,f=-1/0;for(const T of e){const C=new c.P(T.x+At,T.y+At);o=Math.min(o,C.x),a=Math.min(a,C.y),h=Math.max(h,C.x),f=Math.max(f,C.y),i.push(C)}const _=this.grid.query(o,a,h,f).concat(this.ignoredGrid.query(o,a,h,f)),y={},v={};for(const T of _){const C=T.key;if(y[C.bucketInstanceId]===void 0&&(y[C.bucketInstanceId]={}),y[C.bucketInstanceId][C.featureIndex])continue;const M=[new c.P(T.x1,T.y1),new c.P(T.x2,T.y1),new c.P(T.x2,T.y2),new c.P(T.x1,T.y2)];c.as(i,M)&&(y[C.bucketInstanceId][C.featureIndex]=!0,v[C.bucketInstanceId]===void 0&&(v[C.bucketInstanceId]=[]),v[C.bucketInstanceId].push(C.featureIndex))}return v}insertCollisionBox(e,i,o,a,h,f){(o?this.ignoredGrid:this.grid).insert({bucketInstanceId:a,featureIndex:h,collisionGroupID:f,overlapMode:i},e[0],e[1],e[2],e[3])}insertCollisionCircles(e,i,o,a,h,f){const _=o?this.ignoredGrid:this.grid,y={bucketInstanceId:a,featureIndex:h,collisionGroupID:f,overlapMode:i};for(let v=0;v<e.length;v+=4)_.insertCircle(y,e[v],e[v+1],e[v+2])}projectAndGetPerspectiveRatio(e,i,o,a,h){if(h){let f;a?(f=[e,i,a(e,i),1],c.ap(f,f,h)):(f=[e,i,0,1],ri(f,f,h));const _=f[3];return{x:(f[0]/_+1)/2*this.transform.width+At,y:(-f[1]/_+1)/2*this.transform.height+At,perspectiveRatio:.5+this.transform.cameraToCenterDistance/_*.5,isOccluded:!1,signedDistanceFromCamera:_}}{const f=this.transform.projectTileCoordinates(e,i,o,a);return{x:(f.point.x+1)/2*this.transform.width+At,y:(1-f.point.y)/2*this.transform.height+At,perspectiveRatio:.5+this.transform.cameraToCenterDistance/f.signedDistanceFromCamera*.5,isOccluded:f.isOccluded,signedDistanceFromCamera:f.signedDistanceFromCamera}}}getPerspectiveRatio(e,i,o,a){const h=this.transform.projectTileCoordinates(e,i,o,a);return .5+this.transform.cameraToCenterDistance/h.signedDistanceFromCamera*.5}isOffscreen(e,i,o,a){return o<At||e>=this.screenRightBoundary||a<At||i>this.screenBottomBoundary}isInsideGrid(e,i,o,a){return o>=0&&e<this.gridRightBoundary&&a>=0&&i<this.gridBottomBoundary}getViewportMatrix(){const e=c.at([]);return c.L(e,e,[-100,-100,0]),e}_projectCollisionBox(e,i,o,a,h,f,_,y,v,T,C){let M=1,D=0,B=0,$=1;const Z=e.anchorPointX+_[0],G=e.anchorPointY+_[1];if(f&&!h){const Re=this.projectAndGetPerspectiveRatio(Z+1,G,a,v,C),Se=Re.x-y.x,Ge=Math.atan((Re.y-y.y)/Se)+(Se<0?Math.PI:0),st=Math.sin(Ge),xt=Math.cos(Ge);M=xt,D=st,B=-st,$=xt}else if(!f&&h){const Re=ve(this.transform);M=Re.vecEast[0],D=Re.vecEast[1],B=Re.vecSouth[0],$=Re.vecSouth[1]}let H=y.x,Y=y.y,Q=i;h&&(H=Z,Y=G,Q=Math.pow(2,-(this.transform.zoom-o.overscaledZ)),Q*=this.transform.getPitchedTextCorrection(Z,G,a),T||(Q*=c.ae(.5+y.signedDistanceFromCamera/this.transform.cameraToCenterDistance*.5,0,4))),T&&(H+=M*T.x*Q+B*T.y*Q,Y+=D*T.x*Q+$*T.y*Q);const ee=e.x1*Q,se=e.x2*Q,te=(ee+se)/2,pe=e.y1*Q,de=e.y2*Q,be=(pe+de)/2,Te=[{offsetX:ee,offsetY:pe},{offsetX:te,offsetY:pe},{offsetX:se,offsetY:pe},{offsetX:se,offsetY:be},{offsetX:se,offsetY:de},{offsetX:te,offsetY:de},{offsetX:ee,offsetY:de},{offsetX:ee,offsetY:be}];let xe=[];for(const{offsetX:Re,offsetY:Se}of Te)xe.push(new c.P(H+M*Re+B*Se,Y+D*Re+$*Se));let Le=!1;if(h){const Re=xe.map(Se=>this.projectAndGetPerspectiveRatio(Se.x,Se.y,a,v,C));Le=Re.some(Se=>!Se.isOccluded),xe=Re.map(Se=>new c.P(Se.x,Se.y))}else Le=!0;return{box:c.au(xe),allPointsOccluded:!Le}}}class Vn{constructor(e,i,o,a){this.opacity=e?Math.max(0,Math.min(1,e.opacity+(e.placed?i:-i))):a&&o?1:0,this.placed=o}isHidden(){return this.opacity===0&&!this.placed}}class $r{constructor(e,i,o,a,h){this.text=new Vn(e?e.text:null,i,o,h),this.icon=new Vn(e?e.icon:null,i,a,h)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Ai{constructor(e,i,o){this.text=e,this.icon=i,this.skipFade=o}}class jt{constructor(e,i,o,a,h){this.bucketInstanceId=e,this.featureIndex=i,this.sourceLayerIndex=o,this.bucketIndex=a,this.tileID=h}}class Wc{constructor(e){this.crossSourceCollisions=e,this.maxGroupID=0,this.collisionGroups={}}get(e){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[e]){const i=++this.maxGroupID;this.collisionGroups[e]={ID:i,predicate:o=>o.collisionGroupID===i}}return this.collisionGroups[e]}}function Un(u,e,i,o,a){const{horizontalAlign:h,verticalAlign:f}=c.aB(u);return new c.P(-(h-.5)*e+o[0]*a,-(f-.5)*i+o[1]*a)}class na{constructor(e,i,o,a,h){this.transform=e.clone(),this.terrain=i,this.collisionIndex=new ao(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=o,this.retainedQueryData={},this.collisionGroups=new Wc(a),this.collisionCircleArrays={},this.collisionBoxArrays=new Map,this.prevPlacement=h,h&&(h.prevPlacement=void 0),this.placedOrientations={}}_getTerrainElevationFunc(e){const i=this.terrain;return i?(o,a)=>i.getElevation(e,o,a):null}getBucketParts(e,i,o,a){const h=o.getBucket(i),f=o.latestFeatureIndex;if(!h||!f||i.id!==h.layerIds[0])return;const _=o.collisionBoxArray,y=h.layers[0].layout,v=h.layers[0].paint,T=Math.pow(2,this.transform.zoom-o.tileID.overscaledZ),C=o.tileSize/c.Z,M=o.tileID.toUnwrapped(),D=y.get("text-rotation-alignment")==="map",B=c.aw(o,1,this.transform.zoom),$=c.ax(this.collisionIndex.transform,o,v.get("text-translate"),v.get("text-translate-anchor")),Z=c.ax(this.collisionIndex.transform,o,v.get("icon-translate"),v.get("icon-translate-anchor")),G=ue(D,this.transform,B);this.retainedQueryData[h.bucketInstanceId]=new jt(h.bucketInstanceId,f,h.sourceLayerIndex,h.index,o.tileID);const H={bucket:h,layout:y,translationText:$,translationIcon:Z,unwrappedTileID:M,pitchedLabelPlaneMatrix:G,scale:T,textPixelRatio:C,holdingForFade:o.holdingForFade(),collisionBoxArray:_,partiallyEvaluatedTextSize:c.ag(h.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(h.sourceID)};if(a)for(const Y of h.sortKeyRanges){const{sortKey:Q,symbolInstanceStart:ee,symbolInstanceEnd:se}=Y;e.push({sortKey:Q,symbolInstanceStart:ee,symbolInstanceEnd:se,parameters:H})}else e.push({symbolInstanceStart:0,symbolInstanceEnd:h.symbolInstances.length,parameters:H})}attemptAnchorPlacement(e,i,o,a,h,f,_,y,v,T,C,M,D,B,$,Z,G,H,Y,Q){const ee=c.ay[e.textAnchor],se=[e.textOffset0,e.textOffset1],te=Un(ee,o,a,se,h),pe=this.collisionIndex.placeCollisionBox(i,M,y,v,T,_,f,Z,C.predicate,Y,te,Q);if((!H||this.collisionIndex.placeCollisionBox(H,M,y,v,T,_,f,G,C.predicate,Y,te,Q).placeable)&&pe.placeable){let de;if(this.prevPlacement&&this.prevPlacement.variableOffsets[D.crossTileID]&&this.prevPlacement.placements[D.crossTileID]&&this.prevPlacement.placements[D.crossTileID].text&&(de=this.prevPlacement.variableOffsets[D.crossTileID].anchor),D.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[D.crossTileID]={textOffset:se,width:o,height:a,anchor:ee,textBoxScale:h,prevAnchor:de},this.markUsedJustification(B,ee,D,$),B.allowVerticalPlacement&&(this.markUsedOrientation(B,$,D),this.placedOrientations[D.crossTileID]=$),{shift:te,placedGlyphBoxes:pe}}}placeLayerBucketPart(e,i,o){const{bucket:a,layout:h,translationText:f,translationIcon:_,unwrappedTileID:y,pitchedLabelPlaneMatrix:v,textPixelRatio:T,holdingForFade:C,collisionBoxArray:M,partiallyEvaluatedTextSize:D,collisionGroup:B}=e.parameters,$=h.get("text-optional"),Z=h.get("icon-optional"),G=c.az(h,"text-overlap","text-allow-overlap"),H=G==="always",Y=c.az(h,"icon-overlap","icon-allow-overlap"),Q=Y==="always",ee=h.get("text-rotation-alignment")==="map",se=h.get("text-pitch-alignment")==="map",te=h.get("icon-text-fit")!=="none",pe=h.get("symbol-z-order")==="viewport-y",de=H&&(Q||!a.hasIconData()||Z),be=Q&&(H||!a.hasTextData()||$);!a.collisionArrays&&M&&a.deserializeCollisionBoxes(M);const Te=this.retainedQueryData[a.bucketInstanceId].tileID,xe=this._getTerrainElevationFunc(Te),Le=this.transform.getFastPathSimpleProjectionMatrix(Te),Re=(Se,Ge,st)=>{var xt,at;if(i[Se.crossTileID])return;if(C)return void(this.placements[Se.crossTileID]=new Ai(!1,!1,!1));let Pt=!1,Et=!1,Rt=!0,wt=null,St={box:null,placeable:!1,offscreen:null,occluded:!1},Xt={placeable:!1},si=null,ci=null,Li=null,Ar=0,xr=0,Xr=0;Ge.textFeatureIndex?Ar=Ge.textFeatureIndex:Se.useRuntimeCollisionCircles&&(Ar=Se.featureIndex),Ge.verticalTextFeatureIndex&&(xr=Ge.verticalTextFeatureIndex);const Yr=Ge.textBox;if(Yr){const Ni=$t=>{let Gt=c.ah.horizontal;if(a.allowVerticalPlacement&&!$t&&this.prevPlacement){const Qt=this.prevPlacement.placedOrientations[Se.crossTileID];Qt&&(this.placedOrientations[Se.crossTileID]=Qt,Gt=Qt,this.markUsedOrientation(a,Gt,Se))}return Gt},kr=($t,Gt)=>{if(a.allowVerticalPlacement&&Se.numVerticalGlyphVertices>0&&Ge.verticalTextBox){for(const Qt of a.writingModes)if(Qt===c.ah.vertical?(St=Gt(),Xt=St):St=$t(),St&&St.placeable)break}else St=$t()},zn=Se.textAnchorOffsetStartIndex,kn=Se.textAnchorOffsetEndIndex;if(kn===zn){const $t=(Gt,Qt)=>{const Mt=this.collisionIndex.placeCollisionBox(Gt,G,T,Te,y,se,ee,f,B.predicate,xe,void 0,Le);return Mt&&Mt.placeable&&(this.markUsedOrientation(a,Qt,Se),this.placedOrientations[Se.crossTileID]=Qt),Mt};kr(()=>$t(Yr,c.ah.horizontal),()=>{const Gt=Ge.verticalTextBox;return a.allowVerticalPlacement&&Se.numVerticalGlyphVertices>0&&Gt?$t(Gt,c.ah.vertical):{box:null,offscreen:null}}),Ni(St&&St.placeable)}else{let $t=c.ay[(at=(xt=this.prevPlacement)===null||xt===void 0?void 0:xt.variableOffsets[Se.crossTileID])===null||at===void 0?void 0:at.anchor];const Gt=(Mt,Jr,_c)=>{const Rn=Mt.x2-Mt.x1,yu=Mt.y2-Mt.y1,gc=Se.textBoxScale,Wa=te&&Y==="never"?Jr:null;let Qr=null,en=G==="never"?1:2,tn="never";$t&&en++;for(let Ka=0;Ka<en;Ka++){for(let Xa=zn;Xa<kn;Xa++){const Uo=a.textAnchorOffsets.get(Xa);if($t&&Uo.textAnchor!==$t)continue;const Zo=this.attemptAnchorPlacement(Uo,Mt,Rn,yu,gc,ee,se,T,Te,y,B,tn,Se,a,_c,f,_,Wa,xe);if(Zo&&(Qr=Zo.placedGlyphBoxes,Qr&&Qr.placeable))return Pt=!0,wt=Zo.shift,Qr}$t?$t=null:tn=G}return o&&!Qr&&(Qr={box:this.collisionIndex.placeCollisionBox(Yr,"always",T,Te,y,se,ee,f,B.predicate,xe,void 0,Le).box,offscreen:!1,placeable:!1,occluded:!1}),Qr};kr(()=>Gt(Yr,Ge.iconBox,c.ah.horizontal),()=>{const Mt=Ge.verticalTextBox;return a.allowVerticalPlacement&&(!St||!St.placeable)&&Se.numVerticalGlyphVertices>0&&Mt?Gt(Mt,Ge.verticalIconBox,c.ah.vertical):{box:null,occluded:!0,offscreen:null}}),St&&(Pt=St.placeable,Rt=St.offscreen);const Qt=Ni(St&&St.placeable);if(!Pt&&this.prevPlacement){const Mt=this.prevPlacement.variableOffsets[Se.crossTileID];Mt&&(this.variableOffsets[Se.crossTileID]=Mt,this.markUsedJustification(a,Mt.anchor,Se,Qt))}}}if(si=St,Pt=si&&si.placeable,Rt=si&&si.offscreen,Se.useRuntimeCollisionCircles){const Ni=a.text.placedSymbolArray.get(Se.centerJustifiedTextSymbolIndex),kr=c.ai(a.textSizeData,D,Ni),zn=h.get("text-padding");ci=this.collisionIndex.placeCollisionCircles(G,Ni,a.lineVertexArray,a.glyphOffsetArray,kr,y,v,o,se,B.predicate,Se.collisionCircleDiameter,zn,f,xe),ci.circles.length&&ci.collisionDetected&&!o&&c.w("Collisions detected, but collision boxes are not shown"),Pt=H||ci.circles.length>0&&!ci.collisionDetected,Rt=Rt&&ci.offscreen}if(Ge.iconFeatureIndex&&(Xr=Ge.iconFeatureIndex),Ge.iconBox){const Ni=kr=>this.collisionIndex.placeCollisionBox(kr,Y,T,Te,y,se,ee,_,B.predicate,xe,te&&wt?wt:void 0,Le);Xt&&Xt.placeable&&Ge.verticalIconBox?(Li=Ni(Ge.verticalIconBox),Et=Li.placeable):(Li=Ni(Ge.iconBox),Et=Li.placeable),Rt=Rt&&Li.offscreen}const An=$||Se.numHorizontalGlyphVertices===0&&Se.numVerticalGlyphVertices===0,vr=Z||Se.numIconVertices===0;An||vr?vr?An||(Et=Et&&Pt):Pt=Et&&Pt:Et=Pt=Et&&Pt;const zr=Et&&Li.placeable;if(Pt&&si.placeable&&this.collisionIndex.insertCollisionBox(si.box,G,h.get("text-ignore-placement"),a.bucketInstanceId,Xt&&Xt.placeable&&xr?xr:Ar,B.ID),zr&&this.collisionIndex.insertCollisionBox(Li.box,Y,h.get("icon-ignore-placement"),a.bucketInstanceId,Xr,B.ID),ci&&Pt&&this.collisionIndex.insertCollisionCircles(ci.circles,G,h.get("text-ignore-placement"),a.bucketInstanceId,Ar,B.ID),o&&this.storeCollisionData(a.bucketInstanceId,st,Ge,si,Li,ci),Se.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(a.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[Se.crossTileID]=new Ai((Pt||de)&&!(si!=null&&si.occluded),(Et||be)&&!(Li!=null&&Li.occluded),Rt||a.justReloaded),i[Se.crossTileID]=!0};if(pe){if(e.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const Se=a.getSortedSymbolIndexes(-this.transform.bearingInRadians);for(let Ge=Se.length-1;Ge>=0;--Ge){const st=Se[Ge];Re(a.symbolInstances.get(st),a.collisionArrays[st],st)}}else for(let Se=e.symbolInstanceStart;Se<e.symbolInstanceEnd;Se++)Re(a.symbolInstances.get(Se),a.collisionArrays[Se],Se);a.justReloaded=!1}storeCollisionData(e,i,o,a,h,f){if(o.textBox||o.iconBox){let _,y;this.collisionBoxArrays.has(e)?_=this.collisionBoxArrays.get(e):(_=new Map,this.collisionBoxArrays.set(e,_)),_.has(i)?y=_.get(i):(y={text:null,icon:null},_.set(i,y)),o.textBox&&(y.text=a.box),o.iconBox&&(y.icon=h.box)}if(f){let _=this.collisionCircleArrays[e];_===void 0&&(_=this.collisionCircleArrays[e]=[]);for(let y=0;y<f.circles.length;y+=4)_.push(f.circles[y+0]-At),_.push(f.circles[y+1]-At),_.push(f.circles[y+2]),_.push(f.collisionDetected?1:0)}}markUsedJustification(e,i,o,a){let h;h=a===c.ah.vertical?o.verticalPlacedTextSymbolIndex:{left:o.leftJustifiedTextSymbolIndex,center:o.centerJustifiedTextSymbolIndex,right:o.rightJustifiedTextSymbolIndex}[c.aA(i)];const f=[o.leftJustifiedTextSymbolIndex,o.centerJustifiedTextSymbolIndex,o.rightJustifiedTextSymbolIndex,o.verticalPlacedTextSymbolIndex];for(const _ of f)_>=0&&(e.text.placedSymbolArray.get(_).crossTileID=h>=0&&_!==h?0:o.crossTileID)}markUsedOrientation(e,i,o){const a=i===c.ah.horizontal||i===c.ah.horizontalOnly?i:0,h=i===c.ah.vertical?i:0,f=[o.leftJustifiedTextSymbolIndex,o.centerJustifiedTextSymbolIndex,o.rightJustifiedTextSymbolIndex];for(const _ of f)e.text.placedSymbolArray.get(_).placedOrientation=a;o.verticalPlacedTextSymbolIndex&&(e.text.placedSymbolArray.get(o.verticalPlacedTextSymbolIndex).placedOrientation=h)}commit(e){this.commitTime=e,this.zoomAtLastRecencyCheck=this.transform.zoom;const i=this.prevPlacement;let o=!1;this.prevZoomAdjustment=i?i.zoomAdjustment(this.transform.zoom):0;const a=i?i.symbolFadeChange(e):1,h=i?i.opacities:{},f=i?i.variableOffsets:{},_=i?i.placedOrientations:{};for(const y in this.placements){const v=this.placements[y],T=h[y];T?(this.opacities[y]=new $r(T,a,v.text,v.icon),o=o||v.text!==T.text.placed||v.icon!==T.icon.placed):(this.opacities[y]=new $r(null,a,v.text,v.icon,v.skipFade),o=o||v.text||v.icon)}for(const y in h){const v=h[y];if(!this.opacities[y]){const T=new $r(v,a,!1,!1);T.isHidden()||(this.opacities[y]=T,o=o||v.text.placed||v.icon.placed)}}for(const y in f)this.variableOffsets[y]||!this.opacities[y]||this.opacities[y].isHidden()||(this.variableOffsets[y]=f[y]);for(const y in _)this.placedOrientations[y]||!this.opacities[y]||this.opacities[y].isHidden()||(this.placedOrientations[y]=_[y]);if(i&&i.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");o?this.lastPlacementChangeTime=e:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=i?i.lastPlacementChangeTime:e)}updateLayerOpacities(e,i){const o={};for(const a of i){const h=a.getBucket(e);h&&a.latestFeatureIndex&&e.id===h.layerIds[0]&&this.updateBucketOpacities(h,a.tileID,o,a.collisionBoxArray)}}updateBucketOpacities(e,i,o,a){e.hasTextData()&&(e.text.opacityVertexArray.clear(),e.text.hasVisibleVertices=!1),e.hasIconData()&&(e.icon.opacityVertexArray.clear(),e.icon.hasVisibleVertices=!1),e.hasIconCollisionBoxData()&&e.iconCollisionBox.collisionVertexArray.clear(),e.hasTextCollisionBoxData()&&e.textCollisionBox.collisionVertexArray.clear();const h=e.layers[0],f=h.layout,_=new $r(null,0,!1,!1,!0),y=f.get("text-allow-overlap"),v=f.get("icon-allow-overlap"),T=h._unevaluatedLayout.hasValue("text-variable-anchor")||h._unevaluatedLayout.hasValue("text-variable-anchor-offset"),C=f.get("text-rotation-alignment")==="map",M=f.get("text-pitch-alignment")==="map",D=f.get("icon-text-fit")!=="none",B=new $r(null,0,y&&(v||!e.hasIconData()||f.get("icon-optional")),v&&(y||!e.hasTextData()||f.get("text-optional")),!0);!e.collisionArrays&&a&&(e.hasIconCollisionBoxData()||e.hasTextCollisionBoxData())&&e.deserializeCollisionBoxes(a);const $=(G,H,Y)=>{for(let Q=0;Q<H/4;Q++)G.opacityVertexArray.emplaceBack(Y);G.hasVisibleVertices=G.hasVisibleVertices||Y!==Ps},Z=this.collisionBoxArrays.get(e.bucketInstanceId);for(let G=0;G<e.symbolInstances.length;G++){const H=e.symbolInstances.get(G),{numHorizontalGlyphVertices:Y,numVerticalGlyphVertices:Q,crossTileID:ee}=H;let se=this.opacities[ee];o[ee]?se=_:se||(se=B,this.opacities[ee]=se),o[ee]=!0;const te=H.numIconVertices>0,pe=this.placedOrientations[H.crossTileID],de=pe===c.ah.vertical,be=pe===c.ah.horizontal||pe===c.ah.horizontalOnly;if(Y>0||Q>0){const xe=Tl(se.text);$(e.text,Y,de?Ps:xe),$(e.text,Q,be?Ps:xe);const Le=se.text.isHidden();[H.rightJustifiedTextSymbolIndex,H.centerJustifiedTextSymbolIndex,H.leftJustifiedTextSymbolIndex].forEach(Ge=>{Ge>=0&&(e.text.placedSymbolArray.get(Ge).hidden=Le||de?1:0)}),H.verticalPlacedTextSymbolIndex>=0&&(e.text.placedSymbolArray.get(H.verticalPlacedTextSymbolIndex).hidden=Le||be?1:0);const Re=this.variableOffsets[H.crossTileID];Re&&this.markUsedJustification(e,Re.anchor,H,pe);const Se=this.placedOrientations[H.crossTileID];Se&&(this.markUsedJustification(e,"left",H,Se),this.markUsedOrientation(e,Se,H))}if(te){const xe=Tl(se.icon),Le=!(D&&H.verticalPlacedIconSymbolIndex&&de);H.placedIconSymbolIndex>=0&&($(e.icon,H.numIconVertices,Le?xe:Ps),e.icon.placedSymbolArray.get(H.placedIconSymbolIndex).hidden=se.icon.isHidden()),H.verticalPlacedIconSymbolIndex>=0&&($(e.icon,H.numVerticalIconVertices,Le?Ps:xe),e.icon.placedSymbolArray.get(H.verticalPlacedIconSymbolIndex).hidden=se.icon.isHidden())}const Te=Z&&Z.has(G)?Z.get(G):{text:null,icon:null};if(e.hasIconCollisionBoxData()||e.hasTextCollisionBoxData()){const xe=e.collisionArrays[G];if(xe){let Le=new c.P(0,0);if(xe.textBox||xe.verticalTextBox){let Re=!0;if(T){const Se=this.variableOffsets[ee];Se?(Le=Un(Se.anchor,Se.width,Se.height,Se.textOffset,Se.textBoxScale),C&&Le._rotate(M?-this.transform.bearingInRadians:this.transform.bearingInRadians)):Re=!1}if(xe.textBox||xe.verticalTextBox){let Se;xe.textBox&&(Se=de),xe.verticalTextBox&&(Se=be),Gr(e.textCollisionBox.collisionVertexArray,se.text.placed,!Re||Se,Te.text,Le.x,Le.y)}}if(xe.iconBox||xe.verticalIconBox){const Re=!!(!be&&xe.verticalIconBox);let Se;xe.iconBox&&(Se=Re),xe.verticalIconBox&&(Se=!Re),Gr(e.iconCollisionBox.collisionVertexArray,se.icon.placed,Se,Te.icon,D?Le.x:0,D?Le.y:0)}}}}if(e.sortFeatures(-this.transform.bearingInRadians),this.retainedQueryData[e.bucketInstanceId]&&(this.retainedQueryData[e.bucketInstanceId].featureSortOrder=e.featureSortOrder),e.hasTextData()&&e.text.opacityVertexBuffer&&e.text.opacityVertexBuffer.updateData(e.text.opacityVertexArray),e.hasIconData()&&e.icon.opacityVertexBuffer&&e.icon.opacityVertexBuffer.updateData(e.icon.opacityVertexArray),e.hasIconCollisionBoxData()&&e.iconCollisionBox.collisionVertexBuffer&&e.iconCollisionBox.collisionVertexBuffer.updateData(e.iconCollisionBox.collisionVertexArray),e.hasTextCollisionBoxData()&&e.textCollisionBox.collisionVertexBuffer&&e.textCollisionBox.collisionVertexBuffer.updateData(e.textCollisionBox.collisionVertexArray),e.text.opacityVertexArray.length!==e.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${e.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${e.text.layoutVertexArray.length}) / 4`);if(e.icon.opacityVertexArray.length!==e.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${e.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${e.icon.layoutVertexArray.length}) / 4`);e.bucketInstanceId in this.collisionCircleArrays&&(e.collisionCircleArray=this.collisionCircleArrays[e.bucketInstanceId],delete this.collisionCircleArrays[e.bucketInstanceId])}symbolFadeChange(e){return this.fadeDuration===0?1:(e-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(e){return Math.max(0,(this.transform.zoom-e)/1.5)}hasTransitions(e){return this.stale||e-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(e,i){const o=this.zoomAtLastRecencyCheck===i?1-this.zoomAdjustment(i):1;return this.zoomAtLastRecencyCheck=i,this.commitTime+this.fadeDuration*o>e}setStale(){this.stale=!0}}function Gr(u,e,i,o,a,h){o&&o.length!==0||(o=[0,0,0,0]);const f=o[0]-At,_=o[1]-At,y=o[2]-At,v=o[3]-At;u.emplaceBack(e?1:0,i?1:0,a||0,h||0,f,_),u.emplaceBack(e?1:0,i?1:0,a||0,h||0,y,_),u.emplaceBack(e?1:0,i?1:0,a||0,h||0,y,v),u.emplaceBack(e?1:0,i?1:0,a||0,h||0,f,v)}const Zn=Math.pow(2,25),xl=Math.pow(2,24),vl=Math.pow(2,17),bl=Math.pow(2,16),$n=Math.pow(2,9),wl=Math.pow(2,8),Kc=Math.pow(2,1);function Tl(u){if(u.opacity===0&&!u.placed)return 0;if(u.opacity===1&&u.placed)return 4294967295;const e=u.placed?1:0,i=Math.floor(127*u.opacity);return i*Zn+e*xl+i*vl+e*bl+i*$n+e*wl+i*Kc+e}const Ps=0;class Pl{constructor(e){this._sortAcrossTiles=e.layout.get("symbol-z-order")!=="viewport-y"&&!e.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(e,i,o,a,h){const f=this._bucketParts;for(;this._currentTileIndex<e.length;)if(i.getBucketParts(f,a,e[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,h())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,f.sort((_,y)=>_.sortKey-y.sortKey));this._currentPartIndex<f.length;)if(i.placeLayerBucketPart(f[this._currentPartIndex],this._seenCrossTileIDs,o),this._currentPartIndex++,h())return!0;return!1}}class Sl{constructor(e,i,o,a,h,f,_,y){this.placement=new na(e,i,f,_,y),this._currentPlacementIndex=o.length-1,this._forceFullPlacement=a,this._showCollisionBoxes=h,this._done=!1}isDone(){return this._done}continuePlacement(e,i,o){const a=Ve.now(),h=()=>!this._forceFullPlacement&&Ve.now()-a>2;for(;this._currentPlacementIndex>=0;){const f=i[e[this._currentPlacementIndex]],_=this.placement.collisionIndex.transform.zoom;if(f.type==="symbol"&&(!f.minzoom||f.minzoom<=_)&&(!f.maxzoom||f.maxzoom>_)){if(this._inProgressLayer||(this._inProgressLayer=new Pl(f)),this._inProgressLayer.continuePlacement(o[f.source],this.placement,this._showCollisionBoxes,f,h))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(e){return this.placement.commit(e),this.placement}}const mn=512/c.Z/2;class sa{constructor(e,i,o){this.tileID=e,this.bucketInstanceId=o,this._symbolsByKey={};const a=new Map;for(let h=0;h<i.length;h++){const f=i.get(h),_=f.key,y=a.get(_);y?y.push(f):a.set(_,[f])}for(const[h,f]of a){const _={positions:f.map(y=>({x:Math.floor(y.anchorX*mn),y:Math.floor(y.anchorY*mn)})),crossTileIDs:f.map(y=>y.crossTileID)};if(_.positions.length>128){const y=new c.aC(_.positions.length,16,Uint16Array);for(const{x:v,y:T}of _.positions)y.add(v,T);y.finish(),delete _.positions,_.index=y}this._symbolsByKey[h]=_}}getScaledCoordinates(e,i){const{x:o,y:a,z:h}=this.tileID.canonical,{x:f,y:_,z:y}=i.canonical,v=mn/Math.pow(2,y-h),T=(_*c.Z+e.anchorY)*v,C=a*c.Z*mn;return{x:Math.floor((f*c.Z+e.anchorX)*v-o*c.Z*mn),y:Math.floor(T-C)}}findMatches(e,i,o){const a=this.tileID.canonical.z<i.canonical.z?1:Math.pow(2,this.tileID.canonical.z-i.canonical.z);for(let h=0;h<e.length;h++){const f=e.get(h);if(f.crossTileID)continue;const _=this._symbolsByKey[f.key];if(!_)continue;const y=this.getScaledCoordinates(f,i);if(_.index){const v=_.index.range(y.x-a,y.y-a,y.x+a,y.y+a).sort();for(const T of v){const C=_.crossTileIDs[T];if(!o[C]){o[C]=!0,f.crossTileID=C;break}}}else if(_.positions)for(let v=0;v<_.positions.length;v++){const T=_.positions[v],C=_.crossTileIDs[v];if(Math.abs(T.x-y.x)<=a&&Math.abs(T.y-y.y)<=a&&!o[C]){o[C]=!0,f.crossTileID=C;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:e})=>e)}}class Ml{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class oa{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(e){const i=Math.round((e-this.lng)/360);if(i!==0)for(const o in this.indexes){const a=this.indexes[o],h={};for(const f in a){const _=a[f];_.tileID=_.tileID.unwrapTo(_.tileID.wrap+i),h[_.tileID.key]=_}this.indexes[o]=h}this.lng=e}addBucket(e,i,o){if(this.indexes[e.overscaledZ]&&this.indexes[e.overscaledZ][e.key]){if(this.indexes[e.overscaledZ][e.key].bucketInstanceId===i.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(e.overscaledZ,this.indexes[e.overscaledZ][e.key])}for(let h=0;h<i.symbolInstances.length;h++)i.symbolInstances.get(h).crossTileID=0;this.usedCrossTileIDs[e.overscaledZ]||(this.usedCrossTileIDs[e.overscaledZ]={});const a=this.usedCrossTileIDs[e.overscaledZ];for(const h in this.indexes){const f=this.indexes[h];if(Number(h)>e.overscaledZ)for(const _ in f){const y=f[_];y.tileID.isChildOf(e)&&y.findMatches(i.symbolInstances,e,a)}else{const _=f[e.scaledTo(Number(h)).key];_&&_.findMatches(i.symbolInstances,e,a)}}for(let h=0;h<i.symbolInstances.length;h++){const f=i.symbolInstances.get(h);f.crossTileID||(f.crossTileID=o.generate(),a[f.crossTileID]=!0)}return this.indexes[e.overscaledZ]===void 0&&(this.indexes[e.overscaledZ]={}),this.indexes[e.overscaledZ][e.key]=new sa(e,i.symbolInstances,i.bucketInstanceId),!0}removeBucketCrossTileIDs(e,i){for(const o of i.getCrossTileIDsLists())for(const a of o)delete this.usedCrossTileIDs[e][a]}removeStaleBuckets(e){let i=!1;for(const o in this.indexes){const a=this.indexes[o];for(const h in a)e[a[h].bucketInstanceId]||(this.removeBucketCrossTileIDs(o,a[h]),delete a[h],i=!0)}return i}}class lo{constructor(){this.layerIndexes={},this.crossTileIDs=new Ml,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(e,i,o){let a=this.layerIndexes[e.id];a===void 0&&(a=this.layerIndexes[e.id]=new oa);let h=!1;const f={};a.handleWrapJump(o);for(const _ of i){const y=_.getBucket(e);y&&e.id===y.layerIds[0]&&(y.bucketInstanceId||(y.bucketInstanceId=++this.maxBucketInstanceId),a.addBucket(_.tileID,y,this.crossTileIDs)&&(h=!0),f[y.bucketInstanceId]=!0)}return a.removeStaleBuckets(f)&&(h=!0),h}pruneUnusedLayers(e){const i={};e.forEach(o=>{i[o]=!0});for(const o in this.layerIndexes)i[o]||delete this.layerIndexes[o]}}var Ss="void main() {fragColor=vec4(1.0);}";const tr={prelude:lt(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
out highp vec4 fragColor;`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}mat3 rotationMatrixFromAxisAngle(vec3 u,float angle) {float c=cos(angle);float s=sin(angle);float c2=1.0-c;return mat3(u.x*u.x*c2+      c,u.x*u.y*c2-u.z*s,u.x*u.z*c2+u.y*s,u.y*u.x*c2+u.z*s,u.y*u.y*c2+    c,u.y*u.z*c2-u.x*s,u.z*u.x*c2-u.y*s,u.z*u.y*c2+u.x*s,u.z*u.z*c2+    c
);}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
#ifdef GLOBE
if ((pos.y <-32767.5) || (pos.y > 32766.5)) {return 0.0;}
#endif
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}const float PI=3.141592653589793;uniform mat4 u_projection_matrix;`),projectionMercator:lt("","float projectLineThickness(float tileY) {return 1.0;}float projectCircleRadius(float tileY) {return 1.0;}vec4 projectTile(vec2 p) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);return result;}vec4 projectTile(vec2 p,vec2 rawPos) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);if (rawPos.y <-32767.5 || rawPos.y > 32766.5) {result.z=-10000000.0;}return result;}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_projection_matrix*vec4(posInTile,elevation,1.0);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {return projectTileWithElevation(posInTile,elevation);}"),projectionGlobe:lt("",`#define GLOBE_RADIUS 6371008.8
uniform highp vec4 u_projection_tile_mercator_coords;uniform highp vec4 u_projection_clipping_plane;uniform highp float u_projection_transition;uniform mat4 u_projection_fallback_matrix;vec3 globeRotateVector(vec3 vec,vec2 angles) {vec3 axisRight=vec3(vec.z,0.0,-vec.x);vec3 axisUp=cross(axisRight,vec);axisRight=normalize(axisRight);axisUp=normalize(axisUp);vec2 t=tan(angles);return normalize(vec+axisRight*t.x+axisUp*t.y);}mat3 globeGetRotationMatrix(vec3 spherePos) {vec3 axisRight=vec3(spherePos.z,0.0,-spherePos.x);vec3 axisDown=cross(axisRight,spherePos);axisRight=normalize(axisRight);axisDown=normalize(axisDown);return mat3(axisRight,axisDown,spherePos
);}float circumferenceRatioAtTileY(float tileY) {float mercator_pos_y=u_projection_tile_mercator_coords.y+u_projection_tile_mercator_coords.w*tileY;float spherical_y=2.0*atan(exp(PI-(mercator_pos_y*PI*2.0)))-PI*0.5;return cos(spherical_y);}float projectLineThickness(float tileY) {float thickness=1.0/circumferenceRatioAtTileY(tileY); 
if (u_projection_transition < 0.999) {return mix(1.0,thickness,u_projection_transition);} else {return thickness;}}vec3 projectToSphere(vec2 translatedPos,vec2 rawPos) {vec2 mercator_pos=u_projection_tile_mercator_coords.xy+u_projection_tile_mercator_coords.zw*translatedPos;vec2 spherical;spherical.x=mercator_pos.x*PI*2.0+PI;spherical.y=2.0*atan(exp(PI-(mercator_pos.y*PI*2.0)))-PI*0.5;float len=cos(spherical.y);vec3 pos=vec3(sin(spherical.x)*len,sin(spherical.y),cos(spherical.x)*len
);if (rawPos.y <-32767.5) {pos=vec3(0.0,1.0,0.0);}if (rawPos.y > 32766.5) {pos=vec3(0.0,-1.0,0.0);}return pos;}vec3 projectToSphere(vec2 posInTile) {return projectToSphere(posInTile,vec2(0.0,0.0));}float globeComputeClippingZ(vec3 spherePos) {return (1.0-(dot(spherePos,u_projection_clipping_plane.xyz)+u_projection_clipping_plane.w));}vec4 interpolateProjection(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);globePosition.z=globeComputeClippingZ(elevatedPos)*globePosition.w;if (u_projection_transition > 0.999) {return globePosition;}vec4 flatPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);const float z_globeness_threshold=0.2;vec4 result=globePosition;result.z=mix(0.0,globePosition.z,clamp((u_projection_transition-z_globeness_threshold)/(1.0-z_globeness_threshold),0.0,1.0));result.xyw=mix(flatPosition.xyw,globePosition.xyw,u_projection_transition);if ((posInTile.y <-32767.5) || (posInTile.y > 32766.5)) {result=globePosition;const float poles_hidden_anim_percentage=0.02;result.z=mix(globePosition.z,100.0,pow(max((1.0-u_projection_transition)/poles_hidden_anim_percentage,0.0),8.0));}return result;}vec4 interpolateProjectionFor3D(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);if (u_projection_transition > 0.999) {return globePosition;}vec4 fallbackPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);return mix(fallbackPosition,globePosition,u_projection_transition);}vec4 projectTile(vec2 posInTile) {return interpolateProjection(posInTile,projectToSphere(posInTile),0.0);}vec4 projectTile(vec2 posInTile,vec2 rawPos) {return interpolateProjection(posInTile,projectToSphere(posInTile,rawPos),0.0);}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return interpolateProjection(posInTile,projectToSphere(posInTile),elevation);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {vec3 spherePos=projectToSphere(posInTile,posInTile);return interpolateProjectionFor3D(posInTile,spherePos,elevation);}`),background:lt(`uniform vec4 u_color;uniform float u_opacity;void main() {fragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),backgroundPattern:lt(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;void main() {gl_Position=projectTile(a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:lt(`in vec3 v_data;in float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);float antialiased_blur=v_data.z;float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));fragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);const float epsilon=0.5/255.0;if (fragColor.r < epsilon && fragColor.g < epsilon && fragColor.b < epsilon && fragColor.a < epsilon) {discard;}
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform highp float u_globe_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;uniform vec2 u_translate;in vec2 a_pos;out vec3 v_data;out float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 pos_raw=a_pos+32768.0;vec2 extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);vec2 circle_center=floor(pos_raw/8.0)+u_translate;float ele=get_elevation(circle_center);v_visibility=calculate_visibility(projectTileWithElevation(circle_center,ele));if (u_pitch_with_map) {
#ifdef GLOBE
vec3 center_vector=projectToSphere(circle_center);
#endif
float angle_scale=u_globe_extrude_scale;vec2 corner_position=circle_center;if (u_scale_with_map) {angle_scale*=(radius+stroke_width);corner_position+=extrude*u_extrude_scale*(radius+stroke_width);} else {
#ifdef GLOBE
vec4 projected_center=interpolateProjection(circle_center,center_vector,ele);
#else
vec4 projected_center=projectTileWithElevation(circle_center,ele);
#endif
corner_position+=extrude*u_extrude_scale*(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);angle_scale*=(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);}
#ifdef GLOBE
vec2 angles=extrude*angle_scale;vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(corner_position,corner_vector,ele);
#else
gl_Position=projectTileWithElevation(corner_position,ele);
#endif
} else {gl_Position=projectTileWithElevation(circle_center,ele);if (gl_Position.z/gl_Position.w > 1.0) {gl_Position.xy=vec2(10000.0);}if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}float antialiasblur=-max(1.0/u_device_pixel_ratio/(radius+stroke_width),blur);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:lt(Ss,"in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),heatmap:lt(`uniform highp float u_intensity;in vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);fragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;uniform highp float u_globe_extrude_scale;in vec2 a_pos;out vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 pos_raw=a_pos+32768.0;vec2 unscaled_extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 circle_center=floor(pos_raw/8.0);
#ifdef GLOBE
vec2 angles=v_extrude*radius*u_globe_extrude_scale;vec3 center_vector=projectToSphere(circle_center);vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(circle_center+extrude,corner_vector,0.0);
#else
gl_Position=projectTileFor3D(circle_center+extrude,get_elevation(circle_center));
#endif
}`),heatmapTexture:lt(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;in vec2 v_pos;void main() {float t=texture(u_image,v_pos).r;vec4 color=texture(u_color_ramp,vec2(t,0.5));fragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:lt("in float v_placed;in float v_notUsed;void main() {float alpha=0.5;fragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {fragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {fragColor*=.1;}}","in vec2 a_anchor_pos;in vec2 a_placed;in vec2 a_box_real;uniform vec2 u_pixel_extrude_scale;out float v_placed;out float v_notUsed;void main() {gl_Position=projectTileWithElevation(a_anchor_pos,get_elevation(a_anchor_pos));gl_Position.xy=((a_box_real+0.5)*u_pixel_extrude_scale*2.0-1.0)*vec2(1.0,-1.0)*gl_Position.w;if (gl_Position.z/gl_Position.w < 1.1) {gl_Position.z=0.5;}v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:lt("in float v_radius;in vec2 v_extrude;in float v_collision;void main() {float alpha=0.5;float stroke_radius=0.9;float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);fragColor=color*alpha*opacity_t;}","in vec2 a_pos;in float a_radius;in vec2 a_flags;uniform vec2 u_viewport_size;out float v_radius;out vec2 v_extrude;out float v_collision;void main() {float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_collision=collision;gl_Position=vec4((a_pos/u_viewport_size*2.0-1.0)*vec2(1.0,-1.0),0.0,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:lt("uniform highp vec4 u_color;uniform sampler2D u_overlay;in vec2 v_uv;void main() {vec4 overlay_color=texture(u_overlay,v_uv);fragColor=mix(u_color,overlay_color,overlay_color.a);}","in vec2 a_pos;out vec2 v_uv;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=projectTileWithElevation(a_pos*u_overlay_scale,get_elevation(a_pos));}"),depth:lt(Ss,`in vec2 a_pos;void main() {
#ifdef GLOBE
gl_Position=projectTileFor3D(a_pos,0.0);
#else
gl_Position=u_projection_matrix*vec4(a_pos,0.0,1.0);
#endif
}`),fill:lt(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
fragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_fill_translate;in vec2 a_pos;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=projectTile(a_pos+u_fill_translate,a_pos);}`),fillOutline:lt(`in vec2 v_pos;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=outline_color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_world;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
}`),fillOutlinePattern:lt(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;in vec2 v_pos_a;in vec2 v_pos_b;in vec2 v_pos;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;out vec2 v_pos;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
}`),fillPattern:lt(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:lt(`in vec4 v_color;void main() {fragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;in vec2 a_pos;in vec4 a_normal_ed;
#ifdef TERRAIN3D
in vec2 a_centroid;
#endif
out vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;
#ifdef GLOBE
vec3 spherePos=projectToSphere(posInTile,a_pos);gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);
#else
gl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);
#endif
float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;vec3 normalForLighting=normal/16384.0;float directional=clamp(dot(normalForLighting,u_lightpos),0.0,1.0);
#ifdef GLOBE
mat3 rotMatrix=globeGetRotationMatrix(spherePos);normalForLighting=rotMatrix*normalForLighting;directional=mix(directional,clamp(dot(normalForLighting,u_lightpos_globe),0.0,1.0),u_projection_transition);
#endif
directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:lt(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;in vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);fragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;in vec2 a_pos;in vec4 a_normal_ed;
#ifdef TERRAIN3D
in vec2 a_centroid;
#endif
#ifdef GLOBE
out vec3 v_sphere_pos;
#endif
out vec2 v_pos_a;out vec2 v_pos_b;out vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;
#ifdef GLOBE
vec3 spherePos=projectToSphere(posInTile,a_pos);vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);v_sphere_pos=elevatedPos;gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);
#else
gl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);
#endif
vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,elevation*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:lt(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));fragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:lt(`uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);fragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=projectTile(a_pos,a_pos);v_pos=a_pos/8192.0;if (a_pos.y <-32767.5) {v_pos.y=0.0;}if (a_pos.y > 32766.5) {v_pos.y=1.0;}}"),line:lt(`uniform lowp float u_device_pixel_ratio;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp float v_linesofar;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:lt(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;in highp vec2 v_uv;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture(u_image,v_uv);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;in float a_uv_x;in float a_split_index;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp vec2 v_uv;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:lt(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;in vec2 v_normal;in vec2 v_width2;in float v_linesofar;in float v_gamma_scale;in float v_width;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture(u_image,pos_a),texture(u_image,pos_b),u_fade);fragColor=color*alpha*opacity;
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_linesofar;out float v_gamma_scale;out float v_width;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:lt(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;in vec2 v_normal;in vec2 v_width2;in vec2 v_tex_a;in vec2 v_tex_b;in float v_gamma_scale;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture(u_image,v_tex_a).a;float sdfdist_b=texture(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;out vec2 v_normal;out vec2 v_width2;out vec2 v_tex_a;out vec2 v_tex_b;out float v_gamma_scale;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:lt(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;in vec2 v_pos0;in vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture(u_image0,v_pos0);vec4 color1=texture(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);fragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;uniform vec4 u_coords_top;uniform vec4 u_coords_bottom;in vec2 a_pos;out vec2 v_pos0;out vec2 v_pos1;void main() {vec2 fractionalPos=a_pos/8192.0;vec2 position=mix(mix(u_coords_top.xy,u_coords_top.zw,fractionalPos.x),mix(u_coords_bottom.xy,u_coords_bottom.zw,fractionalPos.x),fractionalPos.y);gl_Position=projectTile(position,position);v_pos0=((fractionalPos-0.5)/u_buffer_scale)+0.5;
#ifdef GLOBE
if (a_pos.y <-32767.5) {v_pos0.y=0.0;}if (a_pos.y > 32766.5) {v_pos0.y=1.0;}
#endif
v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}`),symbolIcon:lt(`uniform sampler2D u_texture;in vec2 v_tex;in float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;fragColor=texture(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_tex;out float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}gl_Position=finalPos;v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:lt(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;in vec2 v_data0;in vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}fragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_data0;out vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:lt(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;in vec4 v_data0;in vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;fragColor=texture(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);fragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec4 v_data0;out vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map && !u_is_along_line) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:lt("uniform sampler2D u_texture;uniform vec4 u_fog_color;uniform vec4 u_horizon_color;uniform float u_fog_ground_blend;uniform float u_fog_ground_blend_opacity;uniform float u_horizon_fog_blend;uniform bool u_is_globe_mode;in vec2 v_texture_pos;in float v_fog_depth;const float gamma=2.2;vec4 gammaToLinear(vec4 color) {return pow(color,vec4(gamma));}vec4 linearToGamma(vec4 color) {return pow(color,vec4(1.0/gamma));}void main() {vec4 surface_color=texture(u_texture,vec2(v_texture_pos.x,1.0-v_texture_pos.y));if (!u_is_globe_mode && v_fog_depth > u_fog_ground_blend) {vec4 surface_color_linear=gammaToLinear(surface_color);float blend_color=smoothstep(0.0,1.0,max((v_fog_depth-u_horizon_fog_blend)/(1.0-u_horizon_fog_blend),0.0));vec4 fog_horizon_color_linear=mix(gammaToLinear(u_fog_color),gammaToLinear(u_horizon_color),blend_color);float factor_fog=max(v_fog_depth-u_fog_ground_blend,0.0)/(1.0-u_fog_ground_blend);fragColor=linearToGamma(mix(surface_color_linear,fog_horizon_color_linear,pow(factor_fog,2.0)*u_fog_ground_blend_opacity));} else {fragColor=surface_color;}}","in vec3 a_pos3d;uniform mat4 u_fog_matrix;uniform float u_ele_delta;out vec2 v_texture_pos;out float v_fog_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta);vec4 pos=u_fog_matrix*vec4(a_pos3d.xy,ele,1.0);v_fog_depth=pos.z/pos.w*0.5+0.5;}"),terrainDepth:lt("in float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {fragColor=pack(v_depth);}","in vec3 a_pos3d;uniform float u_ele_delta;out float v_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);v_depth=gl_Position.z/gl_Position.w;}"),terrainCoords:lt("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;in vec2 v_texture_pos;void main() {vec4 rgba=texture(u_texture,v_texture_pos);fragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}","in vec3 a_pos3d;uniform float u_ele_delta;out vec2 v_texture_pos;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);}"),projectionErrorMeasurement:lt("in vec4 v_output_error_encoded;void main() {fragColor=v_output_error_encoded;}","in vec2 a_pos;uniform highp float u_input;uniform highp float u_output_expected;out vec4 v_output_error_encoded;void main() {float real_output=2.0*atan(exp(PI-(u_input*PI*2.0)))-PI*0.5;float error=real_output-u_output_expected;float abs_error=abs(error)*128.0;v_output_error_encoded.x=min(floor(abs_error*256.0),255.0)/255.0;abs_error-=v_output_error_encoded.x;v_output_error_encoded.y=min(floor(abs_error*65536.0),255.0)/255.0;abs_error-=v_output_error_encoded.x/255.0;v_output_error_encoded.z=min(floor(abs_error*16777216.0),255.0)/255.0;v_output_error_encoded.w=error >=0.0 ? 1.0 : 0.0;gl_Position=vec4(a_pos,0.0,1.0);}"),atmosphere:lt(`in vec3 view_direction;uniform vec3 u_sun_pos;uniform vec3 u_globe_position;uniform float u_globe_radius;uniform float u_atmosphere_blend;/**Shader use from https:*Made some change to adapt to MapLibre Globe geometry*/const float PI=3.141592653589793;const int iSteps=5;const int jSteps=3;/*radius of the planet*/const float EARTH_RADIUS=6371e3;/*radius of the atmosphere*/const float ATMOS_RADIUS=6471e3;vec2 rsi(vec3 r0,vec3 rd,float sr) {float a=dot(rd,rd);float b=2.0*dot(rd,r0);float c=dot(r0,r0)-(sr*sr);float d=(b*b)-4.0*a*c;if (d < 0.0) return vec2(1e5,-1e5);return vec2((-b-sqrt(d))/(2.0*a),(-b+sqrt(d))/(2.0*a));}vec4 atmosphere(vec3 r,vec3 r0,vec3 pSun,float iSun,float rPlanet,float rAtmos,vec3 kRlh,float kMie,float shRlh,float shMie,float g) {pSun=normalize(pSun);r=normalize(r);vec2 p=rsi(r0,r,rAtmos);if (p.x > p.y) {return vec4(0.0,0.0,0.0,1.0);}if (p.x < 0.0) {p.x=0.0;}vec3 pos=r0+r*p.x;vec2 p2=rsi(r0,r,rPlanet);if (p2.x <=p2.y && p2.x > 0.0) {p.y=min(p.y,p2.x);}float iStepSize=(p.y-p.x)/float(iSteps);float iTime=p.x+iStepSize*0.5;vec3 totalRlh=vec3(0,0,0);vec3 totalMie=vec3(0,0,0);float iOdRlh=0.0;float iOdMie=0.0;float mu=dot(r,pSun);float mumu=mu*mu;float gg=g*g;float pRlh=3.0/(16.0*PI)*(1.0+mumu);float pMie=3.0/(8.0*PI)*((1.0-gg)*(mumu+1.0))/(pow(1.0+gg-2.0*mu*g,1.5)*(2.0+gg));for (int i=0; i < iSteps; i++) {vec3 iPos=r0+r*iTime;float iHeight=length(iPos)-rPlanet;float odStepRlh=exp(-iHeight/shRlh)*iStepSize;float odStepMie=exp(-iHeight/shMie)*iStepSize;iOdRlh+=odStepRlh;iOdMie+=odStepMie;float jStepSize=rsi(iPos,pSun,rAtmos).y/float(jSteps);float jTime=jStepSize*0.5;float jOdRlh=0.0;float jOdMie=0.0;for (int j=0; j < jSteps; j++) {vec3 jPos=iPos+pSun*jTime;float jHeight=length(jPos)-rPlanet;jOdRlh+=exp(-jHeight/shRlh)*jStepSize;jOdMie+=exp(-jHeight/shMie)*jStepSize;jTime+=jStepSize;}vec3 attn=exp(-(kMie*(iOdMie+jOdMie)+kRlh*(iOdRlh+jOdRlh)));totalRlh+=odStepRlh*attn;totalMie+=odStepMie*attn;iTime+=iStepSize;}float opacity=exp(-(length(kRlh)*length(totalRlh)+kMie*length(totalMie)));vec3 color=iSun*(pRlh*kRlh*totalRlh+pMie*kMie*totalMie);return vec4(color,opacity);}void main() {vec3 scale_camera_pos=-u_globe_position*EARTH_RADIUS/u_globe_radius;vec4 color=atmosphere(normalize(view_direction),scale_camera_pos,u_sun_pos,22.0,EARTH_RADIUS,ATMOS_RADIUS,vec3(5.5e-6,13.0e-6,22.4e-6),21e-6,8e3,1.2e3,0.758
);color.rgb=1.0-exp(-1.0*color.rgb);color=pow(color,vec4(1.0/2.2));fragColor=vec4(color.rgb,1.0-color.a)*u_atmosphere_blend;}`,"in vec2 a_pos;uniform mat4 u_inv_proj_matrix;out vec3 view_direction;void main() {view_direction=(u_inv_proj_matrix*vec4(a_pos,0.0,1.0)).xyz;gl_Position=vec4(a_pos,0.0,1.0);}"),sky:lt("uniform vec4 u_sky_color;uniform vec4 u_horizon_color;uniform vec2 u_horizon;uniform vec2 u_horizon_normal;uniform float u_sky_horizon_blend;uniform float u_sky_blend;void main() {float x=gl_FragCoord.x;float y=gl_FragCoord.y;float blend=(y-u_horizon.y)*u_horizon_normal.y+(x-u_horizon.x)*u_horizon_normal.x;if (blend > 0.0) {if (blend < u_sky_horizon_blend) {fragColor=mix(u_sky_color,u_horizon_color,pow(1.0-blend/u_sky_horizon_blend,2.0));} else {fragColor=u_sky_color;}}fragColor=mix(fragColor,vec4(vec3(0.0),0.0),u_sky_blend);}","in vec2 a_pos;void main() {gl_Position=vec4(a_pos,1.0,1.0);}")};function lt(u,e){const i=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,o=e.match(/in ([\w]+) ([\w]+)/g),a=u.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),h=e.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),f=h?h.concat(a):a,_={};return{fragmentSource:u=u.replace(i,(y,v,T,C,M)=>(_[M]=!0,v==="define"?`
#ifndef HAS_UNIFORM_u_${M}
in ${T} ${C} ${M};
#else
uniform ${T} ${C} u_${M};
#endif
`:`
#ifdef HAS_UNIFORM_u_${M}
    ${T} ${C} ${M} = u_${M};
#endif
`)),vertexSource:e=e.replace(i,(y,v,T,C,M)=>{const D=C==="float"?"vec2":"vec4",B=M.match(/color/)?"color":D;return _[M]?v==="define"?`
#ifndef HAS_UNIFORM_u_${M}
uniform lowp float u_${M}_t;
in ${T} ${D} a_${M};
out ${T} ${C} ${M};
#else
uniform ${T} ${C} u_${M};
#endif
`:B==="vec4"?`
#ifndef HAS_UNIFORM_u_${M}
    ${M} = a_${M};
#else
    ${T} ${C} ${M} = u_${M};
#endif
`:`
#ifndef HAS_UNIFORM_u_${M}
    ${M} = unpack_mix_${B}(a_${M}, u_${M}_t);
#else
    ${T} ${C} ${M} = u_${M};
#endif
`:v==="define"?`
#ifndef HAS_UNIFORM_u_${M}
uniform lowp float u_${M}_t;
in ${T} ${D} a_${M};
#else
uniform ${T} ${C} u_${M};
#endif
`:B==="vec4"?`
#ifndef HAS_UNIFORM_u_${M}
    ${T} ${C} ${M} = a_${M};
#else
    ${T} ${C} ${M} = u_${M};
#endif
`:`
#ifndef HAS_UNIFORM_u_${M}
    ${T} ${C} ${M} = unpack_mix_${B}(a_${M}, u_${M}_t);
#else
    ${T} ${C} ${M} = u_${M};
#endif
`}),staticAttributes:o,staticUniforms:f}}class _n{constructor(e,i,o){this.vertexBuffer=e,this.indexBuffer=i,this.segments=o}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.vertexBuffer=null,this.indexBuffer=null,this.segments=null}}var qr=c.aD([{name:"a_pos",type:"Int16",components:2}]);const Mr="#define PROJECTION_MERCATOR",Gn="mercator";class ft{constructor(){this._cachedMesh=null}get name(){return"mercator"}get useSubdivision(){return!1}get shaderVariantName(){return Gn}get shaderDefine(){return Mr}get shaderPreludeCode(){return tr.projectionMercator}get vertexShaderPreludeCode(){return tr.projectionMercator.vertexSource}get subdivisionGranularity(){return c.aE.noSubdivision}get useGlobeControls(){return!1}get transitionState(){return 0}get latitudeErrorCorrectionRadians(){return 0}destroy(){}updateGPUdependent(e){}getMeshFromTileID(e,i,o,a,h){if(this._cachedMesh)return this._cachedMesh;const f=new c.aF;f.emplaceBack(0,0),f.emplaceBack(c.Z,0),f.emplaceBack(0,c.Z),f.emplaceBack(c.Z,c.Z);const _=e.createVertexBuffer(f,qr.members),y=c.aG.simpleSegment(0,0,4,2),v=new c.aH;v.emplaceBack(1,0,2),v.emplaceBack(1,2,3);const T=e.createIndexBuffer(v);return this._cachedMesh=new _n(_,T,y),this._cachedMesh}recalculate(){}hasTransition(){return!1}setErrorQueryLatitudeDegrees(e){}}function qi(u,e){const i=c.ae(e.lat,-85.051129,c.aJ);return new c.P(c.U(e.lng)*u,c.S(i)*u)}function Ms(u,e){return new c.$(e.x/u,e.y/u).toLngLat()}function qn(u){return u.cameraToCenterDistance*Math.min(.85*Math.tan(c.ad(90-u.pitch)),Math.tan(c.ad(89.25-u.pitch)))}function Mi(u,e){const i=u.canonical,o=e/c.aI(i.z),a=i.x+Math.pow(2,i.z)*u.wrap,h=c.at(new Float64Array(16));return c.L(h,h,[a*o,i.y*o,0]),c.M(h,h,[o/c.Z,o/c.Z,1]),h}function mi(u,e,i,o,a){const h=c.$.fromLngLat(u,e),f=a*c.aK(1,u.lat),_=f*Math.cos(c.ad(i)),y=Math.sqrt(f*f-_*_),v=y*Math.sin(c.ad(-o)),T=y*Math.cos(c.ad(-o));return new c.$(h.x+v,h.y+T,h.z+_)}class Ft{constructor(e=0,i=0,o=0,a=0){if(isNaN(e)||e<0||isNaN(i)||i<0||isNaN(o)||o<0||isNaN(a)||a<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=e,this.bottom=i,this.left=o,this.right=a}interpolate(e,i,o){return i.top!=null&&e.top!=null&&(this.top=c.B.number(e.top,i.top,o)),i.bottom!=null&&e.bottom!=null&&(this.bottom=c.B.number(e.bottom,i.bottom,o)),i.left!=null&&e.left!=null&&(this.left=c.B.number(e.left,i.left,o)),i.right!=null&&e.right!=null&&(this.right=c.B.number(e.right,i.right,o)),this}getCenter(e,i){const o=c.ae((this.left+e-this.right)/2,0,e),a=c.ae((this.top+i-this.bottom)/2,0,i);return new c.P(o,a)}equals(e){return this.top===e.top&&this.bottom===e.bottom&&this.left===e.left&&this.right===e.right}clone(){return new Ft(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function co(u,e){if(!u.renderWorldCopies||u.lngRange)return;const i=e.lng-u.center.lng;e.lng+=i>180?-360:i<-180?360:0}function Ci(u){return Math.max(0,Math.floor(u))}class zi{constructor(e,i,o,a,h,f){this._callbacks=e,this._tileSize=512,this._renderWorldCopies=f===void 0||!!f,this._minZoom=i||0,this._maxZoom=o||22,this._minPitch=a??0,this._maxPitch=h??60,this.setMaxBounds(),this._width=0,this._height=0,this._center=new c.Q(0,0),this._elevation=0,this._zoom=0,this._tileZoom=Ci(this._zoom),this._scale=c.aI(this._zoom),this._bearingInRadians=0,this._fovInRadians=.6435011087932844,this._pitchInRadians=0,this._rollInRadians=0,this._unmodified=!0,this._edgeInsets=new Ft,this._minElevationForCurrentTile=0,this._autoCalculateNearFarZ=!0}apply(e,i,o){this._latRange=e.latRange,this._lngRange=e.lngRange,this._width=e.width,this._height=e.height,this._center=e.center,this._elevation=e.elevation,this._minElevationForCurrentTile=e.minElevationForCurrentTile,this._zoom=e.zoom,this._tileZoom=Ci(this._zoom),this._scale=c.aI(this._zoom),this._bearingInRadians=e.bearingInRadians,this._fovInRadians=e.fovInRadians,this._pitchInRadians=e.pitchInRadians,this._rollInRadians=e.rollInRadians,this._unmodified=e.unmodified,this._edgeInsets=new Ft(e.padding.top,e.padding.bottom,e.padding.left,e.padding.right),this._minZoom=e.minZoom,this._maxZoom=e.maxZoom,this._minPitch=e.minPitch,this._maxPitch=e.maxPitch,this._renderWorldCopies=e.renderWorldCopies,this._cameraToCenterDistance=e.cameraToCenterDistance,this._nearZ=e.nearZ,this._farZ=e.farZ,this._autoCalculateNearFarZ=!o&&e.autoCalculateNearFarZ,i&&this._constrain(),this._calcMatrices()}get pixelsToClipSpaceMatrix(){return this._pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._clipSpaceToPixelsMatrix}get minElevationForCurrentTile(){return this._minElevationForCurrentTile}setMinElevationForCurrentTile(e){this._minElevationForCurrentTile=e}get tileSize(){return this._tileSize}get tileZoom(){return this._tileZoom}get scale(){return this._scale}get width(){return this._width}get height(){return this._height}get bearingInRadians(){return this._bearingInRadians}get lngRange(){return this._lngRange}get latRange(){return this._latRange}get pixelsToGLUnits(){return this._pixelsToGLUnits}get minZoom(){return this._minZoom}setMinZoom(e){this._minZoom!==e&&(this._minZoom=e,this.setZoom(this.getConstrained(this._center,this.zoom).zoom))}get maxZoom(){return this._maxZoom}setMaxZoom(e){this._maxZoom!==e&&(this._maxZoom=e,this.setZoom(this.getConstrained(this._center,this.zoom).zoom))}get minPitch(){return this._minPitch}setMinPitch(e){this._minPitch!==e&&(this._minPitch=e,this.setPitch(Math.max(this.pitch,e)))}get maxPitch(){return this._maxPitch}setMaxPitch(e){this._maxPitch!==e&&(this._maxPitch=e,this.setPitch(Math.min(this.pitch,e)))}get renderWorldCopies(){return this._renderWorldCopies}setRenderWorldCopies(e){e===void 0?e=!0:e===null&&(e=!1),this._renderWorldCopies=e}get worldSize(){return this._tileSize*this._scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new c.P(this._width,this._height)}get bearing(){return this._bearingInRadians/Math.PI*180}setBearing(e){const i=c.aL(e,-180,180)*Math.PI/180;var o,a,h,f,_,y,v,T,C;this._bearingInRadians!==i&&(this._unmodified=!1,this._bearingInRadians=i,this._calcMatrices(),this._rotationMatrix=De(),o=this._rotationMatrix,h=-this._bearingInRadians,f=(a=this._rotationMatrix)[0],_=a[1],y=a[2],v=a[3],T=Math.sin(h),C=Math.cos(h),o[0]=f*C+y*T,o[1]=_*C+v*T,o[2]=f*-T+y*C,o[3]=_*-T+v*C)}get rotationMatrix(){return this._rotationMatrix}get pitchInRadians(){return this._pitchInRadians}get pitch(){return this._pitchInRadians/Math.PI*180}setPitch(e){const i=c.ae(e,this.minPitch,this.maxPitch)/180*Math.PI;this._pitchInRadians!==i&&(this._unmodified=!1,this._pitchInRadians=i,this._calcMatrices())}get rollInRadians(){return this._rollInRadians}get roll(){return this._rollInRadians/Math.PI*180}setRoll(e){const i=e/180*Math.PI;this._rollInRadians!==i&&(this._unmodified=!1,this._rollInRadians=i,this._calcMatrices())}get fovInRadians(){return this._fovInRadians}get fov(){return c.aM(this._fovInRadians)}setFov(e){e=c.ae(e,.1,150),this.fov!==e&&(this._unmodified=!1,this._fovInRadians=c.ad(e),this._calcMatrices())}get zoom(){return this._zoom}setZoom(e){const i=this.getConstrained(this._center,e).zoom;this._zoom!==i&&(this._unmodified=!1,this._zoom=i,this._tileZoom=Math.max(0,Math.floor(i)),this._scale=c.aI(i),this._constrain(),this._calcMatrices())}get center(){return this._center}setCenter(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this._unmodified=!1,this._center=e,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}setElevation(e){e!==this._elevation&&(this._elevation=e,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}setPadding(e){this._edgeInsets.equals(e)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,e,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this._width,this._height)}get pixelsPerMeter(){return this._pixelPerMeter}get unmodified(){return this._unmodified}get cameraToCenterDistance(){return this._cameraToCenterDistance}get nearZ(){return this._nearZ}get farZ(){return this._farZ}get autoCalculateNearFarZ(){return this._autoCalculateNearFarZ}overrideNearFarZ(e,i){this._autoCalculateNearFarZ=!1,this._nearZ=e,this._farZ=i,this._calcMatrices()}clearNearFarZOverride(){this._autoCalculateNearFarZ=!0,this._calcMatrices()}isPaddingEqual(e){return this._edgeInsets.equals(e)}interpolatePadding(e,i,o){this._unmodified=!1,this._edgeInsets.interpolate(e,i,o),this._constrain(),this._calcMatrices()}resize(e,i,o=!0){this._width=e,this._height=i,o&&this._constrain(),this._calcMatrices()}getMaxBounds(){return this._latRange&&this._latRange.length===2&&this._lngRange&&this._lngRange.length===2?new Ht([this._lngRange[0],this._latRange[0]],[this._lngRange[1],this._latRange[1]]):null}setMaxBounds(e){e?(this._lngRange=[e.getWest(),e.getEast()],this._latRange=[e.getSouth(),e.getNorth()],this._constrain()):(this._lngRange=null,this._latRange=[-85.051129,c.aJ])}getConstrained(e,i){return this._callbacks.getConstrained(e,i)}getCameraQueryGeometry(e,i){if(i.length===1)return[i[0],e];{let o=e.x,a=e.y,h=e.x,f=e.y;for(const _ of i)o=Math.min(o,_.x),a=Math.min(a,_.y),h=Math.max(h,_.x),f=Math.max(f,_.y);return[new c.P(o,a),new c.P(h,a),new c.P(h,f),new c.P(o,f),new c.P(o,a)]}}_constrain(){if(!this.center||!this._width||!this._height||this._constraining)return;this._constraining=!0;const e=this._unmodified,{center:i,zoom:o}=this.getConstrained(this.center,this.zoom);this.setCenter(i),this.setZoom(o),this._unmodified=e,this._constraining=!1}_calcMatrices(){if(this._width&&this._height){this._pixelsToGLUnits=[2/this._width,-2/this._height];let e=c.at(new Float64Array(16));c.M(e,e,[this._width/2,-this._height/2,1]),c.L(e,e,[1,-1,0]),this._clipSpaceToPixelsMatrix=e,e=c.at(new Float64Array(16)),c.M(e,e,[1,-1,1]),c.L(e,e,[-1,-1,0]),c.M(e,e,[2/this._width,2/this._height,1]),this._pixelsToClipSpaceMatrix=e,this._cameraToCenterDistance=.5/Math.tan(this.fovInRadians/2)*this._height}this._callbacks.calcMatrices()}calculateCenterFromCameraLngLatAlt(e,i,o,a){const h=o!==void 0?o:this.bearing,f=a=a!==void 0?a:this.pitch,_=c.$.fromLngLat(e,i),y=-Math.cos(c.ad(f)),v=Math.sin(c.ad(f)),T=v*Math.sin(c.ad(h)),C=-v*Math.cos(c.ad(h));let M=this.elevation;const D=i-M;let B;y*D>=0||Math.abs(y)<.1?(B=1e4,M=i+B*y):B=-D/y;let $,Z,G=c.aN(1,_.y),H=0;do{if(H+=1,H>10)break;Z=B/G,$=new c.$(_.x+T*Z,_.y+C*Z),G=1/$.meterInMercatorCoordinateUnits()}while(Math.abs(B-Z*G)>1e-12);return{center:$.toLngLat(),elevation:M,zoom:c.ab(this.height/2/Math.tan(this.fovInRadians/2)/Z/this.tileSize)}}recalculateZoomAndCenter(e){if(this.elevation-e==0)return;const i=c.aK(1,this.center.lat)*this.worldSize,o=this.cameraToCenterDistance/i,a=c.$.fromLngLat(this.center,this.elevation),h=mi(this.center,this.elevation,this.pitch,this.bearing,o);this._elevation=e;const f=this.calculateCenterFromCameraLngLatAlt(h.toLngLat(),c.aN(h.z,a.y),this.bearing,this.pitch);this._elevation=f.elevation,this._center=f.center,this.setZoom(f.zoom)}getCameraPoint(){const e=Math.tan(this.pitchInRadians)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new c.P(e*Math.sin(this.rollInRadians),e*Math.cos(this.rollInRadians)))}getCameraAltitude(){return Math.cos(this.pitchInRadians)*this._cameraToCenterDistance/this._pixelPerMeter+this.elevation}getCameraLngLat(){const e=c.aK(1,this.center.lat)*this.worldSize;return mi(this.center,this.elevation,this.pitch,this.bearing,this.cameraToCenterDistance/e).toLngLat()}getMercatorTileCoordinates(e){if(!e)return[0,0,1,1];const i=e.canonical.z>=0?1<<e.canonical.z:Math.pow(2,e.canonical.z);return[e.canonical.x/i,e.canonical.y/i,1/i/c.Z,1/i/c.Z]}}class ni{constructor(e,i){this.min=e,this.max=i,this.center=c.aO([],c.aP([],this.min,this.max),.5)}quadrant(e){const i=[e%2==0,e<2],o=c.aQ(this.min),a=c.aQ(this.max);for(let h=0;h<i.length;h++)o[h]=i[h]?this.min[h]:this.center[h],a[h]=i[h]?this.center[h]:this.max[h];return a[2]=this.max[2],new ni(o,a)}distanceX(e){return Math.max(Math.min(this.max[0],e[0]),this.min[0])-e[0]}distanceY(e){return Math.max(Math.min(this.max[1],e[1]),this.min[1])-e[1]}intersectsFrustum(e){let i=!0;for(let o=0;o<e.planes.length;o++){const a=this.intersectsPlane(e.planes[o]);if(a===0)return 0;a===1&&(i=!1)}return i?2:e.aabb.min[0]>this.max[0]||e.aabb.min[1]>this.max[1]||e.aabb.min[2]>this.max[2]||e.aabb.max[0]<this.min[0]||e.aabb.max[1]<this.min[1]||e.aabb.max[2]<this.min[2]?0:1}intersectsPlane(e){let i=e[3],o=e[3];for(let a=0;a<3;a++)e[a]>0?(i+=e[a]*this.min[a],o+=e[a]*this.max[a]):(o+=e[a]*this.min[a],i+=e[a]*this.max[a]);return i>=0?2:o<0?0:1}}class Cl{distanceToTile2d(e,i,o,a){const h=a.distanceX([e,i]),f=a.distanceY([e,i]);return Math.hypot(h,f)}getWrap(e,i,o){return o}getTileAABB(e,i,o,a){var h,f;let _=o,y=o;if(a.terrain){const T=new c.Y(e.z,i,e.z,e.x,e.y),C=a.terrain.getMinMaxElevation(T);_=(h=C.minElevation)!==null&&h!==void 0?h:o,y=(f=C.maxElevation)!==null&&f!==void 0?f:o}const v=1<<e.z;return new ni([i+e.x/v,e.y/v,_],[i+(e.x+1)/v,(e.y+1)/v,y])}allowVariableZoom(e,i){const o=e.fov*(Math.abs(Math.cos(e.rollInRadians))*e.height+Math.abs(Math.sin(e.rollInRadians))*e.width)/e.height,a=c.ae(78.5-o/2,0,60);return!!i.terrain||e.pitch>a}allowWorldCopies(){return!0}recalculateCache(){}}class Hr{constructor(e,i,o){this.points=e,this.planes=i,this.aabb=o}static fromInvProjectionMatrix(e,i=1,o=0){const a=Math.pow(2,o),h=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(v=>{const T=1/(v=c.ap([],v,e))[3]/i*a;return c.aR(v,v,[T,T,1/v[3],T])}),f=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(v=>{const T=c.aS([],h[v[0]],h[v[1]]),C=c.aS([],h[v[2]],h[v[1]]),M=c.aT([],c.aU([],T,C)),D=-c.aV(M,h[v[1]]);return M.concat(D)}),_=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY],y=[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];for(const v of h)for(let T=0;T<3;T++)_[T]=Math.min(_[T],v[T]),y[T]=Math.max(y[T],v[T]);return new Hr(h,f,new ni(_,y))}}class Bt{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(e){this._helper.setMinZoom(e)}setMaxZoom(e){this._helper.setMaxZoom(e)}setMinPitch(e){this._helper.setMinPitch(e)}setMaxPitch(e){this._helper.setMaxPitch(e)}setRenderWorldCopies(e){this._helper.setRenderWorldCopies(e)}setBearing(e){this._helper.setBearing(e)}setPitch(e){this._helper.setPitch(e)}setRoll(e){this._helper.setRoll(e)}setFov(e){this._helper.setFov(e)}setZoom(e){this._helper.setZoom(e)}setCenter(e){this._helper.setCenter(e)}setElevation(e){this._helper.setElevation(e)}setMinElevationForCurrentTile(e){this._helper.setMinElevationForCurrentTile(e)}setPadding(e){this._helper.setPadding(e)}interpolatePadding(e,i,o){return this._helper.interpolatePadding(e,i,o)}isPaddingEqual(e){return this._helper.isPaddingEqual(e)}resize(e,i,o=!0){this._helper.resize(e,i,o)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(e){this._helper.setMaxBounds(e)}overrideNearFarZ(e,i){this._helper.overrideNearFarZ(e,i)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(e){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),e)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(e,i){}constructor(e,i,o,a,h){this._posMatrixCache=new Map,this._alignedPosMatrixCache=new Map,this._fogMatrixCacheF32=new Map,this._helper=new zi({calcMatrices:()=>{this._calcMatrices()},getConstrained:(f,_)=>this.getConstrained(f,_)},e,i,o,a,h),this._coveringTilesDetailsProvider=new Cl}clone(){const e=new Bt;return e.apply(this),e}apply(e,i,o){this._helper.apply(e,i,o)}get cameraPosition(){return this._cameraPosition}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._viewProjMatrix}get inverseProjectionMatrix(){return this._invProjMatrix}get mercatorMatrix(){return this._mercatorMatrix}getVisibleUnwrappedCoordinates(e){const i=[new c.aW(0,e)];if(this._helper._renderWorldCopies){const o=this.screenPointToMercatorCoordinate(new c.P(0,0)),a=this.screenPointToMercatorCoordinate(new c.P(this._helper._width,0)),h=this.screenPointToMercatorCoordinate(new c.P(this._helper._width,this._helper._height)),f=this.screenPointToMercatorCoordinate(new c.P(0,this._helper._height)),_=Math.floor(Math.min(o.x,a.x,h.x,f.x)),y=Math.floor(Math.max(o.x,a.x,h.x,f.x)),v=1;for(let T=_-v;T<=y+v;T++)T!==0&&i.push(new c.aW(T,e))}return i}getCameraFrustum(){return Hr.fromInvProjectionMatrix(this._invViewProjMatrix,this.worldSize)}getClippingPlane(){return null}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(e){const i=this.screenPointToLocation(this.centerPoint,e),o=e?e.getElevationForLngLatZoom(i,this._helper._tileZoom):0;this._helper.recalculateZoomAndCenter(o)}setLocationAtPoint(e,i){const o=c.aK(this.elevation,this.center.lat),a=this.screenPointToMercatorCoordinateAtZ(i,o),h=this.screenPointToMercatorCoordinateAtZ(this.centerPoint,o),f=c.$.fromLngLat(e),_=new c.$(f.x-(a.x-h.x),f.y-(a.y-h.y));this.setCenter(_==null?void 0:_.toLngLat()),this._helper._renderWorldCopies&&this.setCenter(this.center.wrap())}locationToScreenPoint(e,i){return i?this.coordinatePoint(c.$.fromLngLat(e),i.getElevationForLngLatZoom(e,this._helper._tileZoom),this._pixelMatrix3D):this.coordinatePoint(c.$.fromLngLat(e))}screenPointToLocation(e,i){var o;return(o=this.screenPointToMercatorCoordinate(e,i))===null||o===void 0?void 0:o.toLngLat()}screenPointToMercatorCoordinate(e,i){if(i){const o=i.pointCoordinate(e);if(o!=null)return o}return this.screenPointToMercatorCoordinateAtZ(e)}screenPointToMercatorCoordinateAtZ(e,i){const o=i||0,a=[e.x,e.y,0,1],h=[e.x,e.y,1,1];c.ap(a,a,this._pixelMatrixInverse),c.ap(h,h,this._pixelMatrixInverse);const f=a[3],_=h[3],y=a[1]/f,v=h[1]/_,T=a[2]/f,C=h[2]/_,M=T===C?0:(o-T)/(C-T);return new c.$(c.B.number(a[0]/f,h[0]/_,M)/this.worldSize,c.B.number(y,v,M)/this.worldSize,o)}coordinatePoint(e,i=0,o=this._pixelMatrix){const a=[e.x*this.worldSize,e.y*this.worldSize,i,1];return c.ap(a,a,o),new c.P(a[0]/a[3],a[1]/a[3])}getBounds(){const e=Math.max(0,this._helper._height/2-qn(this));return new Ht().extend(this.screenPointToLocation(new c.P(0,e))).extend(this.screenPointToLocation(new c.P(this._helper._width,e))).extend(this.screenPointToLocation(new c.P(this._helper._width,this._helper._height))).extend(this.screenPointToLocation(new c.P(0,this._helper._height)))}isPointOnMapSurface(e,i){return i?i.pointCoordinate(e)!=null:e.y>this.height/2-qn(this)}calculatePosMatrix(e,i=!1,o){var a;const h=(a=e.key)!==null&&a!==void 0?a:c.aX(e.wrap,e.canonical.z,e.canonical.z,e.canonical.x,e.canonical.y),f=i?this._alignedPosMatrixCache:this._posMatrixCache;if(f.has(h)){const v=f.get(h);return o?v.f32:v.f64}const _=Mi(e,this.worldSize);c.N(_,i?this._alignedProjMatrix:this._viewProjMatrix,_);const y={f64:_,f32:new Float32Array(_)};return f.set(h,y),o?y.f32:y.f64}calculateFogMatrix(e){const i=e.key,o=this._fogMatrixCacheF32;if(o.has(i))return o.get(i);const a=Mi(e,this.worldSize);return c.N(a,this._fogMatrix,a),o.set(i,new Float32Array(a)),o.get(i)}getConstrained(e,i){i=c.ae(+i,this.minZoom,this.maxZoom);const o={center:new c.Q(e.lng,e.lat),zoom:i};let a=this._helper._lngRange;this._helper._renderWorldCopies||a!==null||(a=[-179.9999999999,180-1e-10]);const h=this.tileSize*c.aI(o.zoom);let f=0,_=h,y=0,v=h,T=0,C=0;const{x:M,y:D}=this.size;if(this._helper._latRange){const Y=this._helper._latRange;f=c.S(Y[1])*h,_=c.S(Y[0])*h,_-f<D&&(T=D/(_-f))}a&&(y=c.aL(c.U(a[0])*h,0,h),v=c.aL(c.U(a[1])*h,0,h),v<y&&(v+=h),v-y<M&&(C=M/(v-y)));const{x:B,y:$}=qi(h,e);let Z,G;const H=Math.max(C||0,T||0);if(H){const Y=new c.P(C?(v+y)/2:B,T?(_+f)/2:$);return o.center=Ms(h,Y).wrap(),o.zoom+=c.ab(H),o}if(this._helper._latRange){const Y=D/2;$-Y<f&&(G=f+Y),$+Y>_&&(G=_-Y)}if(a){const Y=(y+v)/2;let Q=B;this._helper._renderWorldCopies&&(Q=c.aL(B,Y-h/2,Y+h/2));const ee=M/2;Q-ee<y&&(Z=y+ee),Q+ee>v&&(Z=v-ee)}if(Z!==void 0||G!==void 0){const Y=new c.P(Z??B,G??$);o.center=Ms(h,Y).wrap()}return o}calculateCenterFromCameraLngLatAlt(e,i,o,a){return this._helper.calculateCenterFromCameraLngLatAlt(e,i,o,a)}_calculateNearFarZIfNeeded(e,i,o){if(!this._helper.autoCalculateNearFarZ)return;const a=Math.min(this.elevation,this.minElevationForCurrentTile,this.getCameraAltitude()-100),h=e-a*this._helper._pixelPerMeter/Math.cos(i),f=a<0?h:e,_=Math.PI/2+this.pitchInRadians,y=c.ad(this.fov)*(Math.abs(Math.cos(c.ad(this.roll)))*this.height+Math.abs(Math.sin(c.ad(this.roll)))*this.width)/this.height*(.5+o.y/this.height),v=Math.sin(y)*f/Math.sin(c.ae(Math.PI-_-y,.01,Math.PI-.01)),T=qn(this),C=Math.atan(T/this._helper.cameraToCenterDistance),M=c.ad(.75),D=C>M?2*C*(.5+o.y/(2*T)):M,B=Math.sin(D)*f/Math.sin(c.ae(Math.PI-_-D,.01,Math.PI-.01)),$=Math.min(v,B);this._helper._farZ=1.01*(Math.cos(Math.PI/2-i)*$+f),this._helper._nearZ=this._helper._height/50}_calcMatrices(){if(!this._helper._height)return;const e=this.centerOffset,i=qi(this.worldSize,this.center),o=i.x,a=i.y;this._helper._pixelPerMeter=c.aK(1,this.center.lat)*this.worldSize;const h=c.ad(Math.min(this.pitch,89.25)),f=Math.max(this._helper.cameraToCenterDistance/2,this._helper.cameraToCenterDistance+this._helper._elevation*this._helper._pixelPerMeter/Math.cos(h));let _;this._calculateNearFarZIfNeeded(f,h,e),_=new Float64Array(16),c.aY(_,this.fovInRadians,this._helper._width/this._helper._height,this._helper._nearZ,this._helper._farZ),this._invProjMatrix=new Float64Array(16),c.aj(this._invProjMatrix,_),_[8]=2*-e.x/this._helper._width,_[9]=2*e.y/this._helper._height,this._projectionMatrix=c.aZ(_),c.M(_,_,[1,-1,1]),c.L(_,_,[0,0,-this._helper.cameraToCenterDistance]),c.a_(_,_,-this.rollInRadians),c.a$(_,_,this.pitchInRadians),c.a_(_,_,-this.bearingInRadians),c.L(_,_,[-o,-a,0]),this._mercatorMatrix=c.M([],_,[this.worldSize,this.worldSize,this.worldSize]),c.M(_,_,[1,1,this._helper._pixelPerMeter]),this._pixelMatrix=c.N(new Float64Array(16),this.clipSpaceToPixelsMatrix,_),c.L(_,_,[0,0,-this.elevation]),this._viewProjMatrix=_,this._invViewProjMatrix=c.aj([],_);const y=[0,0,-1,1];c.ap(y,y,this._invViewProjMatrix),this._cameraPosition=[y[0]/y[3],y[1]/y[3],y[2]/y[3]],this._fogMatrix=new Float64Array(16),c.aY(this._fogMatrix,this.fovInRadians,this.width/this.height,f,this._helper._farZ),this._fogMatrix[8]=2*-e.x/this.width,this._fogMatrix[9]=2*e.y/this.height,c.M(this._fogMatrix,this._fogMatrix,[1,-1,1]),c.L(this._fogMatrix,this._fogMatrix,[0,0,-this.cameraToCenterDistance]),c.a_(this._fogMatrix,this._fogMatrix,-this.rollInRadians),c.a$(this._fogMatrix,this._fogMatrix,this.pitchInRadians),c.a_(this._fogMatrix,this._fogMatrix,-this.bearingInRadians),c.L(this._fogMatrix,this._fogMatrix,[-o,-a,0]),c.M(this._fogMatrix,this._fogMatrix,[1,1,this._helper._pixelPerMeter]),c.L(this._fogMatrix,this._fogMatrix,[0,0,-this.elevation]),this._pixelMatrix3D=c.N(new Float64Array(16),this.clipSpaceToPixelsMatrix,_);const v=this._helper._width%2/2,T=this._helper._height%2/2,C=Math.cos(this.bearingInRadians),M=Math.sin(-this.bearingInRadians),D=o-Math.round(o)+C*v+M*T,B=a-Math.round(a)+C*T+M*v,$=new Float64Array(_);if(c.L($,$,[D>.5?D-1:D,B>.5?B-1:B,0]),this._alignedProjMatrix=$,_=c.aj(new Float64Array(16),this._pixelMatrix),!_)throw new Error("failed to invert matrix");this._pixelMatrixInverse=_,this._clearMatrixCaches()}_clearMatrixCaches(){this._posMatrixCache.clear(),this._alignedPosMatrixCache.clear(),this._fogMatrixCacheF32.clear()}maxPitchScaleFactor(){if(!this._pixelMatrixInverse)return 1;const e=this.screenPointToMercatorCoordinate(new c.P(0,0)),i=[e.x*this.worldSize,e.y*this.worldSize,0,1];return c.ap(i,i,this._pixelMatrix)[3]/this._helper.cameraToCenterDistance}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){const e=c.aK(1,this.center.lat)*this.worldSize;return mi(this.center,this.elevation,this.pitch,this.bearing,this._helper.cameraToCenterDistance/e).toLngLat()}lngLatToCameraDepth(e,i){const o=c.$.fromLngLat(e),a=[o.x*this.worldSize,o.y*this.worldSize,i,1];return c.ap(a,a,this._viewProjMatrix),a[2]/a[3]}getProjectionData(e){const{overscaledTileID:i,aligned:o,applyTerrainMatrix:a}=e,h=this._helper.getMercatorTileCoordinates(i),f=i?this.calculatePosMatrix(i,o,!0):null;let _;return _=i&&i.terrainRttPosMatrix32f&&a?i.terrainRttPosMatrix32f:f||c.b0(),{mainMatrix:_,tileMercatorCoords:h,clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:_}}isLocationOccluded(e){return!1}getPixelScale(){return 1}getCircleRadiusCorrection(){return 1}getPitchedTextCorrection(e,i,o){return 1}transformLightDirection(e){return c.aQ(e)}getRayDirectionFromPixel(e){throw new Error("Not implemented.")}projectTileCoordinates(e,i,o,a){const h=this.calculatePosMatrix(o);let f;a?(f=[e,i,a(e,i),1],c.ap(f,f,h)):(f=[e,i,0,1],ri(f,f,h));const _=f[3];return{point:new c.P(f[0]/_,f[1]/_),signedDistanceFromCamera:_,isOccluded:!1}}populateCache(e){for(const i of e)this.calculatePosMatrix(i)}getMatrixForModel(e,i){const o=c.$.fromLngLat(e,i),a=o.meterInMercatorCoordinateUnits(),h=c.b1();return c.L(h,h,[o.x,o.y,o.z]),c.a_(h,h,Math.PI),c.a$(h,h,Math.PI/2),c.M(h,h,[-a,a,a]),h}getProjectionDataForCustomLayer(e=!0){const i=new c.Y(0,0,0,0,0),o=this.getProjectionData({overscaledTileID:i,applyGlobeMatrix:e}),a=Mi(i,this.worldSize);c.N(a,this._viewProjMatrix,a),o.tileMercatorCoords=[0,0,1,1];const h=[c.Z,c.Z,this.worldSize/this._helper.pixelsPerMeter],f=c.b2();return c.M(f,a,h),o.fallbackMatrix=f,o.mainMatrix=f,o}getFastPathSimpleProjectionMatrix(e){return this.calculatePosMatrix(e)}}function Hn(){c.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}function Wr(u){if(u.useSlerp)if(u.k<1){const e=c.b3(u.startEulerAngles.roll,u.startEulerAngles.pitch,u.startEulerAngles.bearing),i=c.b3(u.endEulerAngles.roll,u.endEulerAngles.pitch,u.endEulerAngles.bearing),o=new Float64Array(4);c.b4(o,e,i,u.k);const a=c.b5(o);u.tr.setRoll(a.roll),u.tr.setPitch(a.pitch),u.tr.setBearing(a.bearing)}else u.tr.setRoll(u.endEulerAngles.roll),u.tr.setPitch(u.endEulerAngles.pitch),u.tr.setBearing(u.endEulerAngles.bearing);else u.tr.setRoll(c.B.number(u.startEulerAngles.roll,u.endEulerAngles.roll,u.k)),u.tr.setPitch(c.B.number(u.startEulerAngles.pitch,u.endEulerAngles.pitch,u.k)),u.tr.setBearing(c.B.number(u.startEulerAngles.bearing,u.endEulerAngles.bearing,u.k))}function Cs(u,e,i,o,a){const h=a.padding,f=qi(a.worldSize,i.getNorthWest()),_=qi(a.worldSize,i.getNorthEast()),y=qi(a.worldSize,i.getSouthEast()),v=qi(a.worldSize,i.getSouthWest()),T=c.ad(-o),C=f.rotate(T),M=_.rotate(T),D=y.rotate(T),B=v.rotate(T),$=new c.P(Math.max(C.x,M.x,B.x,D.x),Math.max(C.y,M.y,B.y,D.y)),Z=new c.P(Math.min(C.x,M.x,B.x,D.x),Math.min(C.y,M.y,B.y,D.y)),G=$.sub(Z),H=(a.width-(h.left+h.right+e.left+e.right))/G.x,Y=(a.height-(h.top+h.bottom+e.top+e.bottom))/G.y;if(Y<0||H<0)return void Hn();const Q=Math.min(c.ab(a.scale*Math.min(H,Y)),u.maxZoom),ee=c.P.convert(u.offset),se=new c.P((e.left-e.right)/2,(e.top-e.bottom)/2).rotate(c.ad(o)),te=ee.add(se).mult(a.scale/c.aI(Q));return{center:Ms(a.worldSize,f.add(y).div(2).sub(te)),zoom:Q,bearing:o}}class ki{get useGlobeControls(){return!1}handlePanInertia(e,i){return{easingOffset:e,easingCenter:i.center}}handleMapControlsRollPitchBearingZoom(e,i){e.bearingDelta&&i.setBearing(i.bearing+e.bearingDelta),e.pitchDelta&&i.setPitch(i.pitch+e.pitchDelta),e.rollDelta&&i.setRoll(i.roll+e.rollDelta),e.zoomDelta&&i.setZoom(i.zoom+e.zoomDelta)}handleMapControlsPan(e,i,o){e.around.distSqr(i.centerPoint)<.01||i.setLocationAtPoint(o,e.around)}cameraForBoxAndBearing(e,i,o,a,h){return Cs(e,i,o,a,h)}handleJumpToCenterZoom(e,i){e.zoom!==(i.zoom!==void 0?+i.zoom:e.zoom)&&e.setZoom(+i.zoom),i.center!==void 0&&e.setCenter(c.Q.convert(i.center))}handleEaseTo(e,i){const o=e.zoom,a=e.padding,h={roll:e.roll,pitch:e.pitch,bearing:e.bearing},f={roll:i.roll===void 0?e.roll:i.roll,pitch:i.pitch===void 0?e.pitch:i.pitch,bearing:i.bearing===void 0?e.bearing:i.bearing},_=i.zoom!==void 0,y=!e.isPaddingEqual(i.padding);let v=!1;const T=_?+i.zoom:e.zoom;let C=e.centerPoint.add(i.offsetAsPoint);const M=e.screenPointToLocation(C),{center:D,zoom:B}=e.getConstrained(c.Q.convert(i.center||M),T??o);co(e,D);const $=qi(e.worldSize,M),Z=qi(e.worldSize,D).sub($),G=c.aI(B-o);return v=B!==o,{easeFunc:H=>{if(v&&e.setZoom(c.B.number(o,B,H)),c.b6(h,f)||Wr({startEulerAngles:h,endEulerAngles:f,tr:e,k:H,useSlerp:h.roll!=f.roll}),y&&(e.interpolatePadding(a,i.padding,H),C=e.centerPoint.add(i.offsetAsPoint)),i.around)e.setLocationAtPoint(i.around,i.aroundPoint);else{const Y=c.aI(e.zoom-o),Q=B>o?Math.min(2,G):Math.max(.5,G),ee=Math.pow(Q,1-H),se=Ms(e.worldSize,$.add(Z.mult(H*ee)).mult(Y));e.setLocationAtPoint(e.renderWorldCopies?se.wrap():se,C)}},isZooming:v,elevationCenter:D}}handleFlyTo(e,i){const o=i.zoom!==void 0,a=e.zoom,h=e.getConstrained(c.Q.convert(i.center||i.locationAtOffset),o?+i.zoom:a),f=h.center,_=h.zoom;co(e,f);const y=qi(e.worldSize,i.locationAtOffset),v=qi(e.worldSize,f).sub(y),T=v.mag(),C=c.aI(_-a);let M;if(i.minZoom!==void 0){const D=Math.min(+i.minZoom,a,_),B=e.getConstrained(f,D).zoom;M=c.aI(B-a)}return{easeFunc:(D,B,$,Z)=>{e.setZoom(D===1?_:a+c.ab(B));const G=D===1?f:Ms(e.worldSize,y.add(v.mult($)).mult(B));e.setLocationAtPoint(e.renderWorldCopies?G.wrap():G,Z)},scaleOfZoom:C,targetCenter:f,scaleOfMinZoom:M,pixelPathLength:T}}}class zt{constructor(e,i,o){this.blendFunction=e,this.blendColor=i,this.mask=o}}zt.Replace=[1,0],zt.disabled=new zt(zt.Replace,c.b7.transparent,[!1,!1,!1,!1]),zt.unblended=new zt(zt.Replace,c.b7.transparent,[!0,!0,!0,!0]),zt.alphaBlended=new zt([1,771],c.b7.transparent,[!0,!0,!0,!0]);const pr=2305;class _t{constructor(e,i,o){this.enable=e,this.mode=i,this.frontFace=o}}_t.disabled=new _t(!1,1029,pr),_t.backCCW=new _t(!0,1029,pr),_t.frontCCW=new _t(!0,1028,pr);class ot{constructor(e,i,o){this.func=e,this.mask=i,this.range=o}}ot.ReadOnly=!1,ot.ReadWrite=!0,ot.disabled=new ot(519,ot.ReadOnly,[0,1]);const Wn=7680;class dt{constructor(e,i,o,a,h,f){this.test=e,this.ref=i,this.mask=o,this.fail=a,this.depthFail=h,this.pass=f}}dt.disabled=new dt({func:519,mask:0},0,0,Wn,Wn,Wn);const Kn=new WeakMap;function ir(u){var e;if(Kn.has(u))return Kn.get(u);{const i=(e=u.getParameter(u.VERSION))===null||e===void 0?void 0:e.startsWith("WebGL 2.0");return Kn.set(u,i),i}}class Is{get awaitingQuery(){return!!this._readbackQueue}constructor(e){this._readbackWaitFrames=4,this._measureWaitFrames=6,this._texWidth=1,this._texHeight=1,this._measuredError=0,this._updateCount=0,this._lastReadbackFrame=-1e3,this._readbackQueue=null,this._cachedRenderContext=e;const i=e.context,o=i.gl;this._texFormat=o.RGBA,this._texType=o.UNSIGNED_BYTE;const a=new c.aF;a.emplaceBack(-1,-1),a.emplaceBack(2,-1),a.emplaceBack(-1,2);const h=new c.aH;h.emplaceBack(0,1,2),this._fullscreenTriangle=new _n(i.createVertexBuffer(a,qr.members),i.createIndexBuffer(h),c.aG.simpleSegment(0,0,a.length,h.length)),this._resultBuffer=new Uint8Array(4),i.activeTexture.set(o.TEXTURE1);const f=o.createTexture();o.bindTexture(o.TEXTURE_2D,f),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.NEAREST),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.NEAREST),o.texImage2D(o.TEXTURE_2D,0,this._texFormat,this._texWidth,this._texHeight,0,this._texFormat,this._texType,null),this._fbo=i.createFramebuffer(this._texWidth,this._texHeight,!1,!1),this._fbo.colorAttachment.set(f),ir(o)&&(this._pbo=o.createBuffer(),o.bindBuffer(o.PIXEL_PACK_BUFFER,this._pbo),o.bufferData(o.PIXEL_PACK_BUFFER,4,o.STREAM_READ),o.bindBuffer(o.PIXEL_PACK_BUFFER,null))}destroy(){const e=this._cachedRenderContext.context.gl;this._fullscreenTriangle.destroy(),this._fbo.destroy(),e.deleteBuffer(this._pbo),this._fullscreenTriangle=null,this._fbo=null,this._pbo=null,this._resultBuffer=null}updateErrorLoop(e,i){const o=this._updateCount;return this._readbackQueue?o>=this._readbackQueue.frameNumberIssued+this._readbackWaitFrames&&this._tryReadback():o>=this._lastReadbackFrame+this._measureWaitFrames&&this._renderErrorTexture(e,i),this._updateCount++,this._measuredError}_bindFramebuffer(){const e=this._cachedRenderContext.context,i=e.gl;e.activeTexture.set(i.TEXTURE1),i.bindTexture(i.TEXTURE_2D,this._fbo.colorAttachment.get()),e.bindFramebuffer.set(this._fbo.framebuffer)}_renderErrorTexture(e,i){const o=this._cachedRenderContext.context,a=o.gl;if(this._bindFramebuffer(),o.viewport.set([0,0,this._texWidth,this._texHeight]),o.clear({color:c.b7.transparent}),this._cachedRenderContext.useProgram("projectionErrorMeasurement").draw(o,a.TRIANGLES,ot.disabled,dt.disabled,zt.unblended,_t.disabled,((h,f)=>({u_input:h,u_output_expected:f}))(e,i),null,null,"$clipping",this._fullscreenTriangle.vertexBuffer,this._fullscreenTriangle.indexBuffer,this._fullscreenTriangle.segments),this._pbo&&ir(a)){a.bindBuffer(a.PIXEL_PACK_BUFFER,this._pbo),a.readBuffer(a.COLOR_ATTACHMENT0),a.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,0),a.bindBuffer(a.PIXEL_PACK_BUFFER,null);const h=a.fenceSync(a.SYNC_GPU_COMMANDS_COMPLETE,0);a.flush(),this._readbackQueue={frameNumberIssued:this._updateCount,sync:h}}else this._readbackQueue={frameNumberIssued:this._updateCount,sync:null}}_tryReadback(){const e=this._cachedRenderContext.context.gl;if(this._pbo&&this._readbackQueue&&ir(e)){const i=e.clientWaitSync(this._readbackQueue.sync,0,0);if(i===e.WAIT_FAILED)return c.w("WebGL2 clientWaitSync failed."),this._readbackQueue=null,void(this._lastReadbackFrame=this._updateCount);if(i===e.TIMEOUT_EXPIRED)return;e.bindBuffer(e.PIXEL_PACK_BUFFER,this._pbo),e.getBufferSubData(e.PIXEL_PACK_BUFFER,0,this._resultBuffer,0,4),e.bindBuffer(e.PIXEL_PACK_BUFFER,null)}else this._bindFramebuffer(),e.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,this._resultBuffer);this._readbackQueue=null,this._measuredError=Is._parseRGBA8float(this._resultBuffer),this._lastReadbackFrame=this._updateCount}static _parseRGBA8float(e){let i=0;return i+=e[0]/256,i+=e[1]/65536,i+=e[2]/16777216,e[3]<127&&(i=-i),i/128}}const Es=c.Z/128;function uo(u,e){const i=u.granularity!==void 0?Math.max(u.granularity,1):1,o=i+(u.generateBorders?2:0),a=i+(u.extendToNorthPole||u.generateBorders?1:0)+(u.extendToSouthPole||u.generateBorders?1:0),h=o+1,f=a+1,_=u.generateBorders?-1:0,y=u.generateBorders||u.extendToNorthPole?-1:0,v=i+(u.generateBorders?1:0),T=i+(u.generateBorders||u.extendToSouthPole?1:0),C=h*f,M=o*a*6,D=h*f>65536;if(D&&e==="16bit")throw new Error("Granularity is too large and meshes would not fit inside 16 bit vertex indices.");const B=D||e==="32bit",$=new Int16Array(2*C);let Z=0;for(let Y=y;Y<=T;Y++)for(let Q=_;Q<=v;Q++){let ee=Q/i*c.Z;Q===-1&&(ee=-64),Q===i+1&&(ee=c.Z+Es);let se=Y/i*c.Z;Y===-1&&(se=u.extendToNorthPole?c.b9:-64),Y===i+1&&(se=u.extendToSouthPole?c.ba:c.Z+Es),$[Z++]=ee,$[Z++]=se}const G=B?new Uint32Array(M):new Uint16Array(M);let H=0;for(let Y=0;Y<a;Y++)for(let Q=0;Q<o;Q++){const ee=Q+1+Y*h,se=Q+(Y+1)*h,te=Q+1+(Y+1)*h;G[H++]=Q+Y*h,G[H++]=se,G[H++]=ee,G[H++]=ee,G[H++]=se,G[H++]=te}return{vertices:$.buffer.slice(0),indices:G.buffer.slice(0),uses32bitIndices:B}}const As=new c.aE({fill:new c.bb(128,2),line:new c.bb(512,0),tile:new c.bb(128,32),stencil:new c.bb(128,1),circle:3});class zs{constructor(){this._tileMeshCache={},this._errorCorrectionUsable=0,this._errorMeasurementLastValue=0,this._errorCorrectionPreviousValue=0,this._errorMeasurementLastChangeTime=-1e3}get name(){return"vertical-perspective"}get transitionState(){return 1}get useSubdivision(){return!0}get shaderVariantName(){return"globe"}get shaderDefine(){return"#define GLOBE"}get shaderPreludeCode(){return tr.projectionGlobe}get vertexShaderPreludeCode(){return tr.projectionMercator.vertexSource}get subdivisionGranularity(){return As}get useGlobeControls(){return!0}get latitudeErrorCorrectionRadians(){return this._errorCorrectionUsable}destroy(){this._errorMeasurement&&this._errorMeasurement.destroy()}updateGPUdependent(e){this._errorMeasurement||(this._errorMeasurement=new Is(e));const i=c.S(this._errorQueryLatitudeDegrees),o=2*Math.atan(Math.exp(Math.PI-i*Math.PI*2))-.5*Math.PI,a=this._errorMeasurement.updateErrorLoop(i,o),h=Ve.now();a!==this._errorMeasurementLastValue&&(this._errorCorrectionPreviousValue=this._errorCorrectionUsable,this._errorMeasurementLastValue=a,this._errorMeasurementLastChangeTime=h);const f=Math.min(Math.max((h-this._errorMeasurementLastChangeTime)/1e3/.5,0),1);this._errorCorrectionUsable=c.bc(this._errorCorrectionPreviousValue,-this._errorMeasurementLastValue,c.bd(f))}_getMeshKey(e){return`${e.granularity.toString(36)}_${e.generateBorders?"b":""}${e.extendToNorthPole?"n":""}${e.extendToSouthPole?"s":""}`}getMeshFromTileID(e,i,o,a,h){const f=(h==="stencil"?As.stencil:As.tile).getGranularityForZoomLevel(i.z);return this._getMesh(e,{granularity:f,generateBorders:o,extendToNorthPole:i.y===0&&a,extendToSouthPole:i.y===(1<<i.z)-1&&a})}_getMesh(e,i){const o=this._getMeshKey(i);if(o in this._tileMeshCache)return this._tileMeshCache[o];const a=function(h,f){const _=uo(f,"16bit"),y=c.aF.deserialize({arrayBuffer:_.vertices,length:_.vertices.byteLength/2/2}),v=c.aH.deserialize({arrayBuffer:_.indices,length:_.indices.byteLength/2/3});return new _n(h.createVertexBuffer(y,qr.members),h.createIndexBuffer(v),c.aG.simpleSegment(0,0,y.length,v.length))}(e,i);return this._tileMeshCache[o]=a,a}recalculate(e){}hasTransition(){const e=Ve.now();let i=!1;return i=i||(e-this._errorMeasurementLastChangeTime)/1e3<.7,i=i||this._errorMeasurement&&this._errorMeasurement.awaitingQuery,i}setErrorQueryLatitudeDegrees(e){this._errorQueryLatitudeDegrees=e}}const ho=new c.r({type:new c.D(c.v.projection.type)});class Xn extends c.E{constructor(e){super(),this._transitionable=new c.T(ho),this.setProjection(e),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new c.C(0)),this._mercatorProjection=new ft,this._verticalPerspectiveProjection=new zs}get transitionState(){const e=this.properties.get("type");if(typeof e=="string"&&e==="mercator")return 0;if(typeof e=="string"&&e==="vertical-perspective")return 1;if(e instanceof c.be){if(e.from==="vertical-perspective"&&e.to==="mercator")return 1-e.transition;if(e.from==="mercator"&&e.to==="vertical-perspective")return e.transition}return 1}get useGlobeRendering(){return this.transitionState>0}get latitudeErrorCorrectionRadians(){return this._verticalPerspectiveProjection.latitudeErrorCorrectionRadians}get currentProjection(){return this.useGlobeRendering?this._verticalPerspectiveProjection:this._mercatorProjection}get name(){return"globe"}get useSubdivision(){return this.currentProjection.useSubdivision}get shaderVariantName(){return this.currentProjection.shaderVariantName}get shaderDefine(){return this.currentProjection.shaderDefine}get shaderPreludeCode(){return this.currentProjection.shaderPreludeCode}get vertexShaderPreludeCode(){return this.currentProjection.vertexShaderPreludeCode}get subdivisionGranularity(){return this.currentProjection.subdivisionGranularity}get useGlobeControls(){return this.transitionState>0}destroy(){this._mercatorProjection.destroy(),this._verticalPerspectiveProjection.destroy()}updateGPUdependent(e){this._mercatorProjection.updateGPUdependent(e),this._verticalPerspectiveProjection.updateGPUdependent(e)}getMeshFromTileID(e,i,o,a,h){return this.currentProjection.getMeshFromTileID(e,i,o,a,h)}setProjection(e){this._transitionable.setValue("type",(e==null?void 0:e.type)||"mercator")}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()||this.currentProjection.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e)}setErrorQueryLatitudeDegrees(e){this._verticalPerspectiveProjection.setErrorQueryLatitudeDegrees(e),this._mercatorProjection.setErrorQueryLatitudeDegrees(e)}}function Il(u){const e=po(u.worldSize,u.center.lat);return 2*Math.PI*e}function gn(u,e,i,o,a){const h=1/(1<<a),f=e/c.Z*h+o*h,_=c.bg((u/c.Z*h+i*h)*Math.PI*2+Math.PI,2*Math.PI),y=2*Math.atan(Math.exp(Math.PI-f*Math.PI*2))-.5*Math.PI,v=Math.cos(y),T=new Float64Array(3);return T[0]=Math.sin(_)*v,T[1]=Math.sin(y),T[2]=Math.cos(_)*v,T}function _i(u){return function(e,i){const o=Math.cos(i),a=new Float64Array(3);return a[0]=Math.sin(e)*o,a[1]=Math.sin(i),a[2]=Math.cos(e)*o,a}(u.lng*Math.PI/180,u.lat*Math.PI/180)}function po(u,e){return u/(2*Math.PI)/Math.cos(e*Math.PI/180)}function El(u){const e=Math.asin(u[1])/Math.PI*180,i=Math.sqrt(u[0]*u[0]+u[2]*u[2]);if(i>1e-6){const o=u[0]/i,a=Math.acos(u[2]/i),h=(o>0?a:-a)/Math.PI*180;return new c.Q(c.aL(h,-180,180),e)}return new c.Q(0,e)}function wi(u){return Math.cos(u*Math.PI/180)}function Jt(u,e){const i=wi(u),o=wi(e);return c.ab(o/i)}function rr(u,e){const i=u.rotate(e.bearingInRadians),o=e.zoom+Jt(e.center.lat,0),a=c.bc(1/wi(e.center.lat),1/wi(Math.min(Math.abs(e.center.lat),60)),c.bf(o,7,3,0,1)),h=360/Il({worldSize:e.worldSize,center:{lat:e.center.lat}});return new c.Q(e.center.lng-i.x*h*a,c.ae(e.center.lat+i.y*h,-85.051129,c.aJ))}function Yn(u){const e=.5*u,i=Math.sin(e),o=Math.cos(e);return Math.log(i+o)-Math.log(o-i)}function aa(u,e,i,o){const a=u.lat+i*o;if(Math.abs(i)>1){const h=(Math.sign(u.lat+i)!==Math.sign(u.lat)?-Math.abs(u.lat):Math.abs(u.lat))*Math.PI/180,f=Math.abs(u.lat+i)*Math.PI/180,_=Yn(h+o*(f-h)),y=Yn(h),v=Yn(f);return new c.Q(u.lng+e*((_-y)/(v-y)),a)}return new c.Q(u.lng+e*o,a)}class Al{constructor(e){this._cachePrevious=new Map,this._cache=new Map,this._hadAnyChanges=!1,this._aabbFactory=e}recalculateCache(){if(!this._hadAnyChanges)return;const e=this._cachePrevious;this._cachePrevious=this._cache,this._cache=e,this._cache.clear(),this._hadAnyChanges=!1}getTileAABB(e,i,o,a){const h=`${e.z}_${e.x}_${e.y}`,f=this._cache.get(h);if(f)return f;const _=this._cachePrevious.get(h);if(_)return this._cache.set(h,_),_;const y=this._aabbFactory(e,i,o,a);return this._cache.set(h,y),this._hadAnyChanges=!0,y}}function Cr(u,e,i){const o=u-e;return o<0?-o:Math.max(0,o-i)}function la(u,e,i,o,a){const h=u-i;let f;return f=h<0?Math.min(-h,1+h-a):h>1?Math.min(Math.max(h-a,0),1-h):0,Math.max(f,Cr(e,o,a))}class Xc{constructor(){this._aabbCache=new Al(this._computeTileAABB)}recalculateCache(){this._aabbCache.recalculateCache()}distanceToTile2d(e,i,o,a){const h=1<<o.z,f=1/h,_=o.x/h,y=o.y/h;let v=2;return v=Math.min(v,la(e,i,_,y,f)),v=Math.min(v,la(e,i,_+.5,-y-f,f)),v=Math.min(v,la(e,i,_+.5,2-y-f,f)),v}getWrap(e,i,o){const a=1<<i.z,h=1/a,f=i.x/a,_=Cr(e.x,f,h),y=Cr(e.x,f-1,h),v=Cr(e.x,f+1,h),T=Math.min(_,y,v);return T===v?1:T===y?-1:0}allowVariableZoom(e,i){return Pr(e,i)>4}allowWorldCopies(){return!1}getTileAABB(e,i,o,a){return this._aabbCache.getTileAABB(e,i,o,a)}_computeTileAABB(e,i,o,a){if(e.z<=0)return new ni([-1,-1,-1],[1,1,1]);if(e.z===1)return new ni([e.x===0?-1:0,e.y===0?0:-1,-1],[e.x===0?0:1,e.y===0?1:0,1]);{const h=[gn(0,0,e.x,e.y,e.z),gn(c.Z,0,e.x,e.y,e.z),gn(c.Z,c.Z,e.x,e.y,e.z),gn(0,c.Z,e.x,e.y,e.z)],f=[1,1,1],_=[-1,-1,-1];for(const y of h)for(let v=0;v<3;v++)f[v]=Math.min(f[v],y[v]),_[v]=Math.max(_[v],y[v]);if(e.y===0||e.y===(1<<e.z)-1){const y=[0,e.y===0?1:-1,0];for(let v=0;v<3;v++)f[v]=Math.min(f[v],y[v]),_[v]=Math.max(_[v],y[v])}return new ni(f,_)}}}class fo{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(e){this._helper.setMinZoom(e)}setMaxZoom(e){this._helper.setMaxZoom(e)}setMinPitch(e){this._helper.setMinPitch(e)}setMaxPitch(e){this._helper.setMaxPitch(e)}setRenderWorldCopies(e){this._helper.setRenderWorldCopies(e)}setBearing(e){this._helper.setBearing(e)}setPitch(e){this._helper.setPitch(e)}setRoll(e){this._helper.setRoll(e)}setFov(e){this._helper.setFov(e)}setZoom(e){this._helper.setZoom(e)}setCenter(e){this._helper.setCenter(e)}setElevation(e){this._helper.setElevation(e)}setMinElevationForCurrentTile(e){this._helper.setMinElevationForCurrentTile(e)}setPadding(e){this._helper.setPadding(e)}interpolatePadding(e,i,o){return this._helper.interpolatePadding(e,i,o)}isPaddingEqual(e){return this._helper.isPaddingEqual(e)}resize(e,i){this._helper.resize(e,i)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(e){this._helper.setMaxBounds(e)}overrideNearFarZ(e,i){this._helper.overrideNearFarZ(e,i)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(e){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),e)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(e){}constructor(){this._cachedClippingPlane=c.bh(),this._projectionMatrix=c.b1(),this._globeViewProjMatrix32f=c.b0(),this._globeViewProjMatrixNoCorrection=c.b1(),this._globeViewProjMatrixNoCorrectionInverted=c.b1(),this._globeProjMatrixInverted=c.b1(),this._cameraPosition=c.bi(),this._globeLatitudeErrorCorrectionRadians=0,this._helper=new zi({calcMatrices:()=>{this._calcMatrices()},getConstrained:(e,i)=>this.getConstrained(e,i)}),this._coveringTilesDetailsProvider=new Xc}clone(){const e=new fo;return e.apply(this),e}apply(e,i){this._globeLatitudeErrorCorrectionRadians=i||0,this._helper.apply(e)}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._globeViewProjMatrixNoCorrection}get inverseProjectionMatrix(){return this._globeProjMatrixInverted}get cameraPosition(){const e=c.bi();return e[0]=this._cameraPosition[0],e[1]=this._cameraPosition[1],e[2]=this._cameraPosition[2],e}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}getProjectionData(e){const{overscaledTileID:i,applyGlobeMatrix:o}=e,a=this._helper.getMercatorTileCoordinates(i);return{mainMatrix:this._globeViewProjMatrix32f,tileMercatorCoords:a,clippingPlane:this._cachedClippingPlane,projectionTransition:o?1:0,fallbackMatrix:this._globeViewProjMatrix32f}}_computeClippingPlane(e){const i=this.pitchInRadians,o=this.cameraToCenterDistance/e,a=Math.sin(i)*o,h=Math.cos(i)*o+1,f=1/Math.sqrt(a*a+h*h)*1;let _=-a,y=h;const v=Math.sqrt(_*_+y*y);_/=v,y/=v;const T=[0,_,y];return c.bj(T,T,[0,0,0],-this.bearingInRadians),c.bk(T,T,[0,0,0],-1*this.center.lat*Math.PI/180),c.bl(T,T,[0,0,0],this.center.lng*Math.PI/180),c.aO(T,T,.25),[...T,.25*-f]}isLocationOccluded(e){return!this.isSurfacePointVisible(_i(e))}transformLightDirection(e){const i=this._helper._center.lng*Math.PI/180,o=this._helper._center.lat*Math.PI/180,a=Math.cos(o),h=[Math.sin(i)*a,Math.sin(o),Math.cos(i)*a],f=[h[2],0,-h[0]],_=[0,0,0];c.aU(_,f,h),c.aT(f,f),c.aT(_,_);const y=[0,0,0];return c.aT(y,[f[0]*e[0]+_[0]*e[1]+h[0]*e[2],f[1]*e[0]+_[1]*e[1]+h[1]*e[2],f[2]*e[0]+_[2]*e[1]+h[2]*e[2]]),y}getPixelScale(){return 1/Math.cos(this._helper._center.lat*Math.PI/180)}getCircleRadiusCorrection(){return Math.cos(this._helper._center.lat*Math.PI/180)}getPitchedTextCorrection(e,i,o){const a=function(_,y,v){const T=1/(1<<v.z);return new c.$(_/c.Z*T+v.x*T,y/c.Z*T+v.y*T)}(e,i,o.canonical),h=(f=a.y,[c.bg(a.x*Math.PI*2+Math.PI,2*Math.PI),2*Math.atan(Math.exp(Math.PI-f*Math.PI*2))-.5*Math.PI]);var f;return this.getCircleRadiusCorrection()/Math.cos(h[1])}projectTileCoordinates(e,i,o,a){const h=o.canonical,f=gn(e,i,h.x,h.y,h.z),_=1+(a?a(e,i):0)/c.br,y=[f[0]*_,f[1]*_,f[2]*_,1];c.ap(y,y,this._globeViewProjMatrixNoCorrection);const v=this._cachedClippingPlane,T=v[0]*f[0]+v[1]*f[1]+v[2]*f[2]+v[3]<0;return{point:new c.P(y[0]/y[3],y[1]/y[3]),signedDistanceFromCamera:y[3],isOccluded:T}}_calcMatrices(){if(!this._helper._width||!this._helper._height)return;const e=po(this.worldSize,this.center.lat),i=c.b2(),o=c.b2();this._helper.autoCalculateNearFarZ&&(this._helper._nearZ=.5,this._helper._farZ=this.cameraToCenterDistance+2*e),c.aY(i,this.fovInRadians,this.width/this.height,this._helper._nearZ,this._helper._farZ);const a=this.centerOffset;i[8]=2*-a.x/this._helper._width,i[9]=2*a.y/this._helper._height,this._projectionMatrix=c.aZ(i),this._globeProjMatrixInverted=c.b2(),c.aj(this._globeProjMatrixInverted,i),c.L(i,i,[0,0,-this.cameraToCenterDistance]),c.a_(i,i,this.rollInRadians),c.a$(i,i,-this.pitchInRadians),c.a_(i,i,this.bearingInRadians),c.L(i,i,[0,0,-e]);const h=c.bi();h[0]=e,h[1]=e,h[2]=e,c.a$(o,i,this.center.lat*Math.PI/180),c.bm(o,o,-this.center.lng*Math.PI/180),c.M(o,o,h),this._globeViewProjMatrixNoCorrection=o,c.a$(i,i,this.center.lat*Math.PI/180-this._globeLatitudeErrorCorrectionRadians),c.bm(i,i,-this.center.lng*Math.PI/180),c.M(i,i,h),this._globeViewProjMatrix32f=new Float32Array(i),this._globeViewProjMatrixNoCorrectionInverted=c.b2(),c.aj(this._globeViewProjMatrixNoCorrectionInverted,o);const f=c.bi();this._cameraPosition=c.bi(),this._cameraPosition[2]=this.cameraToCenterDistance/e,c.bj(this._cameraPosition,this._cameraPosition,f,-this.rollInRadians),c.bk(this._cameraPosition,this._cameraPosition,f,this.pitchInRadians),c.bj(this._cameraPosition,this._cameraPosition,f,-this.bearingInRadians),c.aP(this._cameraPosition,this._cameraPosition,[0,0,1]),c.bk(this._cameraPosition,this._cameraPosition,f,-this.center.lat*Math.PI/180),c.bl(this._cameraPosition,this._cameraPosition,f,this.center.lng*Math.PI/180),this._cachedClippingPlane=this._computeClippingPlane(e);const _=c.aZ(this._globeViewProjMatrixNoCorrectionInverted);c.M(_,_,[1,1,-1]),this._cachedFrustum=Hr.fromInvProjectionMatrix(_)}calculateFogMatrix(e){c.w("calculateFogMatrix is not supported on globe projection.");const i=c.b2();return c.at(i),i}getVisibleUnwrappedCoordinates(e){return[new c.aW(0,e)]}getCameraFrustum(){return this._cachedFrustum}getClippingPlane(){return this._cachedClippingPlane}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(e){e&&c.w("terrain is not fully supported on vertical perspective projection."),this._helper.recalculateZoomAndCenter(0)}maxPitchScaleFactor(){return 1}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(e,i){if(!this._globeViewProjMatrixNoCorrection)return 1;const o=_i(e);c.aO(o,o,1+i/c.br);const a=c.bh();return c.ap(a,[o[0],o[1],o[2],1],this._globeViewProjMatrixNoCorrection),a[2]/a[3]}populateCache(e){}getBounds(){const e=.5*this.width,i=.5*this.height,o=[new c.P(0,0),new c.P(e,0),new c.P(this.width,0),new c.P(this.width,i),new c.P(this.width,this.height),new c.P(e,this.height),new c.P(0,this.height),new c.P(0,i)],a=[];for(const C of o)a.push(this.unprojectScreenPoint(C));let h=0,f=0,_=0,y=0;const v=this.center;for(const C of a){const M=c.bn(v.lng,C.lng),D=c.bn(v.lat,C.lat);M<f&&(f=M),M>h&&(h=M),D<y&&(y=D),D>_&&(_=D)}const T=[v.lng+f,v.lat+y,v.lng+h,v.lat+_];return this.isSurfacePointOnScreen([0,1,0])&&(T[3]=90,T[0]=-180,T[2]=180),this.isSurfacePointOnScreen([0,-1,0])&&(T[1]=-90,T[0]=-180,T[2]=180),new Ht(T)}getConstrained(e,i){const o=c.ae(e.lat,-85.051129,c.aJ),a=c.ae(+i,this.minZoom+Jt(0,o),this.maxZoom);return{center:new c.Q(e.lng,o),zoom:a}}calculateCenterFromCameraLngLatAlt(e,i,o,a){return this._helper.calculateCenterFromCameraLngLatAlt(e,i,o,a)}setLocationAtPoint(e,i){const o=_i(this.unprojectScreenPoint(i)),a=_i(e),h=c.bi();c.bo(h);const f=c.bi();c.bl(f,o,h,-this.center.lng*Math.PI/180),c.bk(f,f,h,this.center.lat*Math.PI/180);const _=a[0]*a[0]+a[2]*a[2],y=f[0]*f[0];if(_<y)return;const v=Math.sqrt(_-y),T=-v,C=c.bp(a[0],a[2],f[0],v),M=c.bp(a[0],a[2],f[0],T),D=c.bi();c.bl(D,a,h,-C);const B=c.bp(D[1],D[2],f[1],f[2]),$=c.bi();c.bl($,a,h,-M);const Z=c.bp($[1],$[2],f[1],f[2]),G=.5*Math.PI,H=B>=-G&&B<=G,Y=Z>=-G&&Z<=G;let Q,ee;if(H&&Y){const de=this.center.lng*Math.PI/180,be=this.center.lat*Math.PI/180;c.bs(C,de)+c.bs(B,be)<c.bs(M,de)+c.bs(Z,be)?(Q=C,ee=B):(Q=M,ee=Z)}else if(H)Q=C,ee=B;else{if(!Y)return;Q=M,ee=Z}const se=Q/Math.PI*180,te=ee/Math.PI*180,pe=this.center.lat;this.setCenter(new c.Q(se,c.ae(te,-90,90))),this.setZoom(this.zoom+Jt(pe,this.center.lat))}locationToScreenPoint(e,i){const o=_i(e);if(i){const a=i.getElevationForLngLatZoom(e,this._helper._tileZoom);c.aO(o,o,1+a/c.br)}return this._projectSurfacePointToScreen(o)}_projectSurfacePointToScreen(e){const i=c.bh();return c.ap(i,[...e,1],this._globeViewProjMatrixNoCorrection),i[0]/=i[3],i[1]/=i[3],new c.P((.5*i[0]+.5)*this.width,(.5*-i[1]+.5)*this.height)}screenPointToMercatorCoordinate(e,i){if(i){const o=i.pointCoordinate(e);if(o)return o}return c.$.fromLngLat(this.unprojectScreenPoint(e))}screenPointToLocation(e,i){var o;return(o=this.screenPointToMercatorCoordinate(e,i))===null||o===void 0?void 0:o.toLngLat()}isPointOnMapSurface(e,i){const o=this._cameraPosition,a=this.getRayDirectionFromPixel(e);return!!this.rayPlanetIntersection(o,a)}getRayDirectionFromPixel(e){const i=c.bh();i[0]=e.x/this.width*2-1,i[1]=-1*(e.y/this.height*2-1),i[2]=1,i[3]=1,c.ap(i,i,this._globeViewProjMatrixNoCorrectionInverted),i[0]/=i[3],i[1]/=i[3],i[2]/=i[3];const o=c.bi();o[0]=i[0]-this._cameraPosition[0],o[1]=i[1]-this._cameraPosition[1],o[2]=i[2]-this._cameraPosition[2];const a=c.bi();return c.aT(a,o),a}isSurfacePointVisible(e){const i=this._cachedClippingPlane;return i[0]*e[0]+i[1]*e[1]+i[2]*e[2]+i[3]>=0}isSurfacePointOnScreen(e){if(!this.isSurfacePointVisible(e))return!1;const i=c.bh();return c.ap(i,[...e,1],this._globeViewProjMatrixNoCorrection),i[0]/=i[3],i[1]/=i[3],i[2]/=i[3],i[0]>-1&&i[0]<1&&i[1]>-1&&i[1]<1&&i[2]>-1&&i[2]<1}rayPlanetIntersection(e,i){const o=c.aV(e,i),a=c.bi(),h=c.bi();c.aO(h,i,o),c.aS(a,e,h);const f=1-c.aV(a,a);if(f<0)return null;const _=c.aV(e,e)-1,y=-o+(o<0?1:-1)*Math.sqrt(f),v=_/y,T=y;return{tMin:Math.min(v,T),tMax:Math.max(v,T)}}unprojectScreenPoint(e){const i=this._cameraPosition,o=this.getRayDirectionFromPixel(e),a=this.rayPlanetIntersection(i,o);if(a){const v=c.bi();c.aP(v,i,[o[0]*a.tMin,o[1]*a.tMin,o[2]*a.tMin]);const T=c.bi();return c.aT(T,v),El(T)}const h=this._cachedClippingPlane[0]*o[0]+this._cachedClippingPlane[1]*o[1]+this._cachedClippingPlane[2]*o[2],f=-c.bq(this._cachedClippingPlane,i)/h,_=c.bi();if(f>0)c.aP(_,i,[o[0]*f,o[1]*f,o[2]*f]);else{const v=c.bi();c.aP(v,i,[2*o[0],2*o[1],2*o[2]]);const T=c.bq(this._cachedClippingPlane,v);c.aS(_,v,[this._cachedClippingPlane[0]*T,this._cachedClippingPlane[1]*T,this._cachedClippingPlane[2]*T])}const y=c.bi();return c.aT(y,_),El(y)}getMatrixForModel(e,i){const o=c.Q.convert(e),a=1/c.br,h=c.b1();return c.bm(h,h,o.lng/180*Math.PI),c.a$(h,h,-o.lat/180*Math.PI),c.L(h,h,[0,0,1+i/c.br]),c.a$(h,h,.5*Math.PI),c.M(h,h,[a,a,a]),h}getProjectionDataForCustomLayer(e=!0){const i=this.getProjectionData({overscaledTileID:new c.Y(0,0,0,0,0),applyGlobeMatrix:e});return i.tileMercatorCoords=[0,0,1,1],i}getFastPathSimpleProjectionMatrix(e){}}class mo{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(e){this._helper.setMinZoom(e)}setMaxZoom(e){this._helper.setMaxZoom(e)}setMinPitch(e){this._helper.setMinPitch(e)}setMaxPitch(e){this._helper.setMaxPitch(e)}setRenderWorldCopies(e){this._helper.setRenderWorldCopies(e)}setBearing(e){this._helper.setBearing(e)}setPitch(e){this._helper.setPitch(e)}setRoll(e){this._helper.setRoll(e)}setFov(e){this._helper.setFov(e)}setZoom(e){this._helper.setZoom(e)}setCenter(e){this._helper.setCenter(e)}setElevation(e){this._helper.setElevation(e)}setMinElevationForCurrentTile(e){this._helper.setMinElevationForCurrentTile(e)}setPadding(e){this._helper.setPadding(e)}interpolatePadding(e,i,o){return this._helper.interpolatePadding(e,i,o)}isPaddingEqual(e){return this._helper.isPaddingEqual(e)}resize(e,i,o=!0){this._helper.resize(e,i,o)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(e){this._helper.setMaxBounds(e)}overrideNearFarZ(e,i){this._helper.overrideNearFarZ(e,i)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(e){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),e)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}get isGlobeRendering(){return this._globeness>0}setTransitionState(e,i){this._globeness=e,this._globeLatitudeErrorCorrectionRadians=i,this._calcMatrices(),this._verticalPerspectiveTransform.getCoveringTilesDetailsProvider().recalculateCache(),this._mercatorTransform.getCoveringTilesDetailsProvider().recalculateCache()}get currentTransform(){return this.isGlobeRendering?this._verticalPerspectiveTransform:this._mercatorTransform}constructor(){this._globeLatitudeErrorCorrectionRadians=0,this._globeness=1,this._helper=new zi({calcMatrices:()=>{this._calcMatrices()},getConstrained:(e,i)=>this.getConstrained(e,i)}),this._globeness=1,this._mercatorTransform=new Bt,this._verticalPerspectiveTransform=new fo}clone(){const e=new mo;return e._globeness=this._globeness,e._globeLatitudeErrorCorrectionRadians=this._globeLatitudeErrorCorrectionRadians,e.apply(this),e}apply(e){this._helper.apply(e),this._mercatorTransform.apply(this),this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians)}get projectionMatrix(){return this.currentTransform.projectionMatrix}get modelViewProjectionMatrix(){return this.currentTransform.modelViewProjectionMatrix}get inverseProjectionMatrix(){return this.currentTransform.inverseProjectionMatrix}get cameraPosition(){return this.currentTransform.cameraPosition}getProjectionData(e){const i=this._mercatorTransform.getProjectionData(e),o=this._verticalPerspectiveTransform.getProjectionData(e);return{mainMatrix:this.isGlobeRendering?o.mainMatrix:i.mainMatrix,clippingPlane:o.clippingPlane,tileMercatorCoords:o.tileMercatorCoords,projectionTransition:e.applyGlobeMatrix?this._globeness:0,fallbackMatrix:i.fallbackMatrix}}isLocationOccluded(e){return this.currentTransform.isLocationOccluded(e)}transformLightDirection(e){return this.currentTransform.transformLightDirection(e)}getPixelScale(){return c.bc(this._mercatorTransform.getPixelScale(),this._verticalPerspectiveTransform.getPixelScale(),this._globeness)}getCircleRadiusCorrection(){return c.bc(this._mercatorTransform.getCircleRadiusCorrection(),this._verticalPerspectiveTransform.getCircleRadiusCorrection(),this._globeness)}getPitchedTextCorrection(e,i,o){const a=this._mercatorTransform.getPitchedTextCorrection(e,i,o),h=this._verticalPerspectiveTransform.getPitchedTextCorrection(e,i,o);return c.bc(a,h,this._globeness)}projectTileCoordinates(e,i,o,a){return this.currentTransform.projectTileCoordinates(e,i,o,a)}_calcMatrices(){this._helper._width&&this._helper._height&&(this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians),this._helper._nearZ=this._verticalPerspectiveTransform.nearZ,this._helper._farZ=this._verticalPerspectiveTransform.farZ,this._mercatorTransform.apply(this,!0,this.isGlobeRendering),this._helper._nearZ=this._mercatorTransform.nearZ,this._helper._farZ=this._mercatorTransform.farZ)}calculateFogMatrix(e){return this.currentTransform.calculateFogMatrix(e)}getVisibleUnwrappedCoordinates(e){return this.currentTransform.getVisibleUnwrappedCoordinates(e)}getCameraFrustum(){return this.currentTransform.getCameraFrustum()}getClippingPlane(){return this.currentTransform.getClippingPlane()}getCoveringTilesDetailsProvider(){return this.currentTransform.getCoveringTilesDetailsProvider()}recalculateZoomAndCenter(e){this._mercatorTransform.recalculateZoomAndCenter(e),this._verticalPerspectiveTransform.recalculateZoomAndCenter(e)}maxPitchScaleFactor(){return this._mercatorTransform.maxPitchScaleFactor()}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(e,i){return this.currentTransform.lngLatToCameraDepth(e,i)}populateCache(e){this._mercatorTransform.populateCache(e),this._verticalPerspectiveTransform.populateCache(e)}getBounds(){return this.currentTransform.getBounds()}getConstrained(e,i){return this.currentTransform.getConstrained(e,i)}calculateCenterFromCameraLngLatAlt(e,i,o,a){return this._helper.calculateCenterFromCameraLngLatAlt(e,i,o,a)}setLocationAtPoint(e,i){if(!this.isGlobeRendering)return this._mercatorTransform.setLocationAtPoint(e,i),void this.apply(this._mercatorTransform);this._verticalPerspectiveTransform.setLocationAtPoint(e,i),this.apply(this._verticalPerspectiveTransform)}locationToScreenPoint(e,i){return this.currentTransform.locationToScreenPoint(e,i)}screenPointToMercatorCoordinate(e,i){return this.currentTransform.screenPointToMercatorCoordinate(e,i)}screenPointToLocation(e,i){return this.currentTransform.screenPointToLocation(e,i)}isPointOnMapSurface(e,i){return this.currentTransform.isPointOnMapSurface(e,i)}getRayDirectionFromPixel(e){return this._verticalPerspectiveTransform.getRayDirectionFromPixel(e)}getMatrixForModel(e,i){return this.currentTransform.getMatrixForModel(e,i)}getProjectionDataForCustomLayer(e=!0){const i=this._mercatorTransform.getProjectionDataForCustomLayer(e);if(!this.isGlobeRendering)return i;const o=this._verticalPerspectiveTransform.getProjectionDataForCustomLayer(e);return o.fallbackMatrix=i.mainMatrix,o}getFastPathSimpleProjectionMatrix(e){return this.currentTransform.getFastPathSimpleProjectionMatrix(e)}}class nr{get useGlobeControls(){return!0}handlePanInertia(e,i){const o=rr(e,i);return Math.abs(o.lng-i.center.lng)>180&&(o.lng=i.center.lng+179.5*Math.sign(o.lng-i.center.lng)),{easingCenter:o,easingOffset:new c.P(0,0)}}handleMapControlsRollPitchBearingZoom(e,i){const o=e.around,a=i.screenPointToLocation(o);e.bearingDelta&&i.setBearing(i.bearing+e.bearingDelta),e.pitchDelta&&i.setPitch(i.pitch+e.pitchDelta),e.rollDelta&&i.setRoll(i.roll+e.rollDelta);const h=i.zoom;e.zoomDelta&&i.setZoom(i.zoom+e.zoomDelta);const f=i.zoom-h;if(f===0)return;const _=c.bn(i.center.lng,a.lng),y=_/(Math.abs(_/180)+1),v=c.bn(i.center.lat,a.lat),T=i.getRayDirectionFromPixel(o),C=i.cameraPosition,M=-1*c.aV(C,T),D=c.bi();c.aP(D,C,[T[0]*M,T[1]*M,T[2]*M]);const B=c.bt(D)-1,$=Math.exp(.5*-Math.max(B-.3,0)),Z=po(i.worldSize,i.center.lat)/Math.min(i.width,i.height),G=c.bf(Z,.9,.5,1,.25),H=(1-c.aI(-f))*Math.min($,G),Y=i.center.lat,Q=i.zoom,ee=new c.Q(i.center.lng+y*H,c.ae(i.center.lat+v*H,-85.051129,c.aJ));i.setLocationAtPoint(a,o);const se=i.center,te=c.bf(Math.abs(_),45,85,0,1),pe=c.bf(Z,.75,.35,0,1),de=Math.pow(Math.max(te,pe),.25),be=c.bn(se.lng,ee.lng),Te=c.bn(se.lat,ee.lat);i.setCenter(new c.Q(se.lng+be*de,se.lat+Te*de).wrap()),i.setZoom(Q+Jt(Y,i.center.lat))}handleMapControlsPan(e,i,o){if(!e.panDelta)return;const a=i.center.lat,h=i.zoom;i.setCenter(rr(e.panDelta,i).wrap()),i.setZoom(h+Jt(a,i.center.lat))}cameraForBoxAndBearing(e,i,o,a,h){const f=Cs(e,i,o,a,h),_=i.left/h.width*2-1,y=(h.width-i.right)/h.width*2-1,v=i.top/h.height*-2+1,T=(h.height-i.bottom)/h.height*-2+1,C=c.bn(o.getWest(),o.getEast())<0,M=C?o.getEast():o.getWest(),D=C?o.getWest():o.getEast(),B=Math.max(o.getNorth(),o.getSouth()),$=Math.min(o.getNorth(),o.getSouth()),Z=M+.5*c.bn(M,D),G=B+.5*c.bn(B,$),H=h.clone();H.setCenter(f.center),H.setBearing(f.bearing),H.setPitch(0),H.setRoll(0),H.setZoom(f.zoom);const Y=H.modelViewProjectionMatrix,Q=[_i(o.getNorthWest()),_i(o.getNorthEast()),_i(o.getSouthWest()),_i(o.getSouthEast()),_i(new c.Q(D,G)),_i(new c.Q(M,G)),_i(new c.Q(Z,B)),_i(new c.Q(Z,$))],ee=_i(f.center);let se=Number.POSITIVE_INFINITY;for(const te of Q)_<0&&(se=nr.getLesserNonNegativeNonNull(se,nr.solveVectorScale(te,ee,Y,"x",_))),y>0&&(se=nr.getLesserNonNegativeNonNull(se,nr.solveVectorScale(te,ee,Y,"x",y))),v>0&&(se=nr.getLesserNonNegativeNonNull(se,nr.solveVectorScale(te,ee,Y,"y",v))),T<0&&(se=nr.getLesserNonNegativeNonNull(se,nr.solveVectorScale(te,ee,Y,"y",T)));if(Number.isFinite(se)&&se!==0)return f.zoom=H.zoom+c.ab(se),f;Hn()}handleJumpToCenterZoom(e,i){const o=e.center.lat,a=e.getConstrained(i.center?c.Q.convert(i.center):e.center,e.zoom).center;e.setCenter(a.wrap());const h=i.zoom!==void 0?+i.zoom:e.zoom+Jt(o,a.lat);e.zoom!==h&&e.setZoom(h)}handleEaseTo(e,i){const o=e.zoom,a=e.center,h=e.padding,f={roll:e.roll,pitch:e.pitch,bearing:e.bearing},_={roll:i.roll===void 0?e.roll:i.roll,pitch:i.pitch===void 0?e.pitch:i.pitch,bearing:i.bearing===void 0?e.bearing:i.bearing},y=i.zoom!==void 0,v=!e.isPaddingEqual(i.padding);let T=!1;const C=i.center?c.Q.convert(i.center):a,M=e.getConstrained(C,o).center;co(e,M);const D=e.clone();D.setCenter(M),D.setZoom(y?+i.zoom:o+Jt(a.lat,C.lat)),D.setBearing(i.bearing);const B=new c.P(c.ae(e.centerPoint.x+i.offsetAsPoint.x,0,e.width),c.ae(e.centerPoint.y+i.offsetAsPoint.y,0,e.height));D.setLocationAtPoint(M,B);const $=(i.offset&&i.offsetAsPoint.mag())>0?D.center:M,Z=y?+i.zoom:o+Jt(a.lat,$.lat),G=o+Jt(a.lat,0),H=Z+Jt($.lat,0),Y=c.bn(a.lng,$.lng),Q=c.bn(a.lat,$.lat),ee=c.aI(H-G);return T=Z!==o,{easeFunc:se=>{if(c.b6(f,_)||Wr({startEulerAngles:f,endEulerAngles:_,tr:e,k:se,useSlerp:f.roll!=_.roll}),v&&e.interpolatePadding(h,i.padding,se),i.around)c.w("Easing around a point is not supported under globe projection."),e.setLocationAtPoint(i.around,i.aroundPoint);else{const te=H>G?Math.min(2,ee):Math.max(.5,ee),pe=Math.pow(te,1-se),de=aa(a,Y,Q,se*pe);e.setCenter(de.wrap())}if(T){const te=c.B.number(G,H,se)+Jt(0,e.center.lat);e.setZoom(te)}},isZooming:T,elevationCenter:$}}handleFlyTo(e,i){const o=i.zoom!==void 0,a=e.center,h=e.zoom,f=e.padding,_=!e.isPaddingEqual(i.padding),y=e.getConstrained(c.Q.convert(i.center||i.locationAtOffset),h).center,v=o?+i.zoom:e.zoom+Jt(e.center.lat,y.lat),T=e.clone();T.setCenter(y),T.setZoom(v),T.setBearing(i.bearing);const C=new c.P(c.ae(e.centerPoint.x+i.offsetAsPoint.x,0,e.width),c.ae(e.centerPoint.y+i.offsetAsPoint.y,0,e.height));T.setLocationAtPoint(y,C);const M=T.center;co(e,M);const D=function(Q,ee,se){const te=_i(ee),pe=_i(se),de=c.aV(te,pe),be=Math.acos(de),Te=Il(Q);return be/(2*Math.PI)*Te}(e,a,M),B=h+Jt(a.lat,0),$=v+Jt(M.lat,0),Z=c.aI($-B);let G;if(typeof i.minZoom=="number"){const Q=+i.minZoom+Jt(M.lat,0),ee=Math.min(Q,B,$)+Jt(0,M.lat),se=e.getConstrained(M,ee).zoom+Jt(M.lat,0);G=c.aI(se-B)}const H=c.bn(a.lng,M.lng),Y=c.bn(a.lat,M.lat);return{easeFunc:(Q,ee,se,te)=>{const pe=aa(a,H,Y,se);_&&e.interpolatePadding(f,i.padding,Q);const de=Q===1?M:pe;e.setCenter(de.wrap());const be=B+c.ab(ee);e.setZoom(Q===1?v:be+Jt(0,de.lat))},scaleOfZoom:Z,targetCenter:M,scaleOfMinZoom:G,pixelPathLength:D}}static solveVectorScale(e,i,o,a,h){const f=a==="x"?[o[0],o[4],o[8],o[12]]:[o[1],o[5],o[9],o[13]],_=[o[3],o[7],o[11],o[15]],y=e[0]*f[0]+e[1]*f[1]+e[2]*f[2],v=e[0]*_[0]+e[1]*_[1]+e[2]*_[2],T=i[0]*f[0]+i[1]*f[1]+i[2]*f[2],C=i[0]*_[0]+i[1]*_[1]+i[2]*_[2];return T+h*v===y+h*C||_[3]*(y-T)+f[3]*(C-v)+y*C==T*v?null:(T+f[3]-h*C-h*_[3])/(T-y-h*C+h*v)}static getLesserNonNegativeNonNull(e,i){return i!==null&&i>=0&&i<e?i:e}}class zl{constructor(e){this._globe=e,this._mercatorCameraHelper=new ki,this._verticalPerspectiveCameraHelper=new nr}get useGlobeControls(){return this._globe.useGlobeRendering}get currentHelper(){return this.useGlobeControls?this._verticalPerspectiveCameraHelper:this._mercatorCameraHelper}handlePanInertia(e,i){return this.currentHelper.handlePanInertia(e,i)}handleMapControlsRollPitchBearingZoom(e,i){return this.currentHelper.handleMapControlsRollPitchBearingZoom(e,i)}handleMapControlsPan(e,i,o){this.currentHelper.handleMapControlsPan(e,i,o)}cameraForBoxAndBearing(e,i,o,a,h){return this.currentHelper.cameraForBoxAndBearing(e,i,o,a,h)}handleJumpToCenterZoom(e,i){this.currentHelper.handleJumpToCenterZoom(e,i)}handleEaseTo(e,i){return this.currentHelper.handleEaseTo(e,i)}handleFlyTo(e,i){return this.currentHelper.handleFlyTo(e,i)}}const yn=(u,e)=>c.x(u,e&&e.filter(i=>i.identifier!=="source.canvas")),ca=c.bu();class Jn extends c.E{constructor(e,i={}){super(),this._rtlPluginLoaded=()=>{for(const o in this.sourceCaches){const a=this.sourceCaches[o].getSource().type;a!=="vector"&&a!=="geojson"||this.sourceCaches[o].reload()}},this.map=e,this.dispatcher=new un(cn(),e._getMapId()),this.dispatcher.registerMessageHandler("GG",(o,a)=>this.getGlyphs(o,a)),this.dispatcher.registerMessageHandler("GI",(o,a)=>this.getImages(o,a)),this.imageManager=new so,this.imageManager.setEventedParent(this),this.glyphManager=new vi(e._requestManager,i.localIdeographFontFamily),this.lineAtlas=new ln(256,512),this.crossTileSymbolIndex=new lo,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new c.bv,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("SR",c.bw()),wr().on(fn,this._rtlPluginLoaded),this.on("data",o=>{if(o.dataType!=="source"||o.sourceDataType!=="metadata")return;const a=this.sourceCaches[o.sourceId];if(!a)return;const h=a.getSource();if(h&&h.vectorLayerIds)for(const f in this._layers){const _=this._layers[f];_.source===h.id&&this._validateLayer(_)}})}loadURL(e,i={},o){this.fire(new c.l("dataloading",{dataType:"style"})),i.validate=typeof i.validate!="boolean"||i.validate;const a=this.map._requestManager.transformRequest(e,"Style");this._loadStyleRequest=new AbortController;const h=this._loadStyleRequest;c.j(a,this._loadStyleRequest).then(f=>{this._loadStyleRequest=null,this._load(f.data,i,o)}).catch(f=>{this._loadStyleRequest=null,f&&!h.signal.aborted&&this.fire(new c.k(f))})}loadJSON(e,i={},o){this.fire(new c.l("dataloading",{dataType:"style"})),this._frameRequest=new AbortController,Ve.frameAsync(this._frameRequest).then(()=>{this._frameRequest=null,i.validate=i.validate!==!1,this._load(e,i,o)}).catch(()=>{})}loadEmpty(){this.fire(new c.l("dataloading",{dataType:"style"})),this._load(ca,{validate:!1})}_load(e,i,o){var a,h;const f=i.transformStyle?i.transformStyle(o,e):e;if(!i.validate||!yn(this,c.y(f))){this._loaded=!0,this.stylesheet=f;for(const _ in f.sources)this.addSource(_,f.sources[_],{validate:!1});f.sprite?this._loadSprite(f.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(f.glyphs),this._createLayers(),this.light=new Ln(this.stylesheet.light),this._setProjectionInternal(((a=this.stylesheet.projection)===null||a===void 0?void 0:a.type)||"mercator"),this.sky=new an(this.stylesheet.sky),this.map.setTerrain((h=this.stylesheet.terrain)!==null&&h!==void 0?h:null),this.fire(new c.l("data",{dataType:"style"})),this.fire(new c.l("style.load"))}}_createLayers(){const e=c.bx(this.stylesheet.layers);this.dispatcher.broadcast("SL",e),this._order=e.map(i=>i.id),this._layers={},this._serializedLayers=null;for(const i of e){const o=c.by(i);o.setEventedParent(this,{layer:{id:i.id}}),this._layers[i.id]=o}}_loadSprite(e,i=!1,o=void 0){let a;this.imageManager.setLoaded(!1),this._spriteRequest=new AbortController,function(h,f,_,y){return c._(this,void 0,void 0,function*(){const v=vt(h),T=_>1?"@2x":"",C={},M={};for(const{id:D,url:B}of v){const $=f.transformRequest(yt(B,T,".json"),"SpriteJSON");C[D]=c.j($,y);const Z=f.transformRequest(yt(B,T,".png"),"SpriteImage");M[D]=Lt.getImage(Z,y)}return yield Promise.all([...Object.values(C),...Object.values(M)]),function(D,B){return c._(this,void 0,void 0,function*(){const $={};for(const Z in D){$[Z]={};const G=Ve.getImageCanvasContext((yield B[Z]).data),H=(yield D[Z]).data;for(const Y in H){const{width:Q,height:ee,x:se,y:te,sdf:pe,pixelRatio:de,stretchX:be,stretchY:Te,content:xe,textFitWidth:Le,textFitHeight:Re}=H[Y];$[Z][Y]={data:null,pixelRatio:de,sdf:pe,stretchX:be,stretchY:Te,content:xe,textFitWidth:Le,textFitHeight:Re,spriteData:{width:Q,height:ee,x:se,y:te,context:G}}}}return $})}(C,M)})}(e,this.map._requestManager,this.map.getPixelRatio(),this._spriteRequest).then(h=>{if(this._spriteRequest=null,h)for(const f in h){this._spritesImagesIds[f]=[];const _=this._spritesImagesIds[f]?this._spritesImagesIds[f].filter(y=>!(y in h)):[];for(const y of _)this.imageManager.removeImage(y),this._changedImages[y]=!0;for(const y in h[f]){const v=f==="default"?y:`${f}:${y}`;this._spritesImagesIds[f].push(v),v in this.imageManager.images?this.imageManager.updateImage(v,h[f][y],!1):this.imageManager.addImage(v,h[f][y]),i&&(this._changedImages[v]=!0)}}}).catch(h=>{this._spriteRequest=null,a=h,this.fire(new c.k(a))}).finally(()=>{this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),i&&(this._changed=!0),this.dispatcher.broadcast("SI",this._availableImages),this.fire(new c.l("data",{dataType:"style"})),o&&o(a)})}_unloadSprite(){for(const e of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(e),this._changedImages[e]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new c.l("data",{dataType:"style"}))}_validateLayer(e){const i=this.sourceCaches[e.source];if(!i)return;const o=e.sourceLayer;if(!o)return;const a=i.getSource();(a.type==="geojson"||a.vectorLayerIds&&a.vectorLayerIds.indexOf(o)===-1)&&this.fire(new c.k(new Error(`Source layer "${o}" does not exist on source "${a.id}" as specified by style layer "${e.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const e in this.sourceCaches)if(!this.sourceCaches[e].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(e,i=!1){const o=this._serializedAllLayers();if(!e||e.length===0)return Object.values(i?c.bz(o):o);const a=[];for(const h of e)if(o[h]){const f=i?c.bz(o[h]):o[h];a.push(f)}return a}_serializedAllLayers(){let e=this._serializedLayers;if(e)return e;e=this._serializedLayers={};const i=Object.keys(this._layers);for(const o of i){const a=this._layers[o];a.type!=="custom"&&(e[o]=a.serialize())}return e}hasTransitions(){var e,i,o;if(!((e=this.light)===null||e===void 0)&&e.hasTransition()||!((i=this.sky)===null||i===void 0)&&i.hasTransition()||!((o=this.projection)===null||o===void 0)&&o.hasTransition())return!0;for(const a in this.sourceCaches)if(this.sourceCaches[a].hasTransition())return!0;for(const a in this._layers)if(this._layers[a].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(e){if(!this._loaded)return;const i=this._changed;if(i){const a=Object.keys(this._updatedLayers),h=Object.keys(this._removedLayers);(a.length||h.length)&&this._updateWorkerLayers(a,h);for(const f in this._updatedSources){const _=this._updatedSources[f];if(_==="reload")this._reloadSource(f);else{if(_!=="clear")throw new Error(`Invalid action ${_}`);this._clearSource(f)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const f in this._updatedPaintProps)this._layers[f].updateTransitions(e);this.light.updateTransitions(e),this.sky.updateTransitions(e),this._resetUpdates()}const o={};for(const a in this.sourceCaches){const h=this.sourceCaches[a];o[a]=h.used,h.used=!1}for(const a of this._order){const h=this._layers[a];h.recalculate(e,this._availableImages),!h.isHidden(e.zoom)&&h.source&&(this.sourceCaches[h.source].used=!0)}for(const a in o){const h=this.sourceCaches[a];!!o[a]!=!!h.used&&h.fire(new c.l("data",{sourceDataType:"visibility",dataType:"source",sourceId:a}))}this.light.recalculate(e),this.sky.recalculate(e),this.projection.recalculate(e),this.z=e.zoom,i&&this.fire(new c.l("data",{dataType:"style"}))}_updateTilesForChangedImages(){const e=Object.keys(this._changedImages);if(e.length){for(const i in this.sourceCaches)this.sourceCaches[i].reloadTilesForDependencies(["icons","patterns"],e);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const e in this.sourceCaches)this.sourceCaches[e].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(e,i){this.dispatcher.broadcast("UL",{layers:this._serializeByIds(e,!1),removedIds:i})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(e,i={}){var o;this._checkLoaded();const a=this.serialize();if(e=i.transformStyle?i.transformStyle(a,e):e,((o=i.validate)===null||o===void 0||o)&&yn(this,c.y(e)))return!1;(e=c.bz(e)).layers=c.bx(e.layers);const h=c.bA(a,e),f=this._getOperationsToPerform(h);if(f.unimplemented.length>0)throw new Error(`Unimplemented: ${f.unimplemented.join(", ")}.`);if(f.operations.length===0)return!1;for(const _ of f.operations)_();return this.stylesheet=e,this._serializedLayers=null,!0}_getOperationsToPerform(e){const i=[],o=[];for(const a of e)switch(a.command){case"setCenter":case"setZoom":case"setBearing":case"setPitch":case"setRoll":continue;case"addLayer":i.push(()=>this.addLayer.apply(this,a.args));break;case"removeLayer":i.push(()=>this.removeLayer.apply(this,a.args));break;case"setPaintProperty":i.push(()=>this.setPaintProperty.apply(this,a.args));break;case"setLayoutProperty":i.push(()=>this.setLayoutProperty.apply(this,a.args));break;case"setFilter":i.push(()=>this.setFilter.apply(this,a.args));break;case"addSource":i.push(()=>this.addSource.apply(this,a.args));break;case"removeSource":i.push(()=>this.removeSource.apply(this,a.args));break;case"setLayerZoomRange":i.push(()=>this.setLayerZoomRange.apply(this,a.args));break;case"setLight":i.push(()=>this.setLight.apply(this,a.args));break;case"setGeoJSONSourceData":i.push(()=>this.setGeoJSONSourceData.apply(this,a.args));break;case"setGlyphs":i.push(()=>this.setGlyphs.apply(this,a.args));break;case"setSprite":i.push(()=>this.setSprite.apply(this,a.args));break;case"setTerrain":i.push(()=>this.map.setTerrain.apply(this,a.args));break;case"setSky":i.push(()=>this.setSky.apply(this,a.args));break;case"setProjection":this.setProjection.apply(this,a.args);break;case"setTransition":i.push(()=>{});break;default:o.push(a.command)}return{operations:i,unimplemented:o}}addImage(e,i){if(this.getImage(e))return this.fire(new c.k(new Error(`An image named "${e}" already exists.`)));this.imageManager.addImage(e,i),this._afterImageUpdated(e)}updateImage(e,i){this.imageManager.updateImage(e,i)}getImage(e){return this.imageManager.getImage(e)}removeImage(e){if(!this.getImage(e))return this.fire(new c.k(new Error(`An image named "${e}" does not exist.`)));this.imageManager.removeImage(e),this._afterImageUpdated(e)}_afterImageUpdated(e){this._availableImages=this.imageManager.listImages(),this._changedImages[e]=!0,this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new c.l("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(e,i,o={}){if(this._checkLoaded(),this.sourceCaches[e]!==void 0)throw new Error(`Source "${e}" already exists.`);if(!i.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(i).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(i.type)>=0&&this._validate(c.y.source,`sources.${e}`,i,null,o))return;this.map&&this.map._collectResourceTiming&&(i.collectResourceTiming=!0);const a=this.sourceCaches[e]=new F(e,i,this.dispatcher);a.style=this,a.setEventedParent(this,()=>({isSourceLoaded:a.loaded(),source:a.serialize(),sourceId:e})),a.onAdd(this.map),this._changed=!0}removeSource(e){if(this._checkLoaded(),this.sourceCaches[e]===void 0)throw new Error("There is no source with this ID");for(const o in this._layers)if(this._layers[o].source===e)return this.fire(new c.k(new Error(`Source "${e}" cannot be removed while layer "${o}" is using it.`)));const i=this.sourceCaches[e];delete this.sourceCaches[e],delete this._updatedSources[e],i.fire(new c.l("data",{sourceDataType:"metadata",dataType:"source",sourceId:e})),i.setEventedParent(null),i.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(e,i){if(this._checkLoaded(),this.sourceCaches[e]===void 0)throw new Error(`There is no source with this ID=${e}`);const o=this.sourceCaches[e].getSource();if(o.type!=="geojson")throw new Error(`geojsonSource.type is ${o.type}, which is !== 'geojson`);o.setData(i),this._changed=!0}getSource(e){return this.sourceCaches[e]&&this.sourceCaches[e].getSource()}addLayer(e,i,o={}){this._checkLoaded();const a=e.id;if(this.getLayer(a))return void this.fire(new c.k(new Error(`Layer "${a}" already exists on this map.`)));let h;if(e.type==="custom"){if(yn(this,c.bB(e)))return;h=c.by(e)}else{if("source"in e&&typeof e.source=="object"&&(this.addSource(a,e.source),e=c.bz(e),e=c.e(e,{source:a})),this._validate(c.y.layer,`layers.${a}`,e,{arrayIndex:-1},o))return;h=c.by(e),this._validateLayer(h),h.setEventedParent(this,{layer:{id:a}})}const f=i?this._order.indexOf(i):this._order.length;if(i&&f===-1)this.fire(new c.k(new Error(`Cannot add layer "${a}" before non-existing layer "${i}".`)));else{if(this._order.splice(f,0,a),this._layerOrderChanged=!0,this._layers[a]=h,this._removedLayers[a]&&h.source&&h.type!=="custom"){const _=this._removedLayers[a];delete this._removedLayers[a],_.type!==h.type?this._updatedSources[h.source]="clear":(this._updatedSources[h.source]="reload",this.sourceCaches[h.source].pause())}this._updateLayer(h),h.onAdd&&h.onAdd(this.map)}}moveLayer(e,i){if(this._checkLoaded(),this._changed=!0,!this._layers[e])return void this.fire(new c.k(new Error(`The layer '${e}' does not exist in the map's style and cannot be moved.`)));if(e===i)return;const o=this._order.indexOf(e);this._order.splice(o,1);const a=i?this._order.indexOf(i):this._order.length;i&&a===-1?this.fire(new c.k(new Error(`Cannot move layer "${e}" before non-existing layer "${i}".`))):(this._order.splice(a,0,e),this._layerOrderChanged=!0)}removeLayer(e){this._checkLoaded();const i=this._layers[e];if(!i)return void this.fire(new c.k(new Error(`Cannot remove non-existing layer "${e}".`)));i.setEventedParent(null);const o=this._order.indexOf(e);this._order.splice(o,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[e]=i,delete this._layers[e],this._serializedLayers&&delete this._serializedLayers[e],delete this._updatedLayers[e],delete this._updatedPaintProps[e],i.onRemove&&i.onRemove(this.map)}getLayer(e){return this._layers[e]}getLayersOrder(){return[...this._order]}hasLayer(e){return e in this._layers}setLayerZoomRange(e,i,o){this._checkLoaded();const a=this.getLayer(e);a?a.minzoom===i&&a.maxzoom===o||(i!=null&&(a.minzoom=i),o!=null&&(a.maxzoom=o),this._updateLayer(a)):this.fire(new c.k(new Error(`Cannot set the zoom range of non-existing layer "${e}".`)))}setFilter(e,i,o={}){this._checkLoaded();const a=this.getLayer(e);if(a){if(!c.bC(a.filter,i))return i==null?(a.filter=void 0,void this._updateLayer(a)):void(this._validate(c.y.filter,`layers.${a.id}.filter`,i,null,o)||(a.filter=c.bz(i),this._updateLayer(a)))}else this.fire(new c.k(new Error(`Cannot filter non-existing layer "${e}".`)))}getFilter(e){return c.bz(this.getLayer(e).filter)}setLayoutProperty(e,i,o,a={}){this._checkLoaded();const h=this.getLayer(e);h?c.bC(h.getLayoutProperty(i),o)||(h.setLayoutProperty(i,o,a),this._updateLayer(h)):this.fire(new c.k(new Error(`Cannot style non-existing layer "${e}".`)))}getLayoutProperty(e,i){const o=this.getLayer(e);if(o)return o.getLayoutProperty(i);this.fire(new c.k(new Error(`Cannot get style of non-existing layer "${e}".`)))}setPaintProperty(e,i,o,a={}){this._checkLoaded();const h=this.getLayer(e);h?c.bC(h.getPaintProperty(i),o)||(h.setPaintProperty(i,o,a)&&this._updateLayer(h),this._changed=!0,this._updatedPaintProps[e]=!0,this._serializedLayers=null):this.fire(new c.k(new Error(`Cannot style non-existing layer "${e}".`)))}getPaintProperty(e,i){return this.getLayer(e).getPaintProperty(i)}setFeatureState(e,i){this._checkLoaded();const o=e.source,a=e.sourceLayer,h=this.sourceCaches[o];if(h===void 0)return void this.fire(new c.k(new Error(`The source '${o}' does not exist in the map's style.`)));const f=h.getSource().type;f==="geojson"&&a?this.fire(new c.k(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):f!=="vector"||a?(e.id===void 0&&this.fire(new c.k(new Error("The feature id parameter must be provided."))),h.setFeatureState(a,e.id,i)):this.fire(new c.k(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(e,i){this._checkLoaded();const o=e.source,a=this.sourceCaches[o];if(a===void 0)return void this.fire(new c.k(new Error(`The source '${o}' does not exist in the map's style.`)));const h=a.getSource().type,f=h==="vector"?e.sourceLayer:void 0;h!=="vector"||f?i&&typeof e.id!="string"&&typeof e.id!="number"?this.fire(new c.k(new Error("A feature id is required to remove its specific state property."))):a.removeFeatureState(f,e.id,i):this.fire(new c.k(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(e){this._checkLoaded();const i=e.source,o=e.sourceLayer,a=this.sourceCaches[i];if(a!==void 0)return a.getSource().type!=="vector"||o?(e.id===void 0&&this.fire(new c.k(new Error("The feature id parameter must be provided."))),a.getFeatureState(o,e.id)):void this.fire(new c.k(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new c.k(new Error(`The source '${i}' does not exist in the map's style.`)))}getTransition(){return c.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const e=c.bD(this.sourceCaches,h=>h.serialize()),i=this._serializeByIds(this._order,!0),o=this.map.getTerrain()||void 0,a=this.stylesheet;return c.bE({version:a.version,name:a.name,metadata:a.metadata,light:a.light,sky:a.sky,center:a.center,zoom:a.zoom,bearing:a.bearing,pitch:a.pitch,sprite:a.sprite,glyphs:a.glyphs,transition:a.transition,projection:a.projection,sources:e,layers:i,terrain:o},h=>h!==void 0)}_updateLayer(e){this._updatedLayers[e.id]=!0,e.source&&!this._updatedSources[e.source]&&this.sourceCaches[e.source].getSource().type!=="raster"&&(this._updatedSources[e.source]="reload",this.sourceCaches[e.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(e){const i=f=>this._layers[f].type==="fill-extrusion",o={},a=[];for(let f=this._order.length-1;f>=0;f--){const _=this._order[f];if(i(_)){o[_]=f;for(const y of e){const v=y[_];if(v)for(const T of v)a.push(T)}}}a.sort((f,_)=>_.intersectionZ-f.intersectionZ);const h=[];for(let f=this._order.length-1;f>=0;f--){const _=this._order[f];if(i(_))for(let y=a.length-1;y>=0;y--){const v=a[y].feature;if(o[v.layer.id]<f)break;h.push(v),a.pop()}else for(const y of e){const v=y[_];if(v)for(const T of v)h.push(T.feature)}}return h}queryRenderedFeatures(e,i,o){i&&i.filter&&this._validate(c.y.filter,"queryRenderedFeatures.filter",i.filter,null,i);const a={};if(i&&i.layers){if(!(Array.isArray(i.layers)||i.layers instanceof Set))return this.fire(new c.k(new Error("parameters.layers must be an Array or a Set of strings"))),[];for(const v of i.layers){const T=this._layers[v];if(!T)return this.fire(new c.k(new Error(`The layer '${v}' does not exist in the map's style and cannot be queried for features.`))),[];a[T.source]=!0}}const h=[];i.availableImages=this._availableImages;const f=this._serializedAllLayers(),_=i.layers instanceof Set?i.layers:Array.isArray(i.layers)?new Set(i.layers):null,y=Object.assign(Object.assign({},i),{layers:_});for(const v in this.sourceCaches)i.layers&&!a[v]||h.push(bs(this.sourceCaches[v],this._layers,f,e,y,o,this.map.terrain?(T,C,M)=>this.map.terrain.getElevation(T,C,M):void 0));return this.placement&&h.push(function(v,T,C,M,D,B,$){const Z={},G=B.queryRenderedSymbols(M),H=[];for(const Y of Object.keys(G).map(Number))H.push($[Y]);H.sort(bi);for(const Y of H){const Q=Y.featureIndex.lookupSymbolFeatures(G[Y.bucketInstanceId],T,Y.bucketIndex,Y.sourceLayerIndex,D.filter,D.layers,D.availableImages,v);for(const ee in Q){const se=Z[ee]=Z[ee]||[],te=Q[ee];te.sort((pe,de)=>{const be=Y.featureSortOrder;if(be){const Te=be.indexOf(pe.featureIndex);return be.indexOf(de.featureIndex)-Te}return de.featureIndex-pe.featureIndex});for(const pe of te)se.push(pe)}}return function(Y,Q,ee){for(const se in Y)for(const te of Y[se])ii(te,ee[Q[se].source]);return Y}(Z,v,C)}(this._layers,f,this.sourceCaches,e,y,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(h)}querySourceFeatures(e,i){i&&i.filter&&this._validate(c.y.filter,"querySourceFeatures.filter",i.filter,null,i);const o=this.sourceCaches[e];return o?function(a,h){const f=a.getRenderableIds().map(v=>a.getTileByID(v)),_=[],y={};for(let v=0;v<f.length;v++){const T=f[v],C=T.tileID.canonical.key;y[C]||(y[C]=!0,T.querySourceFeatures(_,h))}return _}(o,i):[]}getLight(){return this.light.getLight()}setLight(e,i={}){this._checkLoaded();const o=this.light.getLight();let a=!1;for(const f in e)if(!c.bC(e[f],o[f])){a=!0;break}if(!a)return;const h={now:Ve.now(),transition:c.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(e,i),this.light.updateTransitions(h)}getProjection(){var e;return(e=this.stylesheet)===null||e===void 0?void 0:e.projection}setProjection(e){if(this._checkLoaded(),this.projection){if(this.projection.name===e.type)return;this.projection.destroy(),delete this.projection}this.stylesheet.projection=e,this._setProjectionInternal(e.type)}getSky(){var e;return(e=this.stylesheet)===null||e===void 0?void 0:e.sky}setSky(e,i={}){this._checkLoaded();const o=this.getSky();let a=!1;if(!e&&!o)return;if(e&&!o)a=!0;else if(!e&&o)a=!0;else for(const f in e)if(!c.bC(e[f],o[f])){a=!0;break}if(!a)return;const h={now:Ve.now(),transition:c.e({duration:300,delay:0},this.stylesheet.transition)};this.stylesheet.sky=e,this.sky.setSky(e,i),this.sky.updateTransitions(h)}_setProjectionInternal(e){const i=function(o){if(Array.isArray(o)){const a=new Xn({type:o});return{projection:a,transform:new mo,cameraHelper:new zl(a)}}switch(o){case"mercator":return{projection:new ft,transform:new Bt,cameraHelper:new ki};case"globe":{const a=new Xn({type:["interpolate",["linear"],["zoom"],11,"vertical-perspective",12,"mercator"]});return{projection:a,transform:new mo,cameraHelper:new zl(a)}}case"vertical-perspective":return{projection:new zs,transform:new fo,cameraHelper:new nr};default:return c.w(`Unknown projection name: ${o}. Falling back to mercator projection.`),{projection:new ft,transform:new Bt,cameraHelper:new ki}}}(e);this.projection=i.projection,this.map.migrateProjection(i.transform,i.cameraHelper);for(const o in this.sourceCaches)this.sourceCaches[o].reload()}_validate(e,i,o,a,h={}){return(!h||h.validate!==!1)&&yn(this,e.call(c.y,c.e({key:i,style:this.serialize(),value:o,styleSpec:c.v},a)))}_remove(e=!0){this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._loadStyleRequest&&(this._loadStyleRequest.abort(),this._loadStyleRequest=null),this._spriteRequest&&(this._spriteRequest.abort(),this._spriteRequest=null),wr().off(fn,this._rtlPluginLoaded);for(const i in this._layers)this._layers[i].setEventedParent(null);for(const i in this.sourceCaches){const o=this.sourceCaches[i];o.setEventedParent(null),o.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),e&&this.dispatcher.broadcast("RM",void 0),this.dispatcher.remove(e)}_clearSource(e){this.sourceCaches[e].clearTiles()}_reloadSource(e){this.sourceCaches[e].resume(),this.sourceCaches[e].reload()}_updateSources(e){for(const i in this.sourceCaches)this.sourceCaches[i].update(e,this.map.terrain)}_generateCollisionBoxes(){for(const e in this.sourceCaches)this._reloadSource(e)}_updatePlacement(e,i,o,a,h=!1){let f=!1,_=!1;const y={};for(const v of this._order){const T=this._layers[v];if(T.type!=="symbol")continue;if(!y[T.source]){const M=this.sourceCaches[T.source];y[T.source]=M.getRenderableIds(!0).map(D=>M.getTileByID(D)).sort((D,B)=>B.tileID.overscaledZ-D.tileID.overscaledZ||(D.tileID.isLessThan(B.tileID)?-1:1))}const C=this.crossTileSymbolIndex.addLayer(T,y[T.source],e.center.lng);f=f||C}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((h=h||this._layerOrderChanged||o===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(Ve.now(),e.zoom))&&(this.pauseablePlacement=new Sl(e,this.map.terrain,this._order,h,i,o,a,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,y),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(Ve.now()),_=!0),f&&this.pauseablePlacement.placement.setStale()),_||f)for(const v of this._order){const T=this._layers[v];T.type==="symbol"&&this.placement.updateLayerOpacities(T,y[T.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(Ve.now())}_releaseSymbolFadeTiles(){for(const e in this.sourceCaches)this.sourceCaches[e].releaseSymbolFadeTiles()}getImages(e,i){return c._(this,void 0,void 0,function*(){const o=yield this.imageManager.getImages(i.icons);this._updateTilesForChangedImages();const a=this.sourceCaches[i.source];return a&&a.setDependencies(i.tileID.key,i.type,i.icons),o})}getGlyphs(e,i){return c._(this,void 0,void 0,function*(){const o=yield this.glyphManager.getGlyphs(i.stacks),a=this.sourceCaches[i.source];return a&&a.setDependencies(i.tileID.key,i.type,[""]),o})}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(e,i={}){this._checkLoaded(),e&&this._validate(c.y.glyphs,"glyphs",e,null,i)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=e,this.glyphManager.entries={},this.glyphManager.setURL(e))}addSprite(e,i,o={},a){this._checkLoaded();const h=[{id:e,url:i}],f=[...vt(this.stylesheet.sprite),...h];this._validate(c.y.sprite,"sprite",f,null,o)||(this.stylesheet.sprite=f,this._loadSprite(h,!0,a))}removeSprite(e){this._checkLoaded();const i=vt(this.stylesheet.sprite);if(i.find(o=>o.id===e)){if(this._spritesImagesIds[e])for(const o of this._spritesImagesIds[e])this.imageManager.removeImage(o),this._changedImages[o]=!0;i.splice(i.findIndex(o=>o.id===e),1),this.stylesheet.sprite=i.length>0?i:void 0,delete this._spritesImagesIds[e],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new c.l("data",{dataType:"style"}))}else this.fire(new c.k(new Error(`Sprite "${e}" doesn't exists on this map.`)))}getSprite(){return vt(this.stylesheet.sprite)}setSprite(e,i={},o){this._checkLoaded(),e&&this._validate(c.y.sprite,"sprite",e,null,i)||(this.stylesheet.sprite=e,e?this._loadSprite(e,!0,o):(this._unloadSprite(),o&&o(null)))}}var ua=c.aD([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class ha{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(e,i,o,a,h,f,_,y,v){this.context=e;let T=this.boundPaintVertexBuffers.length!==a.length;for(let C=0;!T&&C<a.length;C++)this.boundPaintVertexBuffers[C]!==a[C]&&(T=!0);!this.vao||this.boundProgram!==i||this.boundLayoutVertexBuffer!==o||T||this.boundIndexBuffer!==h||this.boundVertexOffset!==f||this.boundDynamicVertexBuffer!==_||this.boundDynamicVertexBuffer2!==y||this.boundDynamicVertexBuffer3!==v?this.freshBind(i,o,a,h,f,_,y,v):(e.bindVertexArray.set(this.vao),_&&_.bind(),h&&h.dynamicDraw&&h.bind(),y&&y.bind(),v&&v.bind())}freshBind(e,i,o,a,h,f,_,y){const v=e.numAttributes,T=this.context,C=T.gl;this.vao&&this.destroy(),this.vao=T.createVertexArray(),T.bindVertexArray.set(this.vao),this.boundProgram=e,this.boundLayoutVertexBuffer=i,this.boundPaintVertexBuffers=o,this.boundIndexBuffer=a,this.boundVertexOffset=h,this.boundDynamicVertexBuffer=f,this.boundDynamicVertexBuffer2=_,this.boundDynamicVertexBuffer3=y,i.enableAttributes(C,e);for(const M of o)M.enableAttributes(C,e);f&&f.enableAttributes(C,e),_&&_.enableAttributes(C,e),y&&y.enableAttributes(C,e),i.bind(),i.setVertexAttribPointers(C,e,h);for(const M of o)M.bind(),M.setVertexAttribPointers(C,e,h);f&&(f.bind(),f.setVertexAttribPointers(C,e,h)),a&&a.bind(),_&&(_.bind(),_.setVertexAttribPointers(C,e,h)),y&&(y.bind(),y.setVertexAttribPointers(C,e,h)),T.currentNumAttributes=v}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}const fr=(u,e,i,o,a)=>({u_texture:0,u_ele_delta:u,u_fog_matrix:e,u_fog_color:i?i.properties.get("fog-color"):c.b7.white,u_fog_ground_blend:i?i.properties.get("fog-ground-blend"):1,u_fog_ground_blend_opacity:a?0:i?i.calculateFogBlendOpacity(o):0,u_horizon_color:i?i.properties.get("horizon-color"):c.b7.white,u_horizon_fog_blend:i?i.properties.get("horizon-fog-blend"):1,u_is_globe_mode:a?1:0}),Yc={mainMatrix:"u_projection_matrix",tileMercatorCoords:"u_projection_tile_mercator_coords",clippingPlane:"u_projection_clipping_plane",projectionTransition:"u_projection_transition",fallbackMatrix:"u_projection_fallback_matrix"};function Qn(u){const e=[];for(let i=0;i<u.length;i++){if(u[i]===null)continue;const o=u[i].split(" ");e.push(o.pop())}return e}class ks{constructor(e,i,o,a,h,f,_,y){const v=e.gl;this.program=v.createProgram();const T=Qn(i.staticAttributes),C=o?o.getBinderAttributes():[],M=T.concat(C),D=tr.prelude.staticUniforms?Qn(tr.prelude.staticUniforms):[],B=_.staticUniforms?Qn(_.staticUniforms):[],$=i.staticUniforms?Qn(i.staticUniforms):[],Z=o?o.getBinderUniforms():[],G=D.concat(B).concat($).concat(Z),H=[];for(const de of G)H.indexOf(de)<0&&H.push(de);const Y=o?o.defines():[];ir(v)&&Y.unshift("#version 300 es"),h&&Y.push("#define OVERDRAW_INSPECTOR;"),f&&Y.push("#define TERRAIN3D;"),y&&Y.push(y);let Q=Y.concat(tr.prelude.fragmentSource,_.fragmentSource,i.fragmentSource).join(`
`),ee=Y.concat(tr.prelude.vertexSource,_.vertexSource,i.vertexSource).join(`
`);ir(v)||(Q=function(de){return de.replace(/\bin\s/g,"varying ").replace("out highp vec4 fragColor;","").replace(/fragColor/g,"gl_FragColor").replace(/texture\(/g,"texture2D(")}(Q),ee=function(de){return de.replace(/\bin\s/g,"attribute ").replace(/\bout\s/g,"varying ").replace(/texture\(/g,"texture2D(")}(ee));const se=v.createShader(v.FRAGMENT_SHADER);if(v.isContextLost())return void(this.failedToCreate=!0);if(v.shaderSource(se,Q),v.compileShader(se),!v.getShaderParameter(se,v.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${v.getShaderInfoLog(se)}`);v.attachShader(this.program,se);const te=v.createShader(v.VERTEX_SHADER);if(v.isContextLost())return void(this.failedToCreate=!0);if(v.shaderSource(te,ee),v.compileShader(te),!v.getShaderParameter(te,v.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${v.getShaderInfoLog(te)}`);v.attachShader(this.program,te),this.attributes={};const pe={};this.numAttributes=M.length;for(let de=0;de<this.numAttributes;de++)M[de]&&(v.bindAttribLocation(this.program,de,M[de]),this.attributes[M[de]]=de);if(v.linkProgram(this.program),!v.getProgramParameter(this.program,v.LINK_STATUS))throw new Error(`Program failed to link: ${v.getProgramInfoLog(this.program)}`);v.deleteShader(te),v.deleteShader(se);for(let de=0;de<H.length;de++){const be=H[de];if(be&&!pe[be]){const Te=v.getUniformLocation(this.program,be);Te&&(pe[be]=Te)}}this.fixedUniforms=a(e,pe),this.terrainUniforms=((de,be)=>({u_depth:new c.bF(de,be.u_depth),u_terrain:new c.bF(de,be.u_terrain),u_terrain_dim:new c.b8(de,be.u_terrain_dim),u_terrain_matrix:new c.bH(de,be.u_terrain_matrix),u_terrain_unpack:new c.bI(de,be.u_terrain_unpack),u_terrain_exaggeration:new c.b8(de,be.u_terrain_exaggeration)}))(e,pe),this.projectionUniforms=((de,be)=>({u_projection_matrix:new c.bH(de,be.u_projection_matrix),u_projection_tile_mercator_coords:new c.bI(de,be.u_projection_tile_mercator_coords),u_projection_clipping_plane:new c.bI(de,be.u_projection_clipping_plane),u_projection_transition:new c.b8(de,be.u_projection_transition),u_projection_fallback_matrix:new c.bH(de,be.u_projection_fallback_matrix)}))(e,pe),this.binderUniforms=o?o.getUniforms(e,pe):[]}draw(e,i,o,a,h,f,_,y,v,T,C,M,D,B,$,Z,G,H,Y){const Q=e.gl;if(this.failedToCreate)return;if(e.program.set(this.program),e.setDepthMode(o),e.setStencilMode(a),e.setColorMode(h),e.setCullFace(f),y){e.activeTexture.set(Q.TEXTURE2),Q.bindTexture(Q.TEXTURE_2D,y.depthTexture),e.activeTexture.set(Q.TEXTURE3),Q.bindTexture(Q.TEXTURE_2D,y.texture);for(const se in this.terrainUniforms)this.terrainUniforms[se].set(y[se])}if(v)for(const se in v)this.projectionUniforms[Yc[se]].set(v[se]);if(_)for(const se in this.fixedUniforms)this.fixedUniforms[se].set(_[se]);Z&&Z.setUniforms(e,this.binderUniforms,B,{zoom:$});let ee=0;switch(i){case Q.LINES:ee=2;break;case Q.TRIANGLES:ee=3;break;case Q.LINE_STRIP:ee=1}for(const se of D.get()){const te=se.vaos||(se.vaos={});(te[T]||(te[T]=new ha)).bind(e,this,C,Z?Z.getPaintVertexBuffers():[],M,se.vertexOffset,G,H,Y),Q.drawElements(i,se.primitiveLength*ee,Q.UNSIGNED_SHORT,se.primitiveOffset*ee*2)}}}function es(u,e,i){const o=1/c.aw(i,1,e.transform.tileZoom),a=Math.pow(2,i.tileID.overscaledZ),h=i.tileSize*Math.pow(2,e.transform.tileZoom)/a,f=h*(i.tileID.canonical.x+i.tileID.wrap*a),_=h*i.tileID.canonical.y;return{u_image:0,u_texsize:i.imageAtlasTexture.size,u_scale:[o,u.fromScale,u.toScale],u_fade:u.t,u_pixel_coord_upper:[f>>16,_>>16],u_pixel_coord_lower:[65535&f,65535&_]}}const kl=(u,e,i,o)=>{const a=u.style.light,h=a.properties.get("position"),f=[h.x,h.y,h.z],_=c.bL();a.properties.get("anchor")==="viewport"&&c.bM(_,u.transform.bearingInRadians),c.bN(f,f,_);const y=u.transform.transformLightDirection(f),v=a.properties.get("color");return{u_lightpos:f,u_lightpos_globe:y,u_lightintensity:a.properties.get("intensity"),u_lightcolor:[v.r,v.g,v.b],u_vertical_gradient:+e,u_opacity:i,u_fill_translate:o}},_o=(u,e,i,o,a,h,f)=>c.e(kl(u,e,i,o),es(h,u,f),{u_height_factor:-Math.pow(2,a.overscaledZ)/f.tileSize/8}),Rl=(u,e,i,o)=>c.e(es(e,u,i),{u_fill_translate:o}),ts=(u,e)=>({u_world:u,u_fill_translate:e}),Jc=(u,e,i,o,a)=>c.e(Rl(u,e,i,a),{u_world:o}),Dl=(u,e,i,o,a)=>{const h=u.transform;let f,_,y=0;if(i.paint.get("circle-pitch-alignment")==="map"){const v=c.aw(e,1,h.zoom);f=!0,_=[v,v],y=v/(c.Z*Math.pow(2,e.tileID.overscaledZ))*2*Math.PI*a}else f=!1,_=h.pixelsToGLUnits;return{u_camera_to_center_distance:h.cameraToCenterDistance,u_scale_with_map:+(i.paint.get("circle-pitch-scale")==="map"),u_pitch_with_map:+f,u_device_pixel_ratio:u.pixelRatio,u_extrude_scale:_,u_globe_extrude_scale:y,u_translate:o}},Qc=u=>({u_pixel_extrude_scale:[1/u.width,1/u.height]}),Ll=u=>({u_viewport_size:[u.width,u.height]}),go=(u,e=1)=>({u_color:u,u_overlay:0,u_overlay_scale:e}),da=(u,e,i,o)=>{const a=c.aw(u,1,e)/(c.Z*Math.pow(2,u.tileID.overscaledZ))*2*Math.PI*o;return{u_extrude_scale:c.aw(u,1,e),u_intensity:i,u_globe_extrude_scale:a}},pa=(u,e,i,o)=>{const a=c.K();c.bO(a,0,u.width,u.height,0,0,1);const h=u.context.gl;return{u_matrix:a,u_world:[h.drawingBufferWidth,h.drawingBufferHeight],u_image:i,u_color_ramp:o,u_opacity:e.paint.get("heatmap-opacity")}},Fl=(u,e,i)=>{const o=i.paint.get("hillshade-shadow-color"),a=i.paint.get("hillshade-highlight-color"),h=i.paint.get("hillshade-accent-color");let f=i.paint.get("hillshade-illumination-direction")*(Math.PI/180);return i.paint.get("hillshade-illumination-anchor")==="viewport"&&(f+=u.transform.bearingInRadians),{u_image:0,u_latrange:xn(0,e.tileID),u_light:[i.paint.get("hillshade-exaggeration"),f],u_shadow:o,u_highlight:a,u_accent:h}},Bl=(u,e)=>{const i=e.stride,o=c.K();return c.bO(o,0,c.Z,-8192,0,0,1),c.L(o,o,[0,-8192,0]),{u_matrix:o,u_image:1,u_dimension:[i,i],u_zoom:u.overscaledZ,u_unpack:e.getUnpackVector()}};function xn(u,e){const i=Math.pow(2,e.canonical.z),o=e.canonical.y;return[new c.$(0,o/i).toLngLat().lat,new c.$(0,(o+1)/i).toLngLat().lat]}const yo=(u,e,i,o)=>{const a=u.transform;return{u_translation:jl(u,e,i),u_ratio:o/c.aw(e,1,a.zoom),u_device_pixel_ratio:u.pixelRatio,u_units_to_pixels:[1/a.pixelsToGLUnits[0],1/a.pixelsToGLUnits[1]]}},Ol=(u,e,i,o,a)=>c.e(yo(u,e,i,o),{u_image:0,u_image_height:a}),Rs=(u,e,i,o,a)=>{const h=u.transform,f=Ds(e,h);return{u_translation:jl(u,e,i),u_texsize:e.imageAtlasTexture.size,u_ratio:o/c.aw(e,1,h.zoom),u_device_pixel_ratio:u.pixelRatio,u_image:0,u_scale:[f,a.fromScale,a.toScale],u_fade:a.t,u_units_to_pixels:[1/h.pixelsToGLUnits[0],1/h.pixelsToGLUnits[1]]}},eu=(u,e,i,o,a,h)=>{const f=u.lineAtlas,_=Ds(e,u.transform),y=i.layout.get("line-cap")==="round",v=f.getDash(a.from,y),T=f.getDash(a.to,y),C=v.width*h.fromScale,M=T.width*h.toScale;return c.e(yo(u,e,i,o),{u_patternscale_a:[_/C,-v.height/2],u_patternscale_b:[_/M,-T.height/2],u_sdfgamma:f.width/(256*Math.min(C,M)*u.pixelRatio)/2,u_image:0,u_tex_y_a:v.y,u_tex_y_b:T.y,u_mix:h.t})};function Ds(u,e){return 1/c.aw(u,1,e.tileZoom)}function jl(u,e,i){return c.ax(u.transform,e,i.paint.get("line-translate"),i.paint.get("line-translate-anchor"))}const tu=(u,e,i,o,a)=>{return{u_tl_parent:u,u_scale_parent:e,u_buffer_scale:1,u_fade_t:i.mix,u_opacity:i.opacity*o.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:o.paint.get("raster-brightness-min"),u_brightness_high:o.paint.get("raster-brightness-max"),u_saturation_factor:(f=o.paint.get("raster-saturation"),f>0?1-1/(1.001-f):-f),u_contrast_factor:(h=o.paint.get("raster-contrast"),h>0?1/(1-h):1+h),u_spin_weights:Nl(o.paint.get("raster-hue-rotate")),u_coords_top:[a[0].x,a[0].y,a[1].x,a[1].y],u_coords_bottom:[a[3].x,a[3].y,a[2].x,a[2].y]};var h,f};function Nl(u){u*=Math.PI/180;const e=Math.sin(u),i=Math.cos(u);return[(2*i+1)/3,(-Math.sqrt(3)*e-i+1)/3,(Math.sqrt(3)*e-i+1)/3]}const fa=(u,e,i,o,a,h,f,_,y,v,T,C,M)=>{const D=f.transform;return{u_is_size_zoom_constant:+(u==="constant"||u==="source"),u_is_size_feature_constant:+(u==="constant"||u==="camera"),u_size_t:e?e.uSizeT:0,u_size:e?e.uSize:0,u_camera_to_center_distance:D.cameraToCenterDistance,u_pitch:D.pitch/360*2*Math.PI,u_rotate_symbol:+i,u_aspect_ratio:D.width/D.height,u_fade_change:f.options.fadeDuration?f.symbolFadeChange:1,u_label_plane_matrix:_,u_coord_matrix:y,u_is_text:+T,u_pitch_with_map:+o,u_is_along_line:a,u_is_variable_anchor:h,u_texsize:C,u_texture:0,u_translation:v,u_pitched_scale:M}},ma=(u,e,i,o,a,h,f,_,y,v,T,C,M,D)=>{const B=f.transform;return c.e(fa(u,e,i,o,a,h,f,_,y,v,T,C,D),{u_gamma_scale:o?Math.cos(B.pitch*Math.PI/180)*B.cameraToCenterDistance:1,u_device_pixel_ratio:f.pixelRatio,u_is_halo:1})},_a=(u,e,i,o,a,h,f,_,y,v,T,C,M)=>c.e(ma(u,e,i,o,a,h,f,_,y,v,!0,T,0,M),{u_texsize_icon:C,u_texture_icon:1}),Vl=(u,e)=>({u_opacity:u,u_color:e}),xo=(u,e,i,o,a)=>c.e(function(h,f,_,y){const v=_.imageManager.getPattern(h.from.toString()),T=_.imageManager.getPattern(h.to.toString()),{width:C,height:M}=_.imageManager.getPixelSize(),D=Math.pow(2,y.tileID.overscaledZ),B=y.tileSize*Math.pow(2,_.transform.tileZoom)/D,$=B*(y.tileID.canonical.x+y.tileID.wrap*D),Z=B*y.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:v.tl,u_pattern_br_a:v.br,u_pattern_tl_b:T.tl,u_pattern_br_b:T.br,u_texsize:[C,M],u_mix:f.t,u_pattern_size_a:v.displaySize,u_pattern_size_b:T.displaySize,u_scale_a:f.fromScale,u_scale_b:f.toScale,u_tile_units_to_pixels:1/c.aw(y,1,_.transform.tileZoom),u_pixel_coord_upper:[$>>16,Z>>16],u_pixel_coord_lower:[65535&$,65535&Z]}}(i,a,e,o),{u_opacity:u}),mr=(u,e)=>{},ga={fillExtrusion:(u,e)=>({u_lightpos:new c.bJ(u,e.u_lightpos),u_lightpos_globe:new c.bJ(u,e.u_lightpos_globe),u_lightintensity:new c.b8(u,e.u_lightintensity),u_lightcolor:new c.bJ(u,e.u_lightcolor),u_vertical_gradient:new c.b8(u,e.u_vertical_gradient),u_opacity:new c.b8(u,e.u_opacity),u_fill_translate:new c.bK(u,e.u_fill_translate)}),fillExtrusionPattern:(u,e)=>({u_lightpos:new c.bJ(u,e.u_lightpos),u_lightpos_globe:new c.bJ(u,e.u_lightpos_globe),u_lightintensity:new c.b8(u,e.u_lightintensity),u_lightcolor:new c.bJ(u,e.u_lightcolor),u_vertical_gradient:new c.b8(u,e.u_vertical_gradient),u_height_factor:new c.b8(u,e.u_height_factor),u_opacity:new c.b8(u,e.u_opacity),u_fill_translate:new c.bK(u,e.u_fill_translate),u_image:new c.bF(u,e.u_image),u_texsize:new c.bK(u,e.u_texsize),u_pixel_coord_upper:new c.bK(u,e.u_pixel_coord_upper),u_pixel_coord_lower:new c.bK(u,e.u_pixel_coord_lower),u_scale:new c.bJ(u,e.u_scale),u_fade:new c.b8(u,e.u_fade)}),fill:(u,e)=>({u_fill_translate:new c.bK(u,e.u_fill_translate)}),fillPattern:(u,e)=>({u_image:new c.bF(u,e.u_image),u_texsize:new c.bK(u,e.u_texsize),u_pixel_coord_upper:new c.bK(u,e.u_pixel_coord_upper),u_pixel_coord_lower:new c.bK(u,e.u_pixel_coord_lower),u_scale:new c.bJ(u,e.u_scale),u_fade:new c.b8(u,e.u_fade),u_fill_translate:new c.bK(u,e.u_fill_translate)}),fillOutline:(u,e)=>({u_world:new c.bK(u,e.u_world),u_fill_translate:new c.bK(u,e.u_fill_translate)}),fillOutlinePattern:(u,e)=>({u_world:new c.bK(u,e.u_world),u_image:new c.bF(u,e.u_image),u_texsize:new c.bK(u,e.u_texsize),u_pixel_coord_upper:new c.bK(u,e.u_pixel_coord_upper),u_pixel_coord_lower:new c.bK(u,e.u_pixel_coord_lower),u_scale:new c.bJ(u,e.u_scale),u_fade:new c.b8(u,e.u_fade),u_fill_translate:new c.bK(u,e.u_fill_translate)}),circle:(u,e)=>({u_camera_to_center_distance:new c.b8(u,e.u_camera_to_center_distance),u_scale_with_map:new c.bF(u,e.u_scale_with_map),u_pitch_with_map:new c.bF(u,e.u_pitch_with_map),u_extrude_scale:new c.bK(u,e.u_extrude_scale),u_device_pixel_ratio:new c.b8(u,e.u_device_pixel_ratio),u_globe_extrude_scale:new c.b8(u,e.u_globe_extrude_scale),u_translate:new c.bK(u,e.u_translate)}),collisionBox:(u,e)=>({u_pixel_extrude_scale:new c.bK(u,e.u_pixel_extrude_scale)}),collisionCircle:(u,e)=>({u_viewport_size:new c.bK(u,e.u_viewport_size)}),debug:(u,e)=>({u_color:new c.bG(u,e.u_color),u_overlay:new c.bF(u,e.u_overlay),u_overlay_scale:new c.b8(u,e.u_overlay_scale)}),depth:mr,clippingMask:mr,heatmap:(u,e)=>({u_extrude_scale:new c.b8(u,e.u_extrude_scale),u_intensity:new c.b8(u,e.u_intensity),u_globe_extrude_scale:new c.b8(u,e.u_globe_extrude_scale)}),heatmapTexture:(u,e)=>({u_matrix:new c.bH(u,e.u_matrix),u_world:new c.bK(u,e.u_world),u_image:new c.bF(u,e.u_image),u_color_ramp:new c.bF(u,e.u_color_ramp),u_opacity:new c.b8(u,e.u_opacity)}),hillshade:(u,e)=>({u_image:new c.bF(u,e.u_image),u_latrange:new c.bK(u,e.u_latrange),u_light:new c.bK(u,e.u_light),u_shadow:new c.bG(u,e.u_shadow),u_highlight:new c.bG(u,e.u_highlight),u_accent:new c.bG(u,e.u_accent)}),hillshadePrepare:(u,e)=>({u_matrix:new c.bH(u,e.u_matrix),u_image:new c.bF(u,e.u_image),u_dimension:new c.bK(u,e.u_dimension),u_zoom:new c.b8(u,e.u_zoom),u_unpack:new c.bI(u,e.u_unpack)}),line:(u,e)=>({u_translation:new c.bK(u,e.u_translation),u_ratio:new c.b8(u,e.u_ratio),u_device_pixel_ratio:new c.b8(u,e.u_device_pixel_ratio),u_units_to_pixels:new c.bK(u,e.u_units_to_pixels)}),lineGradient:(u,e)=>({u_translation:new c.bK(u,e.u_translation),u_ratio:new c.b8(u,e.u_ratio),u_device_pixel_ratio:new c.b8(u,e.u_device_pixel_ratio),u_units_to_pixels:new c.bK(u,e.u_units_to_pixels),u_image:new c.bF(u,e.u_image),u_image_height:new c.b8(u,e.u_image_height)}),linePattern:(u,e)=>({u_translation:new c.bK(u,e.u_translation),u_texsize:new c.bK(u,e.u_texsize),u_ratio:new c.b8(u,e.u_ratio),u_device_pixel_ratio:new c.b8(u,e.u_device_pixel_ratio),u_image:new c.bF(u,e.u_image),u_units_to_pixels:new c.bK(u,e.u_units_to_pixels),u_scale:new c.bJ(u,e.u_scale),u_fade:new c.b8(u,e.u_fade)}),lineSDF:(u,e)=>({u_translation:new c.bK(u,e.u_translation),u_ratio:new c.b8(u,e.u_ratio),u_device_pixel_ratio:new c.b8(u,e.u_device_pixel_ratio),u_units_to_pixels:new c.bK(u,e.u_units_to_pixels),u_patternscale_a:new c.bK(u,e.u_patternscale_a),u_patternscale_b:new c.bK(u,e.u_patternscale_b),u_sdfgamma:new c.b8(u,e.u_sdfgamma),u_image:new c.bF(u,e.u_image),u_tex_y_a:new c.b8(u,e.u_tex_y_a),u_tex_y_b:new c.b8(u,e.u_tex_y_b),u_mix:new c.b8(u,e.u_mix)}),raster:(u,e)=>({u_tl_parent:new c.bK(u,e.u_tl_parent),u_scale_parent:new c.b8(u,e.u_scale_parent),u_buffer_scale:new c.b8(u,e.u_buffer_scale),u_fade_t:new c.b8(u,e.u_fade_t),u_opacity:new c.b8(u,e.u_opacity),u_image0:new c.bF(u,e.u_image0),u_image1:new c.bF(u,e.u_image1),u_brightness_low:new c.b8(u,e.u_brightness_low),u_brightness_high:new c.b8(u,e.u_brightness_high),u_saturation_factor:new c.b8(u,e.u_saturation_factor),u_contrast_factor:new c.b8(u,e.u_contrast_factor),u_spin_weights:new c.bJ(u,e.u_spin_weights),u_coords_top:new c.bI(u,e.u_coords_top),u_coords_bottom:new c.bI(u,e.u_coords_bottom)}),symbolIcon:(u,e)=>({u_is_size_zoom_constant:new c.bF(u,e.u_is_size_zoom_constant),u_is_size_feature_constant:new c.bF(u,e.u_is_size_feature_constant),u_size_t:new c.b8(u,e.u_size_t),u_size:new c.b8(u,e.u_size),u_camera_to_center_distance:new c.b8(u,e.u_camera_to_center_distance),u_pitch:new c.b8(u,e.u_pitch),u_rotate_symbol:new c.bF(u,e.u_rotate_symbol),u_aspect_ratio:new c.b8(u,e.u_aspect_ratio),u_fade_change:new c.b8(u,e.u_fade_change),u_label_plane_matrix:new c.bH(u,e.u_label_plane_matrix),u_coord_matrix:new c.bH(u,e.u_coord_matrix),u_is_text:new c.bF(u,e.u_is_text),u_pitch_with_map:new c.bF(u,e.u_pitch_with_map),u_is_along_line:new c.bF(u,e.u_is_along_line),u_is_variable_anchor:new c.bF(u,e.u_is_variable_anchor),u_texsize:new c.bK(u,e.u_texsize),u_texture:new c.bF(u,e.u_texture),u_translation:new c.bK(u,e.u_translation),u_pitched_scale:new c.b8(u,e.u_pitched_scale)}),symbolSDF:(u,e)=>({u_is_size_zoom_constant:new c.bF(u,e.u_is_size_zoom_constant),u_is_size_feature_constant:new c.bF(u,e.u_is_size_feature_constant),u_size_t:new c.b8(u,e.u_size_t),u_size:new c.b8(u,e.u_size),u_camera_to_center_distance:new c.b8(u,e.u_camera_to_center_distance),u_pitch:new c.b8(u,e.u_pitch),u_rotate_symbol:new c.bF(u,e.u_rotate_symbol),u_aspect_ratio:new c.b8(u,e.u_aspect_ratio),u_fade_change:new c.b8(u,e.u_fade_change),u_label_plane_matrix:new c.bH(u,e.u_label_plane_matrix),u_coord_matrix:new c.bH(u,e.u_coord_matrix),u_is_text:new c.bF(u,e.u_is_text),u_pitch_with_map:new c.bF(u,e.u_pitch_with_map),u_is_along_line:new c.bF(u,e.u_is_along_line),u_is_variable_anchor:new c.bF(u,e.u_is_variable_anchor),u_texsize:new c.bK(u,e.u_texsize),u_texture:new c.bF(u,e.u_texture),u_gamma_scale:new c.b8(u,e.u_gamma_scale),u_device_pixel_ratio:new c.b8(u,e.u_device_pixel_ratio),u_is_halo:new c.bF(u,e.u_is_halo),u_translation:new c.bK(u,e.u_translation),u_pitched_scale:new c.b8(u,e.u_pitched_scale)}),symbolTextAndIcon:(u,e)=>({u_is_size_zoom_constant:new c.bF(u,e.u_is_size_zoom_constant),u_is_size_feature_constant:new c.bF(u,e.u_is_size_feature_constant),u_size_t:new c.b8(u,e.u_size_t),u_size:new c.b8(u,e.u_size),u_camera_to_center_distance:new c.b8(u,e.u_camera_to_center_distance),u_pitch:new c.b8(u,e.u_pitch),u_rotate_symbol:new c.bF(u,e.u_rotate_symbol),u_aspect_ratio:new c.b8(u,e.u_aspect_ratio),u_fade_change:new c.b8(u,e.u_fade_change),u_label_plane_matrix:new c.bH(u,e.u_label_plane_matrix),u_coord_matrix:new c.bH(u,e.u_coord_matrix),u_is_text:new c.bF(u,e.u_is_text),u_pitch_with_map:new c.bF(u,e.u_pitch_with_map),u_is_along_line:new c.bF(u,e.u_is_along_line),u_is_variable_anchor:new c.bF(u,e.u_is_variable_anchor),u_texsize:new c.bK(u,e.u_texsize),u_texsize_icon:new c.bK(u,e.u_texsize_icon),u_texture:new c.bF(u,e.u_texture),u_texture_icon:new c.bF(u,e.u_texture_icon),u_gamma_scale:new c.b8(u,e.u_gamma_scale),u_device_pixel_ratio:new c.b8(u,e.u_device_pixel_ratio),u_is_halo:new c.bF(u,e.u_is_halo),u_translation:new c.bK(u,e.u_translation),u_pitched_scale:new c.b8(u,e.u_pitched_scale)}),background:(u,e)=>({u_opacity:new c.b8(u,e.u_opacity),u_color:new c.bG(u,e.u_color)}),backgroundPattern:(u,e)=>({u_opacity:new c.b8(u,e.u_opacity),u_image:new c.bF(u,e.u_image),u_pattern_tl_a:new c.bK(u,e.u_pattern_tl_a),u_pattern_br_a:new c.bK(u,e.u_pattern_br_a),u_pattern_tl_b:new c.bK(u,e.u_pattern_tl_b),u_pattern_br_b:new c.bK(u,e.u_pattern_br_b),u_texsize:new c.bK(u,e.u_texsize),u_mix:new c.b8(u,e.u_mix),u_pattern_size_a:new c.bK(u,e.u_pattern_size_a),u_pattern_size_b:new c.bK(u,e.u_pattern_size_b),u_scale_a:new c.b8(u,e.u_scale_a),u_scale_b:new c.b8(u,e.u_scale_b),u_pixel_coord_upper:new c.bK(u,e.u_pixel_coord_upper),u_pixel_coord_lower:new c.bK(u,e.u_pixel_coord_lower),u_tile_units_to_pixels:new c.b8(u,e.u_tile_units_to_pixels)}),terrain:(u,e)=>({u_texture:new c.bF(u,e.u_texture),u_ele_delta:new c.b8(u,e.u_ele_delta),u_fog_matrix:new c.bH(u,e.u_fog_matrix),u_fog_color:new c.bG(u,e.u_fog_color),u_fog_ground_blend:new c.b8(u,e.u_fog_ground_blend),u_fog_ground_blend_opacity:new c.b8(u,e.u_fog_ground_blend_opacity),u_horizon_color:new c.bG(u,e.u_horizon_color),u_horizon_fog_blend:new c.b8(u,e.u_horizon_fog_blend),u_is_globe_mode:new c.b8(u,e.u_is_globe_mode)}),terrainDepth:(u,e)=>({u_ele_delta:new c.b8(u,e.u_ele_delta)}),terrainCoords:(u,e)=>({u_texture:new c.bF(u,e.u_texture),u_terrain_coords_id:new c.b8(u,e.u_terrain_coords_id),u_ele_delta:new c.b8(u,e.u_ele_delta)}),projectionErrorMeasurement:(u,e)=>({u_input:new c.b8(u,e.u_input),u_output_expected:new c.b8(u,e.u_output_expected)}),atmosphere:(u,e)=>({u_sun_pos:new c.bJ(u,e.u_sun_pos),u_atmosphere_blend:new c.b8(u,e.u_atmosphere_blend),u_globe_position:new c.bJ(u,e.u_globe_position),u_globe_radius:new c.b8(u,e.u_globe_radius),u_inv_proj_matrix:new c.bH(u,e.u_inv_proj_matrix)}),sky:(u,e)=>({u_sky_color:new c.bG(u,e.u_sky_color),u_horizon_color:new c.bG(u,e.u_horizon_color),u_horizon:new c.bK(u,e.u_horizon),u_horizon_normal:new c.bK(u,e.u_horizon_normal),u_sky_horizon_blend:new c.b8(u,e.u_sky_horizon_blend),u_sky_blend:new c.b8(u,e.u_sky_blend)})};class ya{constructor(e,i,o){this.context=e;const a=e.gl;this.buffer=a.createBuffer(),this.dynamicDraw=!!o,this.context.unbindVAO(),e.bindElementBuffer.set(this.buffer),a.bufferData(a.ELEMENT_ARRAY_BUFFER,i.arrayBuffer,this.dynamicDraw?a.DYNAMIC_DRAW:a.STATIC_DRAW),this.dynamicDraw||delete i.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(e){const i=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),i.bufferSubData(i.ELEMENT_ARRAY_BUFFER,0,e.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const xa={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class Ul{constructor(e,i,o,a){this.length=i.length,this.attributes=o,this.itemSize=i.bytesPerElement,this.dynamicDraw=a,this.context=e;const h=e.gl;this.buffer=h.createBuffer(),e.bindVertexBuffer.set(this.buffer),h.bufferData(h.ARRAY_BUFFER,i.arrayBuffer,this.dynamicDraw?h.DYNAMIC_DRAW:h.STATIC_DRAW),this.dynamicDraw||delete i.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(e){if(e.length!==this.length)throw new Error(`Length of new data is ${e.length}, which doesn't match current length of ${this.length}`);const i=this.context.gl;this.bind(),i.bufferSubData(i.ARRAY_BUFFER,0,e.arrayBuffer)}enableAttributes(e,i){for(let o=0;o<this.attributes.length;o++){const a=i.attributes[this.attributes[o].name];a!==void 0&&e.enableVertexAttribArray(a)}}setVertexAttribPointers(e,i,o){for(let a=0;a<this.attributes.length;a++){const h=this.attributes[a],f=i.attributes[h.name];f!==void 0&&e.vertexAttribPointer(f,h.components,e[xa[h.type]],!1,this.itemSize,h.offset+this.itemSize*(o||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class gt{constructor(e){this.gl=e.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(e){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class vn extends gt{getDefault(){return c.b7.transparent}set(e){const i=this.current;(e.r!==i.r||e.g!==i.g||e.b!==i.b||e.a!==i.a||this.dirty)&&(this.gl.clearColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)}}class va extends gt{getDefault(){return 1}set(e){(e!==this.current||this.dirty)&&(this.gl.clearDepth(e),this.current=e,this.dirty=!1)}}class iu extends gt{getDefault(){return 0}set(e){(e!==this.current||this.dirty)&&(this.gl.clearStencil(e),this.current=e,this.dirty=!1)}}class ru extends gt{getDefault(){return[!0,!0,!0,!0]}set(e){const i=this.current;(e[0]!==i[0]||e[1]!==i[1]||e[2]!==i[2]||e[3]!==i[3]||this.dirty)&&(this.gl.colorMask(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)}}class nu extends gt{getDefault(){return!0}set(e){(e!==this.current||this.dirty)&&(this.gl.depthMask(e),this.current=e,this.dirty=!1)}}class su extends gt{getDefault(){return 255}set(e){(e!==this.current||this.dirty)&&(this.gl.stencilMask(e),this.current=e,this.dirty=!1)}}class Zl extends gt{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(e){const i=this.current;(e.func!==i.func||e.ref!==i.ref||e.mask!==i.mask||this.dirty)&&(this.gl.stencilFunc(e.func,e.ref,e.mask),this.current=e,this.dirty=!1)}}class ou extends gt{getDefault(){const e=this.gl;return[e.KEEP,e.KEEP,e.KEEP]}set(e){const i=this.current;(e[0]!==i[0]||e[1]!==i[1]||e[2]!==i[2]||this.dirty)&&(this.gl.stencilOp(e[0],e[1],e[2]),this.current=e,this.dirty=!1)}}class $l extends gt{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const i=this.gl;e?i.enable(i.STENCIL_TEST):i.disable(i.STENCIL_TEST),this.current=e,this.dirty=!1}}class vo extends gt{getDefault(){return[0,1]}set(e){const i=this.current;(e[0]!==i[0]||e[1]!==i[1]||this.dirty)&&(this.gl.depthRange(e[0],e[1]),this.current=e,this.dirty=!1)}}class bo extends gt{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const i=this.gl;e?i.enable(i.DEPTH_TEST):i.disable(i.DEPTH_TEST),this.current=e,this.dirty=!1}}class wo extends gt{getDefault(){return this.gl.LESS}set(e){(e!==this.current||this.dirty)&&(this.gl.depthFunc(e),this.current=e,this.dirty=!1)}}class ba extends gt{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const i=this.gl;e?i.enable(i.BLEND):i.disable(i.BLEND),this.current=e,this.dirty=!1}}class bn extends gt{getDefault(){const e=this.gl;return[e.ONE,e.ZERO]}set(e){const i=this.current;(e[0]!==i[0]||e[1]!==i[1]||this.dirty)&&(this.gl.blendFunc(e[0],e[1]),this.current=e,this.dirty=!1)}}class is extends gt{getDefault(){return c.b7.transparent}set(e){const i=this.current;(e.r!==i.r||e.g!==i.g||e.b!==i.b||e.a!==i.a||this.dirty)&&(this.gl.blendColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)}}class Hi extends gt{getDefault(){return this.gl.FUNC_ADD}set(e){(e!==this.current||this.dirty)&&(this.gl.blendEquation(e),this.current=e,this.dirty=!1)}}class Gl extends gt{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const i=this.gl;e?i.enable(i.CULL_FACE):i.disable(i.CULL_FACE),this.current=e,this.dirty=!1}}class ql extends gt{getDefault(){return this.gl.BACK}set(e){(e!==this.current||this.dirty)&&(this.gl.cullFace(e),this.current=e,this.dirty=!1)}}class wa extends gt{getDefault(){return this.gl.CCW}set(e){(e!==this.current||this.dirty)&&(this.gl.frontFace(e),this.current=e,this.dirty=!1)}}class wn extends gt{getDefault(){return null}set(e){(e!==this.current||this.dirty)&&(this.gl.useProgram(e),this.current=e,this.dirty=!1)}}class To extends gt{getDefault(){return this.gl.TEXTURE0}set(e){(e!==this.current||this.dirty)&&(this.gl.activeTexture(e),this.current=e,this.dirty=!1)}}class Po extends gt{getDefault(){const e=this.gl;return[0,0,e.drawingBufferWidth,e.drawingBufferHeight]}set(e){const i=this.current;(e[0]!==i[0]||e[1]!==i[1]||e[2]!==i[2]||e[3]!==i[3]||this.dirty)&&(this.gl.viewport(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)}}class Ls extends gt{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const i=this.gl;i.bindFramebuffer(i.FRAMEBUFFER,e),this.current=e,this.dirty=!1}}class So extends gt{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const i=this.gl;i.bindRenderbuffer(i.RENDERBUFFER,e),this.current=e,this.dirty=!1}}class Hl extends gt{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const i=this.gl;i.bindTexture(i.TEXTURE_2D,e),this.current=e,this.dirty=!1}}class rs extends gt{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const i=this.gl;i.bindBuffer(i.ARRAY_BUFFER,e),this.current=e,this.dirty=!1}}class ns extends gt{getDefault(){return null}set(e){const i=this.gl;i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,e),this.current=e,this.dirty=!1}}class Wl extends gt{getDefault(){return null}set(e){var i;if(e===this.current&&!this.dirty)return;const o=this.gl;ir(o)?o.bindVertexArray(e):(i=o.getExtension("OES_vertex_array_object"))===null||i===void 0||i.bindVertexArrayOES(e),this.current=e,this.dirty=!1}}class Ta extends gt{getDefault(){return 4}set(e){if(e===this.current&&!this.dirty)return;const i=this.gl;i.pixelStorei(i.UNPACK_ALIGNMENT,e),this.current=e,this.dirty=!1}}class mt extends gt{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const i=this.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e),this.current=e,this.dirty=!1}}class Mo extends gt{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const i=this.gl;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,e),this.current=e,this.dirty=!1}}class Pa extends gt{constructor(e,i){super(e),this.context=e,this.parent=i}getDefault(){return null}}class Kl extends Pa{setDirty(){this.dirty=!0}set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const i=this.gl;i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,e,0),this.current=e,this.dirty=!1}}class Fs extends Pa{set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const i=this.gl;i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.RENDERBUFFER,e),this.current=e,this.dirty=!1}}class au extends Pa{set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const i=this.gl;i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,e),this.current=e,this.dirty=!1}}const Xl="Framebuffer is not complete";class Yl{constructor(e,i,o,a,h){this.context=e,this.width=i,this.height=o;const f=e.gl,_=this.framebuffer=f.createFramebuffer();if(this.colorAttachment=new Kl(e,_),a)this.depthAttachment=h?new au(e,_):new Fs(e,_);else if(h)throw new Error("Stencil cannot be set without depth");if(f.checkFramebufferStatus(f.FRAMEBUFFER)!==f.FRAMEBUFFER_COMPLETE)throw new Error(Xl)}destroy(){const e=this.context.gl,i=this.colorAttachment.get();if(i&&e.deleteTexture(i),this.depthAttachment){const o=this.depthAttachment.get();o&&e.deleteRenderbuffer(o)}e.deleteFramebuffer(this.framebuffer)}}class lu{constructor(e){var i,o;if(this.gl=e,this.clearColor=new vn(this),this.clearDepth=new va(this),this.clearStencil=new iu(this),this.colorMask=new ru(this),this.depthMask=new nu(this),this.stencilMask=new su(this),this.stencilFunc=new Zl(this),this.stencilOp=new ou(this),this.stencilTest=new $l(this),this.depthRange=new vo(this),this.depthTest=new bo(this),this.depthFunc=new wo(this),this.blend=new ba(this),this.blendFunc=new bn(this),this.blendColor=new is(this),this.blendEquation=new Hi(this),this.cullFace=new Gl(this),this.cullFaceSide=new ql(this),this.frontFace=new wa(this),this.program=new wn(this),this.activeTexture=new To(this),this.viewport=new Po(this),this.bindFramebuffer=new Ls(this),this.bindRenderbuffer=new So(this),this.bindTexture=new Hl(this),this.bindVertexBuffer=new rs(this),this.bindElementBuffer=new ns(this),this.bindVertexArray=new Wl(this),this.pixelStoreUnpack=new Ta(this),this.pixelStoreUnpackPremultiplyAlpha=new mt(this),this.pixelStoreUnpackFlipY=new Mo(this),this.extTextureFilterAnisotropic=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=e.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE),ir(e)){this.HALF_FLOAT=e.HALF_FLOAT;const a=e.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(i=e.RGBA16F)!==null&&i!==void 0?i:a==null?void 0:a.RGBA16F_EXT,this.RGB16F=(o=e.RGB16F)!==null&&o!==void 0?o:a==null?void 0:a.RGB16F_EXT,e.getExtension("EXT_color_buffer_float")}else{e.getExtension("EXT_color_buffer_half_float"),e.getExtension("OES_texture_half_float_linear");const a=e.getExtension("OES_texture_half_float");this.HALF_FLOAT=a==null?void 0:a.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(e,i){return new ya(this,e,i)}createVertexBuffer(e,i,o){return new Ul(this,e,i,o)}createRenderbuffer(e,i,o){const a=this.gl,h=a.createRenderbuffer();return this.bindRenderbuffer.set(h),a.renderbufferStorage(a.RENDERBUFFER,e,i,o),this.bindRenderbuffer.set(null),h}createFramebuffer(e,i,o,a){return new Yl(this,e,i,o,a)}clear({color:e,depth:i,stencil:o}){const a=this.gl;let h=0;e&&(h|=a.COLOR_BUFFER_BIT,this.clearColor.set(e),this.colorMask.set([!0,!0,!0,!0])),i!==void 0&&(h|=a.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(i),this.depthMask.set(!0)),o!==void 0&&(h|=a.STENCIL_BUFFER_BIT,this.clearStencil.set(o),this.stencilMask.set(255)),a.clear(h)}setCullFace(e){e.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(e.mode),this.frontFace.set(e.frontFace))}setDepthMode(e){e.func!==this.gl.ALWAYS||e.mask?(this.depthTest.set(!0),this.depthFunc.set(e.func),this.depthMask.set(e.mask),this.depthRange.set(e.range)):this.depthTest.set(!1)}setStencilMode(e){e.test.func!==this.gl.ALWAYS||e.mask?(this.stencilTest.set(!0),this.stencilMask.set(e.mask),this.stencilOp.set([e.fail,e.depthFail,e.pass]),this.stencilFunc.set({func:e.test.func,ref:e.ref,mask:e.test.mask})):this.stencilTest.set(!1)}setColorMode(e){c.bC(e.blendFunction,zt.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(e.blendFunction),this.blendColor.set(e.blendColor)),this.colorMask.set(e.mask)}createVertexArray(){var e;return ir(this.gl)?this.gl.createVertexArray():(e=this.gl.getExtension("OES_vertex_array_object"))===null||e===void 0?void 0:e.createVertexArrayOES()}deleteVertexArray(e){var i;return ir(this.gl)?this.gl.deleteVertexArray(e):(i=this.gl.getExtension("OES_vertex_array_object"))===null||i===void 0?void 0:i.deleteVertexArrayOES(e)}unbindVAO(){this.bindVertexArray.set(null)}}let ss;function Bs(u,e,i,o,a){const h=u.context,f=u.transform,_=h.gl,y=u.useProgram("collisionBox"),v=[];let T=0,C=0;for(let G=0;G<o.length;G++){const H=o[G],Y=e.getTile(H).getBucket(i);if(!Y)continue;const Q=a?Y.textCollisionBox:Y.iconCollisionBox,ee=Y.collisionCircleArray;ee.length>0&&(v.push({circleArray:ee,circleOffset:C,coord:H}),T+=ee.length/4,C=T),Q&&y.draw(h,_.LINES,ot.disabled,dt.disabled,u.colorModeForRenderPass(),_t.disabled,Qc(u.transform),u.style.map.terrain&&u.style.map.terrain.getTerrainData(H),f.getProjectionData({overscaledTileID:H,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),i.id,Q.layoutVertexBuffer,Q.indexBuffer,Q.segments,null,u.transform.zoom,null,null,Q.collisionVertexBuffer)}if(!a||!v.length)return;const M=u.useProgram("collisionCircle"),D=new c.bP;D.resize(4*T),D._trim();let B=0;for(const G of v)for(let H=0;H<G.circleArray.length/4;H++){const Y=4*H,Q=G.circleArray[Y+0],ee=G.circleArray[Y+1],se=G.circleArray[Y+2],te=G.circleArray[Y+3];D.emplace(B++,Q,ee,se,te,0),D.emplace(B++,Q,ee,se,te,1),D.emplace(B++,Q,ee,se,te,2),D.emplace(B++,Q,ee,se,te,3)}(!ss||ss.length<2*T)&&(ss=function(G){const H=2*G,Y=new c.bR;Y.resize(H),Y._trim();for(let Q=0;Q<H;Q++){const ee=6*Q;Y.uint16[ee+0]=4*Q+0,Y.uint16[ee+1]=4*Q+1,Y.uint16[ee+2]=4*Q+2,Y.uint16[ee+3]=4*Q+2,Y.uint16[ee+4]=4*Q+3,Y.uint16[ee+5]=4*Q+0}return Y}(T));const $=h.createIndexBuffer(ss,!0),Z=h.createVertexBuffer(D,c.bQ.members,!0);for(const G of v){const H=Ll(u.transform);M.draw(h,_.TRIANGLES,ot.disabled,dt.disabled,u.colorModeForRenderPass(),_t.disabled,H,u.style.map.terrain&&u.style.map.terrain.getTerrainData(G.coord),null,i.id,Z,$,c.aG.simpleSegment(0,2*G.circleOffset,G.circleArray.length,G.circleArray.length/2),null,u.transform.zoom,null,null,null)}Z.destroy(),$.destroy()}const Co=c.at(new Float32Array(16));function Sa(u,e,i,o,a,h){const{horizontalAlign:f,verticalAlign:_}=c.aB(u);return new c.P((-(f-.5)*e/a+o[0])*h,(-(_-.5)*i/a+o[1])*h)}function Ma(u,e,i,o,a,h){const f=e.tileAnchorPoint.add(new c.P(e.translation[0],e.translation[1]));if(e.pitchWithMap){let _=o.mult(h);i||(_=_.rotate(-a));const y=f.add(_);return _e(y.x,y.y,e.pitchedLabelPlaneMatrix,e.getElevation).point}if(i){const _=pt(e.tileAnchorPoint.x+1,e.tileAnchorPoint.y,e).point.sub(u),y=Math.atan(_.y/_.x)+(_.x<0?Math.PI:0);return u.add(o.rotate(y))}return u.add(o)}function Jl(u,e,i,o,a,h,f,_,y,v,T,C){const M=u.text.placedSymbolArray,D=u.text.dynamicLayoutVertexArray,B=u.icon.dynamicLayoutVertexArray,$={};D.clear();for(let Z=0;Z<M.length;Z++){const G=M.get(Z),H=G.hidden||!G.crossTileID||u.allowVerticalPlacement&&!G.placedOrientation?null:o[G.crossTileID];if(H){const Y=new c.P(G.anchorX,G.anchorY),Q={getElevation:C,width:a.width,height:a.height,pitchedLabelPlaneMatrix:h,pitchWithMap:i,transform:a,tileAnchorPoint:Y,translation:v,unwrappedTileID:T},ee=i?$e(Y.x,Y.y,Q):pt(Y.x,Y.y,Q),se=ce(a.cameraToCenterDistance,ee.signedDistanceFromCamera);let te=c.ai(u.textSizeData,_,G)*se/c.av;i&&(te*=u.tilePixelRatio/f);const{width:pe,height:de,anchor:be,textOffset:Te,textBoxScale:xe}=H,Le=Sa(be,pe,de,Te,xe,te),Re=a.getPitchedTextCorrection(Y.x+v[0],Y.y+v[1],T),Se=Ma(ee.point,Q,e,Le,-a.bearingInRadians,Re),Ge=u.allowVerticalPlacement&&G.placedOrientation===c.ah.vertical?Math.PI/2:0;for(let st=0;st<G.numGlyphs;st++)c.ao(D,Se,Ge);y&&G.associatedIconIndex>=0&&($[G.associatedIconIndex]={shiftedAnchor:Se,angle:Ge})}else et(G.numGlyphs,D)}if(y){B.clear();const Z=u.icon.placedSymbolArray;for(let G=0;G<Z.length;G++){const H=Z.get(G);if(H.hidden)et(H.numGlyphs,B);else{const Y=$[G];if(Y)for(let Q=0;Q<H.numGlyphs;Q++)c.ao(B,Y.shiftedAnchor,Y.angle);else et(H.numGlyphs,B)}}u.icon.dynamicLayoutVertexBuffer.updateData(B)}u.text.dynamicLayoutVertexBuffer.updateData(D)}function Io(u,e,i){return i.iconsInText&&e?"symbolTextAndIcon":u?"symbolSDF":"symbolIcon"}function Os(u,e,i,o,a,h,f,_,y,v,T,C,M){const D=u.context,B=D.gl,$=u.transform,Z=_==="map",G=y==="map",H=_!=="viewport"&&i.layout.get("symbol-placement")!=="point",Y=Z&&!G&&!H,Q=!i.layout.get("symbol-sort-key").isConstant();let ee=!1;const se=u.getDepthModeForSublayer(0,ot.ReadOnly),te=i._unevaluatedLayout.hasValue("text-variable-anchor")||i._unevaluatedLayout.hasValue("text-variable-anchor-offset"),pe=[],de=$.getCircleRadiusCorrection();for(const be of o){const Te=e.getTile(be),xe=Te.getBucket(i);if(!xe)continue;const Le=a?xe.text:xe.icon;if(!Le||!Le.segments.get().length||!Le.hasVisibleVertices)continue;const Re=Le.programConfigurations.get(i.id),Se=a||xe.sdfIcons,Ge=a?xe.textSizeData:xe.iconSizeData,st=G||$.pitch!==0,xt=u.useProgram(Io(Se,a,xe),Re),at=c.ag(Ge,$.zoom),Pt=u.style.map.terrain&&u.style.map.terrain.getTerrainData(be);let Et,Rt,wt,St,Xt=[0,0],si=null;if(a)Rt=Te.glyphAtlasTexture,wt=B.LINEAR,Et=Te.glyphAtlasTexture.size,xe.iconsInText&&(Xt=Te.imageAtlasTexture.size,si=Te.imageAtlasTexture,St=st||u.options.rotating||u.options.zooming||Ge.kind==="composite"||Ge.kind==="camera"?B.LINEAR:B.NEAREST);else{const $t=i.layout.get("icon-size").constantOr(0)!==1||xe.iconsNeedLinear;Rt=Te.imageAtlasTexture,wt=Se||u.options.rotating||u.options.zooming||$t||st?B.LINEAR:B.NEAREST,Et=Te.imageAtlasTexture.size}const ci=c.aw(Te,1,u.transform.zoom),Li=ue(Z,u.transform,ci),Ar=c.K();c.aj(Ar,Li);const xr=oe(G,Z,u.transform,ci),Xr=c.ax($,Te,h,f),Yr=$.getProjectionData({overscaledTileID:be,applyGlobeMatrix:!M,applyTerrainMatrix:!0}),An=te&&xe.hasTextData(),vr=i.layout.get("icon-text-fit")!=="none"&&An&&xe.hasIconData();if(H){const $t=u.style.map.terrain?(Qt,Mt)=>u.style.map.terrain.getElevation(be,Qt,Mt):null,Gt=i.layout.get("text-rotation-alignment")==="map";Oe(xe,u,a,Li,Ar,G,v,Gt,be.toUnwrapped(),$.width,$.height,Xr,$t)}const zr=a&&te||vr,Ni=H||zr?Co:G?Li:u.transform.clipSpaceToPixelsMatrix,kr=Se&&i.paint.get(a?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let zn;zn=Se?xe.iconsInText?_a(Ge.kind,at,Y,G,H,zr,u,Ni,xr,Xr,Et,Xt,de):ma(Ge.kind,at,Y,G,H,zr,u,Ni,xr,Xr,a,Et,0,de):fa(Ge.kind,at,Y,G,H,zr,u,Ni,xr,Xr,a,Et,de);const kn={program:xt,buffers:Le,uniformValues:zn,projectionData:Yr,atlasTexture:Rt,atlasTextureIcon:si,atlasInterpolation:wt,atlasInterpolationIcon:St,isSDF:Se,hasHalo:kr};if(Q&&xe.canOverlap){ee=!0;const $t=Le.segments.get();for(const Gt of $t)pe.push({segments:new c.aG([Gt]),sortKey:Gt.sortKey,state:kn,terrainData:Pt})}else pe.push({segments:Le.segments,sortKey:0,state:kn,terrainData:Pt})}ee&&pe.sort((be,Te)=>be.sortKey-Te.sortKey);for(const be of pe){const Te=be.state;if(D.activeTexture.set(B.TEXTURE0),Te.atlasTexture.bind(Te.atlasInterpolation,B.CLAMP_TO_EDGE),Te.atlasTextureIcon&&(D.activeTexture.set(B.TEXTURE1),Te.atlasTextureIcon&&Te.atlasTextureIcon.bind(Te.atlasInterpolationIcon,B.CLAMP_TO_EDGE)),Te.isSDF){const xe=Te.uniformValues;Te.hasHalo&&(xe.u_is_halo=1,Eo(Te.buffers,be.segments,i,u,Te.program,se,T,C,xe,Te.projectionData,be.terrainData)),xe.u_is_halo=0}Eo(Te.buffers,be.segments,i,u,Te.program,se,T,C,Te.uniformValues,Te.projectionData,be.terrainData)}}function Eo(u,e,i,o,a,h,f,_,y,v,T){const C=o.context;a.draw(C,C.gl.TRIANGLES,h,f,_,_t.backCCW,y,T,v,i.id,u.layoutVertexBuffer,u.indexBuffer,e,i.paint,o.transform.zoom,u.programConfigurations.get(i.id),u.dynamicLayoutVertexBuffer,u.opacityVertexBuffer)}function cu(u,e,i,o,a){const h=u.context,f=h.gl,_=dt.disabled,y=new zt([f.ONE,f.ONE],c.b7.transparent,[!0,!0,!0,!0]),v=e.getBucket(i);if(!v)return;const T=o.key;let C=i.heatmapFbos.get(T);C||(C=Ql(h,e.tileSize,e.tileSize),i.heatmapFbos.set(T,C)),h.bindFramebuffer.set(C.framebuffer),h.viewport.set([0,0,e.tileSize,e.tileSize]),h.clear({color:c.b7.transparent});const M=v.programConfigurations.get(i.id),D=u.useProgram("heatmap",M,!a),B=u.transform.getProjectionData({overscaledTileID:e.tileID,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),$=u.style.map.terrain.getTerrainData(o);D.draw(h,f.TRIANGLES,ot.disabled,_,y,_t.disabled,da(e,u.transform.zoom,i.paint.get("heatmap-intensity"),1),$,B,i.id,v.layoutVertexBuffer,v.indexBuffer,v.segments,i.paint,u.transform.zoom,M)}function Ca(u,e,i,o,a){const h=u.context,f=h.gl,_=u.transform;h.setColorMode(u.colorModeForRenderPass());const y=Ia(h,e),v=i.key,T=e.heatmapFbos.get(v);if(!T)return;h.activeTexture.set(f.TEXTURE0),f.bindTexture(f.TEXTURE_2D,T.colorAttachment.get()),h.activeTexture.set(f.TEXTURE1),y.bind(f.LINEAR,f.CLAMP_TO_EDGE);const C=_.getProjectionData({overscaledTileID:i,applyTerrainMatrix:a,applyGlobeMatrix:!o});u.useProgram("heatmapTexture").draw(h,f.TRIANGLES,ot.disabled,dt.disabled,u.colorModeForRenderPass(),_t.disabled,pa(u,e,0,1),null,C,e.id,u.rasterBoundsBuffer,u.quadTriangleIndexBuffer,u.rasterBoundsSegments,e.paint,_.zoom),T.destroy(),e.heatmapFbos.delete(v)}function Ql(u,e,i){var o,a;const h=u.gl,f=h.createTexture();h.bindTexture(h.TEXTURE_2D,f),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.LINEAR),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.LINEAR);const _=(o=u.HALF_FLOAT)!==null&&o!==void 0?o:h.UNSIGNED_BYTE,y=(a=u.RGBA16F)!==null&&a!==void 0?a:h.RGBA;h.texImage2D(h.TEXTURE_2D,0,y,e,i,0,h.RGBA,_,null);const v=u.createFramebuffer(e,i,!1,!1);return v.colorAttachment.set(f),v}function Ia(u,e){return e.colorRampTexture||(e.colorRampTexture=new It(u,e.colorRamp,u.gl.RGBA)),e.colorRampTexture}function js(u,e,i,o,a){if(!i||!o||!o.imageAtlas)return;const h=o.imageAtlas.patternPositions;let f=h[i.to.toString()],_=h[i.from.toString()];if(!f&&_&&(f=_),!_&&f&&(_=f),!f||!_){const y=a.getPaintProperty(e);f=h[y],_=h[y]}f&&_&&u.setConstantPatternPositions(f,_)}function Ao(u,e,i,o,a,h,f,_){const y=u.context.gl,v="fill-pattern",T=i.paint.get(v),C=T&&T.constantOr(1),M=i.getCrossfadeParameters();let D,B,$,Z,G;const H=u.transform,Y=i.paint.get("fill-translate"),Q=i.paint.get("fill-translate-anchor");f?(B=C&&!i.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",D=y.LINES):(B=C?"fillPattern":"fill",D=y.TRIANGLES);const ee=T.constantOr(null);for(const se of o){const te=e.getTile(se);if(C&&!te.patternsLoaded())continue;const pe=te.getBucket(i);if(!pe)continue;const de=pe.programConfigurations.get(i.id),be=u.useProgram(B,de),Te=u.style.map.terrain&&u.style.map.terrain.getTerrainData(se);C&&(u.context.activeTexture.set(y.TEXTURE0),te.imageAtlasTexture.bind(y.LINEAR,y.CLAMP_TO_EDGE),de.updatePaintBuffers(M)),js(de,v,ee,te,i);const xe=H.getProjectionData({overscaledTileID:se,applyGlobeMatrix:!_,applyTerrainMatrix:!0}),Le=c.ax(H,te,Y,Q);if(f){Z=pe.indexBuffer2,G=pe.segments2;const Se=[y.drawingBufferWidth,y.drawingBufferHeight];$=B==="fillOutlinePattern"&&C?Jc(u,M,te,Se,Le):ts(Se,Le)}else Z=pe.indexBuffer,G=pe.segments,$=C?Rl(u,M,te,Le):{u_fill_translate:Le};let Re;if(u.renderPass==="translucent"&&_){const[Se]=u.getStencilConfigForOverlapAndUpdateStencilID(o);Re=Se[se.overscaledZ]}else Re=u.stencilModeForClipping(se);be.draw(u.context,D,a,Re,h,_t.backCCW,$,Te,xe,i.id,pe.layoutVertexBuffer,Z,G,i.paint,u.transform.zoom,de)}}function zo(u,e,i,o,a,h,f,_){const y=u.context,v=y.gl,T="fill-extrusion-pattern",C=i.paint.get(T),M=C.constantOr(1),D=i.getCrossfadeParameters(),B=i.paint.get("fill-extrusion-opacity"),$=C.constantOr(null),Z=u.transform;for(const G of o){const H=e.getTile(G),Y=H.getBucket(i);if(!Y)continue;const Q=u.style.map.terrain&&u.style.map.terrain.getTerrainData(G),ee=Y.programConfigurations.get(i.id),se=u.useProgram(M?"fillExtrusionPattern":"fillExtrusion",ee);M&&(u.context.activeTexture.set(v.TEXTURE0),H.imageAtlasTexture.bind(v.LINEAR,v.CLAMP_TO_EDGE),ee.updatePaintBuffers(D));const te=Z.getProjectionData({overscaledTileID:G,applyGlobeMatrix:!_,applyTerrainMatrix:!0});js(ee,T,$,H,i);const pe=c.ax(Z,H,i.paint.get("fill-extrusion-translate"),i.paint.get("fill-extrusion-translate-anchor")),de=i.paint.get("fill-extrusion-vertical-gradient"),be=M?_o(u,de,B,pe,G,D,H):kl(u,de,B,pe);se.draw(y,y.gl.TRIANGLES,a,h,f,_t.backCCW,be,Q,te,i.id,Y.layoutVertexBuffer,Y.indexBuffer,Y.segments,i.paint,u.transform.zoom,ee,u.style.map.terrain&&Y.centroidVertexBuffer)}}function ko(u,e,i,o,a,h,f,_,y){var v;const T=u.style.projection,C=u.context,M=u.transform,D=C.gl,B=u.useProgram("hillshade"),$=!u.options.moving;for(const Z of o){const G=e.getTile(Z),H=G.fbo;if(!H)continue;const Y=T.getMeshFromTileID(C,Z.canonical,_,!0,"raster"),Q=(v=u.style.map.terrain)===null||v===void 0?void 0:v.getTerrainData(Z);C.activeTexture.set(D.TEXTURE0),D.bindTexture(D.TEXTURE_2D,H.colorAttachment.get());const ee=M.getProjectionData({overscaledTileID:Z,aligned:$,applyGlobeMatrix:!y,applyTerrainMatrix:!0});B.draw(C,D.TRIANGLES,h,a[Z.overscaledZ],f,_t.backCCW,Fl(u,G,i),Q,ee,i.id,Y.vertexBuffer,Y.indexBuffer,Y.segments)}}const os=[new c.P(0,0),new c.P(c.Z,0),new c.P(c.Z,c.Z),new c.P(0,c.Z)];function as(u,e,i,o,a,h,f,_,y=!1,v=!1){const T=o[o.length-1].overscaledZ,C=u.context,M=C.gl,D=u.useProgram("raster"),B=u.transform,$=u.style.projection,Z=u.colorModeForRenderPass(),G=!u.options.moving;for(const H of o){const Y=u.getDepthModeForSublayer(H.overscaledZ-T,i.paint.get("raster-opacity")===1?ot.ReadWrite:ot.ReadOnly,M.LESS),Q=e.getTile(H);Q.registerFadeDuration(i.paint.get("raster-fade-duration"));const ee=e.findLoadedParent(H,0),se=e.findLoadedSibling(H),te=uu(Q,ee||se||null,e,i,u.transform,u.style.map.terrain);let pe,de;const be=i.paint.get("raster-resampling")==="nearest"?M.NEAREST:M.LINEAR;C.activeTexture.set(M.TEXTURE0),Q.texture.bind(be,M.CLAMP_TO_EDGE,M.LINEAR_MIPMAP_NEAREST),C.activeTexture.set(M.TEXTURE1),ee?(ee.texture.bind(be,M.CLAMP_TO_EDGE,M.LINEAR_MIPMAP_NEAREST),pe=Math.pow(2,ee.tileID.overscaledZ-Q.tileID.overscaledZ),de=[Q.tileID.canonical.x*pe%1,Q.tileID.canonical.y*pe%1]):Q.texture.bind(be,M.CLAMP_TO_EDGE,M.LINEAR_MIPMAP_NEAREST),Q.texture.useMipmap&&C.extTextureFilterAnisotropic&&u.transform.pitch>20&&M.texParameterf(M.TEXTURE_2D,C.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,C.extTextureFilterAnisotropicMax);const Te=u.style.map.terrain&&u.style.map.terrain.getTerrainData(H),xe=B.getProjectionData({overscaledTileID:H,aligned:G,applyGlobeMatrix:!v,applyTerrainMatrix:!0}),Le=tu(de||[0,0],pe||1,te,i,_),Re=$.getMeshFromTileID(C,H.canonical,h,f,"raster");D.draw(C,M.TRIANGLES,Y,a?a[H.overscaledZ]:dt.disabled,Z,y?_t.frontCCW:_t.backCCW,Le,Te,xe,i.id,Re.vertexBuffer,Re.indexBuffer,Re.segments)}}function uu(u,e,i,o,a,h){const f=o.paint.get("raster-fade-duration");if(!h&&f>0){const _=Ve.now(),y=(_-u.timeAdded)/f,v=e?(_-e.timeAdded)/f:-1,T=i.getSource(),C=Pr(a,{tileSize:T.tileSize,roundZoom:T.roundZoom}),M=!e||Math.abs(e.tileID.overscaledZ-C)>Math.abs(u.tileID.overscaledZ-C),D=M&&u.refreshedUponExpiration?1:c.ae(M?y:1-v,0,1);return u.refreshedUponExpiration&&y>=1&&(u.refreshedUponExpiration=!1),e?{opacity:1,mix:1-D}:{opacity:D,mix:0}}return{opacity:1,mix:0}}const ec=new c.b7(1,0,0,1),Wt=new c.b7(0,1,0,1),Tn=new c.b7(0,0,1,1),Wi=new c.b7(1,0,1,1),Ea=new c.b7(0,1,1,1);function Ro(u,e,i,o){Ir(u,0,e+i/2,u.transform.width,i,o)}function Aa(u,e,i,o){Ir(u,e-i/2,0,i,u.transform.height,o)}function Ir(u,e,i,o,a,h){const f=u.context,_=f.gl;_.enable(_.SCISSOR_TEST),_.scissor(e*u.pixelRatio,i*u.pixelRatio,o*u.pixelRatio,a*u.pixelRatio),f.clear({color:h}),_.disable(_.SCISSOR_TEST)}function Ns(u,e,i){const o=u.context,a=o.gl,h=u.useProgram("debug"),f=ot.disabled,_=dt.disabled,y=u.colorModeForRenderPass(),v="$debug",T=u.style.map.terrain&&u.style.map.terrain.getTerrainData(i);o.activeTexture.set(a.TEXTURE0);const C=e.getTileByID(i.key).latestRawTileData,M=Math.floor((C&&C.byteLength||0)/1024),D=e.getTile(i).tileSize,B=512/Math.min(D,512)*(i.overscaledZ/u.transform.zoom)*.5;let $=i.canonical.toString();i.overscaledZ!==i.canonical.z&&($+=` => ${i.overscaledZ}`),function(G,H){G.initDebugOverlayCanvas();const Y=G.debugOverlayCanvas,Q=G.context.gl,ee=G.debugOverlayCanvas.getContext("2d");ee.clearRect(0,0,Y.width,Y.height),ee.shadowColor="white",ee.shadowBlur=2,ee.lineWidth=1.5,ee.strokeStyle="white",ee.textBaseline="top",ee.font="bold 36px Open Sans, sans-serif",ee.fillText(H,5,5),ee.strokeText(H,5,5),G.debugOverlayTexture.update(Y),G.debugOverlayTexture.bind(Q.LINEAR,Q.CLAMP_TO_EDGE)}(u,`${$} ${M}kB`);const Z=u.transform.getProjectionData({overscaledTileID:i,applyGlobeMatrix:!0,applyTerrainMatrix:!0});h.draw(o,a.TRIANGLES,f,_,zt.alphaBlended,_t.disabled,go(c.b7.transparent,B),null,Z,v,u.debugBuffer,u.quadTriangleIndexBuffer,u.debugSegments),h.draw(o,a.LINE_STRIP,f,_,y,_t.disabled,go(c.b7.red),T,Z,v,u.debugBuffer,u.tileBorderIndexBuffer,u.debugSegments)}function Do(u,e,i,o){const{isRenderingGlobe:a}=o,h=u.context,f=h.gl,_=u.transform,y=u.colorModeForRenderPass(),v=u.getDepthModeFor3D(),T=u.useProgram("terrain");h.bindFramebuffer.set(null),h.viewport.set([0,0,u.width,u.height]);for(const C of i){const M=e.getTerrainMesh(C.tileID),D=u.renderToTexture.getTexture(C),B=e.getTerrainData(C.tileID);h.activeTexture.set(f.TEXTURE0),f.bindTexture(f.TEXTURE_2D,D.texture);const $=e.getMeshFrameDelta(_.zoom),Z=_.calculateFogMatrix(C.tileID.toUnwrapped()),G=fr($,Z,u.style.sky,_.pitch,a),H=_.getProjectionData({overscaledTileID:C.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});T.draw(h,f.TRIANGLES,v,dt.disabled,y,_t.backCCW,G,B,H,"terrain",M.vertexBuffer,M.indexBuffer,M.segments)}}function za(u,e){if(!e.mesh){const i=new c.aF;i.emplaceBack(-1,-1),i.emplaceBack(1,-1),i.emplaceBack(1,1),i.emplaceBack(-1,1);const o=new c.aH;o.emplaceBack(0,1,2),o.emplaceBack(0,2,3),e.mesh=new _n(u.createVertexBuffer(i,qr.members),u.createIndexBuffer(o),c.aG.simpleSegment(0,0,i.length,o.length))}return e.mesh}class tc{constructor(e,i){this.context=new lu(e),this.transform=i,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:c.at(new Float64Array(16)),renderTime:0},this.setup(),this.numSublayers=F.maxUnderzooming+F.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new lo}resize(e,i,o){if(this.width=Math.floor(e*o),this.height=Math.floor(i*o),this.pixelRatio=o,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const a of this.style._order)this.style._layers[a].resize()}setup(){const e=this.context,i=new c.aF;i.emplaceBack(0,0),i.emplaceBack(c.Z,0),i.emplaceBack(0,c.Z),i.emplaceBack(c.Z,c.Z),this.tileExtentBuffer=e.createVertexBuffer(i,qr.members),this.tileExtentSegments=c.aG.simpleSegment(0,0,4,2);const o=new c.aF;o.emplaceBack(0,0),o.emplaceBack(c.Z,0),o.emplaceBack(0,c.Z),o.emplaceBack(c.Z,c.Z),this.debugBuffer=e.createVertexBuffer(o,qr.members),this.debugSegments=c.aG.simpleSegment(0,0,4,5);const a=new c.bW;a.emplaceBack(0,0,0,0),a.emplaceBack(c.Z,0,c.Z,0),a.emplaceBack(0,c.Z,0,c.Z),a.emplaceBack(c.Z,c.Z,c.Z,c.Z),this.rasterBoundsBuffer=e.createVertexBuffer(a,ua.members),this.rasterBoundsSegments=c.aG.simpleSegment(0,0,4,2);const h=new c.aF;h.emplaceBack(0,0),h.emplaceBack(c.Z,0),h.emplaceBack(0,c.Z),h.emplaceBack(c.Z,c.Z),this.rasterBoundsBufferPosOnly=e.createVertexBuffer(h,qr.members),this.rasterBoundsSegmentsPosOnly=c.aG.simpleSegment(0,0,4,5);const f=new c.aF;f.emplaceBack(0,0),f.emplaceBack(1,0),f.emplaceBack(0,1),f.emplaceBack(1,1),this.viewportBuffer=e.createVertexBuffer(f,qr.members),this.viewportSegments=c.aG.simpleSegment(0,0,4,2);const _=new c.bX;_.emplaceBack(0),_.emplaceBack(1),_.emplaceBack(3),_.emplaceBack(2),_.emplaceBack(0),this.tileBorderIndexBuffer=e.createIndexBuffer(_);const y=new c.aH;y.emplaceBack(1,0,2),y.emplaceBack(1,2,3),this.quadTriangleIndexBuffer=e.createIndexBuffer(y);const v=this.context.gl;this.stencilClearMode=new dt({func:v.ALWAYS,mask:0},0,255,v.ZERO,v.ZERO,v.ZERO),this.tileExtentMesh=new _n(this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}clearStencil(){const e=this.context,i=e.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const o=c.K();c.bO(o,0,this.width,this.height,0,0,1),c.M(o,o,[i.drawingBufferWidth,i.drawingBufferHeight,0]);const a={mainMatrix:o,tileMercatorCoords:[0,0,1,1],clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:o};this.useProgram("clippingMask",null,!0).draw(e,i.TRIANGLES,ot.disabled,this.stencilClearMode,zt.disabled,_t.disabled,null,null,a,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(e,i,o){if(this.currentStencilSource===e.source||!e.isTileClipped()||!i||!i.length)return;this.currentStencilSource=e.source,this.nextStencilID+i.length>256&&this.clearStencil();const a=this.context;a.setColorMode(zt.disabled),a.setDepthMode(ot.disabled);const h={};for(const f of i)h[f.key]=this.nextStencilID++;this._renderTileMasks(h,i,o,!0),this._renderTileMasks(h,i,o,!1),this._tileClippingMaskIDs=h}_renderTileMasks(e,i,o,a){const h=this.context,f=h.gl,_=this.style.projection,y=this.transform,v=this.useProgram("clippingMask");for(const T of i){const C=e[T.key],M=this.style.map.terrain&&this.style.map.terrain.getTerrainData(T),D=_.getMeshFromTileID(this.context,T.canonical,a,!0,"stencil"),B=y.getProjectionData({overscaledTileID:T,applyGlobeMatrix:!0,applyTerrainMatrix:!0});v.draw(h,f.TRIANGLES,ot.disabled,new dt({func:f.ALWAYS,mask:0},C,255,f.KEEP,f.KEEP,f.REPLACE),zt.disabled,o?_t.disabled:_t.backCCW,null,M,B,"$clipping",D.vertexBuffer,D.indexBuffer,D.segments)}}_renderTilesDepthBuffer(){const e=this.context,i=e.gl,o=this.style.projection,a=this.transform,h=this.useProgram("depth"),f=this.getDepthModeFor3D(),_=le(a,{tileSize:a.tileSize});for(const y of _){const v=this.style.map.terrain&&this.style.map.terrain.getTerrainData(y),T=o.getMeshFromTileID(this.context,y.canonical,!0,!0,"raster"),C=a.getProjectionData({overscaledTileID:y,applyGlobeMatrix:!0,applyTerrainMatrix:!0});h.draw(e,i.TRIANGLES,f,dt.disabled,zt.disabled,_t.backCCW,null,v,C,"$clipping",T.vertexBuffer,T.indexBuffer,T.segments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const e=this.nextStencilID++,i=this.context.gl;return new dt({func:i.NOTEQUAL,mask:255},e,255,i.KEEP,i.KEEP,i.REPLACE)}stencilModeForClipping(e){const i=this.context.gl;return new dt({func:i.EQUAL,mask:255},this._tileClippingMaskIDs[e.key],0,i.KEEP,i.KEEP,i.REPLACE)}getStencilConfigForOverlapAndUpdateStencilID(e){const i=this.context.gl,o=e.sort((f,_)=>_.overscaledZ-f.overscaledZ),a=o[o.length-1].overscaledZ,h=o[0].overscaledZ-a+1;if(h>1){this.currentStencilSource=void 0,this.nextStencilID+h>256&&this.clearStencil();const f={};for(let _=0;_<h;_++)f[_+a]=new dt({func:i.GEQUAL,mask:255},_+this.nextStencilID,255,i.KEEP,i.KEEP,i.REPLACE);return this.nextStencilID+=h,[f,o]}return[{[a]:dt.disabled},o]}stencilConfigForOverlapTwoPass(e){const i=this.context.gl,o=e.sort((f,_)=>_.overscaledZ-f.overscaledZ),a=o[o.length-1].overscaledZ,h=o[0].overscaledZ-a+1;if(this.clearStencil(),h>1){const f={},_={};for(let y=0;y<h;y++)f[y+a]=new dt({func:i.GREATER,mask:255},h+1+y,255,i.KEEP,i.KEEP,i.REPLACE),_[y+a]=new dt({func:i.GREATER,mask:255},1+y,255,i.KEEP,i.KEEP,i.REPLACE);return this.nextStencilID=2*h+1,[f,_,o]}return this.nextStencilID=3,[{[a]:new dt({func:i.GREATER,mask:255},2,255,i.KEEP,i.KEEP,i.REPLACE)},{[a]:new dt({func:i.GREATER,mask:255},1,255,i.KEEP,i.KEEP,i.REPLACE)},o]}colorModeForRenderPass(){const e=this.context.gl;return this._showOverdrawInspector?new zt([e.CONSTANT_COLOR,e.ONE],new c.b7(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?zt.unblended:zt.alphaBlended}getDepthModeForSublayer(e,i,o){if(!this.opaquePassEnabledForLayer())return ot.disabled;const a=1-((1+this.currentLayer)*this.numSublayers+e)*this.depthEpsilon;return new ot(o||this.context.gl.LEQUAL,i,[a,a])}getDepthModeFor3D(){return new ot(this.context.gl.LEQUAL,ot.ReadWrite,this.depthRangeFor3D)}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(e,i){var o,a;this.style=e,this.options=i,this.lineAtlas=e.lineAtlas,this.imageManager=e.imageManager,this.glyphManager=e.glyphManager,this.symbolFadeChange=e.placement.symbolFadeChange(Ve.now()),this.imageManager.beginFrame();const h=this.style._order,f=this.style.sourceCaches,_={},y={},v={},T={isRenderingToTexture:!1,isRenderingGlobe:((o=e.projection)===null||o===void 0?void 0:o.transitionState)>0};for(const M in f){const D=f[M];D.used&&D.prepare(this.context),_[M]=D.getVisibleCoordinates(!1),y[M]=_[M].slice().reverse(),v[M]=D.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let M=0;M<h.length;M++)if(this.style._layers[h[M]].is3D()){this.opaquePassCutoff=M;break}this.maybeDrawDepthAndCoords(!1),this.renderToTexture&&(this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0),this.renderPass="offscreen";for(const M of h){const D=this.style._layers[M];if(!D.hasOffscreenPass()||D.isHidden(this.transform.zoom))continue;const B=y[D.source];(D.type==="custom"||B.length)&&this.renderLayer(this,f[D.source],D,B,T)}if((a=this.style.projection)===null||a===void 0||a.updateGPUdependent({context:this.context,useProgram:M=>this.useProgram(M)}),this.context.viewport.set([0,0,this.width,this.height]),this.context.bindFramebuffer.set(null),this.context.clear({color:i.showOverdrawInspector?c.b7.black:c.b7.transparent,depth:1}),this.clearStencil(),this.style.sky&&function(M,D){const B=M.context,$=B.gl,Z=((se,te,pe)=>{const de=Math.cos(te.rollInRadians),be=Math.sin(te.rollInRadians),Te=qn(te),xe=te.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}).projectionTransition;return{u_sky_color:se.properties.get("sky-color"),u_horizon_color:se.properties.get("horizon-color"),u_horizon:[(te.width/2-Te*be)*pe,(te.height/2+Te*de)*pe],u_horizon_normal:[-be,de],u_sky_horizon_blend:se.properties.get("sky-horizon-blend")*te.height/2*pe,u_sky_blend:xe}})(D,M.style.map.transform,M.pixelRatio),G=new ot($.LEQUAL,ot.ReadWrite,[0,1]),H=dt.disabled,Y=M.colorModeForRenderPass(),Q=M.useProgram("sky"),ee=za(B,D);Q.draw(B,$.TRIANGLES,G,H,Y,_t.disabled,Z,null,void 0,"sky",ee.vertexBuffer,ee.indexBuffer,ee.segments)}(this,this.style.sky),this._showOverdrawInspector=i.showOverdrawInspector,this.depthRangeFor3D=[0,1-(e._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=h.length-1;this.currentLayer>=0;this.currentLayer--){const M=this.style._layers[h[this.currentLayer]],D=f[M.source],B=_[M.source];this._renderTileClippingMasks(M,B,!1),this.renderLayer(this,D,M,B,T)}this.renderPass="translucent";let C=!1;for(this.currentLayer=0;this.currentLayer<h.length;this.currentLayer++){const M=this.style._layers[h[this.currentLayer]],D=f[M.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(M,T))continue;this.opaquePassEnabledForLayer()||C||(C=!0,T.isRenderingGlobe&&!this.style.map.terrain&&this._renderTilesDepthBuffer());const B=(M.type==="symbol"?v:y)[M.source];this._renderTileClippingMasks(M,_[M.source],!1),this.renderLayer(this,D,M,B,T)}if(T.isRenderingGlobe&&function(M,D,B){const $=M.context,Z=$.gl,G=M.useProgram("atmosphere"),H=new ot(Z.LEQUAL,ot.ReadOnly,[0,1]),Y=M.transform,Q=function(xe,Le){const Re=xe.properties.get("position"),Se=[-Re.x,-Re.y,-Re.z],Ge=c.at(new Float64Array(16));return xe.properties.get("anchor")==="map"&&(c.a_(Ge,Ge,Le.rollInRadians),c.a$(Ge,Ge,-Le.pitchInRadians),c.a_(Ge,Ge,Le.bearingInRadians),c.a$(Ge,Ge,Le.center.lat*Math.PI/180),c.bm(Ge,Ge,-Le.center.lng*Math.PI/180)),c.bV(Se,Se,Ge),Se}(B,M.transform),ee=Y.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),se=D.properties.get("atmosphere-blend")*ee.projectionTransition;if(se===0)return;const te=po(Y.worldSize,Y.center.lat),pe=Y.inverseProjectionMatrix,de=new Float64Array(4);de[3]=1,c.ap(de,de,Y.modelViewProjectionMatrix),de[0]/=de[3],de[1]/=de[3],de[2]/=de[3],de[3]=1,c.ap(de,de,pe),de[0]/=de[3],de[1]/=de[3],de[2]/=de[3],de[3]=1;const be=((xe,Le,Re,Se,Ge)=>({u_sun_pos:xe,u_atmosphere_blend:Le,u_globe_position:Re,u_globe_radius:Se,u_inv_proj_matrix:Ge}))(Q,se,[de[0],de[1],de[2]],te,pe),Te=za($,D);G.draw($,Z.TRIANGLES,H,dt.disabled,zt.alphaBlended,_t.disabled,be,null,null,"atmosphere",Te.vertexBuffer,Te.indexBuffer,Te.segments)}(this,this.style.sky,this.style.light),this.options.showTileBoundaries){const M=function(D,B){let $=null;const Z=Object.values(D._layers).flatMap(Q=>Q.source&&!Q.isHidden(B)?[D.sourceCaches[Q.source]]:[]),G=Z.filter(Q=>Q.getSource().type==="vector"),H=Z.filter(Q=>Q.getSource().type!=="vector"),Y=Q=>{(!$||$.getSource().maxzoom<Q.getSource().maxzoom)&&($=Q)};return G.forEach(Q=>Y(Q)),$||H.forEach(Q=>Y(Q)),$}(this.style,this.transform.zoom);M&&function(D,B,$){for(let Z=0;Z<$.length;Z++)Ns(D,B,$[Z])}(this,M,M.getVisibleCoordinates())}this.options.showPadding&&function(M){const D=M.transform.padding;Ro(M,M.transform.height-(D.top||0),3,ec),Ro(M,D.bottom||0,3,Wt),Aa(M,D.left||0,3,Tn),Aa(M,M.transform.width-(D.right||0),3,Wi);const B=M.transform.centerPoint;(function($,Z,G,H){Ir($,Z-1,G-10,2,20,H),Ir($,Z-10,G-1,20,2,H)})(M,B.x,M.transform.height-B.y,Ea)}(this),this.context.setDefault()}maybeDrawDepthAndCoords(e){if(!this.style||!this.style.map||!this.style.map.terrain)return;const i=this.terrainFacilitator.matrix,o=this.transform.modelViewProjectionMatrix;let a=this.terrainFacilitator.dirty;a||(a=e?!c.bY(i,o):!c.bZ(i,o)),a||(a=this.style.map.terrain.sourceCache.anyTilesAfterTime(this.terrainFacilitator.renderTime)),a&&(c.b_(i,o),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(h,f){const _=h.context,y=_.gl,v=h.transform,T=zt.unblended,C=new ot(y.LEQUAL,ot.ReadWrite,[0,1]),M=f.sourceCache.getRenderableTiles(),D=h.useProgram("terrainDepth");_.bindFramebuffer.set(f.getFramebuffer("depth").framebuffer),_.viewport.set([0,0,h.width/devicePixelRatio,h.height/devicePixelRatio]),_.clear({color:c.b7.transparent,depth:1});for(const B of M){const $=f.getTerrainMesh(B.tileID),Z=f.getTerrainData(B.tileID),G=v.getProjectionData({overscaledTileID:B.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0}),H={u_ele_delta:f.getMeshFrameDelta(v.zoom)};D.draw(_,y.TRIANGLES,C,dt.disabled,T,_t.backCCW,H,Z,G,"terrain",$.vertexBuffer,$.indexBuffer,$.segments)}_.bindFramebuffer.set(null),_.viewport.set([0,0,h.width,h.height])}(this,this.style.map.terrain),function(h,f){const _=h.context,y=_.gl,v=h.transform,T=zt.unblended,C=new ot(y.LEQUAL,ot.ReadWrite,[0,1]),M=f.getCoordsTexture(),D=f.sourceCache.getRenderableTiles(),B=h.useProgram("terrainCoords");_.bindFramebuffer.set(f.getFramebuffer("coords").framebuffer),_.viewport.set([0,0,h.width/devicePixelRatio,h.height/devicePixelRatio]),_.clear({color:c.b7.transparent,depth:1}),f.coordsIndex=[];for(const $ of D){const Z=f.getTerrainMesh($.tileID),G=f.getTerrainData($.tileID);_.activeTexture.set(y.TEXTURE0),y.bindTexture(y.TEXTURE_2D,M.texture);const H={u_terrain_coords_id:(255-f.coordsIndex.length)/255,u_texture:0,u_ele_delta:f.getMeshFrameDelta(v.zoom)},Y=v.getProjectionData({overscaledTileID:$.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});B.draw(_,y.TRIANGLES,C,dt.disabled,T,_t.backCCW,H,G,Y,"terrain",Z.vertexBuffer,Z.indexBuffer,Z.segments),f.coordsIndex.push($.tileID.key)}_.bindFramebuffer.set(null),_.viewport.set([0,0,h.width,h.height])}(this,this.style.map.terrain))}renderLayer(e,i,o,a,h){o.isHidden(this.transform.zoom)||(o.type==="background"||o.type==="custom"||(a||[]).length)&&(this.id=o.id,c.b$(o)?function(f,_,y,v,T,C){if(f.renderPass!=="translucent")return;const{isRenderingToTexture:M}=C,D=dt.disabled,B=f.colorModeForRenderPass();(y._unevaluatedLayout.hasValue("text-variable-anchor")||y._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function($,Z,G,H,Y,Q,ee,se,te){const pe=Z.transform,de=Z.style.map.terrain,be=Y==="map",Te=Q==="map";for(const xe of $){const Le=H.getTile(xe),Re=Le.getBucket(G);if(!Re||!Re.text||!Re.text.segments.get().length)continue;const Se=c.ag(Re.textSizeData,pe.zoom),Ge=c.aw(Le,1,Z.transform.zoom),st=ue(be,Z.transform,Ge),xt=G.layout.get("icon-text-fit")!=="none"&&Re.hasIconData();if(Se){const at=Math.pow(2,pe.zoom-Le.tileID.overscaledZ),Pt=de?(Et,Rt)=>de.getElevation(xe,Et,Rt):null;Jl(Re,be,Te,te,pe,st,at,Se,xt,c.ax(pe,Le,ee,se),xe.toUnwrapped(),Pt)}}}(v,f,y,_,y.layout.get("text-rotation-alignment"),y.layout.get("text-pitch-alignment"),y.paint.get("text-translate"),y.paint.get("text-translate-anchor"),T),y.paint.get("icon-opacity").constantOr(1)!==0&&Os(f,_,y,v,!1,y.paint.get("icon-translate"),y.paint.get("icon-translate-anchor"),y.layout.get("icon-rotation-alignment"),y.layout.get("icon-pitch-alignment"),y.layout.get("icon-keep-upright"),D,B,M),y.paint.get("text-opacity").constantOr(1)!==0&&Os(f,_,y,v,!0,y.paint.get("text-translate"),y.paint.get("text-translate-anchor"),y.layout.get("text-rotation-alignment"),y.layout.get("text-pitch-alignment"),y.layout.get("text-keep-upright"),D,B,M),_.map.showCollisionBoxes&&(Bs(f,_,y,v,!0),Bs(f,_,y,v,!1))}(e,i,o,a,this.style.placement.variableOffsets,h):c.c0(o)?function(f,_,y,v,T){if(f.renderPass!=="translucent")return;const{isRenderingToTexture:C}=T,M=y.paint.get("circle-opacity"),D=y.paint.get("circle-stroke-width"),B=y.paint.get("circle-stroke-opacity"),$=!y.layout.get("circle-sort-key").isConstant();if(M.constantOr(1)===0&&(D.constantOr(1)===0||B.constantOr(1)===0))return;const Z=f.context,G=Z.gl,H=f.transform,Y=f.getDepthModeForSublayer(0,ot.ReadOnly),Q=dt.disabled,ee=f.colorModeForRenderPass(),se=[],te=H.getCircleRadiusCorrection();for(let pe=0;pe<v.length;pe++){const de=v[pe],be=_.getTile(de),Te=be.getBucket(y);if(!Te)continue;const xe=y.paint.get("circle-translate"),Le=y.paint.get("circle-translate-anchor"),Re=c.ax(H,be,xe,Le),Se=Te.programConfigurations.get(y.id),Ge=f.useProgram("circle",Se),st=Te.layoutVertexBuffer,xt=Te.indexBuffer,at=f.style.map.terrain&&f.style.map.terrain.getTerrainData(de),Pt={programConfiguration:Se,program:Ge,layoutVertexBuffer:st,indexBuffer:xt,uniformValues:Dl(f,be,y,Re,te),terrainData:at,projectionData:H.getProjectionData({overscaledTileID:de,applyGlobeMatrix:!C,applyTerrainMatrix:!0})};if($){const Et=Te.segments.get();for(const Rt of Et)se.push({segments:new c.aG([Rt]),sortKey:Rt.sortKey,state:Pt})}else se.push({segments:Te.segments,sortKey:0,state:Pt})}$&&se.sort((pe,de)=>pe.sortKey-de.sortKey);for(const pe of se){const{programConfiguration:de,program:be,layoutVertexBuffer:Te,indexBuffer:xe,uniformValues:Le,terrainData:Re,projectionData:Se}=pe.state;be.draw(Z,G.TRIANGLES,Y,Q,ee,_t.backCCW,Le,Re,Se,y.id,Te,xe,pe.segments,y.paint,f.transform.zoom,de)}}(e,i,o,a,h):c.c1(o)?function(f,_,y,v,T){if(y.paint.get("heatmap-opacity")===0)return;const C=f.context,{isRenderingToTexture:M,isRenderingGlobe:D}=T;if(f.style.map.terrain){for(const B of v){const $=_.getTile(B);_.hasRenderableParent(B)||(f.renderPass==="offscreen"?cu(f,$,y,B,D):f.renderPass==="translucent"&&Ca(f,y,B,M,D))}C.viewport.set([0,0,f.width,f.height])}else f.renderPass==="offscreen"?function(B,$,Z,G){const H=B.context,Y=H.gl,Q=B.transform,ee=dt.disabled,se=new zt([Y.ONE,Y.ONE],c.b7.transparent,[!0,!0,!0,!0]);(function(te,pe,de){const be=te.gl;te.activeTexture.set(be.TEXTURE1),te.viewport.set([0,0,pe.width/4,pe.height/4]);let Te=de.heatmapFbos.get(c.bS);Te?(be.bindTexture(be.TEXTURE_2D,Te.colorAttachment.get()),te.bindFramebuffer.set(Te.framebuffer)):(Te=Ql(te,pe.width/4,pe.height/4),de.heatmapFbos.set(c.bS,Te))})(H,B,Z),H.clear({color:c.b7.transparent});for(let te=0;te<G.length;te++){const pe=G[te];if($.hasRenderableParent(pe))continue;const de=$.getTile(pe),be=de.getBucket(Z);if(!be)continue;const Te=be.programConfigurations.get(Z.id),xe=B.useProgram("heatmap",Te),Le=Q.getProjectionData({overscaledTileID:pe,applyGlobeMatrix:!0,applyTerrainMatrix:!1}),Re=Q.getCircleRadiusCorrection();xe.draw(H,Y.TRIANGLES,ot.disabled,ee,se,_t.backCCW,da(de,Q.zoom,Z.paint.get("heatmap-intensity"),Re),null,Le,Z.id,be.layoutVertexBuffer,be.indexBuffer,be.segments,Z.paint,Q.zoom,Te)}H.viewport.set([0,0,B.width,B.height])}(f,_,y,v):f.renderPass==="translucent"&&function(B,$){const Z=B.context,G=Z.gl;Z.setColorMode(B.colorModeForRenderPass());const H=$.heatmapFbos.get(c.bS);H&&(Z.activeTexture.set(G.TEXTURE0),G.bindTexture(G.TEXTURE_2D,H.colorAttachment.get()),Z.activeTexture.set(G.TEXTURE1),Ia(Z,$).bind(G.LINEAR,G.CLAMP_TO_EDGE),B.useProgram("heatmapTexture").draw(Z,G.TRIANGLES,ot.disabled,dt.disabled,B.colorModeForRenderPass(),_t.disabled,pa(B,$,0,1),null,null,$.id,B.viewportBuffer,B.quadTriangleIndexBuffer,B.viewportSegments,$.paint,B.transform.zoom))}(f,y)}(e,i,o,a,h):c.c2(o)?function(f,_,y,v,T){if(f.renderPass!=="translucent")return;const{isRenderingToTexture:C}=T,M=y.paint.get("line-opacity"),D=y.paint.get("line-width");if(M.constantOr(1)===0||D.constantOr(1)===0)return;const B=f.getDepthModeForSublayer(0,ot.ReadOnly),$=f.colorModeForRenderPass(),Z=y.paint.get("line-dasharray"),G=y.paint.get("line-pattern"),H=G.constantOr(1),Y=y.paint.get("line-gradient"),Q=y.getCrossfadeParameters(),ee=H?"linePattern":Z?"lineSDF":Y?"lineGradient":"line",se=f.context,te=se.gl,pe=f.transform;let de=!0;for(const be of v){const Te=_.getTile(be);if(H&&!Te.patternsLoaded())continue;const xe=Te.getBucket(y);if(!xe)continue;const Le=xe.programConfigurations.get(y.id),Re=f.context.program.get(),Se=f.useProgram(ee,Le),Ge=de||Se.program!==Re,st=f.style.map.terrain&&f.style.map.terrain.getTerrainData(be),xt=G.constantOr(null);if(xt&&Te.imageAtlas){const wt=Te.imageAtlas,St=wt.patternPositions[xt.to.toString()],Xt=wt.patternPositions[xt.from.toString()];St&&Xt&&Le.setConstantPatternPositions(St,Xt)}const at=pe.getProjectionData({overscaledTileID:be,applyGlobeMatrix:!C,applyTerrainMatrix:!0}),Pt=pe.getPixelScale(),Et=H?Rs(f,Te,y,Pt,Q):Z?eu(f,Te,y,Pt,Z,Q):Y?Ol(f,Te,y,Pt,xe.lineClipsArray.length):yo(f,Te,y,Pt);if(H)se.activeTexture.set(te.TEXTURE0),Te.imageAtlasTexture.bind(te.LINEAR,te.CLAMP_TO_EDGE),Le.updatePaintBuffers(Q);else if(Z&&(Ge||f.lineAtlas.dirty))se.activeTexture.set(te.TEXTURE0),f.lineAtlas.bind(se);else if(Y){const wt=xe.gradients[y.id];let St=wt.texture;if(y.gradientVersion!==wt.version){let Xt=256;if(y.stepInterpolant){const si=_.getSource().maxzoom,ci=be.canonical.z===si?Math.ceil(1<<f.transform.maxZoom-be.canonical.z):1;Xt=c.ae(c.bT(xe.maxLineLength/c.Z*1024*ci),256,se.maxTextureSize)}wt.gradient=c.bU({expression:y.gradientExpression(),evaluationKey:"lineProgress",resolution:Xt,image:wt.gradient||void 0,clips:xe.lineClipsArray}),wt.texture?wt.texture.update(wt.gradient):wt.texture=new It(se,wt.gradient,te.RGBA),wt.version=y.gradientVersion,St=wt.texture}se.activeTexture.set(te.TEXTURE0),St.bind(y.stepInterpolant?te.NEAREST:te.LINEAR,te.CLAMP_TO_EDGE)}let Rt;if(C){const[wt]=f.getStencilConfigForOverlapAndUpdateStencilID(v);Rt=wt[be.overscaledZ]}else Rt=f.stencilModeForClipping(be);Se.draw(se,te.TRIANGLES,B,Rt,$,_t.disabled,Et,st,at,y.id,xe.layoutVertexBuffer,xe.indexBuffer,xe.segments,y.paint,f.transform.zoom,Le,xe.layoutVertexBuffer2),de=!1}}(e,i,o,a,h):c.c3(o)?function(f,_,y,v,T){const C=y.paint.get("fill-color"),M=y.paint.get("fill-opacity");if(M.constantOr(1)===0)return;const{isRenderingToTexture:D}=T,B=f.colorModeForRenderPass(),$=y.paint.get("fill-pattern"),Z=f.opaquePassEnabledForLayer()&&!$.constantOr(1)&&C.constantOr(c.b7.transparent).a===1&&M.constantOr(0)===1?"opaque":"translucent";if(f.renderPass===Z){const G=f.getDepthModeForSublayer(1,f.renderPass==="opaque"?ot.ReadWrite:ot.ReadOnly);Ao(f,_,y,v,G,B,!1,D)}if(f.renderPass==="translucent"&&y.paint.get("fill-antialias")){const G=f.getDepthModeForSublayer(y.getPaintProperty("fill-outline-color")?2:0,ot.ReadOnly);Ao(f,_,y,v,G,B,!0,D)}}(e,i,o,a,h):c.c4(o)?function(f,_,y,v,T){const C=y.paint.get("fill-extrusion-opacity");if(C===0)return;const{isRenderingToTexture:M}=T;if(f.renderPass==="translucent"){const D=new ot(f.context.gl.LEQUAL,ot.ReadWrite,f.depthRangeFor3D);if(C!==1||y.paint.get("fill-extrusion-pattern").constantOr(1))zo(f,_,y,v,D,dt.disabled,zt.disabled,M),zo(f,_,y,v,D,f.stencilModeFor3D(),f.colorModeForRenderPass(),M);else{const B=f.colorModeForRenderPass();zo(f,_,y,v,D,dt.disabled,B,M)}}}(e,i,o,a,h):c.c5(o)?function(f,_,y,v,T){if(f.renderPass!=="offscreen"&&f.renderPass!=="translucent")return;const{isRenderingToTexture:C}=T,M=f.context,D=f.style.projection.useSubdivision,B=f.getDepthModeForSublayer(0,ot.ReadOnly),$=f.colorModeForRenderPass();if(f.renderPass==="offscreen")(function(Z,G,H,Y,Q,ee,se){const te=Z.context,pe=te.gl;for(const de of H){const be=G.getTile(de),Te=be.dem;if(!Te||!Te.data||!be.needsHillshadePrepare)continue;const xe=Te.dim,Le=Te.stride,Re=Te.getPixels();if(te.activeTexture.set(pe.TEXTURE1),te.pixelStoreUnpackPremultiplyAlpha.set(!1),be.demTexture=be.demTexture||Z.getTileTexture(Le),be.demTexture){const Ge=be.demTexture;Ge.update(Re,{premultiply:!1}),Ge.bind(pe.NEAREST,pe.CLAMP_TO_EDGE)}else be.demTexture=new It(te,Re,pe.RGBA,{premultiply:!1}),be.demTexture.bind(pe.NEAREST,pe.CLAMP_TO_EDGE);te.activeTexture.set(pe.TEXTURE0);let Se=be.fbo;if(!Se){const Ge=new It(te,{width:xe,height:xe,data:null},pe.RGBA);Ge.bind(pe.LINEAR,pe.CLAMP_TO_EDGE),Se=be.fbo=te.createFramebuffer(xe,xe,!0,!1),Se.colorAttachment.set(Ge.texture)}te.bindFramebuffer.set(Se.framebuffer),te.viewport.set([0,0,xe,xe]),Z.useProgram("hillshadePrepare").draw(te,pe.TRIANGLES,Q,ee,se,_t.disabled,Bl(be.tileID,Te),null,null,Y.id,Z.rasterBoundsBuffer,Z.quadTriangleIndexBuffer,Z.rasterBoundsSegments),be.needsHillshadePrepare=!1}})(f,_,v,y,B,dt.disabled,$),M.viewport.set([0,0,f.width,f.height]);else if(f.renderPass==="translucent")if(D){const[Z,G,H]=f.stencilConfigForOverlapTwoPass(v);ko(f,_,y,H,Z,B,$,!1,C),ko(f,_,y,H,G,B,$,!0,C)}else{const[Z,G]=f.getStencilConfigForOverlapAndUpdateStencilID(v);ko(f,_,y,G,Z,B,$,!1,C)}}(e,i,o,a,h):c.c6(o)?function(f,_,y,v,T){if(f.renderPass!=="translucent"||y.paint.get("raster-opacity")===0||!v.length)return;const{isRenderingToTexture:C}=T,M=_.getSource(),D=f.style.projection.useSubdivision;if(M instanceof Qi)as(f,_,y,v,null,!1,!1,M.tileCoords,M.flippedWindingOrder,C);else if(D){const[B,$,Z]=f.stencilConfigForOverlapTwoPass(v);as(f,_,y,Z,B,!1,!0,os,!1,C),as(f,_,y,Z,$,!0,!0,os,!1,C)}else{const[B,$]=f.getStencilConfigForOverlapAndUpdateStencilID(v);as(f,_,y,$,B,!1,!0,os,!1,C)}}(e,i,o,a,h):c.c7(o)?function(f,_,y,v,T){const C=y.paint.get("background-color"),M=y.paint.get("background-opacity");if(M===0)return;const{isRenderingToTexture:D}=T,B=f.context,$=B.gl,Z=f.style.projection,G=f.transform,H=G.tileSize,Y=y.paint.get("background-pattern");if(f.isPatternMissing(Y))return;const Q=!Y&&C.a===1&&M===1&&f.opaquePassEnabledForLayer()?"opaque":"translucent";if(f.renderPass!==Q)return;const ee=dt.disabled,se=f.getDepthModeForSublayer(0,Q==="opaque"?ot.ReadWrite:ot.ReadOnly),te=f.colorModeForRenderPass(),pe=f.useProgram(Y?"backgroundPattern":"background"),de=v||le(G,{tileSize:H,terrain:f.style.map.terrain});Y&&(B.activeTexture.set($.TEXTURE0),f.imageManager.bind(f.context));const be=y.getCrossfadeParameters();for(const Te of de){const xe=G.getProjectionData({overscaledTileID:Te,applyGlobeMatrix:!D,applyTerrainMatrix:!0}),Le=Y?xo(M,f,Y,{tileID:Te,tileSize:H},be):Vl(M,C),Re=f.style.map.terrain&&f.style.map.terrain.getTerrainData(Te),Se=Z.getMeshFromTileID(B,Te.canonical,!1,!0,"raster");pe.draw(B,$.TRIANGLES,se,ee,te,_t.backCCW,Le,Re,xe,y.id,Se.vertexBuffer,Se.indexBuffer,Se.segments)}}(e,0,o,a,h):c.c8(o)&&function(f,_,y,v){const{isRenderingGlobe:T}=v,C=f.context,M=y.implementation,D=f.style.projection,B=f.transform,$=B.getProjectionDataForCustomLayer(T),Z={farZ:B.farZ,nearZ:B.nearZ,fov:B.fov*Math.PI/180,modelViewProjectionMatrix:B.modelViewProjectionMatrix,projectionMatrix:B.projectionMatrix,shaderData:{variantName:D.shaderVariantName,vertexShaderPrelude:`const float PI = 3.141592653589793;
uniform mat4 u_projection_matrix;
${D.shaderPreludeCode.vertexSource}`,define:D.shaderDefine},defaultProjectionData:$},G=M.renderingMode?M.renderingMode:"2d";if(f.renderPass==="offscreen"){const H=M.prerender;H&&(f.setCustomLayerDefaults(),C.setColorMode(f.colorModeForRenderPass()),H.call(M,C.gl,Z),C.setDirty(),f.setBaseState())}else if(f.renderPass==="translucent"){f.setCustomLayerDefaults(),C.setColorMode(f.colorModeForRenderPass()),C.setStencilMode(dt.disabled);const H=G==="3d"?f.getDepthModeFor3D():f.getDepthModeForSublayer(0,ot.ReadOnly);C.setDepthMode(H),M.render(C.gl,Z),C.setDirty(),f.setBaseState(),C.bindFramebuffer.set(null)}}(e,0,o,h))}saveTileTexture(e){const i=this._tileTextures[e.size[0]];i?i.push(e):this._tileTextures[e.size[0]]=[e]}getTileTexture(e){const i=this._tileTextures[e];return i&&i.length>0?i.pop():null}isPatternMissing(e){if(!e)return!1;if(!e.from||!e.to)return!0;const i=this.imageManager.getPattern(e.from.toString()),o=this.imageManager.getPattern(e.to.toString());return!i||!o}useProgram(e,i,o=!1){this.cache=this.cache||{};const a=!!this.style.map.terrain,h=this.style.projection,f=e+(i?i.cacheKey:"")+`/${o?Gn:h.shaderVariantName}`+(this._showOverdrawInspector?"/overdraw":"")+(a?"/terrain":"");return this.cache[f]||(this.cache[f]=new ks(this.context,tr[e],i,ga[e],this._showOverdrawInspector,a,o?tr.projectionMercator:h.shaderPreludeCode,o?Mr:h.shaderDefine)),this.cache[f]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const e=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(e.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new It(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){const{drawingBufferWidth:e,drawingBufferHeight:i}=this.context.gl;return this.width!==e||this.height!==i}}function ka(u,e){let i,o=!1,a=null,h=null;const f=()=>{a=null,o&&(u.apply(h,i),a=setTimeout(f,e),o=!1)};return(..._)=>(o=!0,h=this,i=_,a||f(),a)}class Ra{constructor(e){this._getCurrentHash=()=>{const i=window.location.hash.replace("#","");if(this._hashName){let o;return i.split("&").map(a=>a.split("=")).forEach(a=>{a[0]===this._hashName&&(o=a)}),(o&&o[1]||"").split("/")}return i.split("/")},this._onHashChange=()=>{const i=this._getCurrentHash();if(!this._isValidHash(i))return!1;const o=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(i[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+i[2],+i[1]],zoom:+i[0],bearing:o,pitch:+(i[4]||0)}),!0},this._updateHashUnthrottled=()=>{const i=window.location.href.replace(/(#.*)?$/,this.getHashString());window.history.replaceState(window.history.state,null,i)},this._removeHash=()=>{const i=this._getCurrentHash();if(i.length===0)return;const o=i.join("/");let a=o;a.split("&").length>0&&(a=a.split("&")[0]),this._hashName&&(a=`${this._hashName}=${o}`);let h=window.location.hash.replace(a,"");h.startsWith("#&")?h=h.slice(0,1)+h.slice(2):h==="#"&&(h="");let f=window.location.href.replace(/(#.+)?$/,h);f=f.replace("&&","&"),window.history.replaceState(window.history.state,null,f)},this._updateHash=ka(this._updateHashUnthrottled,300),this._hashName=e&&encodeURIComponent(e)}addTo(e){return this._map=e,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),this._removeHash(),delete this._map,this}getHashString(e){const i=this._map.getCenter(),o=Math.round(100*this._map.getZoom())/100,a=Math.ceil((o*Math.LN2+Math.log(512/360/.5))/Math.LN10),h=Math.pow(10,a),f=Math.round(i.lng*h)/h,_=Math.round(i.lat*h)/h,y=this._map.getBearing(),v=this._map.getPitch();let T="";if(T+=e?`/${f}/${_}/${o}`:`${o}/${_}/${f}`,(y||v)&&(T+="/"+Math.round(10*y)/10),v&&(T+=`/${Math.round(v)}`),this._hashName){const C=this._hashName;let M=!1;const D=window.location.hash.slice(1).split("&").map(B=>{const $=B.split("=")[0];return $===C?(M=!0,`${$}=${T}`):B}).filter(B=>B);return M||D.push(`${C}=${T}`),`#${D.join("&")}`}return`#${T}`}_isValidHash(e){if(e.length<3||e.some(isNaN))return!1;try{new c.Q(+e[2],+e[1])}catch{return!1}const i=+e[0],o=+(e[3]||0),a=+(e[4]||0);return i>=this._map.getMinZoom()&&i<=this._map.getMaxZoom()&&o>=-180&&o<=180&&a>=this._map.getMinPitch()&&a<=this._map.getMaxPitch()}}const ls={linearity:.3,easing:c.c9(0,0,.3,1)},Pn=c.e({deceleration:2500,maxSpeed:1400},ls),ic=c.e({deceleration:20,maxSpeed:1400},ls),rc=c.e({deceleration:1e3,maxSpeed:360},ls),nc=c.e({deceleration:1e3,maxSpeed:90},ls),sc=c.e({deceleration:1e3,maxSpeed:360},ls);class oc{constructor(e){this._map=e,this.clear()}clear(){this._inertiaBuffer=[]}record(e){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:Ve.now(),settings:e})}_drainInertiaBuffer(){const e=this._inertiaBuffer,i=Ve.now();for(;e.length>0&&i-e[0].time>160;)e.shift()}_onMoveEnd(e){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const i={zoom:0,bearing:0,pitch:0,roll:0,pan:new c.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:h}of this._inertiaBuffer)i.zoom+=h.zoomDelta||0,i.bearing+=h.bearingDelta||0,i.pitch+=h.pitchDelta||0,i.roll+=h.rollDelta||0,h.panDelta&&i.pan._add(h.panDelta),h.around&&(i.around=h.around),h.pinchAround&&(i.pinchAround=h.pinchAround);const o=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,a={};if(i.pan.mag()){const h=us(i.pan.mag(),o,c.e({},Pn,e||{})),f=i.pan.mult(h.amount/i.pan.mag()),_=this._map.cameraHelper.handlePanInertia(f,this._map.transform);a.center=_.easingCenter,a.offset=_.easingOffset,cs(a,h)}if(i.zoom){const h=us(i.zoom,o,ic);a.zoom=this._map.transform.zoom+h.amount,cs(a,h)}if(i.bearing){const h=us(i.bearing,o,rc);a.bearing=this._map.transform.bearing+c.ae(h.amount,-179,179),cs(a,h)}if(i.pitch){const h=us(i.pitch,o,nc);a.pitch=this._map.transform.pitch+h.amount,cs(a,h)}if(i.roll){const h=us(i.roll,o,sc);a.roll=this._map.transform.roll+c.ae(h.amount,-179,179),cs(a,h)}if(a.zoom||a.bearing){const h=i.pinchAround===void 0?i.around:i.pinchAround;a.around=h?this._map.unproject(h):this._map.getCenter()}return this.clear(),c.e(a,{noMoveStart:!0})}}function cs(u,e){(!u.duration||u.duration<e.duration)&&(u.duration=e.duration,u.easing=e.easing)}function us(u,e,i){const{maxSpeed:o,linearity:a,deceleration:h}=i,f=c.ae(u*a/(e/1e3),-o,o),_=Math.abs(f)/(h*a);return{easing:i.easing,duration:1e3*_,amount:f*(_/2)}}class Ti extends c.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(e,i,o,a={}){o=o instanceof MouseEvent?o:new MouseEvent(e,o);const h=he.mousePos(i.getCanvas(),o),f=i.unproject(h);super(e,c.e({point:h,lngLat:f,originalEvent:o},a)),this._defaultPrevented=!1,this.target=i}}class hs extends c.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(e,i,o){const a=e==="touchend"?o.changedTouches:o.touches,h=he.touchPos(i.getCanvasContainer(),a),f=h.map(y=>i.unproject(y)),_=h.reduce((y,v,T,C)=>y.add(v.div(C.length)),new c.P(0,0));super(e,{points:h,point:_,lngLats:f,lngLat:i.unproject(_),originalEvent:o}),this._defaultPrevented=!1}}class Ki extends c.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(e,i,o){super(e,{originalEvent:o}),this._defaultPrevented=!1}}class _r{constructor(e,i){this._map=e,this._clickTolerance=i.clickTolerance}reset(){delete this._mousedownPos}wheel(e){return this._firePreventable(new Ki(e.type,this._map,e))}mousedown(e,i){return this._mousedownPos=i,this._firePreventable(new Ti(e.type,this._map,e))}mouseup(e){this._map.fire(new Ti(e.type,this._map,e))}click(e,i){this._mousedownPos&&this._mousedownPos.dist(i)>=this._clickTolerance||this._map.fire(new Ti(e.type,this._map,e))}dblclick(e){return this._firePreventable(new Ti(e.type,this._map,e))}mouseover(e){this._map.fire(new Ti(e.type,this._map,e))}mouseout(e){this._map.fire(new Ti(e.type,this._map,e))}touchstart(e){return this._firePreventable(new hs(e.type,this._map,e))}touchmove(e){this._map.fire(new hs(e.type,this._map,e))}touchend(e){this._map.fire(new hs(e.type,this._map,e))}touchcancel(e){this._map.fire(new hs(e.type,this._map,e))}_firePreventable(e){if(this._map.fire(e),e.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class ac{constructor(e){this._map=e}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(e){this._map.fire(new Ti(e.type,this._map,e))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Ti("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(e){this._delayContextMenu?this._contextMenuEvent=e:this._ignoreContextMenu||this._map.fire(new Ti(e.type,this._map,e)),this._map.listens("contextmenu")&&e.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Ri{constructor(e){this._map=e}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(e){return this.transform.screenPointToLocation(c.P.convert(e),this._map.terrain)}}class Sn{constructor(e,i){this._map=e,this._tr=new Ri(e),this._el=e.getCanvasContainer(),this._container=e.getContainer(),this._clickTolerance=i.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(e,i){this.isEnabled()&&e.shiftKey&&e.button===0&&(he.disableDrag(),this._startPos=this._lastPos=i,this._active=!0)}mousemoveWindow(e,i){if(!this._active)return;const o=i;if(this._lastPos.equals(o)||!this._box&&o.dist(this._startPos)<this._clickTolerance)return;const a=this._startPos;this._lastPos=o,this._box||(this._box=he.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",e));const h=Math.min(a.x,o.x),f=Math.max(a.x,o.x),_=Math.min(a.y,o.y),y=Math.max(a.y,o.y);he.setTransform(this._box,`translate(${h}px,${_}px)`),this._box.style.width=f-h+"px",this._box.style.height=y-_+"px"}mouseupWindow(e,i){if(!this._active||e.button!==0)return;const o=this._startPos,a=i;if(this.reset(),he.suppressClick(),o.x!==a.x||o.y!==a.y)return this._map.fire(new c.l("boxzoomend",{originalEvent:e})),{cameraAnimation:h=>h.fitScreenCoordinates(o,a,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",e)}keydown(e){this._active&&e.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",e))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(he.remove(this._box),this._box=null),he.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(e,i){return this._map.fire(new c.l(e,{originalEvent:i}))}}function Da(u,e){if(u.length!==e.length)throw new Error(`The number of touches and points are not equal - touches ${u.length}, points ${e.length}`);const i={};for(let o=0;o<u.length;o++)i[u[o].identifier]=e[o];return i}class hu{constructor(e){this.reset(),this.numTouches=e.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(e,i,o){(this.centroid||o.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=e.timeStamp),o.length===this.numTouches&&(this.centroid=function(a){const h=new c.P(0,0);for(const f of a)h._add(f);return h.div(a.length)}(i),this.touches=Da(o,i)))}touchmove(e,i,o){if(this.aborted||!this.centroid)return;const a=Da(o,i);for(const h in this.touches){const f=a[h];(!f||f.dist(this.touches[h])>30)&&(this.aborted=!0)}}touchend(e,i,o){if((!this.centroid||e.timeStamp-this.startTime>500)&&(this.aborted=!0),o.length===0){const a=!this.aborted&&this.centroid;if(this.reset(),a)return a}}}class La{constructor(e){this.singleTap=new hu(e),this.numTaps=e.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(e,i,o){this.singleTap.touchstart(e,i,o)}touchmove(e,i,o){this.singleTap.touchmove(e,i,o)}touchend(e,i,o){const a=this.singleTap.touchend(e,i,o);if(a){const h=e.timeStamp-this.lastTime<500,f=!this.lastTap||this.lastTap.dist(a)<30;if(h&&f||this.reset(),this.count++,this.lastTime=e.timeStamp,this.lastTap=a,this.count===this.numTaps)return this.reset(),a}}}class du{constructor(e){this._tr=new Ri(e),this._zoomIn=new La({numTouches:1,numTaps:2}),this._zoomOut=new La({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(e,i,o){this._zoomIn.touchstart(e,i,o),this._zoomOut.touchstart(e,i,o)}touchmove(e,i,o){this._zoomIn.touchmove(e,i,o),this._zoomOut.touchmove(e,i,o)}touchend(e,i,o){const a=this._zoomIn.touchend(e,i,o),h=this._zoomOut.touchend(e,i,o),f=this._tr;return a?(this._active=!0,e.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:_=>_.easeTo({duration:300,zoom:f.zoom+1,around:f.unproject(a)},{originalEvent:e})}):h?(this._active=!0,e.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:_=>_.easeTo({duration:300,zoom:f.zoom-1,around:f.unproject(h)},{originalEvent:e})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class ds{constructor(e){this._enabled=!!e.enable,this._moveStateManager=e.moveStateManager,this._clickTolerance=e.clickTolerance||1,this._moveFunction=e.move,this._activateOnStart=!!e.activateOnStart,e.assignEvents(this),this.reset()}reset(e){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(e)}_move(...e){const i=this._moveFunction(...e);if(i.bearingDelta||i.pitchDelta||i.rollDelta||i.around||i.panDelta)return this._active=!0,i}dragStart(e,i){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(e)&&(this._moveStateManager.startMove(e),this._lastPoint=Array.isArray(i)?i[0]:i,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(e,i){if(!this.isEnabled())return;const o=this._lastPoint;if(!o)return;if(e.preventDefault(),!this._moveStateManager.isValidMoveEvent(e))return void this.reset(e);const a=Array.isArray(i)?i[0]:i;return!this._moved&&a.dist(o)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=a,this._move(o,a))}dragEnd(e){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(e)&&(this._moved&&he.suppressClick(),this.reset(e))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const Vs={0:1,2:2};class ji{constructor(e){this._correctEvent=e.checkCorrectEvent}startMove(e){const i=he.mouseButton(e);this._eventButton=i}endMove(e){delete this._eventButton}isValidStartEvent(e){return this._correctEvent(e)}isValidMoveEvent(e){return!function(i,o){const a=Vs[o];return i.buttons===void 0||(i.buttons&a)!==a}(e,this._eventButton)}isValidEndEvent(e){return he.mouseButton(e)===this._eventButton}}class Ue{constructor(){this._firstTouch=void 0}_isOneFingerTouch(e){return e.targetTouches.length===1}_isSameTouchEvent(e){return e.targetTouches[0].identifier===this._firstTouch}startMove(e){this._firstTouch=e.targetTouches[0].identifier}endMove(e){delete this._firstTouch}isValidStartEvent(e){return this._isOneFingerTouch(e)}isValidMoveEvent(e){return this._isOneFingerTouch(e)&&this._isSameTouchEvent(e)}isValidEndEvent(e){return this._isOneFingerTouch(e)&&this._isSameTouchEvent(e)}}class lc{constructor(e=new ji({checkCorrectEvent:()=>!0}),i=new Ue){this.mouseMoveStateManager=e,this.oneFingerTouchMoveStateManager=i}_executeRelevantHandler(e,i,o){return e instanceof MouseEvent?i(e):typeof TouchEvent<"u"&&e instanceof TouchEvent?o(e):void 0}startMove(e){this._executeRelevantHandler(e,i=>this.mouseMoveStateManager.startMove(i),i=>this.oneFingerTouchMoveStateManager.startMove(i))}endMove(e){this._executeRelevantHandler(e,i=>this.mouseMoveStateManager.endMove(i),i=>this.oneFingerTouchMoveStateManager.endMove(i))}isValidStartEvent(e){return this._executeRelevantHandler(e,i=>this.mouseMoveStateManager.isValidStartEvent(i),i=>this.oneFingerTouchMoveStateManager.isValidStartEvent(i))}isValidMoveEvent(e){return this._executeRelevantHandler(e,i=>this.mouseMoveStateManager.isValidMoveEvent(i),i=>this.oneFingerTouchMoveStateManager.isValidMoveEvent(i))}isValidEndEvent(e){return this._executeRelevantHandler(e,i=>this.mouseMoveStateManager.isValidEndEvent(i),i=>this.oneFingerTouchMoveStateManager.isValidEndEvent(i))}}const ps=u=>{u.mousedown=u.dragStart,u.mousemoveWindow=u.dragMove,u.mouseup=u.dragEnd,u.contextmenu=e=>{e.preventDefault()}};class cc{constructor(e,i){this._clickTolerance=e.clickTolerance||1,this._map=i,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new c.P(0,0)}_shouldBePrevented(e){return e<(this._map.cooperativeGestures.isEnabled()?2:1)}touchstart(e,i,o){return this._calculateTransform(e,i,o)}touchmove(e,i,o){if(this._active){if(!this._shouldBePrevented(o.length))return e.preventDefault(),this._calculateTransform(e,i,o);this._map.cooperativeGestures.notifyGestureBlocked("touch_pan",e)}}touchend(e,i,o){this._calculateTransform(e,i,o),this._active&&this._shouldBePrevented(o.length)&&this.reset()}touchcancel(){this.reset()}_calculateTransform(e,i,o){o.length>0&&(this._active=!0);const a=Da(o,i),h=new c.P(0,0),f=new c.P(0,0);let _=0;for(const v in a){const T=a[v],C=this._touches[v];C&&(h._add(T),f._add(T.sub(C)),_++,a[v]=T)}if(this._touches=a,this._shouldBePrevented(_)||!f.mag())return;const y=f.div(_);return this._sum._add(y),this._sum.mag()<this._clickTolerance?void 0:{around:h.div(_),panDelta:y}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Mn{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(e,i,o){this._firstTwoTouches||o.length<2||(this._firstTwoTouches=[o[0].identifier,o[1].identifier],this._start([i[0],i[1]]))}touchmove(e,i,o){if(!this._firstTwoTouches)return;e.preventDefault();const[a,h]=this._firstTwoTouches,f=Kr(o,i,a),_=Kr(o,i,h);if(!f||!_)return;const y=this._aroundCenter?null:f.add(_).div(2);return this._move([f,_],y,e)}touchend(e,i,o){if(!this._firstTwoTouches)return;const[a,h]=this._firstTwoTouches,f=Kr(o,i,a),_=Kr(o,i,h);f&&_||(this._active&&he.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(e){this._enabled=!0,this._aroundCenter=!!e&&e.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}}function Kr(u,e,i){for(let o=0;o<u.length;o++)if(u[o].identifier===i)return e[o]}function Fa(u,e){return Math.log(u/e)/Math.LN2}class ct extends Mn{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(e){this._startDistance=this._distance=e[0].dist(e[1])}_move(e,i){const o=this._distance;if(this._distance=e[0].dist(e[1]),this._active||!(Math.abs(Fa(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Fa(this._distance,o),pinchAround:i}}}function Lo(u,e){return 180*u.angleWith(e)/Math.PI}class uc extends Mn{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(e){this._startVector=this._vector=e[0].sub(e[1]),this._minDiameter=e[0].dist(e[1])}_move(e,i,o){const a=this._vector;if(this._vector=e[0].sub(e[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Lo(this._vector,a),pinchAround:i}}_isBelowThreshold(e){this._minDiameter=Math.min(this._minDiameter,e.mag());const i=25/(Math.PI*this._minDiameter)*360,o=Lo(e,this._startVector);return Math.abs(o)<i}}function Us(u){return Math.abs(u.y)>Math.abs(u.x)}class hc extends Mn{constructor(e){super(),this._currentTouchCount=0,this._map=e}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(e,i,o){super.touchstart(e,i,o),this._currentTouchCount=o.length}_start(e){this._lastPoints=e,Us(e[0].sub(e[1]))&&(this._valid=!1)}_move(e,i,o){if(this._map.cooperativeGestures.isEnabled()&&this._currentTouchCount<3)return;const a=e[0].sub(this._lastPoints[0]),h=e[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(a,h,o.timeStamp),this._valid?(this._lastPoints=e,this._active=!0,{pitchDelta:(a.y+h.y)/2*-.5}):void 0}gestureBeginsVertically(e,i,o){if(this._valid!==void 0)return this._valid;const a=e.mag()>=2,h=i.mag()>=2;if(!a&&!h)return;if(!a||!h)return this._firstMove===void 0&&(this._firstMove=o),o-this._firstMove<100&&void 0;const f=e.y>0==i.y>0;return Us(e)&&Us(i)&&f}}const pu={panStep:100,bearingStep:15,pitchStep:10};class Ba{constructor(e){this._tr=new Ri(e);const i=pu;this._panStep=i.panStep,this._bearingStep=i.bearingStep,this._pitchStep=i.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(e){if(e.altKey||e.ctrlKey||e.metaKey)return;let i=0,o=0,a=0,h=0,f=0;switch(e.keyCode){case 61:case 107:case 171:case 187:i=1;break;case 189:case 109:case 173:i=-1;break;case 37:e.shiftKey?o=-1:(e.preventDefault(),h=-1);break;case 39:e.shiftKey?o=1:(e.preventDefault(),h=1);break;case 38:e.shiftKey?a=1:(e.preventDefault(),f=-1);break;case 40:e.shiftKey?a=-1:(e.preventDefault(),f=1);break;default:return}return this._rotationDisabled&&(o=0,a=0),{cameraAnimation:_=>{const y=this._tr;_.easeTo({duration:300,easeId:"keyboardHandler",easing:Oa,zoom:i?Math.round(y.zoom)+i*(e.shiftKey?2:1):y.zoom,bearing:y.bearing+o*this._bearingStep,pitch:y.pitch+a*this._pitchStep,offset:[-h*this._panStep,-f*this._panStep],center:y.center},{originalEvent:e})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Oa(u){return u*(2-u)}const ja=4.000244140625;class dc{constructor(e,i){this._onTimeout=o=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(o)},this._map=e,this._tr=new Ri(e),this._triggerRenderFrame=i,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222}setZoomRate(e){this._defaultZoomRate=e}setWheelZoomRate(e){this._wheelZoomRate=e}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(e){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!e&&e.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}_shouldBePrevented(e){return!!this._map.cooperativeGestures.isEnabled()&&!(e.ctrlKey||this._map.cooperativeGestures.isBypassed(e))}wheel(e){if(!this.isEnabled())return;if(this._shouldBePrevented(e))return void this._map.cooperativeGestures.notifyGestureBlocked("wheel_zoom",e);let i=e.deltaMode===WheelEvent.DOM_DELTA_LINE?40*e.deltaY:e.deltaY;const o=Ve.now(),a=o-(this._lastWheelEventTime||0);this._lastWheelEventTime=o,i!==0&&i%ja==0?this._type="wheel":i!==0&&Math.abs(i)<4?this._type="trackpad":a>400?(this._type=null,this._lastValue=i,this._timeout=setTimeout(this._onTimeout,40,e)):this._type||(this._type=Math.abs(a*i)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,i+=this._lastValue)),e.shiftKey&&i&&(i/=4),this._type&&(this._lastWheelEvent=e,this._delta-=i,this._active||this._start(e)),e.preventDefault()}_start(e){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const i=he.mousePos(this._map.getCanvas(),e),o=this._tr;this._aroundPoint=this._aroundCenter?o.transform.locationToScreenPoint(c.Q.convert(o.center)):i,this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const e=this._tr.transform;if(typeof this._lastExpectedZoom=="number"){const _=e.zoom-this._lastExpectedZoom;typeof this._startZoom=="number"&&(this._startZoom+=_),typeof this._targetZoom=="number"&&(this._targetZoom+=_)}if(this._delta!==0){const _=this._type==="wheel"&&Math.abs(this._delta)>ja?this._wheelZoomRate:this._defaultZoomRate;let y=2/(1+Math.exp(-Math.abs(this._delta*_)));this._delta<0&&y!==0&&(y=1/y);const v=typeof this._targetZoom!="number"?e.scale:c.aI(this._targetZoom);this._targetZoom=Math.min(e.maxZoom,Math.max(e.minZoom,c.ab(v*y))),this._type==="wheel"&&(this._startZoom=e.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const i=typeof this._targetZoom!="number"?e.zoom:this._targetZoom,o=this._startZoom,a=this._easing;let h,f=!1;if(this._type==="wheel"&&o&&a){const _=Ve.now()-this._lastWheelEventTime,y=Math.min((_+5)/200,1),v=a(y);h=c.B.number(o,i,v),y<1?this._frameId||(this._frameId=!0):f=!0}else h=i,f=!0;return this._active=!0,f&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._lastExpectedZoom,delete this._finishTimeout},200)),this._lastExpectedZoom=h,{noInertia:!0,needsRenderFrame:!f,zoomDelta:h-e.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(e){let i=c.cb;if(this._prevEase){const o=this._prevEase,a=(Ve.now()-o.start)/o.duration,h=o.easing(a+.01)-o.easing(a),f=.27/Math.sqrt(h*h+1e-4)*.01,_=Math.sqrt(.0729-f*f);i=c.c9(f,_,.25,1)}return this._prevEase={start:Ve.now(),duration:e,easing:i},i}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,delete this._lastExpectedZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class Na{constructor(e,i){this._clickZoom=e,this._tapZoom=i}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class fu{constructor(e){this._tr=new Ri(e),this.reset()}reset(){this._active=!1}dblclick(e,i){return e.preventDefault(),{cameraAnimation:o=>{o.easeTo({duration:300,zoom:this._tr.zoom+(e.shiftKey?-1:1),around:this._tr.unproject(i)},{originalEvent:e})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class mu{constructor(){this._tap=new La({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(e,i,o){if(!this._swipePoint)if(this._tapTime){const a=i[0],h=e.timeStamp-this._tapTime<500,f=this._tapPoint.dist(a)<30;h&&f?o.length>0&&(this._swipePoint=a,this._swipeTouch=o[0].identifier):this.reset()}else this._tap.touchstart(e,i,o)}touchmove(e,i,o){if(this._tapTime){if(this._swipePoint){if(o[0].identifier!==this._swipeTouch)return;const a=i[0],h=a.y-this._swipePoint.y;return this._swipePoint=a,e.preventDefault(),this._active=!0,{zoomDelta:h/128}}}else this._tap.touchmove(e,i,o)}touchend(e,i,o){if(this._tapTime)this._swipePoint&&o.length===0&&this.reset();else{const a=this._tap.touchend(e,i,o);a&&(this._tapTime=e.timeStamp,this._tapPoint=a)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Er{constructor(e,i,o){this._el=e,this._mousePan=i,this._touchPan=o}enable(e){this._inertiaOptions=e||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class kt{constructor(e,i,o,a){this._pitchWithRotate=e.pitchWithRotate,this._rollEnabled=e.rollEnabled,this._mouseRotate=i,this._mousePitch=o,this._mouseRoll=a}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable(),this._rollEnabled&&this._mouseRoll.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable(),this._mouseRoll.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())&&(!this._rollEnabled||this._mouseRoll.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()||this._mouseRoll.isActive()}}class Zs{constructor(e,i,o,a){this._el=e,this._touchZoom=i,this._touchRotate=o,this._tapDragZoom=a,this._rotationDisabled=!1,this._enabled=!0}enable(e){this._touchZoom.enable(e),this._rotationDisabled||this._touchRotate.enable(e),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}class Fo{constructor(e,i){this._bypassKey=navigator.userAgent.indexOf("Mac")!==-1?"metaKey":"ctrlKey",this._map=e,this._options=i,this._enabled=!1}isActive(){return!1}reset(){}_setupUI(){if(this._container)return;const e=this._map.getCanvasContainer();e.classList.add("maplibregl-cooperative-gestures"),this._container=he.create("div","maplibregl-cooperative-gesture-screen",e);let i=this._map._getUIString("CooperativeGesturesHandler.WindowsHelpText");this._bypassKey==="metaKey"&&(i=this._map._getUIString("CooperativeGesturesHandler.MacHelpText"));const o=this._map._getUIString("CooperativeGesturesHandler.MobileHelpText"),a=document.createElement("div");a.className="maplibregl-desktop-message",a.textContent=i,this._container.appendChild(a);const h=document.createElement("div");h.className="maplibregl-mobile-message",h.textContent=o,this._container.appendChild(h),this._container.setAttribute("aria-hidden","true")}_destroyUI(){this._container&&(he.remove(this._container),this._map.getCanvasContainer().classList.remove("maplibregl-cooperative-gestures")),delete this._container}enable(){this._setupUI(),this._enabled=!0}disable(){this._enabled=!1,this._destroyUI()}isEnabled(){return this._enabled}isBypassed(e){return e[this._bypassKey]}notifyGestureBlocked(e,i){this._enabled&&(this._map.fire(new c.l("cooperativegestureprevented",{gestureType:e,originalEvent:i})),this._container.classList.add("maplibregl-show"),setTimeout(()=>{this._container.classList.remove("maplibregl-show")},100))}}const $s=u=>u.zoom||u.drag||u.roll||u.pitch||u.rotate;class pc extends c.l{}function Bo(u){return u.panDelta&&u.panDelta.mag()||u.zoomDelta||u.bearingDelta||u.pitchDelta||u.rollDelta}class _u{constructor(e,i){this.handleWindowEvent=a=>{this.handleEvent(a,`${a.type}Window`)},this.handleEvent=(a,h)=>{if(a.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const f=a.type==="renderFrame"?void 0:a,_={needsRenderFrame:!1},y={},v={};for(const{handlerName:M,handler:D,allowed:B}of this._handlers){if(!D.isEnabled())continue;let $;if(this._blockedByActive(v,B,M))D.reset();else if(D[h||a.type]){if(c.cc(a,h||a.type)){const Z=he.mousePos(this._map.getCanvas(),a);$=D[h||a.type](a,Z)}else if(c.cd(a,h||a.type)){const Z=this._getMapTouches(a.touches),G=he.touchPos(this._map.getCanvas(),Z);$=D[h||a.type](a,G,Z)}else c.ce(h||a.type)||($=D[h||a.type](a));this.mergeHandlerResult(_,y,$,M,f),$&&$.needsRenderFrame&&this._triggerRenderFrame()}($||D.isActive())&&(v[M]=D)}const T={};for(const M in this._previousActiveHandlers)v[M]||(T[M]=f);this._previousActiveHandlers=v,(Object.keys(T).length||Bo(_))&&(this._changes.push([_,y,T]),this._triggerRenderFrame()),(Object.keys(v).length||Bo(_))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:C}=_;C&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],C(this._map))},this._map=e,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new oc(e),this._bearingSnap=i.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(i);const o=this._el;this._listeners=[[o,"touchstart",{passive:!0}],[o,"touchmove",{passive:!1}],[o,"touchend",void 0],[o,"touchcancel",void 0],[o,"mousedown",void 0],[o,"mousemove",void 0],[o,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[o,"mouseover",void 0],[o,"mouseout",void 0],[o,"dblclick",void 0],[o,"click",void 0],[o,"keydown",{capture:!1}],[o,"keyup",void 0],[o,"wheel",{passive:!1}],[o,"contextmenu",void 0],[window,"blur",void 0]];for(const[a,h,f]of this._listeners)he.addEventListener(a,h,a===document?this.handleWindowEvent:this.handleEvent,f)}destroy(){for(const[e,i,o]of this._listeners)he.removeEventListener(e,i,e===document?this.handleWindowEvent:this.handleEvent,o)}_addDefaultHandlers(e){const i=this._map,o=i.getCanvasContainer();this._add("mapEvent",new _r(i,e));const a=i.boxZoom=new Sn(i,e);this._add("boxZoom",a),e.interactive&&e.boxZoom&&a.enable();const h=i.cooperativeGestures=new Fo(i,e.cooperativeGestures);this._add("cooperativeGestures",h),e.cooperativeGestures&&h.enable();const f=new du(i),_=new fu(i);i.doubleClickZoom=new Na(_,f),this._add("tapZoom",f),this._add("clickZoom",_),e.interactive&&e.doubleClickZoom&&i.doubleClickZoom.enable();const y=new mu;this._add("tapDragZoom",y);const v=i.touchPitch=new hc(i);this._add("touchPitch",v),e.interactive&&e.touchPitch&&i.touchPitch.enable(e.touchPitch);const T=()=>i.project(i.getCenter()),C=function({enable:Q,clickTolerance:ee,aroundCenter:se=!0,minPixelCenterThreshold:te=100,rotateDegreesPerPixelMoved:pe=.8},de){const be=new ji({checkCorrectEvent:Te=>he.mouseButton(Te)===0&&Te.ctrlKey||he.mouseButton(Te)===2&&!Te.ctrlKey});return new ds({clickTolerance:ee,move:(Te,xe)=>{const Le=de();if(se&&Math.abs(Le.y-Te.y)>te)return{bearingDelta:c.ca(new c.P(Te.x,xe.y),xe,Le)};let Re=(xe.x-Te.x)*pe;return se&&xe.y<Le.y&&(Re=-Re),{bearingDelta:Re}},moveStateManager:be,enable:Q,assignEvents:ps})}(e,T),M=function({enable:Q,clickTolerance:ee,pitchDegreesPerPixelMoved:se=-.5}){const te=new ji({checkCorrectEvent:pe=>he.mouseButton(pe)===0&&pe.ctrlKey||he.mouseButton(pe)===2});return new ds({clickTolerance:ee,move:(pe,de)=>({pitchDelta:(de.y-pe.y)*se}),moveStateManager:te,enable:Q,assignEvents:ps})}(e),D=function({enable:Q,clickTolerance:ee,rollDegreesPerPixelMoved:se=.3},te){const pe=new ji({checkCorrectEvent:de=>he.mouseButton(de)===2&&de.ctrlKey});return new ds({clickTolerance:ee,move:(de,be)=>{const Te=te();let xe=(be.x-de.x)*se;return be.y<Te.y&&(xe=-xe),{rollDelta:xe}},moveStateManager:pe,enable:Q,assignEvents:ps})}(e,T);i.dragRotate=new kt(e,C,M,D),this._add("mouseRotate",C,["mousePitch"]),this._add("mousePitch",M,["mouseRotate","mouseRoll"]),this._add("mouseRoll",D,["mousePitch"]),e.interactive&&e.dragRotate&&i.dragRotate.enable();const B=function({enable:Q,clickTolerance:ee}){const se=new ji({checkCorrectEvent:te=>he.mouseButton(te)===0&&!te.ctrlKey});return new ds({clickTolerance:ee,move:(te,pe)=>({around:pe,panDelta:pe.sub(te)}),activateOnStart:!0,moveStateManager:se,enable:Q,assignEvents:ps})}(e),$=new cc(e,i);i.dragPan=new Er(o,B,$),this._add("mousePan",B),this._add("touchPan",$,["touchZoom","touchRotate"]),e.interactive&&e.dragPan&&i.dragPan.enable(e.dragPan);const Z=new uc,G=new ct;i.touchZoomRotate=new Zs(o,G,Z,y),this._add("touchRotate",Z,["touchPan","touchZoom"]),this._add("touchZoom",G,["touchPan","touchRotate"]),e.interactive&&e.touchZoomRotate&&i.touchZoomRotate.enable(e.touchZoomRotate);const H=i.scrollZoom=new dc(i,()=>this._triggerRenderFrame());this._add("scrollZoom",H,["mousePan"]),e.interactive&&e.scrollZoom&&i.scrollZoom.enable(e.scrollZoom);const Y=i.keyboard=new Ba(i);this._add("keyboard",Y),e.interactive&&e.keyboard&&i.keyboard.enable(),this._add("blockableMapEvent",new ac(i))}_add(e,i,o){this._handlers.push({handlerName:e,handler:i,allowed:o}),this._handlersById[e]=i}stop(e){if(!this._updatingCamera){for(const{handler:i}of this._handlers)i.reset();this._inertia.clear(),this._fireEvents({},{},e),this._changes=[]}}isActive(){for(const{handler:e}of this._handlers)if(e.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!$s(this._eventsInProgress)||this.isZooming()}_blockedByActive(e,i,o){for(const a in e)if(a!==o&&(!i||i.indexOf(a)<0))return!0;return!1}_getMapTouches(e){const i=[];for(const o of e)this._el.contains(o.target)&&i.push(o);return i}mergeHandlerResult(e,i,o,a,h){if(!o)return;c.e(e,o);const f={handlerName:a,originalEvent:o.originalEvent||h};o.zoomDelta!==void 0&&(i.zoom=f),o.panDelta!==void 0&&(i.drag=f),o.rollDelta!==void 0&&(i.roll=f),o.pitchDelta!==void 0&&(i.pitch=f),o.bearingDelta!==void 0&&(i.rotate=f)}_applyChanges(){const e={},i={},o={};for(const[a,h,f]of this._changes)a.panDelta&&(e.panDelta=(e.panDelta||new c.P(0,0))._add(a.panDelta)),a.zoomDelta&&(e.zoomDelta=(e.zoomDelta||0)+a.zoomDelta),a.bearingDelta&&(e.bearingDelta=(e.bearingDelta||0)+a.bearingDelta),a.pitchDelta&&(e.pitchDelta=(e.pitchDelta||0)+a.pitchDelta),a.rollDelta&&(e.rollDelta=(e.rollDelta||0)+a.rollDelta),a.around!==void 0&&(e.around=a.around),a.pinchAround!==void 0&&(e.pinchAround=a.pinchAround),a.noInertia&&(e.noInertia=a.noInertia),c.e(i,h),c.e(o,f);this._updateMapTransform(e,i,o),this._changes=[]}_updateMapTransform(e,i,o){const a=this._map,h=a._getTransformForUpdate(),f=a.terrain;if(!(Bo(e)||f&&this._terrainMovement))return this._fireEvents(i,o,!0);a._stop(!0);let{panDelta:_,zoomDelta:y,bearingDelta:v,pitchDelta:T,rollDelta:C,around:M,pinchAround:D}=e;D!==void 0&&(M=D),M=M||a.transform.centerPoint,f&&!h.isPointOnMapSurface(M)&&(M=h.centerPoint);const B={panDelta:_,zoomDelta:y,rollDelta:C,pitchDelta:T,bearingDelta:v,around:M};this._map.cameraHelper.useGlobeControls&&!h.isPointOnMapSurface(M)&&(M=h.centerPoint);const $=M.distSqr(h.centerPoint)<.01?h.center:h.screenPointToLocation(_?M.sub(_):M);f?(this._map.cameraHelper.handleMapControlsRollPitchBearingZoom(B,h),this._terrainMovement||!i.drag&&!i.zoom?i.drag&&this._terrainMovement?h.setCenter(h.screenPointToLocation(h.centerPoint.sub(_))):this._map.cameraHelper.handleMapControlsPan(B,h,$):(this._terrainMovement=!0,this._map._elevationFreeze=!0,this._map.cameraHelper.handleMapControlsPan(B,h,$))):(this._map.cameraHelper.handleMapControlsRollPitchBearingZoom(B,h),this._map.cameraHelper.handleMapControlsPan(B,h,$)),a._applyUpdatedTransform(h),this._map._update(),e.noInertia||this._inertia.record(e),this._fireEvents(i,o,!0)}_fireEvents(e,i,o){const a=$s(this._eventsInProgress),h=$s(e),f={};for(const C in e){const{originalEvent:M}=e[C];this._eventsInProgress[C]||(f[`${C}start`]=M),this._eventsInProgress[C]=e[C]}!a&&h&&this._fireEvent("movestart",h.originalEvent);for(const C in f)this._fireEvent(C,f[C]);h&&this._fireEvent("move",h.originalEvent);for(const C in e){const{originalEvent:M}=e[C];this._fireEvent(C,M)}const _={};let y;for(const C in this._eventsInProgress){const{handlerName:M,originalEvent:D}=this._eventsInProgress[C];this._handlersById[M].isActive()||(delete this._eventsInProgress[C],y=i[M]||D,_[`${C}end`]=y)}for(const C in _)this._fireEvent(C,_[C]);const v=$s(this._eventsInProgress),T=(a||h)&&!v;if(T&&this._terrainMovement){this._map._elevationFreeze=!1,this._terrainMovement=!1;const C=this._map._getTransformForUpdate();this._map.getCenterClampedToGround()&&C.recalculateZoomAndCenter(this._map.terrain),this._map._applyUpdatedTransform(C)}if(o&&T){this._updatingCamera=!0;const C=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),M=D=>D!==0&&-this._bearingSnap<D&&D<this._bearingSnap;!C||!C.essential&&Ve.prefersReducedMotion?(this._map.fire(new c.l("moveend",{originalEvent:y})),M(this._map.getBearing())&&this._map.resetNorth()):(M(C.bearing||this._map.getBearing())&&(C.bearing=0),C.freezeElevation=!0,this._map.easeTo(C,{originalEvent:y})),this._updatingCamera=!1}}_fireEvent(e,i){this._map.fire(new c.l(e,i?{originalEvent:i}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(e=>{delete this._frameId,this.handleEvent(new pc("renderFrame",{timeStamp:e})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class gr extends c.E{constructor(e,i,o){super(),this._renderFrameCallback=()=>{const a=Math.min((Ve.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(a)),a<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=e,this._bearingSnap=o.bearingSnap,this.cameraHelper=i,this.on("moveend",()=>{delete this._requestedCameraState})}migrateProjection(e,i){e.apply(this.transform),this.transform=e,this.cameraHelper=i}getCenter(){return new c.Q(this.transform.center.lng,this.transform.center.lat)}setCenter(e,i){return this.jumpTo({center:e},i)}getCenterElevation(){return this.transform.elevation}setCenterElevation(e,i){return this.jumpTo({elevation:e},i),this}getCenterClampedToGround(){return this._centerClampedToGround}setCenterClampedToGround(e){this._centerClampedToGround=e}panBy(e,i,o){return e=c.P.convert(e).mult(-1),this.panTo(this.transform.center,c.e({offset:e},i),o)}panTo(e,i,o){return this.easeTo(c.e({center:e},i),o)}getZoom(){return this.transform.zoom}setZoom(e,i){return this.jumpTo({zoom:e},i),this}zoomTo(e,i,o){return this.easeTo(c.e({zoom:e},i),o)}zoomIn(e,i){return this.zoomTo(this.getZoom()+1,e,i),this}zoomOut(e,i){return this.zoomTo(this.getZoom()-1,e,i),this}getVerticalFieldOfView(){return this.transform.fov}setVerticalFieldOfView(e,i){return e!=this.transform.fov&&(this.transform.setFov(e),this.fire(new c.l("movestart",i)).fire(new c.l("move",i)).fire(new c.l("moveend",i))),this}getBearing(){return this.transform.bearing}setBearing(e,i){return this.jumpTo({bearing:e},i),this}getPadding(){return this.transform.padding}setPadding(e,i){return this.jumpTo({padding:e},i),this}rotateTo(e,i,o){return this.easeTo(c.e({bearing:e},i),o)}resetNorth(e,i){return this.rotateTo(0,c.e({duration:1e3},e),i),this}resetNorthPitch(e,i){return this.easeTo(c.e({bearing:0,pitch:0,roll:0,duration:1e3},e),i),this}snapToNorth(e,i){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,i):this}getPitch(){return this.transform.pitch}setPitch(e,i){return this.jumpTo({pitch:e},i),this}getRoll(){return this.transform.roll}setRoll(e,i){return this.jumpTo({roll:e},i),this}cameraForBounds(e,i){e=Ht.convert(e).adjustAntiMeridian();const o=i&&i.bearing||0;return this._cameraForBoxAndBearing(e.getNorthWest(),e.getSouthEast(),o,i)}_cameraForBoxAndBearing(e,i,o,a){const h={top:0,bottom:0,right:0,left:0};if(typeof(a=c.e({padding:h,offset:[0,0],maxZoom:this.transform.maxZoom},a)).padding=="number"){const v=a.padding;a.padding={top:v,bottom:v,right:v,left:v}}const f=c.e(h,a.padding);a.padding=f;const _=this.transform,y=new Ht(e,i);return this.cameraHelper.cameraForBoxAndBearing(a,f,y,o,_)}fitBounds(e,i,o){return this._fitInternal(this.cameraForBounds(e,i),i,o)}fitScreenCoordinates(e,i,o,a,h){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.screenPointToLocation(c.P.convert(e)),this.transform.screenPointToLocation(c.P.convert(i)),o,a),a,h)}_fitInternal(e,i,o){return e?(delete(i=c.e(e,i)).padding,i.linear?this.easeTo(i,o):this.flyTo(i,o)):this}jumpTo(e,i){this.stop();const o=this._getTransformForUpdate();let a=!1,h=!1,f=!1;const _=o.zoom;this.cameraHelper.handleJumpToCenterZoom(o,e);const y=o.zoom!==_;return"elevation"in e&&o.elevation!==+e.elevation&&o.setElevation(+e.elevation),"bearing"in e&&o.bearing!==+e.bearing&&(a=!0,o.setBearing(+e.bearing)),"pitch"in e&&o.pitch!==+e.pitch&&(h=!0,o.setPitch(+e.pitch)),"roll"in e&&o.roll!==+e.roll&&(f=!0,o.setRoll(+e.roll)),e.padding==null||o.isPaddingEqual(e.padding)||o.setPadding(e.padding),this._applyUpdatedTransform(o),this.fire(new c.l("movestart",i)).fire(new c.l("move",i)),y&&this.fire(new c.l("zoomstart",i)).fire(new c.l("zoom",i)).fire(new c.l("zoomend",i)),a&&this.fire(new c.l("rotatestart",i)).fire(new c.l("rotate",i)).fire(new c.l("rotateend",i)),h&&this.fire(new c.l("pitchstart",i)).fire(new c.l("pitch",i)).fire(new c.l("pitchend",i)),f&&this.fire(new c.l("rollstart",i)).fire(new c.l("roll",i)).fire(new c.l("rollend",i)),this.fire(new c.l("moveend",i))}calculateCameraOptionsFromTo(e,i,o,a=0){const h=c.$.fromLngLat(e,i),f=c.$.fromLngLat(o,a),_=f.x-h.x,y=f.y-h.y,v=f.z-h.z,T=Math.hypot(_,y,v);if(T===0)throw new Error("Can't calculate camera options with same From and To");const C=Math.hypot(_,y),M=c.ab(this.transform.cameraToCenterDistance/T/this.transform.tileSize),D=180*Math.atan2(_,-y)/Math.PI;let B=180*Math.acos(C/T)/Math.PI;return B=v<0?90-B:90+B,{center:f.toLngLat(),elevation:a,zoom:M,pitch:B,bearing:D}}calculateCameraOptionsFromCameraLngLatAltRotation(e,i,o,a,h){const f=this.transform.calculateCenterFromCameraLngLatAlt(e,i,o,a);return{center:f.center,elevation:f.elevation,zoom:f.zoom,bearing:o,pitch:a,roll:h}}easeTo(e,i){this._stop(!1,e.easeId),((e=c.e({offset:[0,0],duration:500,easing:c.cb},e)).animate===!1||!e.essential&&Ve.prefersReducedMotion)&&(e.duration=0);const o=this._getTransformForUpdate(),a=this.getBearing(),h=o.pitch,f=o.roll,_="bearing"in e?this._normalizeBearing(e.bearing,a):a,y="pitch"in e?+e.pitch:h,v="roll"in e?this._normalizeBearing(e.roll,f):f,T="padding"in e?e.padding:o.padding,C=c.P.convert(e.offset);let M,D;e.around&&(M=c.Q.convert(e.around),D=o.locationToScreenPoint(M));const B={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching,rolling:this._rolling},$=this.cameraHelper.handleEaseTo(o,{bearing:_,pitch:y,roll:v,padding:T,around:M,aroundPoint:D,offsetAsPoint:C,offset:e.offset,zoom:e.zoom,center:e.center});return this._rotating=this._rotating||a!==_,this._pitching=this._pitching||y!==h,this._rolling=this._rolling||v!==f,this._padding=!o.isPaddingEqual(T),this._zooming=this._zooming||$.isZooming,this._easeId=e.easeId,this._prepareEase(i,e.noMoveStart,B),this.terrain&&this._prepareElevation($.elevationCenter),this._ease(Z=>{$.easeFunc(Z),this.terrain&&!e.freezeElevation&&this._updateElevation(Z),this._applyUpdatedTransform(o),this._fireMoveEvents(i)},Z=>{this.terrain&&e.freezeElevation&&this._finalizeElevation(),this._afterEase(i,Z)},e),this}_prepareEase(e,i,o={}){this._moving=!0,i||o.moving||this.fire(new c.l("movestart",e)),this._zooming&&!o.zooming&&this.fire(new c.l("zoomstart",e)),this._rotating&&!o.rotating&&this.fire(new c.l("rotatestart",e)),this._pitching&&!o.pitching&&this.fire(new c.l("pitchstart",e)),this._rolling&&!o.rolling&&this.fire(new c.l("rollstart",e))}_prepareElevation(e){this._elevationCenter=e,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(e,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(e){this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom));const i=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(e<1&&i!==this._elevationTarget){const o=this._elevationTarget-this._elevationStart;this._elevationStart+=e*(o-(i-(o*e+this._elevationStart))/(1-e)),this._elevationTarget=i}this.transform.setElevation(c.B.number(this._elevationStart,this._elevationTarget,e))}_finalizeElevation(){this._elevationFreeze=!1,this.getCenterClampedToGround()&&this.transform.recalculateZoomAndCenter(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate||this.terrain?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_elevateCameraIfInsideTerrain(e){if(!this.terrain&&e.elevation>=0&&e.pitch<=90)return{};const i=e.getCameraLngLat(),o=e.getCameraAltitude(),a=this.terrain?this.terrain.getElevationForLngLatZoom(i,e.zoom):0;if(o<a){const h=this.calculateCameraOptionsFromTo(i,a,e.center,e.elevation);return{pitch:h.pitch,zoom:h.zoom}}return{}}_applyUpdatedTransform(e){const i=[];if(i.push(a=>this._elevateCameraIfInsideTerrain(a)),this.transformCameraUpdate&&i.push(a=>this.transformCameraUpdate(a)),!i.length)return;const o=e.clone();for(const a of i){const h=o.clone(),{center:f,zoom:_,roll:y,pitch:v,bearing:T,elevation:C}=a(h);f&&h.setCenter(f),C!==void 0&&h.setElevation(C),_!==void 0&&h.setZoom(_),y!==void 0&&h.setRoll(y),v!==void 0&&h.setPitch(v),T!==void 0&&h.setBearing(T),o.apply(h)}this.transform.apply(o)}_fireMoveEvents(e){this.fire(new c.l("move",e)),this._zooming&&this.fire(new c.l("zoom",e)),this._rotating&&this.fire(new c.l("rotate",e)),this._pitching&&this.fire(new c.l("pitch",e)),this._rolling&&this.fire(new c.l("roll",e))}_afterEase(e,i){if(this._easeId&&i&&this._easeId===i)return;delete this._easeId;const o=this._zooming,a=this._rotating,h=this._pitching,f=this._rolling;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._rolling=!1,this._padding=!1,o&&this.fire(new c.l("zoomend",e)),a&&this.fire(new c.l("rotateend",e)),h&&this.fire(new c.l("pitchend",e)),f&&this.fire(new c.l("rollend",e)),this.fire(new c.l("moveend",e))}flyTo(e,i){if(!e.essential&&Ve.prefersReducedMotion){const xe=c.O(e,["center","zoom","bearing","pitch","roll","elevation"]);return this.jumpTo(xe,i)}this.stop(),e=c.e({offset:[0,0],speed:1.2,curve:1.42,easing:c.cb},e);const o=this._getTransformForUpdate(),a=o.bearing,h=o.pitch,f=o.roll,_=o.padding,y="bearing"in e?this._normalizeBearing(e.bearing,a):a,v="pitch"in e?+e.pitch:h,T="roll"in e?this._normalizeBearing(e.roll,f):f,C="padding"in e?e.padding:o.padding,M=c.P.convert(e.offset);let D=o.centerPoint.add(M);const B=o.screenPointToLocation(D),$=this.cameraHelper.handleFlyTo(o,{bearing:y,pitch:v,roll:T,padding:C,locationAtOffset:B,offsetAsPoint:M,center:e.center,minZoom:e.minZoom,zoom:e.zoom});let Z=e.curve;const G=Math.max(o.width,o.height),H=G/$.scaleOfZoom,Y=$.pixelPathLength;typeof $.scaleOfMinZoom=="number"&&(Z=Math.sqrt(G/$.scaleOfMinZoom/Y*2));const Q=Z*Z;function ee(xe){const Le=(H*H-G*G+(xe?-1:1)*Q*Q*Y*Y)/(2*(xe?H:G)*Q*Y);return Math.log(Math.sqrt(Le*Le+1)-Le)}function se(xe){return(Math.exp(xe)-Math.exp(-xe))/2}function te(xe){return(Math.exp(xe)+Math.exp(-xe))/2}const pe=ee(!1);let de=function(xe){return te(pe)/te(pe+Z*xe)},be=function(xe){return G*((te(pe)*(se(Le=pe+Z*xe)/te(Le))-se(pe))/Q)/Y;var Le},Te=(ee(!0)-pe)/Z;if(Math.abs(Y)<2e-6||!isFinite(Te)){if(Math.abs(G-H)<1e-6)return this.easeTo(e,i);const xe=H<G?-1:1;Te=Math.abs(Math.log(H/G))/Z,be=()=>0,de=Le=>Math.exp(xe*Z*Le)}return e.duration="duration"in e?+e.duration:1e3*Te/("screenSpeed"in e?+e.screenSpeed/Z:+e.speed),e.maxDuration&&e.duration>e.maxDuration&&(e.duration=0),this._zooming=!0,this._rotating=a!==y,this._pitching=v!==h,this._rolling=T!==f,this._padding=!o.isPaddingEqual(C),this._prepareEase(i,!1),this.terrain&&this._prepareElevation($.targetCenter),this._ease(xe=>{const Le=xe*Te,Re=1/de(Le),Se=be(Le);this._rotating&&o.setBearing(c.B.number(a,y,xe)),this._pitching&&o.setPitch(c.B.number(h,v,xe)),this._rolling&&o.setRoll(c.B.number(f,T,xe)),this._padding&&(o.interpolatePadding(_,C,xe),D=o.centerPoint.add(M)),$.easeFunc(xe,Re,Se,D),this.terrain&&!e.freezeElevation&&this._updateElevation(xe),this._applyUpdatedTransform(o),this._fireMoveEvents(i)},()=>{this.terrain&&e.freezeElevation&&this._finalizeElevation(),this._afterEase(i)},e),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(e,i){var o;if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const a=this._onEaseEnd;delete this._onEaseEnd,a.call(this,i)}return e||(o=this.handlers)===null||o===void 0||o.stop(!1),this}_ease(e,i,o){o.animate===!1||o.duration===0?(e(1),i()):(this._easeStart=Ve.now(),this._easeOptions=o,this._onEaseFrame=e,this._onEaseEnd=i,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(e,i){e=c.aL(e,-180,180);const o=Math.abs(e-i);return Math.abs(e-360-i)<o&&(e-=360),Math.abs(e+360-i)<o&&(e+=360),e}queryTerrainElevation(e){return this.terrain?this.terrain.getElevationForLngLatZoom(c.Q.convert(e),this.transform.tileZoom):null}}const Gs={compact:!0,customAttribution:'<a href="https://maplibre.org/" target="_blank">MapLibre</a>'};class We{constructor(e=Gs){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=i=>{!i||i.sourceDataType!=="metadata"&&i.sourceDataType!=="visibility"&&i.dataType!=="style"&&i.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=e}getDefaultPosition(){return"bottom-right"}onAdd(e){return this._map=e,this._compact=this.options.compact,this._container=he.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=he.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=he.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){he.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(e,i){const o=this._map._getUIString(`AttributionControl.${i}`);e.title=o,e.setAttribute("aria-label",o)}_updateAttributions(){if(!this._map.style)return;let e=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?e=e.concat(this.options.customAttribution.map(a=>typeof a!="string"?"":a)):typeof this.options.customAttribution=="string"&&e.push(this.options.customAttribution)),this._map.style.stylesheet){const a=this._map.style.stylesheet;this.styleOwner=a.owner,this.styleId=a.id}const i=this._map.style.sourceCaches;for(const a in i){const h=i[a];if(h.used||h.usedForTerrain){const f=h.getSource();f.attribution&&e.indexOf(f.attribution)<0&&e.push(f.attribution)}}e=e.filter(a=>String(a).trim()),e.sort((a,h)=>a.length-h.length),e=e.filter((a,h)=>{for(let f=h+1;f<e.length;f++)if(e[f].indexOf(a)>=0)return!1;return!0});const o=e.join(" | ");o!==this._attribHTML&&(this._attribHTML=o,e.length?(this._innerContainer.innerHTML=he.sanitize(o),this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class Qe{constructor(e={}){this._updateCompact=()=>{const i=this._container.children;if(i.length){const o=i[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&o.classList.add("maplibregl-compact"):o.classList.remove("maplibregl-compact")}},this.options=e}getDefaultPosition(){return"bottom-left"}onAdd(e){this._map=e,this._compact=this.options&&this.options.compact,this._container=he.create("div","maplibregl-ctrl");const i=he.create("a","maplibregl-ctrl-logo");return i.target="_blank",i.rel="noopener nofollow",i.href="https://maplibre.org/",i.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),i.setAttribute("rel","noopener nofollow"),this._container.appendChild(i),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){he.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class Oo{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(e){const i=++this._id;return this._queue.push({callback:e,id:i,cancelled:!1}),i}remove(e){const i=this._currentlyRunning,o=i?this._queue.concat(i):this._queue;for(const a of o)if(a.id===e)return void(a.cancelled=!0)}run(e=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const i=this._currentlyRunning=this._queue;this._queue=[];for(const o of i)if(!o.cancelled&&(o.callback(e),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}var Va=c.aD([{name:"a_pos3d",type:"Int16",components:3}]);class Ua extends c.E{constructor(e){super(),this._lastTilesetChange=Ve.now(),this.sourceCache=e,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.deltaZoom=1,this.tileSize=e._source.tileSize*2**this.deltaZoom,e.usedForTerrain=!0,e.tileSize=this.tileSize}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(e,i){this.sourceCache.update(e,i),this._renderableTilesKeys=[];const o={};for(const a of le(e,{tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:i,calculateTileZoom:this.sourceCache._source.calculateTileZoom}))o[a.key]=!0,this._renderableTilesKeys.push(a.key),this._tiles[a.key]||(a.terrainRttPosMatrix32f=new Float64Array(16),c.bO(a.terrainRttPosMatrix32f,0,c.Z,c.Z,0,0,1),this._tiles[a.key]=new dr(a,this.tileSize),this._lastTilesetChange=Ve.now());for(const a in this._tiles)o[a]||delete this._tiles[a]}freeRtt(e){for(const i in this._tiles){const o=this._tiles[i];(!e||o.tileID.equals(e)||o.tileID.isChildOf(e)||e.isChildOf(o.tileID))&&(o.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(e=>this.getTileByID(e))}getTileByID(e){return this._tiles[e]}getTerrainCoords(e,i){return i?this._getTerrainCoordsForTileRanges(e,i):this._getTerrainCoordsForRegularTile(e)}_getTerrainCoordsForRegularTile(e){const i={};for(const o of this._renderableTilesKeys){const a=this._tiles[o].tileID,h=e.clone(),f=c.b2();if(a.canonical.equals(e.canonical))c.bO(f,0,c.Z,c.Z,0,0,1);else if(a.canonical.isChildOf(e.canonical)){const _=a.canonical.z-e.canonical.z,y=a.canonical.x-(a.canonical.x>>_<<_),v=a.canonical.y-(a.canonical.y>>_<<_),T=c.Z>>_;c.bO(f,0,T,T,0,0,1),c.L(f,f,[-y*T,-v*T,0])}else{if(!e.canonical.isChildOf(a.canonical))continue;{const _=e.canonical.z-a.canonical.z,y=e.canonical.x-(e.canonical.x>>_<<_),v=e.canonical.y-(e.canonical.y>>_<<_),T=c.Z>>_;c.bO(f,0,c.Z,c.Z,0,0,1),c.L(f,f,[y*T,v*T,0]),c.M(f,f,[1/2**_,1/2**_,0])}}h.terrainRttPosMatrix32f=new Float32Array(f),i[o]=h}return i}_getTerrainCoordsForTileRanges(e,i){const o={};for(const a of this._renderableTilesKeys){const h=this._tiles[a].tileID;if(!this._isWithinTileRanges(h,i))continue;const f=e.clone(),_=c.b2();if(h.canonical.z===e.canonical.z){const y=e.canonical.x-h.canonical.x,v=e.canonical.y-h.canonical.y;c.bO(_,0,c.Z,c.Z,0,0,1),c.L(_,_,[y*c.Z,v*c.Z,0])}else if(h.canonical.z>e.canonical.z){const y=h.canonical.z-e.canonical.z,v=h.canonical.x-(h.canonical.x>>y<<y),T=h.canonical.y-(h.canonical.y>>y<<y),C=e.canonical.x-(h.canonical.x>>y),M=e.canonical.y-(h.canonical.y>>y),D=c.Z>>y;c.bO(_,0,D,D,0,0,1),c.L(_,_,[-v*D+C*c.Z,-T*D+M*c.Z,0])}else{const y=e.canonical.z-h.canonical.z,v=e.canonical.x-(e.canonical.x>>y<<y),T=e.canonical.y-(e.canonical.y>>y<<y),C=(e.canonical.x>>y)-h.canonical.x,M=(e.canonical.y>>y)-h.canonical.y,D=c.Z<<y;c.bO(_,0,D,D,0,0,1),c.L(_,_,[v*c.Z+C*D,T*c.Z+M*D,0])}f.terrainRttPosMatrix32f=new Float32Array(_),o[a]=f}return o}getSourceTile(e,i){const o=this.sourceCache._source;let a=e.overscaledZ-this.deltaZoom;if(a>o.maxzoom&&(a=o.maxzoom),a<o.minzoom)return null;this._sourceTileCache[e.key]||(this._sourceTileCache[e.key]=e.scaledTo(a).key);let h=this.sourceCache.getTileByID(this._sourceTileCache[e.key]);if((!h||!h.dem)&&i)for(;a>=o.minzoom&&(!h||!h.dem);)h=this.sourceCache.getTileByID(e.scaledTo(a--).key);return h}anyTilesAfterTime(e=Date.now()){return this._lastTilesetChange>=e}_isWithinTileRanges(e,i){return i[e.canonical.z]&&e.canonical.x>=i[e.canonical.z].minTileX&&e.canonical.x<=i[e.canonical.z].maxTileX&&e.canonical.y>=i[e.canonical.z].minTileY&&e.canonical.y<=i[e.canonical.z].maxTileY}}class Di{constructor(e,i,o){this._meshCache={},this.painter=e,this.sourceCache=new Ua(i),this.options=o,this.exaggeration=typeof o.exaggeration=="number"?o.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(e,i,o,a=c.Z){var h;if(!(i>=0&&i<a&&o>=0&&o<a))return 0;const f=this.getTerrainData(e),_=(h=f.tile)===null||h===void 0?void 0:h.dem;if(!_)return 0;const y=c.cf([],[i/a*c.Z,o/a*c.Z],f.u_terrain_matrix),v=[y[0]*_.dim,y[1]*_.dim],T=Math.floor(v[0]),C=Math.floor(v[1]),M=v[0]-T,D=v[1]-C;return _.get(T,C)*(1-M)*(1-D)+_.get(T+1,C)*M*(1-D)+_.get(T,C+1)*(1-M)*D+_.get(T+1,C+1)*M*D}getElevationForLngLatZoom(e,i){if(!c.cg(i,e.wrap()))return 0;const{tileID:o,mercatorX:a,mercatorY:h}=this._getOverscaledTileIDFromLngLatZoom(e,i);return this.getElevation(o,a%c.Z,h%c.Z,c.Z)}getElevation(e,i,o,a=c.Z){return this.getDEMElevation(e,i,o,a)*this.exaggeration}getTerrainData(e){if(!this._emptyDemTexture){const a=this.painter.context,h=new c.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new It(a,h,a.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new It(a,new c.R({width:1,height:1}),a.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(a.gl.NEAREST,a.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=c.at([])}const i=this.sourceCache.getSourceTile(e,!0);if(i&&i.dem&&(!i.demTexture||i.needsTerrainPrepare)){const a=this.painter.context;i.demTexture=this.painter.getTileTexture(i.dem.stride),i.demTexture?i.demTexture.update(i.dem.getPixels(),{premultiply:!1}):i.demTexture=new It(a,i.dem.getPixels(),a.gl.RGBA,{premultiply:!1}),i.demTexture.bind(a.gl.NEAREST,a.gl.CLAMP_TO_EDGE),i.needsTerrainPrepare=!1}const o=i&&i+i.tileID.key+e.key;if(o&&!this._demMatrixCache[o]){const a=this.sourceCache.sourceCache._source.maxzoom;let h=e.canonical.z-i.tileID.canonical.z;e.overscaledZ>e.canonical.z&&(e.canonical.z>=a?h=e.canonical.z-a:c.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const f=e.canonical.x-(e.canonical.x>>h<<h),_=e.canonical.y-(e.canonical.y>>h<<h),y=c.ch(new Float64Array(16),[1/(c.Z<<h),1/(c.Z<<h),0]);c.L(y,y,[f*c.Z,_*c.Z,0]),this._demMatrixCache[e.key]={matrix:y,coord:e}}return{u_depth:2,u_terrain:3,u_terrain_dim:i&&i.dem&&i.dem.dim||1,u_terrain_matrix:o?this._demMatrixCache[e.key].matrix:this._emptyDemMatrix,u_terrain_unpack:i&&i.dem&&i.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(i&&i.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:i}}getFramebuffer(e){const i=this.painter,o=i.width/devicePixelRatio,a=i.height/devicePixelRatio;return!this._fbo||this._fbo.width===o&&this._fbo.height===a||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new It(i.context,{width:o,height:a,data:null},i.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(i.context.gl.NEAREST,i.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new It(i.context,{width:o,height:a,data:null},i.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(i.context.gl.NEAREST,i.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=i.context.createFramebuffer(o,a,!0,!1),this._fbo.depthAttachment.set(i.context.createRenderbuffer(i.context.gl.DEPTH_COMPONENT16,o,a))),this._fbo.colorAttachment.set(e==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const e=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const i=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let h=0,f=0;h<this._coordsTextureSize;h++)for(let _=0;_<this._coordsTextureSize;_++,f+=4)i[f+0]=255&_,i[f+1]=255&h,i[f+2]=_>>8<<4|h>>8,i[f+3]=0;const o=new c.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(i.buffer)),a=new It(e,o,e.gl.RGBA,{premultiply:!1});return a.bind(e.gl.NEAREST,e.gl.CLAMP_TO_EDGE),this._coordsTexture=a,a}pointCoordinate(e){this.painter.maybeDrawDepthAndCoords(!0);const i=new Uint8Array(4),o=this.painter.context,a=o.gl,h=Math.round(e.x*this.painter.pixelRatio/devicePixelRatio),f=Math.round(e.y*this.painter.pixelRatio/devicePixelRatio),_=Math.round(this.painter.height/devicePixelRatio);o.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),a.readPixels(h,_-f-1,1,1,a.RGBA,a.UNSIGNED_BYTE,i),o.bindFramebuffer.set(null);const y=i[0]+(i[2]>>4<<8),v=i[1]+((15&i[2])<<8),T=this.coordsIndex[255-i[3]],C=T&&this.sourceCache.getTileByID(T);if(!C)return null;const M=this._coordsTextureSize,D=(1<<C.tileID.canonical.z)*M;return new c.$((C.tileID.canonical.x*M+y)/D+C.tileID.wrap,(C.tileID.canonical.y*M+v)/D,this.getElevation(C.tileID,y,v,M))}depthAtPoint(e){const i=new Uint8Array(4),o=this.painter.context,a=o.gl;return o.bindFramebuffer.set(this.getFramebuffer("depth").framebuffer),a.readPixels(e.x,this.painter.height/devicePixelRatio-e.y-1,1,1,a.RGBA,a.UNSIGNED_BYTE,i),o.bindFramebuffer.set(null),(i[0]/16777216+i[1]/65536+i[2]/256+i[3])/256}getTerrainMesh(e){var i;const o=((i=this.painter.style.projection)===null||i===void 0?void 0:i.transitionState)>0,a=o&&e.canonical.y===0,h=o&&e.canonical.y===(1<<e.canonical.z)-1,f=`m_${a?"n":""}_${h?"s":""}`;if(this._meshCache[f])return this._meshCache[f];const _=this.painter.context,y=new c.ci,v=new c.aH,T=this.meshSize,C=c.Z/T,M=T*T;for(let te=0;te<=T;te++)for(let pe=0;pe<=T;pe++)y.emplaceBack(pe*C,te*C,0);for(let te=0;te<M;te+=T+1)for(let pe=0;pe<T;pe++)v.emplaceBack(pe+te,T+pe+te+1,T+pe+te+2),v.emplaceBack(pe+te,T+pe+te+2,pe+te+1);const D=y.length,B=D+(T+1),$=(T+1)*T,Z=a?c.b9:0,G=a?0:1,H=h?c.ba:c.Z,Y=h?0:1;for(let te=0;te<=T;te++)y.emplaceBack(te*C,Z,G);for(let te=0;te<=T;te++)y.emplaceBack(te*C,H,Y);for(let te=0;te<T;te++)v.emplaceBack($+te,B+te,B+te+1),v.emplaceBack($+te,B+te+1,$+te+1),v.emplaceBack(0+te,D+te+1,D+te),v.emplaceBack(0+te,0+te+1,D+te+1);const Q=y.length,ee=Q+2*(T+1);for(const te of[0,1])for(let pe=0;pe<=T;pe++)for(const de of[0,1])y.emplaceBack(te*c.Z,pe*C,de);for(let te=0;te<2*T;te+=2)v.emplaceBack(Q+te,Q+te+1,Q+te+3),v.emplaceBack(Q+te,Q+te+3,Q+te+2),v.emplaceBack(ee+te,ee+te+3,ee+te+1),v.emplaceBack(ee+te,ee+te+2,ee+te+3);const se=new _n(_.createVertexBuffer(y,Va.members),_.createIndexBuffer(v),c.aG.simpleSegment(0,0,y.length,v.length));return this._meshCache[f]=se,se}getMeshFrameDelta(e){return 2*Math.PI*c.br/Math.pow(2,Math.max(e,0))/5}getMinTileElevationForLngLatZoom(e,i){var o;const{tileID:a}=this._getOverscaledTileIDFromLngLatZoom(e,i);return(o=this.getMinMaxElevation(a).minElevation)!==null&&o!==void 0?o:0}getMinMaxElevation(e){const i=this.getTerrainData(e).tile,o={minElevation:null,maxElevation:null};return i&&i.dem&&(o.minElevation=i.dem.min*this.exaggeration,o.maxElevation=i.dem.max*this.exaggeration),o}_getOverscaledTileIDFromLngLatZoom(e,i){const o=c.$.fromLngLat(e.wrap()),a=(1<<i)*c.Z,h=o.x*a,f=o.y*a,_=Math.floor(h/c.Z),y=Math.floor(f/c.Z);return{tileID:new c.Y(i,0,i,_,y),mercatorX:h,mercatorY:f}}}class fc{constructor(e,i,o){this._context=e,this._size=i,this._tileSize=o,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const e of this._objects)e.texture.destroy(),e.fbo.destroy()}_createObject(e){const i=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),o=new It(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return o.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),this._context.extTextureFilterAnisotropic&&this._context.gl.texParameterf(this._context.gl.TEXTURE_2D,this._context.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,this._context.extTextureFilterAnisotropicMax),i.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),i.colorAttachment.set(o.texture),{id:e,fbo:i,texture:o,stamp:-1,inUse:!1}}getObjectForId(e){return this._objects[e]}useObject(e){e.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(i=>e.id!==i),this._recentlyUsed.push(e.id)}stampObject(e){e.stamp=++this._stamp}getOrCreateFreeObject(){for(const i of this._recentlyUsed)if(!this._objects[i].inUse)return this._objects[i];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const e=this._createObject(this._objects.length);return this._objects.push(e),e}freeObject(e){e.inUse=!1}freeAllObjects(){for(const e of this._objects)this.freeObject(e)}isFull(){return!(this._objects.length<this._size)&&this._objects.some(e=>!e.inUse)===!1}}const Ii={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class gu{constructor(e,i){this.painter=e,this.terrain=i,this.pool=new fc(e.context,30,i.sourceCache.tileSize*i.qualityFactor)}destruct(){this.pool.destruct()}getTexture(e){return this.pool.getObjectForId(e.rtt[this._stacks.length-1].id).texture}prepareForRender(e,i){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=e._order.filter(o=>!e._layers[o].isHidden(i)),this._coordsAscending={};for(const o in e.sourceCaches){this._coordsAscending[o]={};const a=e.sourceCaches[o].getVisibleCoordinates(),h=e.sourceCaches[o].getSource(),f=h instanceof Qi?h.terrainTileRanges:null;for(const _ of a){const y=this.terrain.sourceCache.getTerrainCoords(_,f);for(const v in y)this._coordsAscending[o][v]||(this._coordsAscending[o][v]=[]),this._coordsAscending[o][v].push(y[v])}}this._coordsAscendingStr={};for(const o of e._order){const a=e._layers[o],h=a.source;if(Ii[a.type]&&!this._coordsAscendingStr[h]){this._coordsAscendingStr[h]={};for(const f in this._coordsAscending[h])this._coordsAscendingStr[h][f]=this._coordsAscending[h][f].map(_=>_.key).sort().join()}}for(const o of this._renderableTiles)for(const a in this._coordsAscendingStr){const h=this._coordsAscendingStr[a][o.tileID.key];h&&h!==o.rttCoords[a]&&(o.rtt=[])}}renderLayer(e,i){if(e.isHidden(this.painter.transform.zoom))return!1;const o=Object.assign(Object.assign({},i),{isRenderingToTexture:!0}),a=e.type,h=this.painter,f=this._renderableLayerIds[this._renderableLayerIds.length-1]===e.id;if(Ii[a]&&(this._prevType&&Ii[this._prevType]||this._stacks.push([]),this._prevType=a,this._stacks[this._stacks.length-1].push(e.id),!f))return!0;if(Ii[this._prevType]||Ii[a]&&f){this._prevType=a;const _=this._stacks.length-1,y=this._stacks[_]||[];for(const v of this._renderableTiles){if(this.pool.isFull()&&(Do(this.painter,this.terrain,this._rttTiles,o),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(v),v.rtt[_]){const C=this.pool.getObjectForId(v.rtt[_].id);if(C.stamp===v.rtt[_].stamp){this.pool.useObject(C);continue}}const T=this.pool.getOrCreateFreeObject();this.pool.useObject(T),this.pool.stampObject(T),v.rtt[_]={id:T.id,stamp:T.stamp},h.context.bindFramebuffer.set(T.fbo.framebuffer),h.context.clear({color:c.b7.transparent,stencil:0}),h.currentStencilSource=void 0;for(let C=0;C<y.length;C++){const M=h.style._layers[y[C]],D=M.source?this._coordsAscending[M.source][v.tileID.key]:[v.tileID];h.context.viewport.set([0,0,T.fbo.width,T.fbo.height]),h._renderTileClippingMasks(M,D,!0),h.renderLayer(h,h.style.sourceCaches[M.source],M,D,o),M.source&&(v.rttCoords[M.source]=this._coordsAscendingStr[M.source][v.tileID.key])}}return Do(this.painter,this.terrain,this._rttTiles,o),this._rttTiles=[],this.pool.freeAllObjects(),Ii[a]}return!1}}const qs={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"MapLibre logo","Map.Title":"Map","Marker.Title":"Map marker","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","Popup.Close":"Close popup","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","GlobeControl.Enable":"Enable globe","GlobeControl.Disable":"Disable globe","TerrainControl.Enable":"Enable terrain","TerrainControl.Disable":"Disable terrain","CooperativeGesturesHandler.WindowsHelpText":"Use Ctrl + scroll to zoom the map","CooperativeGesturesHandler.MacHelpText":"Use ⌘ + scroll to zoom the map","CooperativeGesturesHandler.MobileHelpText":"Use two fingers to move the map"},Zt=Ne,Kt={hash:!1,interactive:!0,bearingSnap:7,attributionControl:Gs,maplibreLogo:!1,refreshExpiredTiles:!0,canvasContextAttributes:{antialias:!1,preserveDrawingBuffer:!1,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!1,desynchronized:!1,contextType:void 0},scrollZoom:!0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,trackResize:!0,center:[0,0],elevation:0,zoom:0,bearing:0,pitch:0,roll:0,renderWorldCopies:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:c.a.MAX_TILE_CACHE_ZOOM_LEVELS,transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,clickTolerance:3,localIdeographFontFamily:"sans-serif",pitchWithRotate:!0,rollEnabled:!1,validateStyle:!0,maxCanvasSize:[4096,4096],cancelPendingTileRequestsWhileZooming:!0,centerClampedToGround:!0},mc={showCompass:!0,showZoom:!0,visualizePitch:!1,visualizeRoll:!0};class Hs{constructor(e,i,o=!1){this.mousedown=h=>{this.startMove(h,he.mousePos(this.element,h)),he.addEventListener(window,"mousemove",this.mousemove),he.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=h=>{this.move(h,he.mousePos(this.element,h))},this.mouseup=h=>{this._rotatePitchHanlder.dragEnd(h),this.offTemp()},this.touchstart=h=>{h.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=he.touchPos(this.element,h.targetTouches)[0],this.startMove(h,this._startPos),he.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),he.addEventListener(window,"touchend",this.touchend))},this.touchmove=h=>{h.targetTouches.length!==1?this.reset():(this._lastPos=he.touchPos(this.element,h.targetTouches)[0],this.move(h,this._lastPos))},this.touchend=h=>{h.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this._rotatePitchHanlder.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10,this.element=i;const a=new lc;this._rotatePitchHanlder=new ds({clickTolerance:3,move:(h,f)=>{const _=i.getBoundingClientRect(),y=new c.P((_.bottom-_.top)/2,(_.right-_.left)/2);return{bearingDelta:c.ca(new c.P(h.x,f.y),f,y),pitchDelta:o?-.5*(f.y-h.y):void 0}},moveStateManager:a,enable:!0,assignEvents:()=>{}}),this.map=e,he.addEventListener(i,"mousedown",this.mousedown),he.addEventListener(i,"touchstart",this.touchstart,{passive:!1}),he.addEventListener(i,"touchcancel",this.reset)}startMove(e,i){this._rotatePitchHanlder.dragStart(e,i),he.disableDrag()}move(e,i){const o=this.map,{bearingDelta:a,pitchDelta:h}=this._rotatePitchHanlder.dragMove(e,i)||{};a&&o.setBearing(o.getBearing()+a),h&&o.setPitch(o.getPitch()+h)}off(){const e=this.element;he.removeEventListener(e,"mousedown",this.mousedown),he.removeEventListener(e,"touchstart",this.touchstart,{passive:!1}),he.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),he.removeEventListener(window,"touchend",this.touchend),he.removeEventListener(e,"touchcancel",this.reset),this.offTemp()}offTemp(){he.enableDrag(),he.removeEventListener(window,"mousemove",this.mousemove),he.removeEventListener(window,"mouseup",this.mouseup),he.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),he.removeEventListener(window,"touchend",this.touchend)}}let yr;function jo(u,e,i){const o=new c.Q(u.lng,u.lat);if(u=new c.Q(u.lng,u.lat),e){const a=new c.Q(u.lng-360,u.lat),h=new c.Q(u.lng+360,u.lat),f=i.locationToScreenPoint(u).distSqr(e);i.locationToScreenPoint(a).distSqr(e)<f?u=a:i.locationToScreenPoint(h).distSqr(e)<f&&(u=h)}for(;Math.abs(u.lng-i.center.lng)>180;){const a=i.locationToScreenPoint(u);if(a.x>=0&&a.y>=0&&a.x<=i.width&&a.y<=i.height)break;u.lng>i.center.lng?u.lng-=360:u.lng+=360}return u.lng!==o.lng&&i.isPointOnMapSurface(i.locationToScreenPoint(u))?u:o}const Ws={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function No(u,e,i){const o=u.classList;for(const a in Ws)o.remove(`maplibregl-${i}-anchor-${a}`);o.add(`maplibregl-${i}-anchor-${e}`)}class Cn extends c.E{constructor(e){if(super(),this._onKeyPress=i=>{const o=i.code,a=i.charCode||i.keyCode;o!=="Space"&&o!=="Enter"&&a!==32&&a!==13||this.togglePopup()},this._onMapClick=i=>{const o=i.originalEvent.target,a=this._element;this._popup&&(o===a||a.contains(o))&&this.togglePopup()},this._update=i=>{var o;if(!this._map)return;const a=this._map.loaded()&&!this._map.isMoving();((i==null?void 0:i.type)==="terrain"||(i==null?void 0:i.type)==="render"&&!a)&&this._map.once("render",this._update),this._lngLat=this._map.transform.renderWorldCopies?jo(this._lngLat,this._flatPos,this._map.transform):(o=this._lngLat)===null||o===void 0?void 0:o.wrap(),this._flatPos=this._pos=this._map.project(this._lngLat)._add(this._offset),this._map.terrain&&(this._flatPos=this._map.transform.locationToScreenPoint(this._lngLat)._add(this._offset));let h="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?h=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(h=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let f="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?f="rotateX(0deg)":this._pitchAlignment==="map"&&(f=`rotateX(${this._map.getPitch()}deg)`),this._subpixelPositioning||i&&i.type!=="moveend"||(this._pos=this._pos.round()),he.setTransform(this._element,`${Ws[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${f} ${h}`),Ve.frameAsync(new AbortController).then(()=>{this._updateOpacity(i&&i.type==="moveend")}).catch(()=>{})},this._onMove=i=>{if(!this._isDragging){const o=this._clickTolerance||this._map._clickTolerance;this._isDragging=i.point.dist(this._pointerdownPos)>=o}this._isDragging&&(this._pos=i.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new c.l("dragstart"))),this.fire(new c.l("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new c.l("dragend")),this._state="inactive"},this._addDragHandler=i=>{this._element.contains(i.originalEvent.target)&&(i.preventDefault(),this._positionDelta=i.point.sub(this._pos).add(this._offset),this._pointerdownPos=i.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=e&&e.anchor||"center",this._color=e&&e.color||"#3FB1CE",this._scale=e&&e.scale||1,this._draggable=e&&e.draggable||!1,this._clickTolerance=e&&e.clickTolerance||0,this._subpixelPositioning=e&&e.subpixelPositioning||!1,this._isDragging=!1,this._state="inactive",this._rotation=e&&e.rotation||0,this._rotationAlignment=e&&e.rotationAlignment||"auto",this._pitchAlignment=e&&e.pitchAlignment&&e.pitchAlignment!=="auto"?e.pitchAlignment:this._rotationAlignment,this.setOpacity(e==null?void 0:e.opacity,e==null?void 0:e.opacityWhenCovered),e&&e.element)this._element=e.element,this._offset=c.P.convert(e&&e.offset||[0,0]);else{this._defaultMarker=!0,this._element=he.create("div");const i=he.createNS("http://www.w3.org/2000/svg","svg"),o=41,a=27;i.setAttributeNS(null,"display","block"),i.setAttributeNS(null,"height",`${o}px`),i.setAttributeNS(null,"width",`${a}px`),i.setAttributeNS(null,"viewBox",`0 0 ${a} ${o}`);const h=he.createNS("http://www.w3.org/2000/svg","g");h.setAttributeNS(null,"stroke","none"),h.setAttributeNS(null,"stroke-width","1"),h.setAttributeNS(null,"fill","none"),h.setAttributeNS(null,"fill-rule","evenodd");const f=he.createNS("http://www.w3.org/2000/svg","g");f.setAttributeNS(null,"fill-rule","nonzero");const _=he.createNS("http://www.w3.org/2000/svg","g");_.setAttributeNS(null,"transform","translate(3.0, 29.0)"),_.setAttributeNS(null,"fill","#000000");const y=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const G of y){const H=he.createNS("http://www.w3.org/2000/svg","ellipse");H.setAttributeNS(null,"opacity","0.04"),H.setAttributeNS(null,"cx","10.5"),H.setAttributeNS(null,"cy","5.80029008"),H.setAttributeNS(null,"rx",G.rx),H.setAttributeNS(null,"ry",G.ry),_.appendChild(H)}const v=he.createNS("http://www.w3.org/2000/svg","g");v.setAttributeNS(null,"fill",this._color);const T=he.createNS("http://www.w3.org/2000/svg","path");T.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),v.appendChild(T);const C=he.createNS("http://www.w3.org/2000/svg","g");C.setAttributeNS(null,"opacity","0.25"),C.setAttributeNS(null,"fill","#000000");const M=he.createNS("http://www.w3.org/2000/svg","path");M.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),C.appendChild(M);const D=he.createNS("http://www.w3.org/2000/svg","g");D.setAttributeNS(null,"transform","translate(6.0, 7.0)"),D.setAttributeNS(null,"fill","#FFFFFF");const B=he.createNS("http://www.w3.org/2000/svg","g");B.setAttributeNS(null,"transform","translate(8.0, 8.0)");const $=he.createNS("http://www.w3.org/2000/svg","circle");$.setAttributeNS(null,"fill","#000000"),$.setAttributeNS(null,"opacity","0.25"),$.setAttributeNS(null,"cx","5.5"),$.setAttributeNS(null,"cy","5.5"),$.setAttributeNS(null,"r","5.4999962");const Z=he.createNS("http://www.w3.org/2000/svg","circle");Z.setAttributeNS(null,"fill","#FFFFFF"),Z.setAttributeNS(null,"cx","5.5"),Z.setAttributeNS(null,"cy","5.5"),Z.setAttributeNS(null,"r","5.4999962"),B.appendChild($),B.appendChild(Z),f.appendChild(_),f.appendChild(v),f.appendChild(C),f.appendChild(D),f.appendChild(B),i.appendChild(f),i.setAttributeNS(null,"height",o*this._scale+"px"),i.setAttributeNS(null,"width",a*this._scale+"px"),this._element.appendChild(i),this._offset=c.P.convert(e&&e.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",i=>{i.preventDefault()}),this._element.addEventListener("mousedown",i=>{i.preventDefault()}),No(this._element,this._anchor,"marker"),e&&e.className)for(const i of e.className.split(" "))this._element.classList.add(i);this._popup=null}addTo(e){return this.remove(),this._map=e,this._element.setAttribute("aria-label",e._getUIString("Marker.Title")),e.getCanvasContainer().appendChild(this._element),e.on("move",this._update),e.on("moveend",this._update),e.on("terrain",this._update),e.on("projectiontransition",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("terrain",this._update),this._map.off("projectiontransition",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),he.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(e){return this._lngLat=c.Q.convert(e),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(e){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),e){if(!("offset"in e.options)){const a=Math.abs(13.5)/Math.SQRT2;e.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[a,-1*(38.1-13.5+a)],"bottom-right":[-a,-1*(38.1-13.5+a)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=e,this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}setSubpixelPositioning(e){return this._subpixelPositioning=e,this}getPopup(){return this._popup}togglePopup(){const e=this._popup;return this._element.style.opacity===this._opacityWhenCovered?this:e?(e.isOpen()?e.remove():(e.setLngLat(this._lngLat),e.addTo(this._map)),this):this}_updateOpacity(e=!1){var i,o;if(!(!((i=this._map)===null||i===void 0)&&i.terrain)){const C=this._map.transform.isLocationOccluded(this._lngLat)?this._opacityWhenCovered:this._opacity;return void(this._element.style.opacity!==C&&(this._element.style.opacity=C))}if(e)this._opacityTimeout=null;else{if(this._opacityTimeout)return;this._opacityTimeout=setTimeout(()=>{this._opacityTimeout=null},100)}const a=this._map,h=a.terrain.depthAtPoint(this._pos),f=a.terrain.getElevationForLngLatZoom(this._lngLat,a.transform.tileZoom);if(a.transform.lngLatToCameraDepth(this._lngLat,f)-h<.006)return void(this._element.style.opacity=this._opacity);const _=-this._offset.y/a.transform.pixelsPerMeter,y=Math.sin(a.getPitch()*Math.PI/180)*_,v=a.terrain.depthAtPoint(new c.P(this._pos.x,this._pos.y-this._offset.y)),T=a.transform.lngLatToCameraDepth(this._lngLat,f+y)-v>.006;!((o=this._popup)===null||o===void 0)&&o.isOpen()&&T&&this._popup.remove(),this._element.style.opacity=T?this._opacityWhenCovered:this._opacity}getOffset(){return this._offset}setOffset(e){return this._offset=c.P.convert(e),this._update(),this}addClassName(e){this._element.classList.add(e)}removeClassName(e){this._element.classList.remove(e)}toggleClassName(e){return this._element.classList.toggle(e)}setDraggable(e){return this._draggable=!!e,this._map&&(e?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(e){return this._rotation=e||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(e){return this._rotationAlignment=e||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(e){return this._pitchAlignment=e&&e!=="auto"?e:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}setOpacity(e,i){return(this._opacity===void 0||e===void 0&&i===void 0)&&(this._opacity="1",this._opacityWhenCovered="0.2"),e!==void 0&&(this._opacity=e),i!==void 0&&(this._opacityWhenCovered=i),this._map&&this._updateOpacity(!0),this}}const Za={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let fs=0,In=!1;const $a={maxWidth:100,unit:"metric"};function Vo(u,e,i){const o=i&&i.maxWidth||100,a=u._container.clientHeight/2,h=u._container.clientWidth/2,f=u.unproject([h-o/2,a]),_=u.unproject([h+o/2,a]),y=Math.round(u.project(_).x-u.project(f).x),v=Math.min(o,y,u._container.clientWidth),T=f.distanceTo(_);if(i&&i.unit==="imperial"){const C=3.2808*T;C>5280?En(e,v,C/5280,u._getUIString("ScaleControl.Miles")):En(e,v,C,u._getUIString("ScaleControl.Feet"))}else i&&i.unit==="nautical"?En(e,v,T/1852,u._getUIString("ScaleControl.NauticalMiles")):T>=1e3?En(e,v,T/1e3,u._getUIString("ScaleControl.Kilometers")):En(e,v,T,u._getUIString("ScaleControl.Meters"))}function En(u,e,i,o){const a=function(h){const f=Math.pow(10,`${Math.floor(h)}`.length-1);let _=h/f;return _=_>=10?10:_>=5?5:_>=3?3:_>=2?2:_>=1?1:function(y){const v=Math.pow(10,Math.ceil(-Math.log(y)/Math.LN10));return Math.round(y*v)/v}(_),f*_}(i);u.style.width=e*(a/i)+"px",u.innerHTML=`${a}&nbsp;${o}`}const Ga={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px",subpixelPositioning:!1,locationOccludedOpacity:void 0},qa=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Ks(u){if(u){if(typeof u=="number"){const e=Math.round(Math.abs(u)/Math.SQRT2);return{center:new c.P(0,0),top:new c.P(0,u),"top-left":new c.P(e,e),"top-right":new c.P(-e,e),bottom:new c.P(0,-u),"bottom-left":new c.P(e,-e),"bottom-right":new c.P(-e,-e),left:new c.P(u,0),right:new c.P(-u,0)}}if(u instanceof c.P||Array.isArray(u)){const e=c.P.convert(u);return{center:e,top:e,"top-left":e,"top-right":e,bottom:e,"bottom-left":e,"bottom-right":e,left:e,right:e}}return{center:c.P.convert(u.center||[0,0]),top:c.P.convert(u.top||[0,0]),"top-left":c.P.convert(u["top-left"]||[0,0]),"top-right":c.P.convert(u["top-right"]||[0,0]),bottom:c.P.convert(u.bottom||[0,0]),"bottom-left":c.P.convert(u["bottom-left"]||[0,0]),"bottom-right":c.P.convert(u["bottom-right"]||[0,0]),left:c.P.convert(u.left||[0,0]),right:c.P.convert(u.right||[0,0])}}return Ks(new c.P(0,0))}const Ha=Ne;P.AJAXError=c.cm,P.Event=c.l,P.Evented=c.E,P.LngLat=c.Q,P.MercatorCoordinate=c.$,P.Point=c.P,P.addProtocol=c.cn,P.config=c.a,P.removeProtocol=c.co,P.AttributionControl=We,P.BoxZoomHandler=Sn,P.CanvasSource=Bn,P.CooperativeGesturesHandler=Fo,P.DoubleClickZoomHandler=Na,P.DragPanHandler=Er,P.DragRotateHandler=kt,P.EdgeInsets=Ft,P.FullscreenControl=class extends c.E{constructor(u={}){super(),this._onFullscreenChange=()=>{var e;let i=window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement;for(;!((e=i==null?void 0:i.shadowRoot)===null||e===void 0)&&e.fullscreenElement;)i=i.shadowRoot.fullscreenElement;i===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,u&&u.container&&(u.container instanceof HTMLElement?this._container=u.container:c.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(u){return this._map=u,this._container||(this._container=this._map.getContainer()),this._controlContainer=he.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){he.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const u=this._fullscreenButton=he.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);he.create("span","maplibregl-ctrl-icon",u).setAttribute("aria-hidden","true"),u.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const u=this._getTitle();this._fullscreenButton.setAttribute("aria-label",u),this._fullscreenButton.title=u}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new c.l("fullscreenstart")),this._prevCooperativeGesturesEnabled=this._map.cooperativeGestures.isEnabled(),this._map.cooperativeGestures.disable()):(this.fire(new c.l("fullscreenend")),this._prevCooperativeGesturesEnabled&&this._map.cooperativeGestures.enable())}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},P.GeoJSONSource=Ur,P.GeolocateControl=class extends c.E{constructor(u){super(),this._onSuccess=e=>{if(this._map){if(this._isOutOfMapMaxBounds(e))return this._setErrorState(),this.fire(new c.l("outofmaxbounds",e)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=e,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(e),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(e),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new c.l("geolocate",e)),this._finish()}},this._updateCamera=e=>{const i=new c.Q(e.coords.longitude,e.coords.latitude),o=e.coords.accuracy,a=this._map.getBearing(),h=c.e({bearing:a},this.options.fitBoundsOptions),f=Ht.fromLngLat(i,o);this._map.fitBounds(f,h,{geolocateSource:!0})},this._updateMarker=e=>{if(e){const i=new c.Q(e.coords.longitude,e.coords.latitude);this._accuracyCircleMarker.setLngLat(i).addTo(this._map),this._userLocationDotMarker.setLngLat(i).addTo(this._map),this._accuracy=e.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=e=>{if(this._map){if(this.options.trackUserLocation)if(e.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const i=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=i,this._geolocateButton.setAttribute("aria-label",i),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(e.code===3&&In)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new c.l("error",e)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=()=>{this._map&&(this._container.addEventListener("contextmenu",e=>e.preventDefault()),this._geolocateButton=he.create("button","maplibregl-ctrl-geolocate",this._container),he.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",this._geolocateButton.disabled=!0)},this._finishSetupUI=e=>{if(this._map){if(e===!1){c.w("Geolocation support is not available so the GeolocateControl will be disabled.");const i=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=i,this._geolocateButton.setAttribute("aria-label",i)}else{const i=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.disabled=!1,this._geolocateButton.title=i,this._geolocateButton.setAttribute("aria-label",i)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=he.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new Cn({element:this._dotElement}),this._circleElement=he.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Cn({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",()=>this.trigger()),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",i=>{i.geolocateSource||this._watchState!=="ACTIVE_LOCK"||i.originalEvent&&i.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new c.l("trackuserlocationend")),this.fire(new c.l("userlocationlostfocus")))})}},this.options=c.e({},Za,u)}onAdd(u){return this._map=u,this._container=he.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),function(){return c._(this,arguments,void 0,function*(e=!1){if(yr!==void 0&&!e)return yr;if(window.navigator.permissions===void 0)return yr=!!window.navigator.geolocation,yr;try{yr=(yield window.navigator.permissions.query({name:"geolocation"})).state!=="denied"}catch{yr=!!window.navigator.geolocation}return yr})}().then(e=>this._finishSetupUI(e)),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),he.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,fs=0,In=!1}_isOutOfMapMaxBounds(u){const e=this._map.getMaxBounds(),i=u.coords;return e&&(i.longitude<e.getWest()||i.longitude>e.getEast()||i.latitude<e.getSouth()||i.latitude>e.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadius(){const u=this._map.getBounds(),e=u.getSouthEast(),i=u.getNorthEast(),o=e.distanceTo(i),a=Math.ceil(this._accuracy/(o/this._map._container.clientHeight)*2);this._circleElement.style.width=`${a}px`,this._circleElement.style.height=`${a}px`}trigger(){if(!this._setup)return c.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new c.l("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":fs--,In=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new c.l("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new c.l("trackuserlocationstart")),this.fire(new c.l("userlocationfocus"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let u;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),fs++,fs>1?(u={maximumAge:6e5,timeout:0},In=!0):(u=this.options.positionOptions,In=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,u)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},P.GlobeControl=class{constructor(){this._toggleProjection=()=>{var u;const e=(u=this._map.getProjection())===null||u===void 0?void 0:u.type;this._map.setProjection(e!=="mercator"&&e?{type:"mercator"}:{type:"globe"}),this._updateGlobeIcon()},this._updateGlobeIcon=()=>{var u;this._globeButton.classList.remove("maplibregl-ctrl-globe"),this._globeButton.classList.remove("maplibregl-ctrl-globe-enabled"),((u=this._map.getProjection())===null||u===void 0?void 0:u.type)==="globe"?(this._globeButton.classList.add("maplibregl-ctrl-globe-enabled"),this._globeButton.title=this._map._getUIString("GlobeControl.Disable")):(this._globeButton.classList.add("maplibregl-ctrl-globe"),this._globeButton.title=this._map._getUIString("GlobeControl.Enable"))}}onAdd(u){return this._map=u,this._container=he.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._globeButton=he.create("button","maplibregl-ctrl-globe",this._container),he.create("span","maplibregl-ctrl-icon",this._globeButton).setAttribute("aria-hidden","true"),this._globeButton.type="button",this._globeButton.addEventListener("click",this._toggleProjection),this._updateGlobeIcon(),this._map.on("styledata",this._updateGlobeIcon),this._container}onRemove(){he.remove(this._container),this._map.off("styledata",this._updateGlobeIcon),this._globeButton.removeEventListener("click",this._toggleProjection),this._map=void 0}},P.Hash=Ra,P.ImageSource=Qi,P.KeyboardHandler=Ba,P.LngLatBounds=Ht,P.LogoControl=Qe,P.Map=class extends gr{constructor(u){var e,i;c.cj.mark(c.ck.create);const o=Object.assign(Object.assign(Object.assign({},Kt),u),{canvasContextAttributes:Object.assign(Object.assign({},Kt.canvasContextAttributes),u.canvasContextAttributes)});if(o.minZoom!=null&&o.maxZoom!=null&&o.minZoom>o.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(o.minPitch!=null&&o.maxPitch!=null&&o.minPitch>o.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(o.minPitch!=null&&o.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(o.maxPitch!=null&&o.maxPitch>180)throw new Error("maxPitch must be less than or equal to 180");const a=new Bt,h=new ki;if(o.minZoom!==void 0&&a.setMinZoom(o.minZoom),o.maxZoom!==void 0&&a.setMaxZoom(o.maxZoom),o.minPitch!==void 0&&a.setMinPitch(o.minPitch),o.maxPitch!==void 0&&a.setMaxPitch(o.maxPitch),o.renderWorldCopies!==void 0&&a.setRenderWorldCopies(o.renderWorldCopies),super(a,h,{bearingSnap:o.bearingSnap}),this._idleTriggered=!1,this._crossFadingFactor=1,this._renderTaskQueue=new Oo,this._controls=[],this._mapId=c.a4(),this._contextLost=_=>{_.preventDefault(),this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this.fire(new c.l("webglcontextlost",{originalEvent:_}))},this._contextRestored=_=>{this._setupPainter(),this.resize(),this._update(),this.fire(new c.l("webglcontextrestored",{originalEvent:_}))},this._onMapScroll=_=>{if(_.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=o.interactive,this._maxTileCacheSize=o.maxTileCacheSize,this._maxTileCacheZoomLevels=o.maxTileCacheZoomLevels,this._canvasContextAttributes=Object.assign({},o.canvasContextAttributes),this._trackResize=o.trackResize===!0,this._bearingSnap=o.bearingSnap,this._centerClampedToGround=o.centerClampedToGround,this._refreshExpiredTiles=o.refreshExpiredTiles===!0,this._fadeDuration=o.fadeDuration,this._crossSourceCollisions=o.crossSourceCollisions===!0,this._collectResourceTiming=o.collectResourceTiming===!0,this._locale=Object.assign(Object.assign({},qs),o.locale),this._clickTolerance=o.clickTolerance,this._overridePixelRatio=o.pixelRatio,this._maxCanvasSize=o.maxCanvasSize,this.transformCameraUpdate=o.transformCameraUpdate,this.cancelPendingTileRequestsWhileZooming=o.cancelPendingTileRequestsWhileZooming===!0,this._imageQueueHandle=Lt.addThrottleControl(()=>this.isMoving()),this._requestManager=new Vt(o.transformRequest),typeof o.container=="string"){if(this._container=document.getElementById(o.container),!this._container)throw new Error(`Container '${o.container}' not found.`)}else{if(!(o.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=o.container}if(o.maxBounds&&this.setMaxBounds(o.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),this.once("idle",()=>{this._idleTriggered=!0}),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let _=!1;const y=ka(v=>{this._trackResize&&!this._removed&&(this.resize(v),this.redraw())},50);this._resizeObserver=new ResizeObserver(v=>{_?y(v):_=!0}),this._resizeObserver.observe(this._container)}this.handlers=new _u(this,o),this._hash=o.hash&&new Ra(typeof o.hash=="string"&&o.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:o.center,elevation:o.elevation,zoom:o.zoom,bearing:o.bearing,pitch:o.pitch,roll:o.roll}),o.bounds&&(this.resize(),this.fitBounds(o.bounds,c.e({},o.fitBoundsOptions,{duration:0}))));const f=typeof o.style=="string"||((i=(e=o.style)===null||e===void 0?void 0:e.projection)===null||i===void 0?void 0:i.type)!=="globe";this.resize(null,f),this._localIdeographFontFamily=o.localIdeographFontFamily,this._validateStyle=o.validateStyle,o.style&&this.setStyle(o.style,{localIdeographFontFamily:o.localIdeographFontFamily}),o.attributionControl&&this.addControl(new We(typeof o.attributionControl=="boolean"?void 0:o.attributionControl)),o.maplibreLogo&&this.addControl(new Qe,o.logoPosition),this.on("style.load",()=>{if(f||this._resizeTransform(),this.transform.unmodified){const _=c.O(this.style.stylesheet,["center","zoom","bearing","pitch","roll"]);this.jumpTo(_)}}),this.on("data",_=>{this._update(_.dataType==="style"),this.fire(new c.l(`${_.dataType}data`,_))}),this.on("dataloading",_=>{this.fire(new c.l(`${_.dataType}dataloading`,_))}),this.on("dataabort",_=>{this.fire(new c.l("sourcedataabort",_))})}_getMapId(){return this._mapId}addControl(u,e){if(e===void 0&&(e=u.getDefaultPosition?u.getDefaultPosition():"top-right"),!u||!u.onAdd)return this.fire(new c.k(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const i=u.onAdd(this);this._controls.push(u);const o=this._controlPositions[e];return e.indexOf("bottom")!==-1?o.insertBefore(i,o.firstChild):o.appendChild(i),this}removeControl(u){if(!u||!u.onRemove)return this.fire(new c.k(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const e=this._controls.indexOf(u);return e>-1&&this._controls.splice(e,1),u.onRemove(this),this}hasControl(u){return this._controls.indexOf(u)>-1}calculateCameraOptionsFromTo(u,e,i,o){return o==null&&this.terrain&&(o=this.terrain.getElevationForLngLatZoom(i,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(u,e,i,o)}resize(u,e=!0){const[i,o]=this._containerDimensions(),a=this._getClampedPixelRatio(i,o);if(this._resizeCanvas(i,o,a),this.painter.resize(i,o,a),this.painter.overLimit()){const f=this.painter.context.gl;this._maxCanvasSize=[f.drawingBufferWidth,f.drawingBufferHeight];const _=this._getClampedPixelRatio(i,o);this._resizeCanvas(i,o,_),this.painter.resize(i,o,_)}this._resizeTransform(e);const h=!this._moving;return h&&(this.stop(),this.fire(new c.l("movestart",u)).fire(new c.l("move",u))),this.fire(new c.l("resize",u)),h&&this.fire(new c.l("moveend",u)),this}_resizeTransform(u=!0){var e;const[i,o]=this._containerDimensions();this.transform.resize(i,o,u),(e=this._requestedCameraState)===null||e===void 0||e.resize(i,o,u)}_getClampedPixelRatio(u,e){const{0:i,1:o}=this._maxCanvasSize,a=this.getPixelRatio(),h=u*a,f=e*a;return Math.min(h>i?i/h:1,f>o?o/f:1)*a}getPixelRatio(){var u;return(u=this._overridePixelRatio)!==null&&u!==void 0?u:devicePixelRatio}setPixelRatio(u){this._overridePixelRatio=u,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(u){return this.transform.setMaxBounds(Ht.convert(u)),this._update()}setMinZoom(u){if((u=u??-2)>=-2&&u<=this.transform.maxZoom)return this.transform.setMinZoom(u),this._update(),this.getZoom()<u&&this.setZoom(u),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(u){if((u=u??22)>=this.transform.minZoom)return this.transform.setMaxZoom(u),this._update(),this.getZoom()>u&&this.setZoom(u),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(u){if((u=u??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(u>=0&&u<=this.transform.maxPitch)return this.transform.setMinPitch(u),this._update(),this.getPitch()<u&&this.setPitch(u),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(u){if((u=u??60)>180)throw new Error("maxPitch must be less than or equal to 180");if(u>=this.transform.minPitch)return this.transform.setMaxPitch(u),this._update(),this.getPitch()>u&&this.setPitch(u),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(u){return this.transform.setRenderWorldCopies(u),this._update()}project(u){return this.transform.locationToScreenPoint(c.Q.convert(u),this.style&&this.terrain)}unproject(u){return this.transform.screenPointToLocation(c.P.convert(u),this.terrain)}isMoving(){var u;return this._moving||((u=this.handlers)===null||u===void 0?void 0:u.isMoving())}isZooming(){var u;return this._zooming||((u=this.handlers)===null||u===void 0?void 0:u.isZooming())}isRotating(){var u;return this._rotating||((u=this.handlers)===null||u===void 0?void 0:u.isRotating())}_createDelegatedListener(u,e,i){if(u==="mouseenter"||u==="mouseover"){let o=!1;return{layers:e,listener:i,delegates:{mousemove:h=>{const f=e.filter(y=>this.getLayer(y)),_=f.length!==0?this.queryRenderedFeatures(h.point,{layers:f}):[];_.length?o||(o=!0,i.call(this,new Ti(u,this,h.originalEvent,{features:_}))):o=!1},mouseout:()=>{o=!1}}}}if(u==="mouseleave"||u==="mouseout"){let o=!1;return{layers:e,listener:i,delegates:{mousemove:f=>{const _=e.filter(y=>this.getLayer(y));(_.length!==0?this.queryRenderedFeatures(f.point,{layers:_}):[]).length?o=!0:o&&(o=!1,i.call(this,new Ti(u,this,f.originalEvent)))},mouseout:f=>{o&&(o=!1,i.call(this,new Ti(u,this,f.originalEvent)))}}}}{const o=a=>{const h=e.filter(_=>this.getLayer(_)),f=h.length!==0?this.queryRenderedFeatures(a.point,{layers:h}):[];f.length&&(a.features=f,i.call(this,a),delete a.features)};return{layers:e,listener:i,delegates:{[u]:o}}}}_saveDelegatedListener(u,e){this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[u]=this._delegatedListeners[u]||[],this._delegatedListeners[u].push(e)}_removeDelegatedListener(u,e,i){if(!this._delegatedListeners||!this._delegatedListeners[u])return;const o=this._delegatedListeners[u];for(let a=0;a<o.length;a++){const h=o[a];if(h.listener===i&&h.layers.length===e.length&&h.layers.every(f=>e.includes(f))){for(const f in h.delegates)this.off(f,h.delegates[f]);return void o.splice(a,1)}}}on(u,e,i){if(i===void 0)return super.on(u,e);const o=typeof e=="string"?[e]:e,a=this._createDelegatedListener(u,o,i);this._saveDelegatedListener(u,a);for(const h in a.delegates)this.on(h,a.delegates[h]);return{unsubscribe:()=>{this._removeDelegatedListener(u,o,i)}}}once(u,e,i){if(i===void 0)return super.once(u,e);const o=typeof e=="string"?[e]:e,a=this._createDelegatedListener(u,o,i);for(const h in a.delegates){const f=a.delegates[h];a.delegates[h]=(..._)=>{this._removeDelegatedListener(u,o,i),f(..._)}}this._saveDelegatedListener(u,a);for(const h in a.delegates)this.once(h,a.delegates[h]);return this}off(u,e,i){return i===void 0?super.off(u,e):(this._removeDelegatedListener(u,typeof e=="string"?[e]:e,i),this)}queryRenderedFeatures(u,e){if(!this.style)return[];let i;const o=u instanceof c.P||Array.isArray(u),a=o?u:[[0,0],[this.transform.width,this.transform.height]];if(e=e||(o?{}:u)||{},a instanceof c.P||typeof a[0]=="number")i=[c.P.convert(a)];else{const h=c.P.convert(a[0]),f=c.P.convert(a[1]);i=[h,new c.P(f.x,h.y),f,new c.P(h.x,f.y),h]}return this.style.queryRenderedFeatures(i,e,this.transform)}querySourceFeatures(u,e){return this.style.querySourceFeatures(u,e)}setStyle(u,e){return(e=c.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},e)).diff!==!1&&e.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&u?(this._diffStyle(u,e),this):(this._localIdeographFontFamily=e.localIdeographFontFamily,this._updateStyle(u,e))}setTransformRequest(u){return this._requestManager.setTransformRequest(u),this}_getUIString(u){const e=this._locale[u];if(e==null)throw new Error(`Missing UI string '${u}'`);return e}_updateStyle(u,e){var i,o;if(e.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(u,e));const a=this.style&&e.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!u)),u?(this.style=new Jn(this,e||{}),this.style.setEventedParent(this,{style:this.style}),typeof u=="string"?this.style.loadURL(u,e,a):this.style.loadJSON(u,e,a),this):((o=(i=this.style)===null||i===void 0?void 0:i.projection)===null||o===void 0||o.destroy(),delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new Jn(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(u,e){if(typeof u=="string"){const i=this._requestManager.transformRequest(u,"Style");c.j(i,new AbortController).then(o=>{this._updateDiff(o.data,e)}).catch(o=>{o&&this.fire(new c.k(o))})}else typeof u=="object"&&this._updateDiff(u,e)}_updateDiff(u,e){try{this.style.setState(u,e)&&this._update(!0)}catch(i){c.w(`Unable to perform style diff: ${i.message||i.error||i}.  Rebuilding the style from scratch.`),this._updateStyle(u,e)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():c.w("There is no style added to the map.")}addSource(u,e){return this._lazyInitEmptyStyle(),this.style.addSource(u,e),this._update(!0)}isSourceLoaded(u){const e=this.style&&this.style.sourceCaches[u];if(e!==void 0)return e.loaded();this.fire(new c.k(new Error(`There is no source with ID '${u}'`)))}setTerrain(u){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),u){const e=this.style.sourceCaches[u.source];if(!e)throw new Error(`cannot load terrain, because there exists no source with ID: ${u.source}`);this.terrain===null&&e.reload();for(const i in this.style._layers){const o=this.style._layers[i];o.type==="hillshade"&&o.source===u.source&&c.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new Di(this.painter,e,u),this.painter.renderToTexture=new gu(this.painter,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._terrainDataCallback=i=>{var o;i.dataType==="style"?this.terrain.sourceCache.freeRtt():i.dataType==="source"&&i.tile&&(i.sourceId!==u.source||this._elevationFreeze||(this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))),((o=i.source)===null||o===void 0?void 0:o.type)==="image"?this.terrain.sourceCache.freeRtt():this.terrain.sourceCache.freeRtt(i.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0);return this.fire(new c.l("terrain",{terrain:u})),this}getTerrain(){var u,e;return(e=(u=this.terrain)===null||u===void 0?void 0:u.options)!==null&&e!==void 0?e:null}areTilesLoaded(){const u=this.style&&this.style.sourceCaches;for(const e in u){const i=u[e]._tiles;for(const o in i){const a=i[o];if(a.state!=="loaded"&&a.state!=="errored")return!1}}return!0}removeSource(u){return this.style.removeSource(u),this._update(!0)}getSource(u){return this.style.getSource(u)}addImage(u,e,i={}){const{pixelRatio:o=1,sdf:a=!1,stretchX:h,stretchY:f,content:_,textFitWidth:y,textFitHeight:v}=i;if(this._lazyInitEmptyStyle(),!(e instanceof HTMLImageElement||c.b(e))){if(e.width===void 0||e.height===void 0)return this.fire(new c.k(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:T,height:C,data:M}=e,D=e;return this.style.addImage(u,{data:new c.R({width:T,height:C},new Uint8Array(M)),pixelRatio:o,stretchX:h,stretchY:f,content:_,textFitWidth:y,textFitHeight:v,sdf:a,version:0,userImage:D}),D.onAdd&&D.onAdd(this,u),this}}{const{width:T,height:C,data:M}=Ve.getImageData(e);this.style.addImage(u,{data:new c.R({width:T,height:C},M),pixelRatio:o,stretchX:h,stretchY:f,content:_,textFitWidth:y,textFitHeight:v,sdf:a,version:0})}}updateImage(u,e){const i=this.style.getImage(u);if(!i)return this.fire(new c.k(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const o=e instanceof HTMLImageElement||c.b(e)?Ve.getImageData(e):e,{width:a,height:h,data:f}=o;if(a===void 0||h===void 0)return this.fire(new c.k(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(a!==i.data.width||h!==i.data.height)return this.fire(new c.k(new Error("The width and height of the updated image must be that same as the previous version of the image")));const _=!(e instanceof HTMLImageElement||c.b(e));return i.data.replace(f,_),this.style.updateImage(u,i),this}getImage(u){return this.style.getImage(u)}hasImage(u){return u?!!this.style.getImage(u):(this.fire(new c.k(new Error("Missing required image id"))),!1)}removeImage(u){this.style.removeImage(u)}loadImage(u){return Lt.getImage(this._requestManager.transformRequest(u,"Image"),new AbortController)}listImages(){return this.style.listImages()}addLayer(u,e){return this._lazyInitEmptyStyle(),this.style.addLayer(u,e),this._update(!0)}moveLayer(u,e){return this.style.moveLayer(u,e),this._update(!0)}removeLayer(u){return this.style.removeLayer(u),this._update(!0)}getLayer(u){return this.style.getLayer(u)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(u,e,i){return this.style.setLayerZoomRange(u,e,i),this._update(!0)}setFilter(u,e,i={}){return this.style.setFilter(u,e,i),this._update(!0)}getFilter(u){return this.style.getFilter(u)}setPaintProperty(u,e,i,o={}){return this.style.setPaintProperty(u,e,i,o),this._update(!0)}getPaintProperty(u,e){return this.style.getPaintProperty(u,e)}setLayoutProperty(u,e,i,o={}){return this.style.setLayoutProperty(u,e,i,o),this._update(!0)}getLayoutProperty(u,e){return this.style.getLayoutProperty(u,e)}setGlyphs(u,e={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(u,e),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(u,e,i={}){return this._lazyInitEmptyStyle(),this.style.addSprite(u,e,i,o=>{o||this._update(!0)}),this}removeSprite(u){return this._lazyInitEmptyStyle(),this.style.removeSprite(u),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(u,e={}){return this._lazyInitEmptyStyle(),this.style.setSprite(u,e,i=>{i||this._update(!0)}),this}setLight(u,e={}){return this._lazyInitEmptyStyle(),this.style.setLight(u,e),this._update(!0)}getLight(){return this.style.getLight()}setSky(u,e={}){return this._lazyInitEmptyStyle(),this.style.setSky(u,e),this._update(!0)}getSky(){return this.style.getSky()}setFeatureState(u,e){return this.style.setFeatureState(u,e),this._update()}removeFeatureState(u,e){return this.style.removeFeatureState(u,e),this._update()}getFeatureState(u){return this.style.getFeatureState(u)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let u=0,e=0;return this._container&&(u=this._container.clientWidth||400,e=this._container.clientHeight||300),[u,e]}_setupContainer(){const u=this._container;u.classList.add("maplibregl-map");const e=this._canvasContainer=he.create("div","maplibregl-canvas-container",u);this._interactive&&e.classList.add("maplibregl-interactive"),this._canvas=he.create("canvas","maplibregl-canvas",e),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex",this._interactive?"0":"-1"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region");const i=this._containerDimensions(),o=this._getClampedPixelRatio(i[0],i[1]);this._resizeCanvas(i[0],i[1],o);const a=this._controlContainer=he.create("div","maplibregl-control-container",u),h=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(f=>{h[f]=he.create("div",`maplibregl-ctrl-${f} `,a)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(u,e,i){this._canvas.width=Math.floor(i*u),this._canvas.height=Math.floor(i*e),this._canvas.style.width=`${u}px`,this._canvas.style.height=`${e}px`}_setupPainter(){const u=Object.assign(Object.assign({},this._canvasContextAttributes),{alpha:!0,depth:!0,stencil:!0,premultipliedAlpha:!0});let e=null;this._canvas.addEventListener("webglcontextcreationerror",o=>{e={requestedAttributes:u},o&&(e.statusMessage=o.statusMessage,e.type=o.type)},{once:!0});let i=null;if(i=this._canvasContextAttributes.contextType?this._canvas.getContext(this._canvasContextAttributes.contextType,u):this._canvas.getContext("webgl2",u)||this._canvas.getContext("webgl",u),!i){const o="Failed to initialize WebGL";throw e?(e.message=o,new Error(JSON.stringify(e))):new Error(o)}this.painter=new tc(i,this.transform),Ae.testSupport(i)}migrateProjection(u,e){super.migrateProjection(u,e),this.painter.transform=u,this.fire(new c.l("projectiontransition",{newProjection:this.style.projection.name}))}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(u){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||u,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(u){return this._update(),this._renderTaskQueue.add(u)}_cancelRenderFrame(u){this._renderTaskQueue.remove(u)}_render(u){var e,i,o,a,h;const f=this._idleTriggered?this._fadeDuration:0,_=((e=this.style.projection)===null||e===void 0?void 0:e.transitionState)>0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(u),this._removed)return;let y=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const C=this.transform.zoom,M=Ve.now();this.style.zoomHistory.update(C,M);const D=new c.C(C,{now:M,fadeDuration:f,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),B=D.crossFadingFactor();B===1&&B===this._crossFadingFactor||(y=!0,this._crossFadingFactor=B),this.style.update(D)}const v=((i=this.style.projection)===null||i===void 0?void 0:i.transitionState)>0!==_;(o=this.style.projection)===null||o===void 0||o.setErrorQueryLatitudeDegrees(this.transform.center.lat),this.transform.setTransitionState((a=this.style.projection)===null||a===void 0?void 0:a.transitionState,(h=this.style.projection)===null||h===void 0?void 0:h.latitudeErrorCorrectionRadians),this.style&&(this._sourcesDirty||v)&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),!this._elevationFreeze&&this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0)),this._placementDirty=this.style&&this.style._updatePlacement(this.transform,this.showCollisionBoxes,f,this._crossSourceCollisions,v),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:f,showPadding:this.showPadding}),this.fire(new c.l("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,c.cj.mark(c.ck.load),this.fire(new c.l("load"))),this.style&&(this.style.hasTransitions()||y)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const T=this._sourcesDirty||this._styleDirty||this._placementDirty;return T||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new c.l("idle")),!this._loaded||this._fullyLoaded||T||(this._fullyLoaded=!0,c.cj.mark(c.ck.fullLoad)),this}redraw(){return this.style&&(this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._render(0)),this}remove(){var u;this._hash&&this._hash.remove();for(const i of this._controls)i.onRemove(this);this._controls=[],this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),Lt.removeThrottleControl(this._imageQueueHandle),(u=this._resizeObserver)===null||u===void 0||u.disconnect();const e=this.painter.context.gl.getExtension("WEBGL_lose_context");e!=null&&e.loseContext&&e.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),he.remove(this._canvasContainer),he.remove(this._controlContainer),this._container.removeEventListener("scroll",this._onMapScroll,!1),this._container.classList.remove("maplibregl-map"),c.cj.clearMetrics(),this._removed=!0,this.fire(new c.l("remove"))}triggerRepaint(){this.style&&!this._frameRequest&&(this._frameRequest=new AbortController,Ve.frame(this._frameRequest,u=>{c.cj.frame(u),this._frameRequest=null;try{this._render(u)}catch(e){if(!c.cl(e)&&!function(i){return i.message===Xl}(e))throw e}},()=>{}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(u){this._showTileBoundaries!==u&&(this._showTileBoundaries=u,this._update())}get showPadding(){return!!this._showPadding}set showPadding(u){this._showPadding!==u&&(this._showPadding=u,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(u){this._showCollisionBoxes!==u&&(this._showCollisionBoxes=u,u?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(u){this._showOverdrawInspector!==u&&(this._showOverdrawInspector=u,this._update())}get repaint(){return!!this._repaint}set repaint(u){this._repaint!==u&&(this._repaint=u,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(u){this._vertices=u,this._update()}get version(){return Zt}getCameraTargetElevation(){return this.transform.elevation}getProjection(){return this.style.getProjection()}setProjection(u){return this._lazyInitEmptyStyle(),this.style.setProjection(u),this._update(!0)}},P.MapMouseEvent=Ti,P.MapTouchEvent=hs,P.MapWheelEvent=Ki,P.Marker=Cn,P.NavigationControl=class{constructor(u){this._updateZoomButtons=()=>{const e=this._map.getZoom(),i=e===this._map.getMaxZoom(),o=e===this._map.getMinZoom();this._zoomInButton.disabled=i,this._zoomOutButton.disabled=o,this._zoomInButton.setAttribute("aria-disabled",i.toString()),this._zoomOutButton.setAttribute("aria-disabled",o.toString())},this._rotateCompassArrow=()=>{this._compassIcon.style.transform=this.options.visualizePitch&&this.options.visualizeRoll?`scale(${1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5)}) rotateZ(${-this._map.transform.roll}deg) rotateX(${this._map.transform.pitch}deg) rotateZ(${-this._map.transform.bearing}deg)`:this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${-this._map.transform.bearing}deg)`:this.options.visualizeRoll?`rotate(${-this._map.transform.bearing-this._map.transform.roll}deg)`:`rotate(${-this._map.transform.bearing}deg)`},this._setButtonTitle=(e,i)=>{const o=this._map._getUIString(`NavigationControl.${i}`);e.title=o,e.setAttribute("aria-label",o)},this.options=c.e({},mc,u),this._container=he.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",e=>e.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",e=>this._map.zoomIn({},{originalEvent:e})),he.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",e=>this._map.zoomOut({},{originalEvent:e})),he.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",e=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:e}):this._map.resetNorth({},{originalEvent:e})}),this._compassIcon=he.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(u){return this._map=u,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.on("roll",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Hs(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){he.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.off("roll",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(u,e){const i=he.create("button",u,this._container);return i.type="button",i.addEventListener("click",e),i}},P.Popup=class extends c.E{constructor(u){super(),this._updateOpacity=()=>{this.options.locationOccludedOpacity!==void 0&&(this._container.style.opacity=this._map.transform.isLocationOccluded(this.getLngLat())?`${this.options.locationOccludedOpacity}`:void 0)},this.remove=()=>(this._content&&he.remove(this._content),this._container&&(he.remove(this._container),delete this._container),this._closeButton&&this._closeButton.removeEventListener("click",this._onClose),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),this._map._canvasContainer.classList.remove("maplibregl-track-pointer"),delete this._map,this.fire(new c.l("close"))),this),this._onMouseUp=e=>{this._update(e.point)},this._onMouseMove=e=>{this._update(e.point)},this._onDrag=e=>{this._update(e.point)},this._update=e=>{var i;if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=he.create("div","maplibregl-popup",this._map.getContainer()),this._tip=he.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const _ of this.options.className.split(" "))this._container.classList.add(_);this._closeButton&&this._closeButton.setAttribute("aria-label",this._map._getUIString("Popup.Close")),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._lngLat=this._map.transform.renderWorldCopies&&!this._trackPointer?jo(this._lngLat,this._flatPos,this._map.transform):(i=this._lngLat)===null||i===void 0?void 0:i.wrap(),this._trackPointer&&!e)return;const o=this._flatPos=this._pos=this._trackPointer&&e?e:this._map.project(this._lngLat);this._map.terrain&&(this._flatPos=this._trackPointer&&e?e:this._map.transform.locationToScreenPoint(this._lngLat));let a=this.options.anchor;const h=Ks(this.options.offset);if(!a){const _=this._container.offsetWidth,y=this._container.offsetHeight;let v;v=o.y+h.bottom.y<y?["top"]:o.y>this._map.transform.height-y?["bottom"]:[],o.x<_/2?v.push("left"):o.x>this._map.transform.width-_/2&&v.push("right"),a=v.length===0?"bottom":v.join("-")}let f=o.add(h[a]);this.options.subpixelPositioning||(f=f.round()),he.setTransform(this._container,`${Ws[a]} translate(${f.x}px,${f.y}px)`),No(this._container,a,"popup"),this._updateOpacity()},this._onClose=()=>{this.remove()},this.options=c.e(Object.create(Ga),u)}addTo(u){return this._map&&this.remove(),this._map=u,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new c.l("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(u){return this._lngLat=c.Q.convert(u),this._pos=null,this._flatPos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._flatPos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(u){return this.setDOMContent(document.createTextNode(u))}setHTML(u){const e=document.createDocumentFragment(),i=document.createElement("body");let o;for(i.innerHTML=u;o=i.firstChild,o;)e.appendChild(o);return this.setDOMContent(e)}getMaxWidth(){var u;return(u=this._container)===null||u===void 0?void 0:u.style.maxWidth}setMaxWidth(u){return this.options.maxWidth=u,this._update(),this}setDOMContent(u){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=he.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(u),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(u){return this._container&&this._container.classList.add(u),this}removeClassName(u){return this._container&&this._container.classList.remove(u),this}setOffset(u){return this.options.offset=u,this._update(),this}toggleClassName(u){if(this._container)return this._container.classList.toggle(u)}setSubpixelPositioning(u){this.options.subpixelPositioning=u}_createCloseButton(){this.options.closeButton&&(this._closeButton=he.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const u=this._container.querySelector(qa);u&&u.focus()}},P.RasterDEMTileSource=Vr,P.RasterTileSource=Ji,P.ScaleControl=class{constructor(u){this._onMove=()=>{Vo(this._map,this._container,this.options)},this.setUnit=e=>{this.options.unit=e,Vo(this._map,this._container,this.options)},this.options=Object.assign(Object.assign({},$a),u)}getDefaultPosition(){return"bottom-left"}onAdd(u){return this._map=u,this._container=he.create("div","maplibregl-ctrl maplibregl-ctrl-scale",u.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){he.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},P.ScrollZoomHandler=dc,P.Style=Jn,P.TerrainControl=class{constructor(u){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.Disable")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.Enable"))},this.options=u}onAdd(u){return this._map=u,this._container=he.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=he.create("button","maplibregl-ctrl-terrain",this._container),he.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){he.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},P.TwoFingersTouchPitchHandler=hc,P.TwoFingersTouchRotateHandler=uc,P.TwoFingersTouchZoomHandler=ct,P.TwoFingersTouchZoomRotateHandler=Zs,P.VectorTileSource=pn,P.VideoSource=er,P.addSourceType=(u,e)=>c._(void 0,void 0,void 0,function*(){if(ws(u))throw new Error(`A source type called "${u}" already exists.`);((i,o)=>{On[i]=o})(u,e)}),P.clearPrewarmedResources=function(){const u=Gi;u&&(u.isPreloaded()&&u.numActive()===1?(u.release(Fn),Gi=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},P.createTileMesh=uo,P.getMaxParallelImageRequests=function(){return c.a.MAX_PARALLEL_IMAGE_REQUESTS},P.getRTLTextPluginStatus=function(){return wr().getRTLTextPluginStatus()},P.getVersion=function(){return Ha},P.getWorkerCount=function(){return hr.workerCount},P.getWorkerUrl=function(){return c.a.WORKER_URL},P.importScriptInWorkers=function(u){return hn().broadcast("IS",u)},P.prewarm=function(){cn().acquire(Fn)},P.setMaxParallelImageRequests=function(u){c.a.MAX_PARALLEL_IMAGE_REQUESTS=u},P.setRTLTextPlugin=function(u,e){return wr().setRTLTextPlugin(u,e)},P.setWorkerCount=function(u){hr.workerCount=u},P.setWorkerUrl=function(u){c.a.WORKER_URL=u}});var ae=V;return ae})}(jc)),jc.exports}var ng=rg();const sg=tg(ng);function og(){document.querySelector(".map__loader").remove()}function ag(S){return S.map(R=>{if(!R.Map)return console.warn("Missing Map data for country:",R),null;const V=R.Map.split(",").filter(U=>U.trim()!=="");if(V.length>=4){const[U,J]=V,ae=parseFloat(U),P=parseFloat(J),c=V[V.length-2],Ne=V[V.length-1];let De=null;if(R.MainImage&&R.MainImage.length>0?De=R.MainImage[0].Url:console.warn("Missing MainImage for country:",R),!isNaN(ae)&&!isNaN(P))return{type:"Feature",properties:{countryName:c,isoCode:Ne,FullTitle:R.FullTitle,Title:R.Title,Teaser:R.Teaser,ItemDefaultUrl:R.ItemDefaultUrl,ExternalUrl:R.ExternalUrl,imageUrl:De},geometry:{type:"Point",coordinates:[P,ae]}}}return null}).filter(R=>R!==null)}function lg(S){S.on("mouseenter","clusters",()=>{S.getCanvas().style.cursor="pointer"}),S.on("mouseleave","clusters",()=>{S.getCanvas().style.cursor=""}),S.on("mouseenter","unclustered-point",()=>{S.getCanvas().style.cursor="pointer"}),S.on("mouseleave","unclustered-point",()=>{S.getCanvas().style.cursor=""})}function cg(S,R){S.addSource("countries",{type:"geojson",data:{type:"FeatureCollection",features:R},cluster:!0,clusterMaxZoom:8,clusterRadius:50})}function ug(S,R){S.addSource("spread-points",{type:"geojson",data:{type:"FeatureCollection",features:R}})}function hg(S,R){S.addSource("spread-lines",{type:"geojson",data:{type:"FeatureCollection",features:R}})}function dg(S){S.addLayer({id:"clusters",type:"circle",source:"countries",filter:["has","point_count"],paint:{"circle-color":["step",["get","point_count"],"#116AAB",100,"#116AAB",750,"#116AAB"],"circle-radius":["step",["get","point_count"],20,10,25,15,30],"circle-opacity":["interpolate",["linear"],["abs",["get","lat"]],0,1,70,0]}})}function pg(S){S.addLayer({id:"cluster-count",type:"symbol",source:"countries",filter:["has","point_count"],layout:{"text-field":"{point_count_abbreviated}","text-font":["open-sans-regular"],"text-size":14,"text-allow-overlap":!0,"text-ignore-placement":!0},paint:{"text-color":"#ffffff","text-halo-color":"#ffffff","text-halo-width":.2}})}function fg(S){S.addLayer({id:"unclustered-point",type:"circle",source:"countries",filter:["!",["has","point_count"]],paint:{"circle-color":"#116AAB","circle-radius":5,"circle-stroke-width":1,"circle-stroke-color":"#fff"}})}function mg(S){S.addLayer({id:"spread-points",type:"circle",source:"spread-points",paint:{"circle-color":"#116AAB","circle-radius":5,"circle-stroke-width":1,"circle-stroke-color":"#fff"}})}function _g(S){S.addLayer({id:"spread-lines",type:"line",source:"spread-lines",paint:{"line-color":"#116AAB","line-width":1,"line-opacity":.5}})}function mp(S,R){const V=document.querySelector(".map-modal"),U=document.querySelector(".map-modal__content"),J=document.querySelector(".map-modal__btn-close");S.on("click",R,ae=>{const{countryName:P,isoCode:c,Title:Ne,Teaser:De,ItemDefaultUrl:Fe,ExternalUrl:qe,imageUrl:Ve}=ae.features[0].properties;V.classList.add("in"),U.innerHTML=`
            ${Ve?`<img class="map-modal__img" src="${Ve}" alt="${P}" />`:'<div class="map-modal__img"></div>'}
            <div class="map-modal__text">
                <h3 class="map-modal__country">${P}</h3>
                <h5 class="map-modal__title">${Ne}</h5>
                <p class="map-modal__teaser">${De}</p>
                ${qe?`<a class="btn btn-secondary btn-icon btn-sm" href="${qe}" target="_blank" style="margin-right: 1rem;" target="_self">  Read more<i class="bi bi-chevron-right"></i> </a>`:`<a class="btn btn-secondary btn-icon btn-sm" href="https://www.fao.org/giahs/around-the-world/detail/${Fe}/en/" target="_blank" style="margin-right: 1rem;" target="_self">  Read more<i class="bi bi-chevron-right"></i> </a>`}
            </div>
        `}),V.addEventListener("click",ae=>{ae.target===V&&V.classList.remove("in")}),J.addEventListener("click",()=>{V.classList.remove("in")})}const _p="https://www.fao.org",gg="https://server.arcgisonline.com/ArcGIS/rest/services/Ocean/World_Ocean_Base/MapServer/tile/{z}/{y}/{x}";setTimeout(()=>{const S=new sg.Map({container:"map",style:{version:8,glyphs:"https://www.fao.org/media/docs/homepagelibraries/fonts-giahs-map/{fontstack}/{range}.pbf",sources:{"raster-tiles":{type:"raster",tiles:[gg],tileSize:256,attribution:"© FAO"}},layers:[{id:"simple-tiles",type:"raster",source:"raster-tiles",minzoom:0,maxzoom:22}]},center:[104.08683128895025,35.98895214677525],zoom:2.5,maxZoom:7,minZoom:2.5});S.scrollZoom.disable(),document.getElementById("zoom-in").addEventListener("click",()=>{S.zoomIn(),console.log(S.getZoom())}),document.getElementById("zoom-out").addEventListener("click",()=>{S.zoomOut(),console.log(S.getZoom())}),S.on("style.load",()=>{S.setProjection({type:"globe"})}),S.on("load",()=>{Promise.all([ti.get(`${_p}/api/default/faoprojects?sf_site=94b2bfbf-5857-44a9-b97b-57f36e5d1ab8&$expand=MainImage&$skip=0&$top=100&sf_culture=en`),ti.get(`${_p}/api/default/faoprojects?sf_site=94b2bfbf-5857-44a9-b97b-57f36e5d1ab8&$expand=MainImage&$skip=100&$top=100&sf_culture=en`)]).then(([U,J])=>{og();const ae=[...U.data.value,...J.data.value],P=ag(ae);cg(S,P),dg(S),pg(S),fg(S),mp(S,"unclustered-point"),R(),lg(S)}).catch(U=>{console.error("Error fetching data:",U)})});function R(){S.on("click","clusters",async U=>{const J=S.queryRenderedFeatures(U.point,{layers:["clusters"]}),ae=J[0].properties.cluster_id,P=await S.getSource("countries").getClusterExpansionZoom(ae),Ne=await S.getSource("countries").getClusterLeaves(ae,100,0);S.getZoom()>=S.getMaxZoom()&&Ne.length>1&&V(J,Ne,ae),S.easeTo({center:J[0].geometry.coordinates,zoom:P+.05})})}function V(U,J,ae){S.setLayoutProperty("clusters","visibility","visible"),S.setLayoutProperty("cluster-count","visibility","visible");const P=U[0].geometry.coordinates,c=J.map((De,Fe)=>{const qe=Fe/J.length*Math.PI*2,Ve=.1,he=P[0]+Math.cos(qe)*Ve,Ae=P[1]+Math.sin(qe)*Ve;return{type:"Feature",properties:De.properties,geometry:{type:"Point",coordinates:[he,Ae]}}});S.getLayer("spread-points")&&S.removeLayer("spread-points"),S.getSource("spread-points")&&S.removeSource("spread-points"),S.getLayer("spread-lines")&&S.removeLayer("spread-lines"),S.getSource("spread-lines")&&S.removeSource("spread-lines"),ug(S,c),mg(S),mp(S,"spread-points");const Ne=c.map(De=>({type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[P,De.geometry.coordinates]}}));hg(S,Ne),_g(S),S.setFilter("clusters",["!=","cluster_id",ae]),S.setFilter("cluster-count",["!=","cluster_id",ae]),S.on("mouseenter","spread-points",()=>{S.getCanvas().style.cursor="pointer"}),S.on("mouseleave","spread-points",()=>{S.getCanvas().style.cursor=""})}S.on("zoomend",async()=>{S.getZoom()<S.getMaxZoom()&&(S.getLayer("spread-points")&&S.removeLayer("spread-points"),S.getLayer("spread-lines")&&S.removeLayer("spread-lines"),S.getSource("spread-points")&&S.removeSource("spread-points"),S.getSource("spread-lines")&&S.removeSource("spread-lines"),S.setFilter("clusters",null),S.setFilter("cluster-count",null),S.setLayoutProperty("clusters","visibility","visible"),S.setLayoutProperty("cluster-count","visibility","visible"))})},"1000");

</script><link rel="canonical" href="https://www.fao.org/home/en" /><script type="application/json" id="sf-insight-metadata">
	{"contentMetadata":"{\"Id\":\"c001685a-7a7c-41e4-95b2-71ae843e8227\",\"ContentType\":\"Page\",\"Title\":\"Home\",\"CanonicalTitle\":\"Home\",\"CanonicalUrl\":\"https://www.fao.org/home/en\",\"Language\":\"en\",\"CreatedOn\":\"2021-06-14T08:42:12Z\",\"ModifiedOn\":\"2025-09-26T07:29:51.813Z\",\"SiteId\":\"56697a72-8075-4151-af72-8d70f25ab81b\",\"SiteName\":\"FAOHome\",\"PageId\":\"c001685a-7a7c-41e4-95b2-71ae843e8227\"}","videosMetadata":"[]"}
</script><script type="application/json" id="sf-insight-settings">
	{"apiServerUrl":"https://nl-api.insight.sitefinity.com","apiKey":"809d83af-d9fd-a484-f0d9-1cecdf4742c7","applicationName":"Website","trackingCookieDomain":"","keepDecTrackingCookieOnTrackingConsentRejection":false,"slidingExpirationForTrackingCookie":false,"maxAgeForTrackingCookieInDays":365,"trackYouTubeVideos":true,"crossDomainTrackingEntries":["www.fao.org/in-action/redspaa","www.fao.org/in-action/sustainable-aquaculture-partnership","www.fao.org/cfs/cfs-hlpe","www.fao.org/aphca","www.fao.org/employment","www.fao.org/communication-for-development","www.fao.org/aprc36-dialogue","www.fao.org/africa","www.fao.org/gef","www.fao.org/in-action/fao-campus","www.fao.org/in-action/integrated-monitoring-initiative-sdg6","www.fao.org/gift-individual-food-consumption","www.fao.org/forestry","www.fao.org/cofi/fish-trade","www.fao.org/jefca-toolbox-veterinary-drugs-assessment","www.fao.org/technical-cooperation-programme","sfcs.fao.org/office-of-sustainable-development-goals","www.fao.org/ectad/asiapacific","www.fao.org/evaluation","www.fao.org/oman","www.fao.org/food-labelling","www.fao.org/gcf","www.fao.org/poultry-production-products","www.fao.org/forestry/firemanagement","www.fao.org/ectad","www.fao.org/ecosystem-restoration-monitoring","www.fao.org/eifaac","www.fao.org/markets-and-trade","www.fao.org/world-food-day","www.fao.org/platforms/green-agriculture","www.fao.org/plant-health-day","www.fao.org/cameroun","www.fao.org/evidence-platform-agri-food-systems-nutrition","www.fao.org/in-action/blue-ports-initiative","www.fao.org/cambodia","www.fao.org/europe","www.fao.org/partnerships/academia","www.fao.org/about/strategy-programme-budget","www.fao.org/test-ffoa","www.fao.org/biotechnology","www.fao.org/aid-monitor","www.fao.org/world-census-agriculture","www.fao.org/syria","www.fao.org/in-action/social-protection-for-fisheries-and-aquaculture","www.fao.org/in-action/saga","www.fao.org/flexible-voluntary-contribution","www.fao.org/camelids-2024","www.fao.org/measuring-hunger","www.fao.org/partnerships/livestock-dialogue","fao.org/in-action/drought-portal","www.fao.org/mountain-partnership","www.fao.org/forestry/statistics","www.fao.org/good-hygiene-practices-haccp-toolbox","www.fao.org/in-action/eu-streit-png","www.fao.org/in-action/fish-aquatic-food-school-meals","fao.org/in-action/action-against-desertification","www.fao.org/2019-ncov","www.fao.org/animal-production","www.fao.org/world-bee-day","www.fao.org/climate-change/knowledge-hub","www.fao.org/in-action/mafap","www.fao.org/social-protection","www.fao.org/platform-food-loss-waste/food-loss/fao-flapp","www.fao.org/plant-production-protection","www.fao.org/europeanunion","www.fao.org/world-cotton-day","www.fao.org/silva-mediterranea","www.fao.org/digital-villages-initiative/europe","www.fao.org/niger","www.fao.org/plant-treaty","www.fao.org/platforms/school-food","www.fao.org/agriculture/fao-iaea-nuclear-techniques","www.fao.org/americas/publicaciones/panorama","www.fao.org/digital-villages-initiative/africa","www.fao.org/cote-divoire","www.fao.org/member-countries","www.fao.org/ccp","fao.org/swiofc","www.fao.org/platforms/afras","www.fao.org/in-action/building-forward-better","www.fao.org/publications/library","www.fao.org/ethics","www.fao.org/in-action/developpement-agricole-acces-marche-padaam","www.fao.org/newsroom","fao.org/uganda","www.fao.org/contact-us","www.fao.org/platforms/family-farming","www.fao.org/gender","www.fao.org/event/world-forestry-congress","www.fao.org/iraq","www.fao.org/platform-food-loss-waste/regions/neareast","www.fao.org/food-agriculture-microdata","www.fao.org/in-action/south-south-digital-transformation-innovation","www.fao.org/cgrfa","www.fao.org/locust-watch","www.fao.org/fish4acp","www.fao.org/fishery-divisional-structure","www.fao.org/pollination","www.fao.org/in-action/mercados-tradicionales-alimentos","www.fao.org/forestry/pests","www.fao.org/arc32-dialogue","www.fao.org/in-focus","www.fao.org/in-action/scalewat","www.unfoodsystemshub.org","www.fao.org/in-action/commonoceans","www.fao.org/sustainable-development-goals-data-portal","www.fao.org/in-action/remote-sensing-for-water-productivity","www.fao.org/in-action/tropical-agriculture-platform","www.fao.org/partnerships/leap","www.fao.org/forestry/food-security","www.fao.org/in-action/resilient-caribbean-initiative","www.fao.org/multimedia","www.fao.org/senegal","www.fao.org/in-action/scala","www.fao.org/in-action/central-asian-animal-health-network","www.fao.org/arc33-dialogue","www.fao.org/in-action/sepal","www.fao.org/giahs","www.fao.org/platforms/common-practices","www.fao.org/policy-support","www.fao.org/platform-food-loss-waste","www.fao.org/livestock-environment","www.fao.org/transparency","www.fao.org/about/who-we-are/departments/food-nutrition-division","www.fao.org/gaez","youth.world-food-forum.org","www.fao.org/coag","www.fao.org/cofi/fish-management","www.fao.org/forestry/nwfp","www.fao.org/russian-federation","www.fao.org/themes","www.fao.org/newsroom/fao-blog","www.fao.org/green-cities-initiative","www.fao.org/gambia","www.fao.org/fao-office-climate-change-biodiversity-environment","www.fao.org/world-water-day","www.fao.org/aprc37-dialogue","www.fao.org/cofi","www.fao.org/hand-in-hand","www.fao.org/sids-solutions","www.fao.org/new-york","www.fao.org/serbia","www.fao.org/director-general","www.fao.org/science-technology-and-innovation","www.fao.org/transboundary-plant-pests-diseases","www.fao.org/codex-food-standards-zoonotic-diseases","www.fao.org/in-action/global-network-digital-agriculture-innovation-hubs","www.fao.org/in-action/enhancing-land-consolidation","www.fao.org/in-action/eaf-nansen","www.fao.org/brussels","www.fao.org/ipoa-seabirds","www.fao.org/platforms/water-scarcity","www.fao.org/eswatini","www.fao.org/in-action/aquatic-health-management-biosecurity","www.fao.org/audit-and-investigations","www.fao.org/iran","www.fao.org/joint-programme-gender-transformative-approaches","www.fao.org/kenya","www.fao.org/algeria","www.fao.org/animal-health","www.fao.org/in-action/globefish","www.fao.org/food-systems","www.fao.org/in-action/agrisurvey","www.fao.org/liberia","sfcs.fao.org/coag-livestock","www.fao.org/about/regular-programme-country-contributions","www.fao.org/agriculture/animal-production-and-health","www.fao.org/republic-of-korea","www.fao.org/mozambique","www.fao.org/in-action/global-strategy-agricultural-statistics","www.fao.org/partnerships/fire-hub","www.fao.org/in-action/forest-landscape-restoration-mechanism","www.fao.org/blog/afghanistan-diaries","www.fao.org/pastoralist-knowledge-hub","www.fao.org/hungary","www.fao.org/datalab","www.fao.org/genetic-resources","www.fao.org/platform-food-loss-waste/regions/reu","www.fao.org/family-farming-engagement","www.fao.org/in-action/forest-landscape-restoration-asia","www.fao.org/about","www.fao.org/seeds","fao.org/rwanda","www.fao.org/north-macedonia","www.fao.org/apfic","www.fao.org/digital-villages-initiative","www.fao.org/statistics/caliper","www.fao.org/asfa","www.fao.org/rural-employment","www.fao.org/digital-villages-initiative/asia-pacific","www.fao.org/food-coalition","www.fao.org/geographical-indications","fao.org/benin","www.fao.org/in-action/redd-rbp-argentina","www.fao.org/namibia","www.fao.org/home","www.fao.org/china","www.fao.org/partnerships/resource-partners","www.fao.org/in-action/sustainable-fisheries-aquaculture-mediterranean","www.fao.org/publications","www.fao.org/inclusivity-in-agrifood-systems","www.fao.org/aquacrop","www.fao.org/jordan","www.fao.org/japan","www.fao.org/fao-awards","www.fao.org/chile","www.fao.org/estotems","www.fao.org/in-action/farmers-organization-africa-caribbean-pacific","www.fao.org/el-nino","www.fao.org/in-action/aim4forests","www.fao.org/museum-network","www.fao.org/in-action/pesticides-central-asia","www.fao.org/indigenous-peoples","www.fao.org/united-arab-emirates","www.fao.org/biodiversity","www.fao.org/in-action/water-for-nutrition","www.fao.org/international-tea-day","www.fao.org/gender/americas","www.fao.org/investment-centre","www.fao.org/urban-peri-urban-agriculture","www.fao.org/sustainability","www.fao.org/energy","www.fao.org/documents","www.fao.org/argentina","www.fao.org/childlabouragriculture","www.fao.org/maroc","www.fao.org/climate-change","www.fao.org/collaborative-partnership-on-forests","www.fao.org/emergencies","www.fao.org/nobel-for-foodsecurity-peace","www.fao.org/hih-geospatial-platform","www.fao.org/in-action/climate-empowerment-for-ndcs","www.fao.org/responsible-business-conduct-in-agriculture","www.fao.org/in-action/rural-livelihoods-dataset-rulis","www.fao.org/mongolia","www.fao.org/governing-bodies","www.fao.org/in-action/climate-change-transparency","www.fao.org/forest-resources-assessment","www.fao.org/regional-sofi","www.fao.org/in-action/swm-programme","www.fao.org/in-action/global-bioenergy-partnership","www.fao.org/rural-youth","www.fao.org/protection-sexual-exploitation-and-abuse-psea","www.fao.org/transparent-supply-chains","www.fao.org/about/fao-unoc-series","www.fao.org/forests","www.world-food-forum.org","www.fao.org/one-country-one-priority-product","www.fao.org/in-action/think-pa","www.fao.org/events","www.fao.org/statistics","www.fao.org/gfoi","www.fao.org/armenia","www.fao.org/office-of-innovation","www.fao.org/bhutan","www.fao.org/wasag","fao.org/turkiye","www.fao.org/fao-italy","www.fao.org/voluntary-guidelines-small-scale-fisheries","www.fao.org/in-action/openforis","www.fao.org/international-day-of-forests","www.fao.org/seeds-to-foods","www.fao.org/guidelines-sustainable-aquaculture","www.fao.org/in-action/dryland-sustainable-landscapes","www.fao.org/sustainable-development-goals-helpdesk","www.fao.org/geospatial","www.fao.org/in-action/afr100","www.fao.org/environmental-social-safeguards","www.fao.org/angola","www.fao.org/in-action/agricultural-science-and-technology-indicators","www.fao.org/digital-services","www.fao.org/zambia","www.fao.org/forest-monitoring","www.fao.org/panama","www.fao.org/socioeconomic-research-analysis","www.fao.org/about/eg-on-food-security-nutrition-data-statistics","www.fao.org/agroinformatics","www.fao.org/right-to-food","www.fao.org/lebanon","www.fao.org/desertification-and-drought-day","www.fao.org/corporatepage","www.fao.org/one-health","www.fao.org/north-america","www.fao.org/migration","www.fao.org/egypt","www.fao.org/millets-2023","www.fao.org/asiapacific","www.fao.org/food-agriculture-sustainable-transformation-partnership","www.fao.org/about/fao-in-review","www.fao.org/about/visit-us","www.fao.org/communications","www.fao.org/forestry/sfm","www.fao.org/in-action/forest-data-partnership","www.fao.org/in-action/canary-current-lme","www.fao.org/nepal","www.fao.org/worldfoodsituation","www.fao.org/in-action/boosting-transparency-forest-data","www.fao.org/sustainable-gastronomy-day","www.fao.org/partnerships/fao-un-system","www.fao.org/indonesia","www.fao.org/americas","www.fao.org/world-pulses-day","www.fao.org/partnerships/healthy-diets-coalition","sfcs.fao.org/forestry/mangrove","www.fao.org/prices","www.fao.org/dairy-production-products","www.fao.org/in-action/eostat","www.fao.org/neareast","www.fao.org/geneva","www.fao.org/hunger","www.fao.org/campaign","www.fao.org/markets-and-trade/corporate","www.fao.org/agroforestry","www.fao.org/in-action/enteric-methane","www.fao.org/in-action/indonesian-seas-large-marine-ecosystem","www.fao.org/international-potato-day","www.fao.org/strategic-framework","www.fao.org/cofi/aquaculture"],"strategy":"Persist|False","docsHrefTestExpressions":[".*\\/docs\\/.+\\.{1}.+((\\?|\\\u0026)sfvrsn=.+){1}$",".+((\\?|\\\u0026)sf_dm_key=.+){1}$"],"sessionLengthInMinutes":30,"trackVimeoVideos":true,"useSecureCookies":true}
</script><script type="text/javascript" src="/WebResource.axd?d=HtQyXelCu6mzSPcVcvK_BhLwAkuC9t5TYaBV11a0cHh0IhdhSdfYL1cMo4yUQgqYBmnTC8bAkgxzpTnmSrBknjeNIKIBRUjeHTgYBbsvtj8vF4zb-e_KjKPth6ehdBW3qQH244ykhZSQ7OBfn3wupYkhsgi3STMs3w8gCLKj-AnZVsto12IouToKcLIAc0eYh8KLFWJYLVKLEsXRkC_FGaZxzLllPdKq1twUvbf5RZ41&amp;t=638875725340000000">

</script><script src="https://cdn.insight.sitefinity.com/sdk/sitefinity-insight-client.min.3.1.44.js" crossorigin="" async="async">

</script><meta property="twitter:title" content="Home | Food and Agriculture Organization of the United Nations" /><meta property="description" content="FAO Home page." /><meta property="og:description" content="FAO Home page." /><meta property="twitter:description" content="FAO Home page." /><meta property="og:image" content="https://www.fao.org/ResourcePackages/FAO/assets/dist/img/FAO-logo.JPG" /><meta property="twitter:image:src" content="https://www.fao.org/ResourcePackages/FAO/assets/dist/img/FAO-logo.JPG" /><meta property="twitter:image" content="https://www.fao.org/ResourcePackages/FAO/assets/dist/img/FAO-logo.JPG" /><meta property="og:image:type" content="image/" /><meta property="og:image:width" content="1862" /><meta property="og:image:height" content="992" /><meta property="og:image:secure_url" content="https://www.fao.org/ResourcePackages/FAO/assets/dist/img/FAO-logo.JPG" /><meta property="og:image:url" content="https://www.fao.org/ResourcePackages/FAO/assets/dist/img/FAO-logo.JPG" /><meta property="twitter:card" content="summary_large_image" /><meta property="twitter:site" content="@FAO" /><meta property="twitter:creator" content="@FAO" /><meta property="twitter:account_id" content="19649135" /><link rel="alternate" href="https://www.fao.org/home/ar" hreflang="ar" /><link rel="alternate" href="https://www.fao.org/home/zh" hreflang="zh" /><link rel="alternate" href="https://www.fao.org/home/fr" hreflang="fr" /><link rel="alternate" href="https://www.fao.org/home/ru" hreflang="ru" /><link rel="alternate" href="https://www.fao.org/home/es" hreflang="es" /><meta name="description" content="FAO Home page." /></head> <body>  <div> 





<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NHPTQQS"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript> 
<!-- End Google Tag Manager (noscript) --><header class="fao-header corporate-header" data-page-edit-prevent="true">
    <div class="container">
        <div class="row">
            <div class="header-wrapper col-12">
                <div id="Contentplaceholder1_T78DBE6AB022_Col00" class="sf_colsIn fao-header-left" data-sf-element="Header Left" data-placeholder-label="Header Left">
<div >
    <div class="sfContentBlock sf-Long-text" ><a href="https://www.fao.org"><img src="/images/corporatelibraries/fao-logo/fao-logo-en.svg?sfvrsn=f64522b4_36" title="Food and Agriculture Organization of the United Nations" data-displaymode="Original" alt="Food and Agriculture Organization of the United Nations" class="header-fao-logo"></a></div>
</div>
                </div>
                <div id="Contentplaceholder1_T78DBE6AB022_Col01" class="sf_colsIn fao-header-right" data-sf-element="Header Right" data-placeholder-label="Header Right">
<div class="dropdown discover-dropdown">
    <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownDiscoverMenu" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        Discover
    </button>
    <div class="dropdown-menu" aria-labelledby="dropdownDiscoverMenu">
            <a class="dropdown-item" href="http://www.fao.org/about/en/" target="_self">About FAO</a>
            <a class="dropdown-item" href="http://www.fao.org/in-action/en/" target="_self">In action</a>
            <a class="dropdown-item" href="http://www.fao.org/news/en/" target="_self">Media</a>
            <a class="dropdown-item" href="http://www.fao.org/themes/en/" target="_self">Main topics</a>
            <a class="dropdown-item" href="http://www.fao.org/statistics/en/" target="_self">Resources</a>
            <a class="dropdown-item" href="http://www.fao.org/countryprofiles/en/" target="_self">Member countries</a>
            <a class="dropdown-item" href="http://www.fao.org/partnerships/en/" target="_self">Get involved</a>
    </div>
</div>


<div class="dropdown language-switch" aria-label="Change Language" role="menu">
        <button role="menuitem" class="btn btn-secondary dropdown-toggle" type="button" id="dropdownLanguageMenu" data-bs-toggle="dropdown" aria-label="ENGLISH" aria-haspopup="true" aria-expanded="false">
            English
        </button>
        <div class="dropdown-menu" id="faoLanguageSelector" aria-labelledby="dropdownLanguageMenu">
                    <a role="menuitem" class="dropdown-item" data-sf-culture="ar" href=""  aria-label="العربية" onclick="openLink('ar'); return false;">العربية</a>
                    <a role="menuitem" class="dropdown-item" data-sf-culture="zh" href=""  aria-label="中文" onclick="openLink('zh'); return false;">中文</a>
                    <a role="menuitem" class="dropdown-item" data-sf-culture="fr" href=""  aria-label="Fran&#231;ais" onclick="openLink('fr'); return false;">Fran&#231;ais</a>
                    <a role="menuitem" class="dropdown-item" data-sf-culture="ru" href=""  aria-label="Русский" onclick="openLink('ru'); return false;">Русский</a>
                    <a role="menuitem" class="dropdown-item" data-sf-culture="es" href=""  aria-label="Espa&#241;ol" onclick="openLink('es'); return false;">Espa&#241;ol</a>
        </div>
</div>



<script type="text/javascript">

    document.onreadystatechange = function () {
        if (document.readyState == "interactive") {
            initializeLanguageSelector();
        }
    }

</script>
<div >
    <div class="sfContentBlock sf-Long-text" ><div class="header-icons"><a href="#" data-bs-toggle="modal" data-bs-target="#shareModal" data-sf-ec-immutable="" aria-label="Share"><em class="bi bi-share-fill"></em></a>
 <a data-bs-toggle="collapse" href="#collapseSearchBox" data-sf-ec-immutable="" aria-label="Search"><em class="bi bi-search"></em></a>
</div></div>
</div>

                </div>
            </div>
        </div>
        <div class="row">
            <div id="Contentplaceholder1_T78DBE6AB022_Col02" class="sf_colsIn col-12" data-sf-element="Header Bottom" data-placeholder-label="Header Bottom">



<div class="collapse" id="collapseSearchBox">
    <div class="search-container search-results-container">
        <div class="gcse-searchbox-only" data-resultsUrl="https://www.fao.org/home/search/en/"></div>
    </div>
</div>
            </div>
        </div>
    </div>
    <div class="navBarContainer">
        <div id="Contentplaceholder1_T78DBE6AB022_Col03" class="sf_colsIn col-12" data-sf-element="Navigation Bar" data-placeholder-label="Navigation Bar" style="padding-left:0px; padding-right:0px">


<nav class="navbar navbar-expand-lg navbar-light bg-light navbar-corporate">
	<div class="container">
		<button class="navbar-toggler my-2" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
				aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse" id="navbarNav">
			<ul class="navbar-nav justify-content-between">
	<li class="nav-item dropdown">
		<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown-1_0b550941-f33e-45b6-bb73-6bf924a51bd5" role="button"
		   data-bs-toggle="dropdown"
		   aria-haspopup="true" aria-expanded="false">
			About FAO
		</a>
		<div class="dropdown-menu" aria-labelledby="navbarDropdown-1_0b550941-f33e-45b6-bb73-6bf924a51bd5">
			<div class="container" id="navbarDropdownContent-1_0b550941-f33e-45b6-bb73-6bf924a51bd5">
				Loading...
			</div>
		</div>
	</li>
	<li class="nav-item dropdown">
		<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown-1_14054727-7cea-4bab-a4cd-2bfe5b2ae756" role="button"
		   data-bs-toggle="dropdown"
		   aria-haspopup="true" aria-expanded="false">
			News
		</a>
		<div class="dropdown-menu" aria-labelledby="navbarDropdown-1_14054727-7cea-4bab-a4cd-2bfe5b2ae756">
			<div class="container" id="navbarDropdownContent-1_14054727-7cea-4bab-a4cd-2bfe5b2ae756">
				Loading...
			</div>
		</div>
	</li>
	<li class="nav-item dropdown">
		<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown-1_ca542f48-11f8-4abc-b0f2-6f27f6c2ae32" role="button"
		   data-bs-toggle="dropdown"
		   aria-haspopup="true" aria-expanded="false">
			Multimedia
		</a>
		<div class="dropdown-menu" aria-labelledby="navbarDropdown-1_ca542f48-11f8-4abc-b0f2-6f27f6c2ae32">
			<div class="container" id="navbarDropdownContent-1_ca542f48-11f8-4abc-b0f2-6f27f6c2ae32">
				Loading...
			</div>
		</div>
	</li>
	<li class="nav-item dropdown">
		<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown-1_e6e23871-daa9-4a3f-8ae5-9cfec9ea829e" role="button"
		   data-bs-toggle="dropdown"
		   aria-haspopup="true" aria-expanded="false">
			Main topics
		</a>
		<div class="dropdown-menu" aria-labelledby="navbarDropdown-1_e6e23871-daa9-4a3f-8ae5-9cfec9ea829e">
			<div class="container" id="navbarDropdownContent-1_e6e23871-daa9-4a3f-8ae5-9cfec9ea829e">
				Loading...
			</div>
		</div>
	</li>
	<li class="nav-item dropdown">
		<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown-1_fdfc2ef6-6fd1-4f05-90e6-d6262b186cb5" role="button"
		   data-bs-toggle="dropdown"
		   aria-haspopup="true" aria-expanded="false">
			Statistics
		</a>
		<div class="dropdown-menu" aria-labelledby="navbarDropdown-1_fdfc2ef6-6fd1-4f05-90e6-d6262b186cb5">
			<div class="container" id="navbarDropdownContent-1_fdfc2ef6-6fd1-4f05-90e6-d6262b186cb5">
				Loading...
			</div>
		</div>
	</li>
	<li class="nav-item dropdown">
		<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown-1_1719a139-3f4b-49ae-bb97-2fa88a6be024" role="button"
		   data-bs-toggle="dropdown"
		   aria-haspopup="true" aria-expanded="false">
			Members
		</a>
		<div class="dropdown-menu" aria-labelledby="navbarDropdown-1_1719a139-3f4b-49ae-bb97-2fa88a6be024">
			<div class="container" id="navbarDropdownContent-1_1719a139-3f4b-49ae-bb97-2fa88a6be024">
				Loading...
			</div>
		</div>
	</li>
	<li class="nav-item dropdown">
		<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown-1_97eeecc6-a3b7-4c25-8d4a-5d79157339b2" role="button"
		   data-bs-toggle="dropdown"
		   aria-haspopup="true" aria-expanded="false">
			Publications
		</a>
		<div class="dropdown-menu" aria-labelledby="navbarDropdown-1_97eeecc6-a3b7-4c25-8d4a-5d79157339b2">
			<div class="container" id="navbarDropdownContent-1_97eeecc6-a3b7-4c25-8d4a-5d79157339b2">
				Loading...
			</div>
		</div>
	</li>
			</ul>
		</div>
	</div>
</nav>


<script type="text/javascript">
	(function ($)
	{
		var containerIds = "navbarDropdownContent-1_0b550941-f33e-45b6-bb73-6bf924a51bd5;navbarDropdownContent-1_14054727-7cea-4bab-a4cd-2bfe5b2ae756;navbarDropdownContent-1_ca542f48-11f8-4abc-b0f2-6f27f6c2ae32;navbarDropdownContent-1_e6e23871-daa9-4a3f-8ae5-9cfec9ea829e;navbarDropdownContent-1_fdfc2ef6-6fd1-4f05-90e6-d6262b186cb5;navbarDropdownContent-1_1719a139-3f4b-49ae-bb97-2fa88a6be024;navbarDropdownContent-1_97eeecc6-a3b7-4c25-8d4a-5d79157339b2".split(";");
		var urls = "/corporatepage/about-fao;/corporatepage/media;/corporatepage/multimedia;/corporatepage/main-topics;/corporatepage/statistics;/corporatepage/member-countries;/corporatepage/publications".split(";");

		function loadAllContents()
		{
			if (containerIds.length == urls.length)
			{
				for (var i = 0; i < containerIds.length; i++)
				{
					loadContent(i);				
				}
			}
		}

		function loadContent(index)
		{
			var myIndex = index;
			if ((urls[myIndex]) && (containerIds[myIndex]))
			{
				$("#" + containerIds[myIndex]).load(urls[myIndex] + " #faoNavContent > *", function (response, status, xhr)
				{
					if (status == "error")
					{
						var msg = "Sorry but there was an error loading " + urls[myIndex] + ": ";
						console.log(msg + xhr.status + " " + xhr.statusText + " " + response);
					}
				});
			}
			else
			{
				var msg = "Sorry but there was an error, url:" + urls[myIndex] + "; container:" + containerIds[myIndex];
			}
		}

		loadAllContents();
	})(jQuery);
</script>
        </div>
    </div>
</header>
<div class="container" data-page-edit-prevent="true">
    <div class="row">
        <div id="Contentplaceholder1_T78DBE6AB022_Col04" class="sf_colsIn col-md-12" data-sf-element="Navigation" data-placeholder-label="Navigation"><div class="row" data-sf-element="Row">
    <div id="Contentplaceholder1_T78DBE6AB046_Col00" class="sf_colsIn col-md-12 content-icons" data-sf-element="Column 1" data-placeholder-label="Column 1">


<script type="text/javascript">
    document.addEventListener('DOMContentLoaded', function () {
        var documentTitle = document.title;
        if (documentTitle.includes("|")) {
            documentTitle = documentTitle.split("|").slice(-1)[0]
        }
        utility.setBreadcrumbActiveItemTitle(documentTitle);
    });
</script>

<nav aria-label="breadcrumb">
    <ol class="breadcrumb">

        <li class="breadcrumb-item"><a href="https://www.fao.org">FAO.org</a></li>


                <li class="breadcrumb-item active" aria-current="page">Home</li>
    </ol>
</nav>


<div class="modal modal-share fade" id="shareModal" tabindex="-1" aria-labelledby="shareModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="shareModalLabel">
                    Share
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <ul class="list-inline social-icons">
                        <li class="list-inline-item">
                            <a href="https://www.facebook.com/sharer/sharer.php?u=https://www.fao.org/home/en" alt="facebook" title="facebook" target="_blank">
                                <img src="/ResourcePackages/FAO/assets/dist/img/social-icons/social-icon-facebook.svg" alt="facebook">
                            </a>
                        </li>
                                            <li class="list-inline-item">
                            <a href="https://www.linkedin.com/shareArticle?mini=true&amp;title=Home&amp;url=https://www.fao.org/home/en" alt="linkedin" title="linkedin" target="_blank">
                                <img src="/ResourcePackages/FAO/assets/dist/img/social-icons/social-icon-linkedin.svg" alt="linkedin">
                            </a>
                        </li>
                                            <li class="list-inline-item">
                            <a href="https://pinterest.com/pin/create/button/?url=https://www.fao.org/home/en&amp;description=Home" alt="pinterest" title="pinterest" target="_blank">
                                <img src="/ResourcePackages/FAO/assets/dist/img/social-icons/social-icon-pinterest.svg" alt="pinterest">
                            </a>
                        </li>
                                            <li class="list-inline-item">
                            <a href="https://twitter.com/intent/tweet?text=https://www.fao.org/home/en" alt="twitter X" title="twitter X" target="_blank">
                                <img src="/ResourcePackages/FAO/assets/dist/img/social-icons/social-icon-twitter-x.svg" alt="twitter">
                            </a>
                        </li>
                                            <li class="list-inline-item">
                            <a href="https://service.weibo.com/share/share.php?title=Home&amp;url=https://www.fao.org/home/en" alt="weibo" title="weibo" target="_blank">
                                <img src="/ResourcePackages/FAO/assets/dist/img/social-icons/social-icon-weibo.svg" alt="weibo">
                            </a>
                        </li>

                        <li class="list-inline-item">

                            <a href="#" alt="wechat" title="wechat" data-bs-toggle="modal" data-bs-target="#WeChatModal">
                                <img src="/images/corporatelibraries/social-icons/social-icon-wechat.svg" title="social-icon-wechat" data-displaymode="Original" alt="icon-wechat">
                            </a>

                        </li>
                </ul>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

    </div>
</div>

<script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [
{"@type": "ListItem","position": 1,"name": "Home","item": "https://www.fao.org/home/en"}        ]
    }
</script>
        </div>
    </div>
</div><div class="row row-fao-homepage-hero py-0" data-sf-element="Row">
    <div id="Contentplaceholder1_C023_Col00" class="sf_colsIn col-md-12" data-sf-element="Column 1" data-placeholder-label="Column 1">
<div id="OCC-IB"></div>

<script type="module">
      (async () => {   

        (function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();const Gt=!1;var Rt=Array.isArray,on=Array.prototype.indexOf,qt=Array.from,ln=Object.defineProperty,ve=Object.getOwnPropertyDescriptor,wr=Object.getOwnPropertyDescriptors,un=Object.prototype,fn=Array.prototype,Lt=Object.getPrototypeOf,Ht=Object.isExtensible;function cn(e){return typeof e=="function"}const Ce=()=>{};function dn(e){return e()}function Vt(e){for(var t=0;t<e.length;t++)e[t]()}const z=2,Cr=4,at=8,it=16,Z=32,_e=64,$e=128,L=256,We=512,R=1024,$=2048,fe=4096,Q=8192,st=16384,Er=32768,ot=65536,vn=1<<17,hn=1<<19,Fr=1<<20,Nt=1<<21,he=Symbol("$state"),pn=Symbol("legacy props");function xr(e){return e===this.v}function Sr(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Yt(e){return!Sr(e,this.v)}function mn(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function _n(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function gn(e){throw new Error("https://svelte.dev/e/effect_orphan")}function yn(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function bn(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function wn(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Cn(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let Ve=!1,En=!1;function Fn(){Ve=!0}const xn=1,Sn=2,An=16,Tn=2,Pn=8,Vn=1,Nn=2,On=4,In=1,kn=2,D=Symbol(),Mn="http://www.w3.org/1999/xhtml";function Dn(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let S=null;function $t(e){S=e}function Ar(e){return Rn().get(e)}function lt(e,t=!1,r){var n=S={p:S,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};Ve&&!t&&(S.l={s:null,u:null,r1:[],r2:Te(!1)}),qr(()=>{n.d=!0})}function ut(e){const t=S;if(t!==null){const o=t.e;if(o!==null){var r=C,n=E;t.e=null;try{for(var a=0;a<o.length;a++){var i=o[a];W(i.effect),U(i.reaction),ht(i.fn)}}finally{W(r),U(n)}}S=t.p,t.m=!0}return{}}function ft(){return!Ve||S!==null&&S.l===null}function Rn(e){return S===null&&Dn(),S.c??(S.c=new Map(qn(S)||void 0))}function qn(e){let t=e.p;for(;t!==null;){const r=t.c;if(r!==null)return r;t=t.p}return null}function oe(e){if(typeof e!="object"||e===null||he in e)return e;const t=Lt(e);if(t!==un&&t!==fn)return e;var r=new Map,n=Rt(e),a=te(0),i=E,o=d=>{var c=E;U(i);var l=d();return U(c),l};return n&&r.set("length",te(e.length)),new Proxy(e,{defineProperty(d,c,l){(!("value"in l)||l.configurable===!1||l.enumerable===!1||l.writable===!1)&&bn();var s=r.get(c);return s===void 0?(s=o(()=>te(l.value)),r.set(c,s)):O(s,o(()=>oe(l.value))),!0},deleteProperty(d,c){var l=r.get(c);if(l===void 0)c in d&&(r.set(c,o(()=>te(D))),Ft(a));else{if(n&&typeof c=="string"){var s=r.get("length"),f=Number(c);Number.isInteger(f)&&f<s.v&&O(s,f)}O(l,D),Ft(a)}return!0},get(d,c,l){var v;if(c===he)return e;var s=r.get(c),f=c in d;if(s===void 0&&(!f||(v=ve(d,c))!=null&&v.writable)&&(s=o(()=>te(oe(f?d[c]:D))),r.set(c,s)),s!==void 0){var u=w(s);return u===D?void 0:u}return Reflect.get(d,c,l)},getOwnPropertyDescriptor(d,c){var l=Reflect.getOwnPropertyDescriptor(d,c);if(l&&"value"in l){var s=r.get(c);s&&(l.value=w(s))}else if(l===void 0){var f=r.get(c),u=f==null?void 0:f.v;if(f!==void 0&&u!==D)return{enumerable:!0,configurable:!0,value:u,writable:!0}}return l},has(d,c){var u;if(c===he)return!0;var l=r.get(c),s=l!==void 0&&l.v!==D||Reflect.has(d,c);if(l!==void 0||C!==null&&(!s||(u=ve(d,c))!=null&&u.writable)){l===void 0&&(l=o(()=>te(s?oe(d[c]):D)),r.set(c,l));var f=w(l);if(f===D)return!1}return s},set(d,c,l,s){var g;var f=r.get(c),u=c in d;if(n&&c==="length")for(var v=l;v<f.v;v+=1){var h=r.get(v+"");h!==void 0?O(h,D):v in d&&(h=o(()=>te(D)),r.set(v+"",h))}f===void 0?(!u||(g=ve(d,c))!=null&&g.writable)&&(f=o(()=>te(void 0)),O(f,o(()=>oe(l))),r.set(c,f)):(u=f.v!==D,O(f,o(()=>oe(l))));var _=Reflect.getOwnPropertyDescriptor(d,c);if(_!=null&&_.set&&_.set.call(s,l),!u){if(n&&typeof c=="string"){var m=r.get("length"),p=Number(c);Number.isInteger(p)&&p>=m.v&&O(m,p+1)}Ft(a)}return!0},ownKeys(d){w(a);var c=Reflect.ownKeys(d).filter(f=>{var u=r.get(f);return u===void 0||u.v!==D});for(var[l,s]of r)s.v!==D&&!(l in d)&&c.push(l);return c},setPrototypeOf(){wn()}})}function Ft(e,t=1){O(e,e.v+t)}function ct(e){var t=z|$,r=E!==null&&(E.f&z)!==0?E:null;return C===null||r!==null&&(r.f&L)!==0?t|=L:C.f|=Fr,{ctx:S,deps:null,effects:null,equals:xr,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:r??C}}function me(e){const t=ct(e);return t.equals=Yt,t}function Tr(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)se(t[r])}}function Ln(e){for(var t=e.parent;t!==null;){if((t.f&z)===0)return t;t=t.parent}return null}function Pr(e){var t,r=C;W(Ln(e));try{Tr(e),t=Jr(e)}finally{W(r)}return t}function Vr(e){var t=Pr(e);if(e.equals(t)||(e.v=t,e.wv=Wr()),!ye){var r=(ie||(e.f&L)!==0)&&e.deps!==null?fe:R;G(e,r)}}const Ae=new Map;function Te(e,t){var r={f:0,v:e,reactions:null,equals:xr,rv:0,wv:0};return r}function te(e,t){const r=Te(e);return Wn(r),r}function dt(e,t=!1){var n;const r=Te(e);return t||(r.equals=Yt),Ve&&S!==null&&S.l!==null&&((n=S.l).s??(n.s=[])).push(r),r}function O(e,t,r=!1){E!==null&&!H&&ft()&&(E.f&(z|it))!==0&&!(I!=null&&I.includes(e))&&Cn();let n=r?oe(t):t;return Nr(e,n)}function Nr(e,t){if(!e.equals(t)){var r=e.v;ye?Ae.set(e,t):Ae.set(e,r),e.v=t,(e.f&z)!==0&&((e.f&$)!==0&&Pr(e),G(e,(e.f&L)===0?R:fe)),e.wv=Wr(),Or(e,$),ft()&&C!==null&&(C.f&R)!==0&&(C.f&(Z|_e))===0&&(Y===null?Kn([e]):Y.push(e))}return t}function Wt(e,t=1){var r=w(e),n=t===1?r++:r--;return O(e,r),n}function Or(e,t){var r=e.reactions;if(r!==null)for(var n=ft(),a=r.length,i=0;i<a;i++){var o=r[i],d=o.f;(d&$)===0&&(!n&&o===C||(G(o,t),(d&(R|L))!==0&&((d&z)!==0?Or(o,fe):mt(o))))}}let Yn=!1;var Kt,Ir,kr,Mr;function Bn(){if(Kt===void 0){Kt=window,Ir=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,r=Text.prototype;kr=ve(t,"firstChild").get,Mr=ve(t,"nextSibling").get,Ht(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Ht(r)&&(r.__t=void 0)}}function Dr(e=""){return document.createTextNode(e)}function ae(e){return kr.call(e)}function vt(e){return Mr.call(e)}function T(e,t){return ae(e)}function xe(e,t){{var r=ae(e);return r instanceof Comment&&r.data===""?vt(r):r}}function B(e,t=1,r=!1){let n=e;for(;t--;)n=vt(n);return n}function Un(e){e.textContent=""}function Rr(e){C===null&&E===null&&gn(),E!==null&&(E.f&L)!==0&&C===null&&_n(),ye&&mn()}function jn(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function ge(e,t,r,n=!0){var a=C,i={ctx:S,deps:null,nodes_start:null,nodes_end:null,f:e|$,first:null,fn:t,last:null,next:null,parent:a,prev:null,teardown:null,transitions:null,wv:0};if(r)try{jt(i),i.f|=Er}catch(c){throw se(i),c}else t!==null&&mt(i);var o=r&&i.deps===null&&i.first===null&&i.nodes_start===null&&i.teardown===null&&(i.f&(Fr|$e))===0;if(!o&&n&&(a!==null&&jn(i,a),E!==null&&(E.f&z)!==0)){var d=E;(d.effects??(d.effects=[])).push(i)}return i}function qr(e){const t=ge(at,null,!1);return G(t,R),t.teardown=e,t}function Jt(e){Rr();var t=C!==null&&(C.f&Z)!==0&&S!==null&&!S.m;if(t){var r=S;(r.e??(r.e=[])).push({fn:e,effect:C,reaction:E})}else{var n=ht(e);return n}}function zn(e){return Rr(),Lr(e)}function Gn(e){const t=ge(_e,e,!0);return(r={})=>new Promise(n=>{r.outro?Ke(t,()=>{se(t),n(void 0)}):(se(t),n(void 0))})}function ht(e){return ge(Cr,e,!1)}function Lr(e){return ge(at,e,!0)}function pe(e,t=[],r=ct){const n=t.map(r);return Bt(()=>e(...n.map(w)))}function Bt(e,t=0){return ge(at|it|t,e,!0)}function Pe(e,t=!0){return ge(at|Z,e,!0,t)}function Yr(e){var t=e.teardown;if(t!==null){const r=ye,n=E;Qt(!0),U(null);try{t.call(null)}finally{Qt(r),U(n)}}}function Br(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){var n=r.next;(r.f&_e)!==0?r.parent=null:se(r,t),r=n}}function Hn(e){for(var t=e.first;t!==null;){var r=t.next;(t.f&Z)===0&&se(t),t=r}}function se(e,t=!0){var r=!1;(t||(e.f&hn)!==0)&&e.nodes_start!==null&&(Ur(e.nodes_start,e.nodes_end),r=!0),Br(e,t&&!r),et(e,0),G(e,st);var n=e.transitions;if(n!==null)for(const i of n)i.stop();Yr(e);var a=e.parent;a!==null&&a.first!==null&&jr(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function Ur(e,t){for(;e!==null;){var r=e===t?null:vt(e);e.remove(),e=r}}function jr(e){var t=e.parent,r=e.prev,n=e.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),t!==null&&(t.first===e&&(t.first=n),t.last===e&&(t.last=r))}function Ke(e,t){var r=[];Ut(e,r,!0),zr(r,()=>{se(e),t&&t()})}function zr(e,t){var r=e.length;if(r>0){var n=()=>--r||t();for(var a of e)a.out(n)}else t()}function Ut(e,t,r){if((e.f&Q)===0){if(e.f^=Q,e.transitions!==null)for(const o of e.transitions)(o.is_global||r)&&t.push(o);for(var n=e.first;n!==null;){var a=n.next,i=(n.f&ot)!==0||(n.f&Z)!==0;Ut(n,t,i?r:!1),n=a}}}function Je(e){Gr(e,!0)}function Gr(e,t){if((e.f&Q)!==0){e.f^=Q,(e.f&R)===0&&(e.f^=R),Ne(e)&&(G(e,$),mt(e));for(var r=e.first;r!==null;){var n=r.next,a=(r.f&ot)!==0||(r.f&Z)!==0;Gr(r,a?t:!1),r=n}if(e.transitions!==null)for(const i of e.transitions)(i.is_global||t)&&i.in()}}let Qe=[];function $n(){var e=Qe;Qe=[],Vt(e)}function Hr(e){Qe.length===0&&queueMicrotask($n),Qe.push(e)}let ze=!1,Ot=!1,Ze=null,ue=!1,ye=!1;function Qt(e){ye=e}let Ge=[];let E=null,H=!1;function U(e){E=e}let C=null;function W(e){C=e}let I=null;function Wn(e){E!==null&&E.f&Nt&&(I===null?I=[e]:I.push(e))}let N=null,q=0,Y=null;function Kn(e){Y=e}let $r=1,Xe=0,ie=!1;function Wr(){return++$r}function Ne(e){var f;var t=e.f;if((t&$)!==0)return!0;if((t&fe)!==0){var r=e.deps,n=(t&L)!==0;if(r!==null){var a,i,o=(t&We)!==0,d=n&&C!==null&&!ie,c=r.length;if(o||d){var l=e,s=l.parent;for(a=0;a<c;a++)i=r[a],(o||!((f=i==null?void 0:i.reactions)!=null&&f.includes(l)))&&(i.reactions??(i.reactions=[])).push(l);o&&(l.f^=We),d&&s!==null&&(s.f&L)===0&&(l.f^=L)}for(a=0;a<c;a++)if(i=r[a],Ne(i)&&Vr(i),i.wv>e.wv)return!0}(!n||C!==null&&!ie)&&G(e,R)}return!1}function Jn(e,t){for(var r=t;r!==null;){if((r.f&$e)!==0)try{r.fn(e);return}catch{r.f^=$e}r=r.parent}throw ze=!1,e}function Zt(e){return(e.f&st)===0&&(e.parent===null||(e.parent.f&$e)===0)}function pt(e,t,r,n){if(ze){if(r===null&&(ze=!1),Zt(t))throw e;return}if(r!==null&&(ze=!0),Jn(e,t),Zt(t))throw e}function Kr(e,t,r=!0){var n=e.reactions;if(n!==null)for(var a=0;a<n.length;a++){var i=n[a];I!=null&&I.includes(e)||((i.f&z)!==0?Kr(i,t,!1):t===i&&(r?G(i,$):(i.f&R)!==0&&G(i,fe),mt(i)))}}function Jr(e){var v;var t=N,r=q,n=Y,a=E,i=ie,o=I,d=S,c=H,l=e.f;N=null,q=0,Y=null,ie=(l&L)!==0&&(H||!ue||E===null),E=(l&(Z|_e))===0?e:null,I=null,$t(e.ctx),H=!1,Xe++,e.f|=Nt;try{var s=(0,e.fn)(),f=e.deps;if(N!==null){var u;if(et(e,q),f!==null&&q>0)for(f.length=q+N.length,u=0;u<N.length;u++)f[q+u]=N[u];else e.deps=f=N;if(!ie)for(u=q;u<f.length;u++)((v=f[u]).reactions??(v.reactions=[])).push(e)}else f!==null&&q<f.length&&(et(e,q),f.length=q);if(ft()&&Y!==null&&!H&&f!==null&&(e.f&(z|fe|$))===0)for(u=0;u<Y.length;u++)Kr(Y[u],e);return a!==null&&a!==e&&(Xe++,Y!==null&&(n===null?n=Y:n.push(...Y))),s}finally{N=t,q=r,Y=n,E=a,ie=i,I=o,$t(d),H=c,e.f^=Nt}}function Qn(e,t){let r=t.reactions;if(r!==null){var n=on.call(r,e);if(n!==-1){var a=r.length-1;a===0?r=t.reactions=null:(r[n]=r[a],r.pop())}}r===null&&(t.f&z)!==0&&(N===null||!N.includes(t))&&(G(t,fe),(t.f&(L|We))===0&&(t.f^=We),Tr(t),et(t,0))}function et(e,t){var r=e.deps;if(r!==null)for(var n=t;n<r.length;n++)Qn(e,r[n])}function jt(e){var t=e.f;if((t&st)===0){G(e,R);var r=C,n=S,a=ue;C=e,ue=!0;try{(t&it)!==0?Hn(e):Br(e),Yr(e);var i=Jr(e);e.teardown=typeof i=="function"?i:null,e.wv=$r;var o=e.deps,d;Gt&&En&&e.f&$}catch(c){pt(c,e,r,n||e.ctx)}finally{ue=a,C=r}}}function Zn(){try{yn()}catch(e){if(Ze!==null)pt(e,Ze,null);else throw e}}function Xn(){var e=ue;try{var t=0;for(ue=!0;Ge.length>0;){t++>1e3&&Zn();var r=Ge,n=r.length;Ge=[];for(var a=0;a<n;a++){var i=ta(r[a]);ea(i)}Ae.clear()}}finally{Ot=!1,ue=e,Ze=null}}function ea(e){var t=e.length;if(t!==0)for(var r=0;r<t;r++){var n=e[r];if((n.f&(st|Q))===0)try{Ne(n)&&(jt(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?jr(n):n.fn=null))}catch(a){pt(a,n,null,n.ctx)}}}function mt(e){Ot||(Ot=!0,queueMicrotask(Xn));for(var t=Ze=e;t.parent!==null;){t=t.parent;var r=t.f;if((r&(_e|Z))!==0){if((r&R)===0)return;t.f^=R}}Ge.push(t)}function ta(e){for(var t=[],r=e;r!==null;){var n=r.f,a=(n&(Z|_e))!==0,i=a&&(n&R)!==0;if(!i&&(n&Q)===0){if((n&Cr)!==0)t.push(r);else if(a)r.f^=R;else try{Ne(r)&&jt(r)}catch(c){pt(c,r,null,r.ctx)}var o=r.first;if(o!==null){r=o;continue}}var d=r.parent;for(r=r.next;r===null&&d!==null;)r=d.next,d=d.parent}return t}function w(e){var t=e.f,r=(t&z)!==0;if(E!==null&&!H){if(!(I!=null&&I.includes(e))){var n=E.deps;e.rv<Xe&&(e.rv=Xe,N===null&&n!==null&&n[q]===e?q++:N===null?N=[e]:(!ie||!N.includes(e))&&N.push(e))}}else if(r&&e.deps===null&&e.effects===null){var a=e,i=a.parent;i!==null&&(i.f&L)===0&&(a.f^=L)}return r&&(a=e,Ne(a)&&Vr(a)),ye&&Ae.has(e)?Ae.get(e):e.v}function _t(e){var t=H;try{return H=!0,e()}finally{H=t}}const ra=-7169;function G(e,t){e.f=e.f&ra|t}function Qr(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(he in e)It(e);else if(!Array.isArray(e))for(let t in e){const r=e[t];typeof r=="object"&&r&&he in r&&It(r)}}}function It(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let n in e)try{It(e[n],t)}catch{}const r=Lt(e);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const n=wr(r);for(let a in n){const i=n[a].get;if(i)try{i.call(e)}catch{}}}}}const na=["touchstart","touchmove"];function aa(e){return na.includes(e)}function Zr(e){var t=E,r=C;U(null),W(null);try{return e()}finally{U(t),W(r)}}const ia=new Set,Xt=new Set;function sa(e,t,r,n={}){function a(i){if(n.capture||Ee.call(t,i),!i.cancelBubble)return Zr(()=>r==null?void 0:r.call(this,i))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Hr(()=>{t.addEventListener(e,a,n)}):t.addEventListener(e,a,n),a}function le(e,t,r,n,a){var i={capture:n,passive:a},o=sa(e,t,r,i);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&qr(()=>{t.removeEventListener(e,o,i)})}function Ee(e){var g;var t=this,r=t.ownerDocument,n=e.type,a=((g=e.composedPath)==null?void 0:g.call(e))||[],i=a[0]||e.target,o=0,d=e.__root;if(d){var c=a.indexOf(d);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var l=a.indexOf(t);if(l===-1)return;c<=l&&(o=c)}if(i=a[o]||e.target,i!==t){ln(e,"currentTarget",{configurable:!0,get(){return i||r}});var s=E,f=C;U(null),W(null);try{for(var u,v=[];i!==null;){var h=i.assignedSlot||i.parentNode||i.host||null;try{var _=i["__"+n];if(_!=null&&(!i.disabled||e.target===i))if(Rt(_)){var[m,...p]=_;m.apply(i,[e,...p])}else _.call(i,e)}catch(y){u?v.push(y):u=y}if(e.cancelBubble||h===t||h===null)break;i=h}if(u){for(let y of v)queueMicrotask(()=>{throw y});throw u}}finally{e.__root=t,delete e.currentTarget,U(s),W(f)}}}function Xr(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function tt(e,t){var r=C;r.nodes_start===null&&(r.nodes_start=e,r.nodes_end=t)}function X(e,t){var r=(t&In)!==0,n=(t&kn)!==0,a,i=!e.startsWith("<!>");return()=>{a===void 0&&(a=Xr(i?e:"<!>"+e),r||(a=ae(a)));var o=n||Ir?document.importNode(a,!0):a.cloneNode(!0);if(r){var d=ae(o),c=o.lastChild;tt(d,c)}else tt(o,o);return o}}function en(){var e=document.createDocumentFragment(),t=document.createComment(""),r=Dr();return e.append(t,r),tt(t,r),e}function j(e,t){e!==null&&e.before(t)}let kt=!0;function Se(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=r,e.nodeValue=r+"")}function oa(e,t){return la(e,t)}const ce=new Map;function la(e,{target:t,anchor:r,props:n={},events:a,context:i,intro:o=!0}){Bn();var d=new Set,c=f=>{for(var u=0;u<f.length;u++){var v=f[u];if(!d.has(v)){d.add(v);var h=aa(v);t.addEventListener(v,Ee,{passive:h});var _=ce.get(v);_===void 0?(document.addEventListener(v,Ee,{passive:h}),ce.set(v,1)):ce.set(v,_+1)}}};c(qt(ia)),Xt.add(c);var l=void 0,s=Gn(()=>{var f=r??t.appendChild(Dr());return Pe(()=>{if(i){lt({});var u=S;u.c=i}a&&(n.$$events=a),kt=o,l=e(f,n)||{},kt=!0,i&&ut()}),()=>{var h;for(var u of d){t.removeEventListener(u,Ee);var v=ce.get(u);--v===0?(document.removeEventListener(u,Ee),ce.delete(u)):ce.set(u,v)}Xt.delete(c),f!==r&&((h=f.parentNode)==null||h.removeChild(f))}});return ua.set(l,s),l}let ua=new WeakMap;function de(e,t,[r,n]=[0,0]){var a=e,i=null,o=null,d=D,c=r>0?ot:0,l=!1;const s=(u,v=!0)=>{l=!0,f(v,u)},f=(u,v)=>{d!==(d=u)&&(d?(i?Je(i):v&&(i=Pe(()=>v(a))),o&&Ke(o,()=>{o=null})):(o?Je(o):v&&(o=Pe(()=>v(a,[r+1,n]))),i&&Ke(i,()=>{i=null})))};Bt(()=>{l=!1,t(s),l||f(null,null)},c)}function fa(e,t){return t}function ca(e,t,r,n){for(var a=[],i=t.length,o=0;o<i;o++)Ut(t[o].e,a,!0);var d=i>0&&a.length===0&&r!==null;if(d){var c=r.parentNode;Un(c),c.append(r),n.clear(),ne(e,t[0].prev,t[i-1].next)}zr(a,()=>{for(var l=0;l<i;l++){var s=t[l];d||(n.delete(s.k),ne(e,s.prev,s.next)),se(s.e,!d)}})}function da(e,t,r,n,a,i=null){var o=e,d={flags:t,items:new Map,first:null},c=null,l=!1,s=me(()=>{var f=r();return Rt(f)?f:f==null?[]:qt(f)});Bt(()=>{var f=w(s),u=f.length;l&&u===0||(l=u===0,va(f,d,o,a,t,n,r),i!==null&&(u===0?c?Je(c):c=Pe(()=>i(o)):c!==null&&Ke(c,()=>{c=null})),w(s))})}function va(e,t,r,n,a,i,o){var d=e.length,c=t.items,l=t.first,s=l,f,u=null,v=[],h=[],_,m,p,g;for(g=0;g<d;g+=1){if(_=e[g],m=i(_,g),p=c.get(m),p===void 0){var y=s?s.e.nodes_start:r;u=pa(y,t,u,u===null?t.first:u.next,_,m,g,n,a,o),c.set(m,u),v=[],h=[],s=u.next;continue}if(ha(p,_,g),(p.e.f&Q)!==0&&Je(p.e),p!==s){if(f!==void 0&&f.has(p)){if(v.length<h.length){var A=h[0],b;u=A.prev;var x=v[0],F=v[v.length-1];for(b=0;b<v.length;b+=1)er(v[b],A,r);for(b=0;b<h.length;b+=1)f.delete(h[b]);ne(t,x.prev,F.next),ne(t,u,x),ne(t,F,A),s=A,u=F,g-=1,v=[],h=[]}else f.delete(p),er(p,s,r),ne(t,p.prev,p.next),ne(t,p,u===null?t.first:u.next),ne(t,u,p),u=p;continue}for(v=[],h=[];s!==null&&s.k!==m;)(s.e.f&Q)===0&&(f??(f=new Set)).add(s),h.push(s),s=s.next;if(s===null)continue;p=s}v.push(p),u=p,s=p.next}if(s!==null||f!==void 0){for(var k=f===void 0?[]:qt(f);s!==null;)(s.e.f&Q)===0&&k.push(s),s=s.next;var P=k.length;if(P>0){var K=null;ca(t,k,K,c)}}C.first=t.first&&t.first.e,C.last=u&&u.e}function ha(e,t,r,n){Nr(e.v,t),e.i=r}function pa(e,t,r,n,a,i,o,d,c,l){var s=(c&xn)!==0,f=(c&An)===0,u=s?f?dt(a):Te(a):a,v=(c&Sn)===0?o:Te(o),h={i:v,v:u,k:i,a:null,e:null,prev:r,next:n};try{return h.e=Pe(()=>d(e,u,v,l),Yn),h.e.prev=r&&r.e,h.e.next=n&&n.e,r===null?t.first=h:(r.next=h,r.e.next=h.e),n!==null&&(n.prev=h,n.e.prev=h.e),h}finally{}}function er(e,t,r){for(var n=e.next?e.next.e.nodes_start:r,a=t?t.e.nodes_start:r,i=e.e.nodes_start;i!==n;){var o=vt(i);a.before(i),i=o}}function ne(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function Mt(e,t,r=!1,n=!1,a=!1){var i=e,o="";pe(()=>{var d=C;if(o!==(o=t()??"")&&(d.nodes_start!==null&&(Ur(d.nodes_start,d.nodes_end),d.nodes_start=d.nodes_end=null),o!=="")){var c=o+"";r?c=`<svg>${c}</svg>`:n&&(c=`<math>${c}</math>`);var l=Xr(c);if((r||n)&&(l=ae(l)),tt(ae(l),l.lastChild),r||n)for(;ae(l);)i.before(ae(l));else i.before(l)}})}function tr(e,t,r){ht(()=>{var n=_t(()=>t(e,r==null?void 0:r())||{});if(r&&(n!=null&&n.update)){var a=!1,i={};Lr(()=>{var o=r();Qr(o),a&&Sr(i,o)&&(i=o,n.update(o))}),a=!0}if(n!=null&&n.destroy)return()=>n.destroy()})}const rr=[...` 	
\r\f \v\uFEFF`];function ma(e,t,r){var n=""+e;if(r){for(var a in r)if(r[a])n=n?n+" "+a:a;else if(n.length)for(var i=a.length,o=0;(o=n.indexOf(a,o))>=0;){var d=o+i;(o===0||rr.includes(n[o-1]))&&(d===n.length||rr.includes(n[d]))?n=(o===0?"":n.substring(0,o))+n.substring(d+1):o=d}}return n===""?null:n}function _a(e,t,r,n,a,i){var o=e.__className;if(o!==r||o===void 0){var d=ma(r,n,i);d==null?e.removeAttribute("class"):e.className=d,e.__className=r}else if(i&&a!==i)for(var c in i){var l=!!i[c];(a==null||l!==!!a[c])&&e.classList.toggle(c,l)}return i}const ga=Symbol("is custom element"),ya=Symbol("is html");function tn(e,t,r,n){var a=ba(e);a[t]!==(a[t]=r)&&(r==null?e.removeAttribute(t):typeof r!="string"&&wa(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function ba(e){return e.__attributes??(e.__attributes={[ga]:e.nodeName.includes("-"),[ya]:e.namespaceURI===Mn})}var nr=new Map;function wa(e){var t=nr.get(e.nodeName);if(t)return t;nr.set(e.nodeName,t=[]);for(var r,n=e,a=Element.prototype;a!==n;){r=wr(n);for(var i in r)r[i].set&&t.push(i);n=Lt(n)}return t}const Ca=()=>performance.now(),J={tick:e=>requestAnimationFrame(e),now:()=>Ca(),tasks:new Set};function rn(){const e=J.now();J.tasks.forEach(t=>{t.c(e)||(J.tasks.delete(t),t.f())}),J.tasks.size!==0&&J.tick(rn)}function Ea(e){let t;return J.tasks.size===0&&J.tick(rn),{promise:new Promise(r=>{J.tasks.add(t={c:e,f:r})}),abort(){J.tasks.delete(t)}}}function ke(e,t){Zr(()=>{e.dispatchEvent(new CustomEvent(t))})}function Fa(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function ar(e){const t={},r=e.split(";");for(const n of r){const[a,i]=n.split(":");if(!a||i===void 0)break;const o=Fa(a.trim());t[o]=i.trim()}return t}const xa=e=>e;function re(e,t,r,n){var a=(e&Vn)!==0,i=(e&Nn)!==0,o=a&&i,d=(e&On)!==0,c=o?"both":a?"in":"out",l,s=t.inert,f=t.style.overflow,u,v;function h(){var y=E,A=C;U(null),W(null);try{return l??(l=r()(t,(n==null?void 0:n())??{},{direction:c}))}finally{U(y),W(A)}}var _={is_global:d,in(){var y;if(t.inert=s,!a){v==null||v.abort(),(y=v==null?void 0:v.reset)==null||y.call(v);return}i||u==null||u.abort(),ke(t,"introstart"),u=Dt(t,h(),v,1,()=>{ke(t,"introend"),u==null||u.abort(),u=l=void 0,t.style.overflow=f})},out(y){if(!i){y==null||y(),l=void 0;return}t.inert=!0,ke(t,"outrostart"),v=Dt(t,h(),u,0,()=>{ke(t,"outroend"),y==null||y()})},stop:()=>{u==null||u.abort(),v==null||v.abort()}},m=C;if((m.transitions??(m.transitions=[])).push(_),a&&kt){var p=d;if(!p){for(var g=m.parent;g&&(g.f&ot)!==0;)for(;(g=g.parent)&&(g.f&it)===0;);p=!g||(g.f&Er)!==0}p&&ht(()=>{_t(()=>_.in())})}}function Dt(e,t,r,n,a){var i=n===1;if(cn(t)){var o,d=!1;return Hr(()=>{if(!d){var m=t({direction:i?"in":"out"});o=Dt(e,m,r,n,a)}}),{abort:()=>{d=!0,o==null||o.abort()},deactivate:()=>o.deactivate(),reset:()=>o.reset(),t:()=>o.t()}}if(r==null||r.deactivate(),!(t!=null&&t.duration))return a(),{abort:Ce,deactivate:Ce,reset:Ce,t:()=>n};const{delay:c=0,css:l,tick:s,easing:f=xa}=t;var u=[];if(i&&r===void 0&&(s&&s(0,1),l)){var v=ar(l(0,1));u.push(v,v)}var h=()=>1-n,_=e.animate(u,{duration:c,fill:"forwards"});return _.onfinish=()=>{_.cancel();var m=(r==null?void 0:r.t())??1-n;r==null||r.abort();var p=n-m,g=t.duration*Math.abs(p),y=[];if(g>0){var A=!1;if(l)for(var b=Math.ceil(g/16.666666666666668),x=0;x<=b;x+=1){var F=m+p*f(x/b),k=ar(l(F,1-F));y.push(k),A||(A=k.overflow==="hidden")}A&&(e.style.overflow="hidden"),h=()=>{var P=_.currentTime;return m+p*f(P/g)},s&&Ea(()=>{if(_.playState!=="running")return!1;var P=h();return s(P,1-P),!0})}_=e.animate(y,{duration:g,fill:"forwards"}),_.onfinish=()=>{h=()=>n,s==null||s(n,1-n),a()}},{abort:()=>{_&&(_.cancel(),_.effect=null,_.onfinish=Ce)},deactivate:()=>{a=Ce},reset:()=>{n===0&&(s==null||s(1,0))},t:()=>h()}}function He(e){return function(...t){var r=t[0];return r.preventDefault(),e==null?void 0:e.apply(this,t)}}function zt(e=!1){const t=S,r=t.l.u;if(!r)return;let n=()=>Qr(t.s);if(e){let a=0,i={};const o=ct(()=>{let d=!1;const c=t.s;for(const l in c)c[l]!==i[l]&&(i[l]=c[l],d=!0);return d&&a++,a});n=()=>w(o)}r.b.length&&zn(()=>{ir(t,n),Vt(r.b)}),Jt(()=>{const a=_t(()=>r.m.map(dn));return()=>{for(const i of a)typeof i=="function"&&i()}}),r.a.length&&Jt(()=>{ir(t,n),Vt(r.a)})}function ir(e,t){if(e.l.s)for(const r of e.l.s)w(r);t()}let Me=!1;function Sa(e){var t=Me;try{return Me=!1,[e(),Me]}finally{Me=t}}function sr(e){var t;return((t=e.ctx)==null?void 0:t.d)??!1}function rt(e,t,r,n){var A;var a=!Ve||(r&Tn)!==0,i=(r&Pn)!==0,o=!1,d;[d,o]=Sa(()=>e[t]);var c=he in e||pn in e,l=(((A=ve(e,t))==null?void 0:A.set)??(c&&t in e&&(b=>e[t]=b)))||void 0,s=n,f=!0,u=!1,v=()=>(u=!0,f&&(f=!1,s=n),s),h;if(a)h=()=>{var b=e[t];return b===void 0?v():(f=!0,u=!1,b)};else{var _=me(()=>e[t]);_.f|=vn,h=()=>{var b=w(_);return b!==void 0&&(s=void 0),b===void 0?s:b}}if(a)return h;if(l){var m=e.$$legacy;return function(b,x){return arguments.length>0?((!a||!x||m||o)&&l(x?h():b),b):h()}}var p=!1,g=dt(d),y=ct(()=>{var b=h(),x=w(g);return p?(p=!1,x):g.v=b});return w(y),y.equals=Yt,function(b,x){if(arguments.length>0){const F=x?w(y):a&&i?oe(b):b;if(!y.equals(F)){if(p=!0,O(g,F),u&&s!==void 0&&(s=F),sr(y))return b;_t(()=>w(y))}return b}return sr(y)?y.v:w(y)}}const Aa="5";var br;typeof window<"u"&&((br=window.__svelte??(window.__svelte={})).v??(br.v=new Set)).add(Aa);Fn();const Ta=e=>e;function Pa(e){const t=e-1;return t*t*t+1}function or(e){const t=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}function Fe(e,{delay:t=0,duration:r=400,easing:n=Ta}={}){const a=+getComputedStyle(e).opacity;return{delay:t,duration:r,easing:n,css:i=>`opacity: ${i*a}`}}function xt(e,{delay:t=0,duration:r=400,easing:n=Pa,x:a=0,y:i=0,opacity:o=0}={}){const d=getComputedStyle(e),c=+d.opacity,l=d.transform==="none"?"":d.transform,s=c*(1-o),[f,u]=or(a),[v,h]=or(i);return{delay:t,duration:r,easing:n,css:(_,m)=>`
			transform: ${l} translate(${(1-_)*f}${u}, ${(1-_)*v}${h});
			opacity: ${c-s*m}`}}var nt=function(){return nt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},nt.apply(this,arguments)},Va=function(){function e(t,r,n){var a=this;this.endVal=r,this.options=n,this.version="2.9.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(i){a.startTime||(a.startTime=i);var o=i-a.startTime;a.remaining=a.duration-o,a.useEasing?a.countDown?a.frameVal=a.startVal-a.easingFn(o,0,a.startVal-a.endVal,a.duration):a.frameVal=a.easingFn(o,a.startVal,a.endVal-a.startVal,a.duration):a.frameVal=a.startVal+(a.endVal-a.startVal)*(o/a.duration);var d=a.countDown?a.frameVal<a.endVal:a.frameVal>a.endVal;a.frameVal=d?a.endVal:a.frameVal,a.frameVal=Number(a.frameVal.toFixed(a.options.decimalPlaces)),a.printValue(a.frameVal),o<a.duration?a.rAF=requestAnimationFrame(a.count):a.finalEndVal!==null?a.update(a.finalEndVal):a.options.onCompleteCallback&&a.options.onCompleteCallback()},this.formatNumber=function(i){var o,d,c,l,s=i<0?"-":"";o=Math.abs(i).toFixed(a.options.decimalPlaces);var f=(o+="").split(".");if(d=f[0],c=f.length>1?a.options.decimal+f[1]:"",a.options.useGrouping){l="";for(var u=3,v=0,h=0,_=d.length;h<_;++h)a.options.useIndianSeparators&&h===4&&(u=2,v=1),h!==0&&v%u==0&&(l=a.options.separator+l),v++,l=d[_-h-1]+l;d=l}return a.options.numerals&&a.options.numerals.length&&(d=d.replace(/[0-9]/g,function(m){return a.options.numerals[+m]}),c=c.replace(/[0-9]/g,function(m){return a.options.numerals[+m]})),s+a.options.prefix+d+c+a.options.suffix},this.easeOutExpo=function(i,o,d,c){return d*(1-Math.pow(2,-10*i/c))*1024/1023+o},this.options=nt(nt({},this.defaults),n),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.el=typeof t=="string"?document.getElementById(t):t,r=r??this.parse(this.el.innerHTML),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(r),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,t):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return a.handleScroll(a)}),window.onscroll=function(){window.onScrollFns.forEach(function(i){return i()})},this.handleScroll(this)))}return e.prototype.handleScroll=function(t){if(t&&window&&!t.once){var r=window.innerHeight+window.scrollY,n=t.el.getBoundingClientRect(),a=n.top+window.pageYOffset,i=n.top+n.height+window.pageYOffset;i<r&&i>window.scrollY&&t.paused?(t.paused=!1,setTimeout(function(){return t.start()},t.options.scrollSpyDelay),t.options.scrollSpyOnce&&(t.once=!0)):(window.scrollY>i||a>r)&&!t.paused&&t.reset()}},e.prototype.determineDirectionAndSmartEasing=function(){var t=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>t;var r=t-this.startVal;if(Math.abs(r)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=t;var n=this.countDown?1:-1;this.endVal=t+n*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=t,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},e.prototype.start=function(t){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),t&&(this.options.onCompleteCallback=t),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},e.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},e.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},e.prototype.update=function(t){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(t),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},e.prototype.printValue=function(t){var r;if(this.el){var n=this.formattingFn(t);!((r=this.options.plugin)===null||r===void 0)&&r.render?this.options.plugin.render(this.el,n):this.el.tagName==="INPUT"?this.el.value=n:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=n:this.el.innerHTML=n}},e.prototype.ensureNumber=function(t){return typeof t=="number"&&!isNaN(t)},e.prototype.validateValue=function(t){var r=Number(t);return this.ensureNumber(r)?r:(this.error="[CountUp] invalid start or end value: ".concat(t),null)},e.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},e.prototype.parse=function(t){var r=function(o){return o.replace(/([.,'  ])/g,"\\$1")},n=r(this.options.separator),a=r(this.options.decimal),i=t.replace(new RegExp(n,"g"),"").replace(new RegExp(a,"g"),".");return parseFloat(i)},e}(),De={exports:{}},St,lr;function Na(){if(lr)return St;lr=1;var e;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/return e=function(){var t={},r={};return t.on=function(n,a){var i={name:n,handler:a};return r[n]=r[n]||[],r[n].unshift(i),i},t.off=function(n){var a=r[n.name].indexOf(n);a!==-1&&r[n.name].splice(a,1)},t.trigger=function(n,a){var i=r[n],o;if(i)for(o=i.length;o--;)i[o].handler(a)},t},St=e,St}var Re={exports:{}},qe={exports:{}},At,ur;function Oa(){if(ur)return At;ur=1;var e=1e3,t=e*60,r=t*60,n=r*24,a=n*7,i=n*365.25;At=function(s,f){f=f||{};var u=typeof s;if(u==="string"&&s.length>0)return o(s);if(u==="number"&&isFinite(s))return f.long?c(s):d(s);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(s))};function o(s){if(s=String(s),!(s.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(s);if(f){var u=parseFloat(f[1]),v=(f[2]||"ms").toLowerCase();switch(v){case"years":case"year":case"yrs":case"yr":case"y":return u*i;case"weeks":case"week":case"w":return u*a;case"days":case"day":case"d":return u*n;case"hours":case"hour":case"hrs":case"hr":case"h":return u*r;case"minutes":case"minute":case"mins":case"min":case"m":return u*t;case"seconds":case"second":case"secs":case"sec":case"s":return u*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return u;default:return}}}}function d(s){var f=Math.abs(s);return f>=n?Math.round(s/n)+"d":f>=r?Math.round(s/r)+"h":f>=t?Math.round(s/t)+"m":f>=e?Math.round(s/e)+"s":s+"ms"}function c(s){var f=Math.abs(s);return f>=n?l(s,f,n,"day"):f>=r?l(s,f,r,"hour"):f>=t?l(s,f,t,"minute"):f>=e?l(s,f,e,"second"):s+" ms"}function l(s,f,u,v){var h=f>=u*1.5;return Math.round(s/u)+" "+v+(h?"s":"")}return At}var Tt,fr;function Ia(){if(fr)return Tt;fr=1;function e(t){n.debug=n,n.default=n,n.coerce=l,n.disable=d,n.enable=i,n.enabled=c,n.humanize=Oa(),n.destroy=s,Object.keys(t).forEach(f=>{n[f]=t[f]}),n.names=[],n.skips=[],n.formatters={};function r(f){let u=0;for(let v=0;v<f.length;v++)u=(u<<5)-u+f.charCodeAt(v),u|=0;return n.colors[Math.abs(u)%n.colors.length]}n.selectColor=r;function n(f){let u,v=null,h,_;function m(...p){if(!m.enabled)return;const g=m,y=Number(new Date),A=y-(u||y);g.diff=A,g.prev=u,g.curr=y,u=y,p[0]=n.coerce(p[0]),typeof p[0]!="string"&&p.unshift("%O");let b=0;p[0]=p[0].replace(/%([a-zA-Z%])/g,(F,k)=>{if(F==="%%")return"%";b++;const P=n.formatters[k];if(typeof P=="function"){const K=p[b];F=P.call(g,K),p.splice(b,1),b--}return F}),n.formatArgs.call(g,p),(g.log||n.log).apply(g,p)}return m.namespace=f,m.useColors=n.useColors(),m.color=n.selectColor(f),m.extend=a,m.destroy=n.destroy,Object.defineProperty(m,"enabled",{enumerable:!0,configurable:!1,get:()=>v!==null?v:(h!==n.namespaces&&(h=n.namespaces,_=n.enabled(f)),_),set:p=>{v=p}}),typeof n.init=="function"&&n.init(m),m}function a(f,u){const v=n(this.namespace+(typeof u>"u"?":":u)+f);return v.log=this.log,v}function i(f){n.save(f),n.namespaces=f,n.names=[],n.skips=[];const u=(typeof f=="string"?f:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const v of u)v[0]==="-"?n.skips.push(v.slice(1)):n.names.push(v)}function o(f,u){let v=0,h=0,_=-1,m=0;for(;v<f.length;)if(h<u.length&&(u[h]===f[v]||u[h]==="*"))u[h]==="*"?(_=h,m=v,h++):(v++,h++);else if(_!==-1)h=_+1,m++,v=m;else return!1;for(;h<u.length&&u[h]==="*";)h++;return h===u.length}function d(){const f=[...n.names,...n.skips.map(u=>"-"+u)].join(",");return n.enable(""),f}function c(f){for(const u of n.skips)if(o(f,u))return!1;for(const u of n.names)if(o(f,u))return!0;return!1}function l(f){return f instanceof Error?f.stack||f.message:f}function s(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}return Tt=e,Tt}var cr;function ka(){return cr||(cr=1,function(e,t){var r={};t.formatArgs=a,t.save=i,t.load=o,t.useColors=n,t.storage=d(),t.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let l;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(l=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(l[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function a(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const s="color: "+this.color;l.splice(1,0,s,"color: inherit");let f=0,u=0;l[0].replace(/%[a-zA-Z%]/g,v=>{v!=="%%"&&(f++,v==="%c"&&(u=f))}),l.splice(u,0,s)}t.log=console.debug||console.log||(()=>{});function i(l){try{l?t.storage.setItem("debug",l):t.storage.removeItem("debug")}catch{}}function o(){let l;try{l=t.storage.getItem("debug")||t.storage.getItem("DEBUG")}catch{}return!l&&typeof process<"u"&&"env"in process&&(l=r.DEBUG),l}function d(){try{return localStorage}catch{}}e.exports=Ia()(t);const{formatters:c}=e.exports;c.j=function(l){try{return JSON.stringify(l)}catch(s){return"[UnexpectedJSONParseError]: "+s.message}}}(qe,qe.exports)),qe.exports}var Le={exports:{}},Ye={exports:{}},dr;function Ma(){return dr||(dr=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},e.exports=t.default}(Ye,Ye.exports)),Ye.exports}var vr;function Da(){return vr||(vr=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=Ma(),n=a(r);function a(i){return i&&i.__esModule?i:{default:i}}t.default={pauseVideo:{acceptableStates:[n.default.ENDED,n.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[n.default.ENDED,n.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[n.default.ENDED,n.default.PLAYING,n.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},e.exports=t.default}(Le,Le.exports)),Le.exports}var Be={exports:{}},hr;function Ra(){return hr||(hr=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],e.exports=t.default}(Be,Be.exports)),Be.exports}var Ue={exports:{}},pr;function qa(){return pr||(pr=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe","getSphericalProperties","setSphericalProperties"],e.exports=t.default}(Ue,Ue.exports)),Ue.exports}var mr;function La(){return mr||(mr=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=ka(),n=s(r),a=Da(),i=s(a),o=Ra(),d=s(o),c=qa(),l=s(c);function s(v){return v&&v.__esModule?v:{default:v}}const f=(0,n.default)("youtube-player"),u={};u.proxyEvents=v=>{const h={};for(const _ of d.default){const m="on"+_.slice(0,1).toUpperCase()+_.slice(1);h[m]=p=>{f('event "%s"',m,p),v.trigger(_,p)}}return h},u.promisifyPlayer=(v,h=!1)=>{const _={};for(const m of l.default)h&&i.default[m]?_[m]=(...p)=>v.then(g=>{const y=i.default[m],A=g.getPlayerState(),b=g[m].apply(g,p);return y.stateChangeRequired||Array.isArray(y.acceptableStates)&&!y.acceptableStates.includes(A)?new Promise(x=>{const F=()=>{const k=g.getPlayerState();let P;typeof y.timeout=="number"&&(P=setTimeout(()=>{g.removeEventListener("onStateChange",F),x()},y.timeout)),Array.isArray(y.acceptableStates)&&y.acceptableStates.includes(k)&&(g.removeEventListener("onStateChange",F),clearTimeout(P),x())};g.addEventListener("onStateChange",F)}).then(()=>b):b}):_[m]=(...p)=>v.then(g=>g[m].apply(g,p));return _},t.default=u,e.exports=t.default}(Re,Re.exports)),Re.exports}var je={exports:{}},Pt,_r;function Ya(){if(_r)return Pt;_r=1,Pt=function(a,i,o){var d=document.head||document.getElementsByTagName("head")[0],c=document.createElement("script");typeof i=="function"&&(o=i,i={}),i=i||{},o=o||function(){},c.type=i.type||"text/javascript",c.charset=i.charset||"utf8",c.async="async"in i?!!i.async:!0,c.src=a,i.attrs&&e(c,i.attrs),i.text&&(c.text=""+i.text);var l="onload"in c?t:r;l(c,o),c.onload||t(c,o),d.appendChild(c)};function e(n,a){for(var i in a)n.setAttribute(i,a[i])}function t(n,a){n.onload=function(){this.onerror=this.onload=null,a(null,n)},n.onerror=function(){this.onerror=this.onload=null,a(new Error("Failed to load "+this.src),n)}}function r(n,a){n.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,a(null,n))}}return Pt}var gr;function Ba(){return gr||(gr=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=Ya(),n=a(r);function a(i){return i&&i.__esModule?i:{default:i}}t.default=i=>new Promise(d=>{if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){d(window.YT);return}else{const l=window.location.protocol==="http:"?"http:":"https:";(0,n.default)(l+"//www.youtube.com/iframe_api",s=>{s&&i.trigger("error",s)})}const c=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{c&&c(),d(window.YT)}}),e.exports=t.default}(je,je.exports)),je.exports}var yr;function Ua(){return yr||(yr=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=Na(),n=c(r),a=La(),i=c(a),o=Ba(),d=c(o);function c(s){return s&&s.__esModule?s:{default:s}}let l;t.default=(s,f={},u=!1)=>{const v=(0,n.default)();if(l||(l=(0,d.default)(v)),f.events)throw new Error("Event handlers cannot be overwritten.");if(typeof s=="string"&&!document.getElementById(s))throw new Error('Element "'+s+'" does not exist.');f.events=i.default.proxyEvents(v);const h=new Promise(m=>{typeof s=="object"&&s.playVideo instanceof Function?m(s):l.then(p=>{const g=new p.Player(s,f);return v.on("ready",()=>{m(g)}),null})}),_=i.default.promisifyPlayer(h,u);return _.on=v.on,_.off=v.off,_},e.exports=t.default}(De,De.exports)),De.exports}Ua();var ja=X("<h1> </h1> <h1><span></span></h1>",1),za=X("<p><!></p>"),Ga=X('<ul class="list-unstyled"><li><p><!></p></li></ul>'),Ha=X('<a href="#!" class="btn btn-secondary btn-icon"> <i class="bi bi-chevron-right"></i></a>'),$a=X('<div class="banner-slide"><div class="container banner-text"><div class="col"><!> <!> <!></div> <div class="slide-video"><video class="video-loop" autoplay playsinline=""></video></div></div></div>',2),Wa=X('<a href="#!" class="btn btn-secondary btn-icon btn-round btn-round-big prev"><i class="bi bi-chevron-left"></i></a> <a href="#!" class="btn btn-secondary btn-icon btn-round btn-round-big next"><i class="bi bi-chevron-right"></i></a> <!>',1);function Ka(e,t){lt(t,!1),Ar("SETTINGS");let r=rt(t,"translations",8),n=rt(t,"activeLang",8),a=dt(0),i;const o=[{title:r().get("a4"),text:r().get("a5"),videoId:"better-production"},{title:r().get("a7"),text:r().get("a8"),videoId:"better-nutrition"},{title:r().get("b1"),text:r().get("b2"),videoId:"better-environment"},{title:r().get("b4"),text:r().get("b5"),videoId:"better-life"}];function d(){w(a)>=o.length-1?O(a,0):Wt(a)}function c(){w(a)!=0?Wt(a,-1):O(a,o.length-1)}function l(m,[p,g]){if(!p)return;const y=p.indexOf("{")+1,A=p.indexOf("}"),b=parseFloat(p.substring(y,A));i=new Va(m,b,g);const x=setInterval(()=>{i.start(),clearInterval(x)},700)}function s(m,{title:p}){if(p)if(p.includes("{")&&p.includes("}")){const g=p.indexOf("{"),y=p.indexOf("}")+1,A=p.substring(0,g);if(m.insertAdjacentText("afterbegin",A),p.substring(y)){const b=p.substring(y);m.insertAdjacentText("beforeend",b)}}else m.removeChild(m.firstChild),m.textContent=p}function f(m){m.target.currentTime=2,m.target.play(),console.log(m)}zt();var u=Wa(),v=xe(u),h=B(v,2),_=B(h,2);da(_,1,()=>o,fa,(m,p,g)=>{var y=en(),A=xe(y);{var b=x=>{var F=$a(),k=T(F),P=T(k),K=T(P);{var gt=M=>{var V=ja(),ee=xe(V),be=T(ee),Ie=B(ee,2),sn=T(Ie);tr(sn,(we,Et)=>l==null?void 0:l(we,Et),()=>[w(p).title.split(`
`)[2],w(p).countupOptions]),tr(Ie,(we,Et)=>s==null?void 0:s(we,Et),()=>({title:w(p).title.split(`
`)[2]})),pe(we=>Se(be,we),[()=>w(p).title.split(`
`)[0]],me),j(M,V)};de(K,M=>{w(p).title&&M(gt)})}var Oe=B(K,2);{var yt=M=>{var V=za(),ee=T(V);Mt(ee,()=>w(p).text),re(1,V,()=>xt,()=>({y:200,duration:2e3})),j(M,V)};de(Oe,M=>{w(p).text&&M(yt)})}var bt=B(Oe,2);{var wt=M=>{var V=Ga(),ee=T(V),be=T(ee),Ie=T(be);Mt(Ie,()=>r().get("c3HTML")),re(1,V,()=>xt,()=>({y:200,duration:2e3,delay:500})),j(M,V)},nn=M=>{var V=Ha(),ee=T(V);pe(be=>Se(ee,`${be??""} `),[()=>r().get("a6")],me),le("click",V,He(d)),re(1,V,()=>xt,()=>({y:200,duration:2e3,delay:300})),j(M,V)};de(bt,M=>{g===o.length-1?M(wt):M(nn,!1)})}var an=B(P,2),Ct=T(an);Ct.muted=!0,pe(()=>tn(Ct,"src",`https://www.fao.org/videos/homepagelibraries/hero-banner-videos/${w(p).videoId}.mp4`)),le("ended",Ct,f),re(1,F,()=>Fe,()=>({delay:700,duration:700})),re(2,F,()=>Fe,()=>({duration:700})),j(x,F)};de(A,x=>{g===w(a)&&x(b)})}j(m,y)}),le("click",v,He(()=>n()==="ar"?d():c())),re(1,v,()=>Fe,()=>({delay:2e3,duration:700})),le("click",h,He(()=>n()==="ar"?c():d())),re(1,h,()=>Fe,()=>({delay:2e3,duration:700})),j(e,u),ut()}var Ja=X('<video class="hero-banner-video" loop autoPlay playsInline="" preload="auto"><source type="video/mp4"/></video> <div class="hero-caption"><div class="hero-text"><h6 class="title-category"> </h6> <h1> </h1> <p><!></p> <p><a href="#!" class="link-icon"><i class="bi bi-eye-fill bi-bgico pulse"></i><span> </span></a></p></div></div>',3),Qa=X('<div class="hero-interactive-content"><button class="btn btn-secondary btn-icon btn-round btn-round-big btn-hero-interactive-close"><i class="bi bi-x"></i></button> <!></div>'),Za=X('<div class="row row-fao-homepage-hero py-0" data-sf-element="Row"><div class="col-md-12"><div><!></div></div></div>');function Xa(e,t){lt(t,!1),Ar("SETTINGS");let r=rt(t,"translations",8),n=rt(t,"activeLang",8),a=dt(!1);const i="https://www.fao.org/videos/homepagelibraries/hero-banner-videos/cover-light.mp4";zt();var o=Za(),d=T(o),c=T(d);let l;var s=T(c);{var f=v=>{var h=Ja(),_=xe(h);_.muted=!0;var m=T(_);tn(m,"src",i);var p=B(_,2),g=T(p),y=T(g),A=T(y),b=B(y,2),x=T(b),F=B(b,2),k=T(F);Mt(k,()=>r().get("a2"));var P=B(F,2),K=T(P),gt=B(T(K)),Oe=T(gt);pe((yt,bt,wt)=>{Se(A,yt),Se(x,bt),Se(Oe,wt)},[()=>r().get("inFocus"),()=>r().get("a1"),()=>r().get("a3")],me),le("click",b,()=>O(a,!w(a))),le("click",K,He(()=>O(a,!w(a)))),j(v,h)},u=v=>{var h=Qa(),_=T(h),m=B(_,2);Ka(m,{get translations(){return r()},get activeLang(){return n()}}),le("click",_,()=>O(a,!w(a))),re(1,_,()=>Fe,()=>({delay:2e3,duration:700})),j(v,h)};de(s,v=>{w(a)?v(u,!1):v(f)})}pe(v=>l=_a(c,1,"hero-banner hero-interactive svelte-1bgs4u2",null,l,v),[()=>({active:w(a)})],me),j(e,o),ut()}const ei=JSON.parse('[{"a1":{"en":"The four betters and leaving no one behind","fr":"Les quatre améliorations et l’idée de ne laisser personne de côté ","es":"Las cuatro mejoras y el enfoque de “asegurar que nadie se quede atrás”","zh":"“四个更好”和不让任何人掉队","ru":"Четыре направления улучшений на основе принципа \\"никто не должен остаться без внимания\\"","ar":"الفضائل الأربع وعدم ترك أي أحد خلف الركب"}},{"a2":{"en":"FAO Strategic Framework 2022-31 seeks to support the 2030 Agenda through the transformation to MORE efficient, inclusive, resilient and sustainable agrifood systems for better production, better nutrition, a better environment, and a better life, leaving no one behind.","fr":"Le Cadre stratégique 2022-2031 de la FAO a pour ambition d’appuyer la réalisation du Programme 2030 par une transformation des systèmes agroalimentaires destinée à les rendre plus efficaces, plus inclusifs, plus résilients et plus durables en vue d’améliorer la production, la nutrition, l’environnement et les conditions de vie, sans laisser personne de côté.","es":"El Marco estratégico de la FAO para 2022-2031 busca respaldar la Agenda 2030 mediante la trasformación hacia sistemas agroalimentarios MÁS eficientes, inclusivos, resilientes y sostenibles, para conseguir una mejor producción, una mejor nutrición, un mejor medio ambiente y una vida mejor sin dejar a nadie atrás.","zh":"《战略框架》旨在支持落实《2030年可持续发展议程》，着力推动转型，建设更高效、更包容、更有韧性且更可持续的农业粮食体系，实现更好生产、更好营养、更好环境和更好生活，不让任何人掉队。\\r\\n\\r\\n","ru":"Стратегическая рамочная программа ФАО на 2022-2031 годы нацелена на содействие осуществлению Повестки дня на период до 2030 года путем перехода к БОЛЕЕ эффективным, инклюзивным, невосприимчивым к внешним факторам и устойчивым агропродовольственным системам, обеспечивающим улучшение производства, улучшение качества питания, улучшение состояния окружающей среды, улучшение качества жизни и реализацию принципа \\"никто не должен остаться без внимания\\".","ar":"يسعى الإطار الاستراتيجي للمنظمة للفترة 2022-2031 إلى دعم خطة عام 2030 من خلال التحول إلى نظم زراعية وغذائية أكثر كفاءة وشمولًا وقدرة على الصمود واستدامة، من أجلإنتاج أفضل وتغذية أفضل وبيئة أفضل وحياة أفضل بما لا يترك أي أحد خلف الركب."}},{"a3":{"en":"Find out more","fr":"Pour en savoir plus","es":"Más información","zh":"更多详情","ru":"Ознакомиться с направлениями","ar":"استكشاف المزيد"}},{"a4":{"en":"Better production","fr":"Amélioration en matière de production","es":"Mejor producción","zh":"更好生产","ru":"Улучшение производства","ar":"إنتاج أفضل"}},{"a5":{"en":"Ensure sustainable consumption and production patterns, through efficient and inclusive food and agriculture supply chains at local, regional and global level, ensuring resilient and sustainable agrifood systems in a changing climate and environment.","fr":"Établir des modes de consommation et de production durables grâce à des filières d’approvisionnement efficaces et inclusives dans les secteurs de l’alimentation et de l’agriculture aux niveaux local, régional et mondial, en veillant à la résilience et à la durabilité des systèmes agroalimentaires dans le contexte du changement climatique et environnemental.","es":"Garantizar modalidades de consumo y producción sostenibles, a través de cadenas de suministro alimentario y agrícola eficientes e inclusivas en los planos local, regional y mundial, asegurando la resiliencia y la sostenibilidad de los sistemas agroalimentarios en condiciones climáticas y ambientales cambiantes.","zh":"通过当地、区域和全球层面高效和包容的粮食和农业供应链，确保可持续消费和生产模式，确保在不断变化的气候和环境中打造有韧性和可持续的农业粮食体系。","ru":"Обеспечение перехода к рациональным моделям потребления и производства за счет эффективных и инклюзивных производственно-сбытовых цепочек продовольствия и продукции сельского хозяйства на местном, региональном и глобальном уровнях, обеспечение невосприимчивости к внешним факторам и устойчивости агропродовольственных систем в условиях изменения климата и окружающей среды.","ar":"ضمان أنماط مستدامة للاستهلاك والإنتاج من خلال سلاسل لإمدادات الأغذية تتسم بالكفاءة والشمولية، على المستويات المحلية والإقليمية والعالمية، ما يضمن نظمًا زراعية وغذائية قادرة على الصمود ومستدامة في ظل تغير المناخ والبيئة."}},{"a6":{"en":"Next ","fr":"Suivant ","es":"Siguiente","zh":"下一页","ru":"Далее","ar":"التالي"}},{"a7":{"en":"Better nutrition","fr":"Amélioration en matière de nutrition","es":"Mejor nutrición","zh":"更好营养","ru":"Улучшение питания","ar":"تغذية أفضل"}},{"a8":{"en":"End hunger, achieve food security and improved nutrition in all its forms, including promoting nutritious food and increasing access to healthy diets.","fr":"Éliminer la faim, concrétiser la sécurité alimentaire et améliorer la nutrition sous toutes ses formes, notamment en promouvant des aliments nutritifs et en accroissant l’accès à des régimes alimentaires sains.","es":"Poner fin al hambre, lograr la seguridad alimentaria y la mejora de la nutrición en todas sus formas, en particular promoviendo alimentos nutritivos y aumentando el acceso a dietas saludables.","zh":"消除饥饿，实现粮食安全和改善一切形式的营养，包括推广营养食品和增加获得健康膳食的机会。","ru":"Ликвидация голода, обеспечение продовольственной безопасности и питания во всех формах (включая содействие получению питательной пищи и расширению доступа к здоровым рационам питания).","ar":"القضاء على الجوع، وتحقيق الأمن الغذائي، وتحسين التغذية بأشكالها كافة، بما في ذلك الترويج للأطعمة المغذية وزيادة فرص الحصول على أنماط غذائية صحية."}},{"b1":{"en":"Better environment","fr":"Amélioration en matière d’environnement","es":"Mejor medio ambiente","zh":"更好环境","ru":"Улучшение состояния окружающей среды","ar":"بيئة أفضل"}},{"b2":{"en":"Protect, restore and promote sustainable use of terrestrial and marine ecosystems and combat climate change (reduce, reuse, recycle, residual management) through more efficient, inclusive, resilient and sustainable agrifood systems.","fr":"Protéger et restaurer les écosystèmes terrestres et marins, promouvoir leur utilisation durable et lutter contre le changement climatique (réduction, réutilisation, recyclage et gestion des résidus) grâce à des systèmes agroalimentaires plus efficaces, plus inclusifs, plus résilients et plus durables.","es":"Proteger, restablecer y promover el uso sostenible de los ecosistemas terrestres y marinos y luchar contra el cambio climático (reducción, reutilización, reciclado, gestión de los residuos) mediante sistemas agroalimentarios más eficientes, inclusivos, resilientes y sostenibles.","zh":"保护、恢复和促进陆地和海洋生态系统的可持续利用，并通过更高效、包容、有韧性和可持续的农业粮食体系应对气候变化（减量、再利用、再循环、残余管理）。","ru":"Защита и восстановление экосистем суши и моря и содействие их рациональному использованию, а также борьба с изменением климата (сокращение потребления, повторное использование, утилизация ресурсов, обращение с отходами) на основе формирования более эффективных, инклюзивных, невосприимчивых к внешним факторам и устойчивых агропродовольственных систем.","ar":"حماية النظم الإيكولوجية الأرضية والبحرية وإصلاحها وتعزيزها واستخدامها المستدام، ومكافحة تغير المناخ (التخفيف وإعادة الاستخدام وإعادة التدوير وإدارة المخلفات) من خلال نظم زراعية وغذائية أكثر كفاءة وشمولًا وقدرة على الصمود واستدامة."}},{"b4":{"en":"Better life","fr":"Amélioration en matière de conditions de vie","es":"Una vida mejor","zh":"更好生活","ru":"Улучшение качества жизни","ar":"حياة أفضل"}},{"b5":{"en":"Promote inclusive economic growth by reducing inequalities (urban/rural areas, rich/poor countries, men/women).","fr":"Promouvoir une croissance économique inclusive en réduisant les inégalités (entre zones urbaines et zones rurales, pays riches et pays pauvres, hommes et femmes).","es":"Promover el crecimiento económico inclusivo mediante la reducción de las desigualdades (zonas urbanas y rurales, países ricos y pobres, hombres y mujeres).","zh":"通过减少不平等（城市/农村、富国/穷国、男性/女性），促进包容性经济增长。","ru":"Содействие инклюзивному экономическому росту путем сокращения неравенства (городских и сельских районов, богатых и бедных стран, мужчин и женщин).","ar":"تعزيز النمو الاقتصادي الشامل عبر الحد من أوجه عدم المساواة (المناطق الحضرية/الريفية، والبلدان الغنية/الفقيرة، الرجال/النساء)."}},{"c3HTML":{"en":"Find out more: <a href=\\"https://www.fao.org/strategic-framework/en\\" target=\\"_blank\\">FAO Strategic Framework 2022-31</a>.","fr":"Pour en savoir plus, consultez: <a href=\\"https://www.fao.org/strategic-framework/fr\\" target=\\"_blank\\">Le Cadre stratégique 2022-2031 de la FAO</a>.","es":"Obtenga más información en: <a href=\\"https://www.fao.org/strategic-framework/es\\" target=\\"_blank\\">Marco estratégico de la FAO para 2022-2031</a>.","zh":"更多详情: <a target=\\"_blank\\" rel=\\"noreferrer\\" href=\\"https://www.fao.org/food-systems/zh\\">联合国粮农组织《2022-31年战略框架》 </a>。","ru":"Узнайте больше: <a href=\\"https://www.fao.org/strategic-framework/ru\\" target=\\"_blank\\">Стратегическая рамочная программа ФАО на 2022-2031 годы</a>.","ar":"استكشاف المزيد: <a href=\\"https://www.fao.org/strategic-framework/ar\\" target=\\"_blank\\">النظم الغذائية</a>."}},{"inFocus":{"en":"In focus","fr":"EN PROFONDEUR","es":"A FONDO","zh":"聚焦","ru":"В ЦЕНТРЕ ВНИМАНИЯ","ar":" في بؤرة التركيز"}},{"keyFact":{"en":"Key fact","fr":"Enjeu","es":"Dato clave","zh":"关键事实","ru":"Ключевой факт","ar":"النقاط الرئيسية"}},{"null":{"ru":"Дополнительная информация"}}]');function ti(e,t){lt(t,!1);const r=document.documentElement.lang||"en";class n{constructor(l){this.data=new Map,l.forEach(s=>{const f=Object.keys(s)[0];this.data.set(f,s[f])})}get(l){const s=this.data.get(l);return s?s[r]:(console.warn(`Translation key not found: ${l}`),l)}}const a=new n(ei);console.log("OCC-IB corporate build"),zt();var i=en(),o=xe(i);{var d=c=>{Xa(c,{get translations(){return a},get activeLang(){return r}})};de(o,c=>{c(d,!1)})}j(e,i),ut()}oa(ti,{target:document.getElementById("OCC-IB")});


      })();
</script>

<style>
    @charset "UTF-8";@import"https://fonts.googleapis.com/css2?family=Montserrat:wght@100;200;300;400;500;600;700;800;900&display=swap";@import"https://fonts.googleapis.com/css2?family=Merriweather:wght@300;400;700&display=swap";@import"https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;500;600;700;800&display=swap";@import"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css";@import"https://fonts.googleapis.com/css2?family=Cairo&display=swap";@import"https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;700&display=swap";/*!
* Bootstrap  v5.3.6 (https://getbootstrap.com/)
* Copyright 2011-2025 The Bootstrap Authors
* Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
*/:root,[data-bs-theme=light]{--bs-blue:#0d6efd;--bs-indigo:#6610f2;--bs-purple:#6f42c1;--bs-pink:#d63384;--bs-red:#dc3545;--bs-orange:#fd7e14;--bs-yellow:#ffc107;--bs-green:#198754;--bs-teal:#20c997;--bs-cyan:#0dcaf0;--bs-black:#000;--bs-white:#fff;--bs-gray:#6c757d;--bs-gray-dark:#343a40;--bs-gray-100:#f8f9fa;--bs-gray-200:#e9ecef;--bs-gray-300:#dee2e6;--bs-gray-400:#ced4da;--bs-gray-500:#adb5bd;--bs-gray-600:#6c757d;--bs-gray-700:#495057;--bs-gray-800:#343a40;--bs-gray-900:#212529;--bs-primary:#0d6efd;--bs-secondary:#6c757d;--bs-success:#198754;--bs-info:#0dcaf0;--bs-warning:#ffc107;--bs-danger:#dc3545;--bs-light:#f8f9fa;--bs-dark:#212529;--bs-primary-rgb:13,110,253;--bs-secondary-rgb:108,117,125;--bs-success-rgb:25,135,84;--bs-info-rgb:13,202,240;--bs-warning-rgb:255,193,7;--bs-danger-rgb:220,53,69;--bs-light-rgb:248,249,250;--bs-dark-rgb:33,37,41;--bs-primary-text-emphasis:#052c65;--bs-secondary-text-emphasis:#2b2f32;--bs-success-text-emphasis:#0a3622;--bs-info-text-emphasis:#055160;--bs-warning-text-emphasis:#664d03;--bs-danger-text-emphasis:#58151c;--bs-light-text-emphasis:#495057;--bs-dark-text-emphasis:#495057;--bs-primary-bg-subtle:#cfe2ff;--bs-secondary-bg-subtle:#e2e3e5;--bs-success-bg-subtle:#d1e7dd;--bs-info-bg-subtle:#cff4fc;--bs-warning-bg-subtle:#fff3cd;--bs-danger-bg-subtle:#f8d7da;--bs-light-bg-subtle:#fcfcfd;--bs-dark-bg-subtle:#ced4da;--bs-primary-border-subtle:#9ec5fe;--bs-secondary-border-subtle:#c4c8cb;--bs-success-border-subtle:#a3cfbb;--bs-info-border-subtle:#9eeaf9;--bs-warning-border-subtle:#ffe69c;--bs-danger-border-subtle:#f1aeb5;--bs-light-border-subtle:#e9ecef;--bs-dark-border-subtle:#adb5bd;--bs-white-rgb:255,255,255;--bs-black-rgb:0,0,0;--bs-font-sans-serif:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue","Noto Sans","Liberation Sans",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--bs-font-monospace:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;--bs-gradient:linear-gradient(180deg, rgba(255, 255, 255, .15), rgba(255, 255, 255, 0));--bs-body-font-family:var(--bs-font-sans-serif);--bs-body-font-size:1rem;--bs-body-font-weight:400;--bs-body-line-height:1.5;--bs-body-color:#212529;--bs-body-color-rgb:33,37,41;--bs-body-bg:#fff;--bs-body-bg-rgb:255,255,255;--bs-emphasis-color:#000;--bs-emphasis-color-rgb:0,0,0;--bs-secondary-color:rgba(33, 37, 41, .75);--bs-secondary-color-rgb:33,37,41;--bs-secondary-bg:#e9ecef;--bs-secondary-bg-rgb:233,236,239;--bs-tertiary-color:rgba(33, 37, 41, .5);--bs-tertiary-color-rgb:33,37,41;--bs-tertiary-bg:#f8f9fa;--bs-tertiary-bg-rgb:248,249,250;--bs-heading-color:inherit;--bs-link-color:#0d6efd;--bs-link-color-rgb:13,110,253;--bs-link-decoration:underline;--bs-link-hover-color:#0a58ca;--bs-link-hover-color-rgb:10,88,202;--bs-code-color:#d63384;--bs-highlight-color:#212529;--bs-highlight-bg:#fff3cd;--bs-border-width:1px;--bs-border-style:solid;--bs-border-color:#dee2e6;--bs-border-color-translucent:rgba(0, 0, 0, .175);--bs-border-radius:.375rem;--bs-border-radius-sm:.25rem;--bs-border-radius-lg:.5rem;--bs-border-radius-xl:1rem;--bs-border-radius-xxl:2rem;--bs-border-radius-2xl:var(--bs-border-radius-xxl);--bs-border-radius-pill:50rem;--bs-box-shadow:0 .5rem 1rem rgba(0, 0, 0, .15);--bs-box-shadow-sm:0 .125rem .25rem rgba(0, 0, 0, .075);--bs-box-shadow-lg:0 1rem 3rem rgba(0, 0, 0, .175);--bs-box-shadow-inset:inset 0 1px 2px rgba(0, 0, 0, .075);--bs-focus-ring-width:.25rem;--bs-focus-ring-opacity:.25;--bs-focus-ring-color:rgba(13, 110, 253, .25);--bs-form-valid-color:#198754;--bs-form-valid-border-color:#198754;--bs-form-invalid-color:#dc3545;--bs-form-invalid-border-color:#dc3545}[data-bs-theme=dark]{color-scheme:dark;--bs-body-color:#dee2e6;--bs-body-color-rgb:222,226,230;--bs-body-bg:#212529;--bs-body-bg-rgb:33,37,41;--bs-emphasis-color:#fff;--bs-emphasis-color-rgb:255,255,255;--bs-secondary-color:rgba(222, 226, 230, .75);--bs-secondary-color-rgb:222,226,230;--bs-secondary-bg:#343a40;--bs-secondary-bg-rgb:52,58,64;--bs-tertiary-color:rgba(222, 226, 230, .5);--bs-tertiary-color-rgb:222,226,230;--bs-tertiary-bg:#2b3035;--bs-tertiary-bg-rgb:43,48,53;--bs-primary-text-emphasis:#6ea8fe;--bs-secondary-text-emphasis:#a7acb1;--bs-success-text-emphasis:#75b798;--bs-info-text-emphasis:#6edff6;--bs-warning-text-emphasis:#ffda6a;--bs-danger-text-emphasis:#ea868f;--bs-light-text-emphasis:#f8f9fa;--bs-dark-text-emphasis:#dee2e6;--bs-primary-bg-subtle:#031633;--bs-secondary-bg-subtle:#161719;--bs-success-bg-subtle:#051b11;--bs-info-bg-subtle:#032830;--bs-warning-bg-subtle:#332701;--bs-danger-bg-subtle:#2c0b0e;--bs-light-bg-subtle:#343a40;--bs-dark-bg-subtle:#1a1d20;--bs-primary-border-subtle:#084298;--bs-secondary-border-subtle:#41464b;--bs-success-border-subtle:#0f5132;--bs-info-border-subtle:#087990;--bs-warning-border-subtle:#997404;--bs-danger-border-subtle:#842029;--bs-light-border-subtle:#495057;--bs-dark-border-subtle:#343a40;--bs-heading-color:inherit;--bs-link-color:#6ea8fe;--bs-link-hover-color:#8bb9fe;--bs-link-color-rgb:110,168,254;--bs-link-hover-color-rgb:139,185,254;--bs-code-color:#e685b5;--bs-highlight-color:#dee2e6;--bs-highlight-bg:#664d03;--bs-border-color:#495057;--bs-border-color-translucent:rgba(255, 255, 255, .15);--bs-form-valid-color:#75b798;--bs-form-valid-border-color:#75b798;--bs-form-invalid-color:#ea868f;--bs-form-invalid-border-color:#ea868f}*,:after,:before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:var(--bs-body-font-family);font-size:var(--bs-body-font-size);font-weight:var(--bs-body-font-weight);line-height:var(--bs-body-line-height);color:var(--bs-body-color);text-align:var(--bs-body-text-align);background-color:var(--bs-body-bg);-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;border:0;border-top:var(--bs-border-width) solid;opacity:.25}.h1,.h2,.h3,.h4,.h5,.h6,h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2;color:var(--bs-heading-color)}.h1,h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){.h1,h1{font-size:2.5rem}}.h2,h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){.h2,h2{font-size:2rem}}.h3,h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){.h3,h3{font-size:1.75rem}}.h4,h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){.h4,h4{font-size:1.5rem}}.h5,h5{font-size:1.25rem}.h6,h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}.small,small{font-size:.875em}.mark,mark{padding:.1875em;color:var(--bs-highlight-color);background-color:var(--bs-highlight-bg)}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:rgba(var(--bs-link-color-rgb),var(--bs-link-opacity,1));text-decoration:underline}a:hover{--bs-link-color-rgb:var(--bs-link-hover-color-rgb)}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:var(--bs-font-monospace);font-size:1em}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:var(--bs-code-color);word-wrap:break-word}a>code{color:inherit}kbd{padding:.1875rem .375rem;font-size:.875em;color:var(--bs-body-bg);background-color:var(--bs-body-color);border-radius:.25rem}kbd kbd{padding:0;font-size:1em}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:var(--bs-secondary-color);text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]:not([type=date]):not([type=datetime-local]):not([type=month]):not([type=week]):not([type=time])::-webkit-calendar-picker-indicator{display:none!important}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;line-height:inherit;font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}::file-selector-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}.lead{font-size:1.25rem;font-weight:300}.display-1{font-weight:300;line-height:1.2;font-size:calc(1.625rem + 4.5vw)}@media (min-width:1200px){.display-1{font-size:5rem}}.display-2{font-weight:300;line-height:1.2;font-size:calc(1.575rem + 3.9vw)}@media (min-width:1200px){.display-2{font-size:4.5rem}}.display-3{font-weight:300;line-height:1.2;font-size:calc(1.525rem + 3.3vw)}@media (min-width:1200px){.display-3{font-size:4rem}}.display-4{font-weight:300;line-height:1.2;font-size:calc(1.475rem + 2.7vw)}@media (min-width:1200px){.display-4{font-size:3.5rem}}.display-5{font-weight:300;line-height:1.2;font-size:calc(1.425rem + 2.1vw)}@media (min-width:1200px){.display-5{font-size:3rem}}.display-6{font-weight:300;line-height:1.2;font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){.display-6{font-size:2.5rem}}.list-unstyled,.list-inline{padding-left:0;list-style:none}.list-inline-item{display:inline-block}.list-inline-item:not(:last-child){margin-right:.5rem}.initialism{font-size:.875em;text-transform:uppercase}.blockquote{margin-bottom:1rem;font-size:1.25rem}.blockquote>:last-child{margin-bottom:0}.blockquote-footer{margin-top:-1rem;margin-bottom:1rem;font-size:.875em;color:#6c757d}.blockquote-footer:before{content:"— "}.img-fluid{max-width:100%;height:auto}.img-thumbnail{padding:.25rem;background-color:var(--bs-body-bg);border:var(--bs-border-width) solid var(--bs-border-color);border-radius:var(--bs-border-radius);max-width:100%;height:auto}.figure{display:inline-block}.figure-img{margin-bottom:.5rem;line-height:1}.figure-caption{font-size:.875em;color:var(--bs-secondary-color)}.container,.container-fluid,.container-lg,.container-md,.container-sm,.container-xl,.container-xxl{--bs-gutter-x:1.5rem;--bs-gutter-y:0;width:100%;padding-right:calc(var(--bs-gutter-x) * .5);padding-left:calc(var(--bs-gutter-x) * .5);margin-right:auto;margin-left:auto}@media (min-width:576px){.container,.container-sm{max-width:540px}}@media (min-width:768px){.container,.container-md,.container-sm{max-width:720px}}@media (min-width:992px){.container,.container-lg,.container-md,.container-sm{max-width:960px}}@media (min-width:1200px){.container,.container-lg,.container-md,.container-sm,.container-xl{max-width:1140px}}@media (min-width:1400px){.container,.container-lg,.container-md,.container-sm,.container-xl,.container-xxl{max-width:1320px}}:root{--bs-breakpoint-xs:0;--bs-breakpoint-sm:576px;--bs-breakpoint-md:768px;--bs-breakpoint-lg:992px;--bs-breakpoint-xl:1200px;--bs-breakpoint-xxl:1400px}.row{--bs-gutter-x:1.5rem;--bs-gutter-y:0;display:flex;flex-wrap:wrap;margin-top:calc(-1 * var(--bs-gutter-y));margin-right:calc(-.5 * var(--bs-gutter-x));margin-left:calc(-.5 * var(--bs-gutter-x))}.row>*{flex-shrink:0;width:100%;max-width:100%;padding-right:calc(var(--bs-gutter-x) * .5);padding-left:calc(var(--bs-gutter-x) * .5);margin-top:var(--bs-gutter-y)}.col{flex:1 0 0}.row-cols-auto>*{flex:0 0 auto;width:auto}.row-cols-1>*{flex:0 0 auto;width:100%}.row-cols-2>*{flex:0 0 auto;width:50%}.row-cols-3>*{flex:0 0 auto;width:33.33333333%}.row-cols-4>*{flex:0 0 auto;width:25%}.row-cols-5>*{flex:0 0 auto;width:20%}.row-cols-6>*{flex:0 0 auto;width:16.66666667%}.col-auto{flex:0 0 auto;width:auto}.col-1{flex:0 0 auto;width:8.33333333%}.col-2{flex:0 0 auto;width:16.66666667%}.col-3{flex:0 0 auto;width:25%}.col-4{flex:0 0 auto;width:33.33333333%}.col-5{flex:0 0 auto;width:41.66666667%}.col-6{flex:0 0 auto;width:50%}.col-7{flex:0 0 auto;width:58.33333333%}.col-8{flex:0 0 auto;width:66.66666667%}.col-9{flex:0 0 auto;width:75%}.col-10{flex:0 0 auto;width:83.33333333%}.col-11{flex:0 0 auto;width:91.66666667%}.col-12{flex:0 0 auto;width:100%}.offset-1{margin-left:8.33333333%}.offset-2{margin-left:16.66666667%}.offset-3{margin-left:25%}.offset-4{margin-left:33.33333333%}.offset-5{margin-left:41.66666667%}.offset-6{margin-left:50%}.offset-7{margin-left:58.33333333%}.offset-8{margin-left:66.66666667%}.offset-9{margin-left:75%}.offset-10{margin-left:83.33333333%}.offset-11{margin-left:91.66666667%}.g-0,.gx-0{--bs-gutter-x:0}.g-0,.gy-0{--bs-gutter-y:0}.g-1,.gx-1{--bs-gutter-x:.25rem}.g-1,.gy-1{--bs-gutter-y:.25rem}.g-2,.gx-2{--bs-gutter-x:.5rem}.g-2,.gy-2{--bs-gutter-y:.5rem}.g-3,.gx-3{--bs-gutter-x:1rem}.g-3,.gy-3{--bs-gutter-y:1rem}.g-4,.gx-4{--bs-gutter-x:1.5rem}.g-4,.gy-4{--bs-gutter-y:1.5rem}.g-5,.gx-5{--bs-gutter-x:3rem}.g-5,.gy-5{--bs-gutter-y:3rem}@media (min-width:576px){.col-sm{flex:1 0 0}.row-cols-sm-auto>*{flex:0 0 auto;width:auto}.row-cols-sm-1>*{flex:0 0 auto;width:100%}.row-cols-sm-2>*{flex:0 0 auto;width:50%}.row-cols-sm-3>*{flex:0 0 auto;width:33.33333333%}.row-cols-sm-4>*{flex:0 0 auto;width:25%}.row-cols-sm-5>*{flex:0 0 auto;width:20%}.row-cols-sm-6>*{flex:0 0 auto;width:16.66666667%}.col-sm-auto{flex:0 0 auto;width:auto}.col-sm-1{flex:0 0 auto;width:8.33333333%}.col-sm-2{flex:0 0 auto;width:16.66666667%}.col-sm-3{flex:0 0 auto;width:25%}.col-sm-4{flex:0 0 auto;width:33.33333333%}.col-sm-5{flex:0 0 auto;width:41.66666667%}.col-sm-6{flex:0 0 auto;width:50%}.col-sm-7{flex:0 0 auto;width:58.33333333%}.col-sm-8{flex:0 0 auto;width:66.66666667%}.col-sm-9{flex:0 0 auto;width:75%}.col-sm-10{flex:0 0 auto;width:83.33333333%}.col-sm-11{flex:0 0 auto;width:91.66666667%}.col-sm-12{flex:0 0 auto;width:100%}.offset-sm-0{margin-left:0}.offset-sm-1{margin-left:8.33333333%}.offset-sm-2{margin-left:16.66666667%}.offset-sm-3{margin-left:25%}.offset-sm-4{margin-left:33.33333333%}.offset-sm-5{margin-left:41.66666667%}.offset-sm-6{margin-left:50%}.offset-sm-7{margin-left:58.33333333%}.offset-sm-8{margin-left:66.66666667%}.offset-sm-9{margin-left:75%}.offset-sm-10{margin-left:83.33333333%}.offset-sm-11{margin-left:91.66666667%}.g-sm-0,.gx-sm-0{--bs-gutter-x:0}.g-sm-0,.gy-sm-0{--bs-gutter-y:0}.g-sm-1,.gx-sm-1{--bs-gutter-x:.25rem}.g-sm-1,.gy-sm-1{--bs-gutter-y:.25rem}.g-sm-2,.gx-sm-2{--bs-gutter-x:.5rem}.g-sm-2,.gy-sm-2{--bs-gutter-y:.5rem}.g-sm-3,.gx-sm-3{--bs-gutter-x:1rem}.g-sm-3,.gy-sm-3{--bs-gutter-y:1rem}.g-sm-4,.gx-sm-4{--bs-gutter-x:1.5rem}.g-sm-4,.gy-sm-4{--bs-gutter-y:1.5rem}.g-sm-5,.gx-sm-5{--bs-gutter-x:3rem}.g-sm-5,.gy-sm-5{--bs-gutter-y:3rem}}@media (min-width:768px){.col-md{flex:1 0 0}.row-cols-md-auto>*{flex:0 0 auto;width:auto}.row-cols-md-1>*{flex:0 0 auto;width:100%}.row-cols-md-2>*{flex:0 0 auto;width:50%}.row-cols-md-3>*{flex:0 0 auto;width:33.33333333%}.row-cols-md-4>*{flex:0 0 auto;width:25%}.row-cols-md-5>*{flex:0 0 auto;width:20%}.row-cols-md-6>*{flex:0 0 auto;width:16.66666667%}.col-md-auto{flex:0 0 auto;width:auto}.col-md-1{flex:0 0 auto;width:8.33333333%}.col-md-2{flex:0 0 auto;width:16.66666667%}.col-md-3{flex:0 0 auto;width:25%}.col-md-4{flex:0 0 auto;width:33.33333333%}.col-md-5{flex:0 0 auto;width:41.66666667%}.col-md-6{flex:0 0 auto;width:50%}.col-md-7{flex:0 0 auto;width:58.33333333%}.col-md-8{flex:0 0 auto;width:66.66666667%}.col-md-9{flex:0 0 auto;width:75%}.col-md-10{flex:0 0 auto;width:83.33333333%}.col-md-11{flex:0 0 auto;width:91.66666667%}.col-md-12{flex:0 0 auto;width:100%}.offset-md-0{margin-left:0}.offset-md-1{margin-left:8.33333333%}.offset-md-2{margin-left:16.66666667%}.offset-md-3{margin-left:25%}.offset-md-4{margin-left:33.33333333%}.offset-md-5{margin-left:41.66666667%}.offset-md-6{margin-left:50%}.offset-md-7{margin-left:58.33333333%}.offset-md-8{margin-left:66.66666667%}.offset-md-9{margin-left:75%}.offset-md-10{margin-left:83.33333333%}.offset-md-11{margin-left:91.66666667%}.g-md-0,.gx-md-0{--bs-gutter-x:0}.g-md-0,.gy-md-0{--bs-gutter-y:0}.g-md-1,.gx-md-1{--bs-gutter-x:.25rem}.g-md-1,.gy-md-1{--bs-gutter-y:.25rem}.g-md-2,.gx-md-2{--bs-gutter-x:.5rem}.g-md-2,.gy-md-2{--bs-gutter-y:.5rem}.g-md-3,.gx-md-3{--bs-gutter-x:1rem}.g-md-3,.gy-md-3{--bs-gutter-y:1rem}.g-md-4,.gx-md-4{--bs-gutter-x:1.5rem}.g-md-4,.gy-md-4{--bs-gutter-y:1.5rem}.g-md-5,.gx-md-5{--bs-gutter-x:3rem}.g-md-5,.gy-md-5{--bs-gutter-y:3rem}}@media (min-width:992px){.col-lg{flex:1 0 0}.row-cols-lg-auto>*{flex:0 0 auto;width:auto}.row-cols-lg-1>*{flex:0 0 auto;width:100%}.row-cols-lg-2>*{flex:0 0 auto;width:50%}.row-cols-lg-3>*{flex:0 0 auto;width:33.33333333%}.row-cols-lg-4>*{flex:0 0 auto;width:25%}.row-cols-lg-5>*{flex:0 0 auto;width:20%}.row-cols-lg-6>*{flex:0 0 auto;width:16.66666667%}.col-lg-auto{flex:0 0 auto;width:auto}.col-lg-1{flex:0 0 auto;width:8.33333333%}.col-lg-2{flex:0 0 auto;width:16.66666667%}.col-lg-3{flex:0 0 auto;width:25%}.col-lg-4{flex:0 0 auto;width:33.33333333%}.col-lg-5{flex:0 0 auto;width:41.66666667%}.col-lg-6{flex:0 0 auto;width:50%}.col-lg-7{flex:0 0 auto;width:58.33333333%}.col-lg-8{flex:0 0 auto;width:66.66666667%}.col-lg-9{flex:0 0 auto;width:75%}.col-lg-10{flex:0 0 auto;width:83.33333333%}.col-lg-11{flex:0 0 auto;width:91.66666667%}.col-lg-12{flex:0 0 auto;width:100%}.offset-lg-0{margin-left:0}.offset-lg-1{margin-left:8.33333333%}.offset-lg-2{margin-left:16.66666667%}.offset-lg-3{margin-left:25%}.offset-lg-4{margin-left:33.33333333%}.offset-lg-5{margin-left:41.66666667%}.offset-lg-6{margin-left:50%}.offset-lg-7{margin-left:58.33333333%}.offset-lg-8{margin-left:66.66666667%}.offset-lg-9{margin-left:75%}.offset-lg-10{margin-left:83.33333333%}.offset-lg-11{margin-left:91.66666667%}.g-lg-0,.gx-lg-0{--bs-gutter-x:0}.g-lg-0,.gy-lg-0{--bs-gutter-y:0}.g-lg-1,.gx-lg-1{--bs-gutter-x:.25rem}.g-lg-1,.gy-lg-1{--bs-gutter-y:.25rem}.g-lg-2,.gx-lg-2{--bs-gutter-x:.5rem}.g-lg-2,.gy-lg-2{--bs-gutter-y:.5rem}.g-lg-3,.gx-lg-3{--bs-gutter-x:1rem}.g-lg-3,.gy-lg-3{--bs-gutter-y:1rem}.g-lg-4,.gx-lg-4{--bs-gutter-x:1.5rem}.g-lg-4,.gy-lg-4{--bs-gutter-y:1.5rem}.g-lg-5,.gx-lg-5{--bs-gutter-x:3rem}.g-lg-5,.gy-lg-5{--bs-gutter-y:3rem}}@media (min-width:1200px){.col-xl{flex:1 0 0}.row-cols-xl-auto>*{flex:0 0 auto;width:auto}.row-cols-xl-1>*{flex:0 0 auto;width:100%}.row-cols-xl-2>*{flex:0 0 auto;width:50%}.row-cols-xl-3>*{flex:0 0 auto;width:33.33333333%}.row-cols-xl-4>*{flex:0 0 auto;width:25%}.row-cols-xl-5>*{flex:0 0 auto;width:20%}.row-cols-xl-6>*{flex:0 0 auto;width:16.66666667%}.col-xl-auto{flex:0 0 auto;width:auto}.col-xl-1{flex:0 0 auto;width:8.33333333%}.col-xl-2{flex:0 0 auto;width:16.66666667%}.col-xl-3{flex:0 0 auto;width:25%}.col-xl-4{flex:0 0 auto;width:33.33333333%}.col-xl-5{flex:0 0 auto;width:41.66666667%}.col-xl-6{flex:0 0 auto;width:50%}.col-xl-7{flex:0 0 auto;width:58.33333333%}.col-xl-8{flex:0 0 auto;width:66.66666667%}.col-xl-9{flex:0 0 auto;width:75%}.col-xl-10{flex:0 0 auto;width:83.33333333%}.col-xl-11{flex:0 0 auto;width:91.66666667%}.col-xl-12{flex:0 0 auto;width:100%}.offset-xl-0{margin-left:0}.offset-xl-1{margin-left:8.33333333%}.offset-xl-2{margin-left:16.66666667%}.offset-xl-3{margin-left:25%}.offset-xl-4{margin-left:33.33333333%}.offset-xl-5{margin-left:41.66666667%}.offset-xl-6{margin-left:50%}.offset-xl-7{margin-left:58.33333333%}.offset-xl-8{margin-left:66.66666667%}.offset-xl-9{margin-left:75%}.offset-xl-10{margin-left:83.33333333%}.offset-xl-11{margin-left:91.66666667%}.g-xl-0,.gx-xl-0{--bs-gutter-x:0}.g-xl-0,.gy-xl-0{--bs-gutter-y:0}.g-xl-1,.gx-xl-1{--bs-gutter-x:.25rem}.g-xl-1,.gy-xl-1{--bs-gutter-y:.25rem}.g-xl-2,.gx-xl-2{--bs-gutter-x:.5rem}.g-xl-2,.gy-xl-2{--bs-gutter-y:.5rem}.g-xl-3,.gx-xl-3{--bs-gutter-x:1rem}.g-xl-3,.gy-xl-3{--bs-gutter-y:1rem}.g-xl-4,.gx-xl-4{--bs-gutter-x:1.5rem}.g-xl-4,.gy-xl-4{--bs-gutter-y:1.5rem}.g-xl-5,.gx-xl-5{--bs-gutter-x:3rem}.g-xl-5,.gy-xl-5{--bs-gutter-y:3rem}}@media (min-width:1400px){.col-xxl{flex:1 0 0}.row-cols-xxl-auto>*{flex:0 0 auto;width:auto}.row-cols-xxl-1>*{flex:0 0 auto;width:100%}.row-cols-xxl-2>*{flex:0 0 auto;width:50%}.row-cols-xxl-3>*{flex:0 0 auto;width:33.33333333%}.row-cols-xxl-4>*{flex:0 0 auto;width:25%}.row-cols-xxl-5>*{flex:0 0 auto;width:20%}.row-cols-xxl-6>*{flex:0 0 auto;width:16.66666667%}.col-xxl-auto{flex:0 0 auto;width:auto}.col-xxl-1{flex:0 0 auto;width:8.33333333%}.col-xxl-2{flex:0 0 auto;width:16.66666667%}.col-xxl-3{flex:0 0 auto;width:25%}.col-xxl-4{flex:0 0 auto;width:33.33333333%}.col-xxl-5{flex:0 0 auto;width:41.66666667%}.col-xxl-6{flex:0 0 auto;width:50%}.col-xxl-7{flex:0 0 auto;width:58.33333333%}.col-xxl-8{flex:0 0 auto;width:66.66666667%}.col-xxl-9{flex:0 0 auto;width:75%}.col-xxl-10{flex:0 0 auto;width:83.33333333%}.col-xxl-11{flex:0 0 auto;width:91.66666667%}.col-xxl-12{flex:0 0 auto;width:100%}.offset-xxl-0{margin-left:0}.offset-xxl-1{margin-left:8.33333333%}.offset-xxl-2{margin-left:16.66666667%}.offset-xxl-3{margin-left:25%}.offset-xxl-4{margin-left:33.33333333%}.offset-xxl-5{margin-left:41.66666667%}.offset-xxl-6{margin-left:50%}.offset-xxl-7{margin-left:58.33333333%}.offset-xxl-8{margin-left:66.66666667%}.offset-xxl-9{margin-left:75%}.offset-xxl-10{margin-left:83.33333333%}.offset-xxl-11{margin-left:91.66666667%}.g-xxl-0,.gx-xxl-0{--bs-gutter-x:0}.g-xxl-0,.gy-xxl-0{--bs-gutter-y:0}.g-xxl-1,.gx-xxl-1{--bs-gutter-x:.25rem}.g-xxl-1,.gy-xxl-1{--bs-gutter-y:.25rem}.g-xxl-2,.gx-xxl-2{--bs-gutter-x:.5rem}.g-xxl-2,.gy-xxl-2{--bs-gutter-y:.5rem}.g-xxl-3,.gx-xxl-3{--bs-gutter-x:1rem}.g-xxl-3,.gy-xxl-3{--bs-gutter-y:1rem}.g-xxl-4,.gx-xxl-4{--bs-gutter-x:1.5rem}.g-xxl-4,.gy-xxl-4{--bs-gutter-y:1.5rem}.g-xxl-5,.gx-xxl-5{--bs-gutter-x:3rem}.g-xxl-5,.gy-xxl-5{--bs-gutter-y:3rem}}.table{--bs-table-color-type:initial;--bs-table-bg-type:initial;--bs-table-color-state:initial;--bs-table-bg-state:initial;--bs-table-color:var(--bs-emphasis-color);--bs-table-bg:var(--bs-body-bg);--bs-table-border-color:var(--bs-border-color);--bs-table-accent-bg:transparent;--bs-table-striped-color:var(--bs-emphasis-color);--bs-table-striped-bg:rgba(var(--bs-emphasis-color-rgb), .05);--bs-table-active-color:var(--bs-emphasis-color);--bs-table-active-bg:rgba(var(--bs-emphasis-color-rgb), .1);--bs-table-hover-color:var(--bs-emphasis-color);--bs-table-hover-bg:rgba(var(--bs-emphasis-color-rgb), .075);width:100%;margin-bottom:1rem;vertical-align:top;border-color:var(--bs-table-border-color)}.table>:not(caption)>*>*{padding:.5rem;color:var(--bs-table-color-state,var(--bs-table-color-type,var(--bs-table-color)));background-color:var(--bs-table-bg);border-bottom-width:var(--bs-border-width);box-shadow:inset 0 0 0 9999px var(--bs-table-bg-state,var(--bs-table-bg-type,var(--bs-table-accent-bg)))}.table>tbody{vertical-align:inherit}.table>thead{vertical-align:bottom}.table-group-divider{border-top:calc(var(--bs-border-width) * 2) solid currentcolor}.caption-top{caption-side:top}.table-sm>:not(caption)>*>*{padding:.25rem}.table-bordered>:not(caption)>*{border-width:var(--bs-border-width) 0}.table-bordered>:not(caption)>*>*{border-width:0 var(--bs-border-width)}.table-borderless>:not(caption)>*>*{border-bottom-width:0}.table-borderless>:not(:first-child){border-top-width:0}.table-striped>tbody>tr:nth-of-type(odd)>*{--bs-table-color-type:var(--bs-table-striped-color);--bs-table-bg-type:var(--bs-table-striped-bg)}.table-striped-columns>:not(caption)>tr>:nth-child(2n){--bs-table-color-type:var(--bs-table-striped-color);--bs-table-bg-type:var(--bs-table-striped-bg)}.table-active{--bs-table-color-state:var(--bs-table-active-color);--bs-table-bg-state:var(--bs-table-active-bg)}.table-hover>tbody>tr:hover>*{--bs-table-color-state:var(--bs-table-hover-color);--bs-table-bg-state:var(--bs-table-hover-bg)}.table-primary{--bs-table-color:#000;--bs-table-bg:#cfe2ff;--bs-table-border-color:#a6b5cc;--bs-table-striped-bg:#c5d7f2;--bs-table-striped-color:#000;--bs-table-active-bg:#bacbe6;--bs-table-active-color:#000;--bs-table-hover-bg:#bfd1ec;--bs-table-hover-color:#000;color:var(--bs-table-color);border-color:var(--bs-table-border-color)}.table-secondary{--bs-table-color:#000;--bs-table-bg:#e2e3e5;--bs-table-border-color:#b5b6b7;--bs-table-striped-bg:#d7d8da;--bs-table-striped-color:#000;--bs-table-active-bg:#cbccce;--bs-table-active-color:#000;--bs-table-hover-bg:#d1d2d4;--bs-table-hover-color:#000;color:var(--bs-table-color);border-color:var(--bs-table-border-color)}.table-success{--bs-table-color:#000;--bs-table-bg:#d1e7dd;--bs-table-border-color:#a7b9b1;--bs-table-striped-bg:#c7dbd2;--bs-table-striped-color:#000;--bs-table-active-bg:#bcd0c7;--bs-table-active-color:#000;--bs-table-hover-bg:#c1d6cc;--bs-table-hover-color:#000;color:var(--bs-table-color);border-color:var(--bs-table-border-color)}.table-info{--bs-table-color:#000;--bs-table-bg:#cff4fc;--bs-table-border-color:#a6c3ca;--bs-table-striped-bg:#c5e8ef;--bs-table-striped-color:#000;--bs-table-active-bg:#badce3;--bs-table-active-color:#000;--bs-table-hover-bg:#bfe2e9;--bs-table-hover-color:#000;color:var(--bs-table-color);border-color:var(--bs-table-border-color)}.table-warning{--bs-table-color:#000;--bs-table-bg:#fff3cd;--bs-table-border-color:#ccc2a4;--bs-table-striped-bg:#f2e7c3;--bs-table-striped-color:#000;--bs-table-active-bg:#e6dbb9;--bs-table-active-color:#000;--bs-table-hover-bg:#ece1be;--bs-table-hover-color:#000;color:var(--bs-table-color);border-color:var(--bs-table-border-color)}.table-danger{--bs-table-color:#000;--bs-table-bg:#f8d7da;--bs-table-border-color:#c6acae;--bs-table-striped-bg:#eccccf;--bs-table-striped-color:#000;--bs-table-active-bg:#dfc2c4;--bs-table-active-color:#000;--bs-table-hover-bg:#e5c7ca;--bs-table-hover-color:#000;color:var(--bs-table-color);border-color:var(--bs-table-border-color)}.table-light{--bs-table-color:#000;--bs-table-bg:#f8f9fa;--bs-table-border-color:#c6c7c8;--bs-table-striped-bg:#ecedee;--bs-table-striped-color:#000;--bs-table-active-bg:#dfe0e1;--bs-table-active-color:#000;--bs-table-hover-bg:#e5e6e7;--bs-table-hover-color:#000;color:var(--bs-table-color);border-color:var(--bs-table-border-color)}.table-dark{--bs-table-color:#fff;--bs-table-bg:#212529;--bs-table-border-color:#4d5154;--bs-table-striped-bg:#2c3034;--bs-table-striped-color:#fff;--bs-table-active-bg:#373b3e;--bs-table-active-color:#fff;--bs-table-hover-bg:#323539;--bs-table-hover-color:#fff;color:var(--bs-table-color);border-color:var(--bs-table-border-color)}.table-responsive{overflow-x:auto;-webkit-overflow-scrolling:touch}@media (max-width:575.98px){.table-responsive-sm{overflow-x:auto;-webkit-overflow-scrolling:touch}}@media (max-width:767.98px){.table-responsive-md{overflow-x:auto;-webkit-overflow-scrolling:touch}}@media (max-width:991.98px){.table-responsive-lg{overflow-x:auto;-webkit-overflow-scrolling:touch}}@media (max-width:1199.98px){.table-responsive-xl{overflow-x:auto;-webkit-overflow-scrolling:touch}}@media (max-width:1399.98px){.table-responsive-xxl{overflow-x:auto;-webkit-overflow-scrolling:touch}}.form-label{margin-bottom:.5rem}.col-form-label{padding-top:calc(.375rem + var(--bs-border-width));padding-bottom:calc(.375rem + var(--bs-border-width));margin-bottom:0;font-size:inherit;line-height:1.5}.col-form-label-lg{padding-top:calc(.5rem + var(--bs-border-width));padding-bottom:calc(.5rem + var(--bs-border-width));font-size:1.25rem}.col-form-label-sm{padding-top:calc(.25rem + var(--bs-border-width));padding-bottom:calc(.25rem + var(--bs-border-width));font-size:.875rem}.form-text{margin-top:.25rem;font-size:.875em;color:var(--bs-secondary-color)}.form-control{display:block;width:100%;padding:.375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:var(--bs-body-color);-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--bs-body-bg);background-clip:padding-box;border:var(--bs-border-width) solid var(--bs-border-color);border-radius:var(--bs-border-radius);transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.form-control{transition:none}}.form-control[type=file]{overflow:hidden}.form-control[type=file]:not(:disabled):not([readonly]){cursor:pointer}.form-control:focus{color:var(--bs-body-color);background-color:var(--bs-body-bg);border-color:#86b7fe;outline:0;box-shadow:0 0 0 .25rem #0d6efd40}.form-control::-webkit-date-and-time-value{min-width:85px;height:1.5em;margin:0}.form-control::-webkit-datetime-edit{display:block;padding:0}.form-control::placeholder{color:var(--bs-secondary-color);opacity:1}.form-control:disabled{background-color:var(--bs-secondary-bg);opacity:1}.form-control::-webkit-file-upload-button{padding:.375rem .75rem;margin:-.375rem -.75rem;-webkit-margin-end:.75rem;margin-inline-end:.75rem;color:var(--bs-body-color);background-color:var(--bs-tertiary-bg);pointer-events:none;border-color:inherit;border-style:solid;border-width:0;border-inline-end-width:var(--bs-border-width);border-radius:0;-webkit-transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}.form-control::file-selector-button{padding:.375rem .75rem;margin:-.375rem -.75rem;-webkit-margin-end:.75rem;margin-inline-end:.75rem;color:var(--bs-body-color);background-color:var(--bs-tertiary-bg);pointer-events:none;border-color:inherit;border-style:solid;border-width:0;border-inline-end-width:var(--bs-border-width);border-radius:0;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.form-control::-webkit-file-upload-button{-webkit-transition:none;transition:none}.form-control::file-selector-button{transition:none}}.form-control:hover:not(:disabled):not([readonly])::-webkit-file-upload-button{background-color:var(--bs-secondary-bg)}.form-control:hover:not(:disabled):not([readonly])::file-selector-button{background-color:var(--bs-secondary-bg)}.form-control-plaintext{display:block;width:100%;padding:.375rem 0;margin-bottom:0;line-height:1.5;color:var(--bs-body-color);background-color:transparent;border:solid transparent;border-width:var(--bs-border-width) 0}.form-control-plaintext:focus{outline:0}.form-control-plaintext.form-control-lg,.form-control-plaintext.form-control-sm{padding-right:0;padding-left:0}.form-control-sm{min-height:calc(1.5em + .5rem + calc(var(--bs-border-width) * 2));padding:.25rem .5rem;font-size:.875rem;border-radius:var(--bs-border-radius-sm)}.form-control-sm::-webkit-file-upload-button{padding:.25rem .5rem;margin:-.25rem -.5rem;-webkit-margin-end:.5rem;margin-inline-end:.5rem}.form-control-sm::file-selector-button{padding:.25rem .5rem;margin:-.25rem -.5rem;-webkit-margin-end:.5rem;margin-inline-end:.5rem}.form-control-lg{min-height:calc(1.5em + 1rem + calc(var(--bs-border-width) * 2));padding:.5rem 1rem;font-size:1.25rem;border-radius:var(--bs-border-radius-lg)}.form-control-lg::-webkit-file-upload-button{padding:.5rem 1rem;margin:-.5rem -1rem;-webkit-margin-end:1rem;margin-inline-end:1rem}.form-control-lg::file-selector-button{padding:.5rem 1rem;margin:-.5rem -1rem;-webkit-margin-end:1rem;margin-inline-end:1rem}textarea.form-control{min-height:calc(1.5em + .75rem + calc(var(--bs-border-width) * 2))}textarea.form-control-sm{min-height:calc(1.5em + .5rem + calc(var(--bs-border-width) * 2))}textarea.form-control-lg{min-height:calc(1.5em + 1rem + calc(var(--bs-border-width) * 2))}.form-control-color{width:3rem;height:calc(1.5em + .75rem + calc(var(--bs-border-width) * 2));padding:.375rem}.form-control-color:not(:disabled):not([readonly]){cursor:pointer}.form-control-color::-moz-color-swatch{border:0!important;border-radius:var(--bs-border-radius)}.form-control-color::-webkit-color-swatch{border:0!important;border-radius:var(--bs-border-radius)}.form-control-color.form-control-sm{height:calc(1.5em + .5rem + calc(var(--bs-border-width) * 2))}.form-control-color.form-control-lg{height:calc(1.5em + 1rem + calc(var(--bs-border-width) * 2))}.form-select{--bs-form-select-bg-img:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m2 5 6 6 6-6'/%3e%3c/svg%3e");display:block;width:100%;padding:.375rem 2.25rem .375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:var(--bs-body-color);-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--bs-body-bg);background-image:var(--bs-form-select-bg-img),var(--bs-form-select-bg-icon,none);background-repeat:no-repeat;background-position:right .75rem center;background-size:16px 12px;border:var(--bs-border-width) solid var(--bs-border-color);border-radius:var(--bs-border-radius);transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.form-select{transition:none}}.form-select:focus{border-color:#86b7fe;outline:0;box-shadow:0 0 0 .25rem #0d6efd40}.form-select[multiple],.form-select[size]:not([size="1"]){padding-right:.75rem;background-image:none}.form-select:disabled{background-color:var(--bs-secondary-bg)}.form-select:-moz-focusring{color:transparent;text-shadow:0 0 0 var(--bs-body-color)}.form-select-sm{padding-top:.25rem;padding-bottom:.25rem;padding-left:.5rem;font-size:.875rem;border-radius:var(--bs-border-radius-sm)}.form-select-lg{padding-top:.5rem;padding-bottom:.5rem;padding-left:1rem;font-size:1.25rem;border-radius:var(--bs-border-radius-lg)}[data-bs-theme=dark] .form-select{--bs-form-select-bg-img:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23dee2e6' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m2 5 6 6 6-6'/%3e%3c/svg%3e")}.form-check{display:block;min-height:1.5rem;padding-left:1.5em;margin-bottom:.125rem}.form-check .form-check-input{float:left;margin-left:-1.5em}.form-check-reverse{padding-right:1.5em;padding-left:0;text-align:right}.form-check-reverse .form-check-input{float:right;margin-right:-1.5em;margin-left:0}.form-check-input{--bs-form-check-bg:var(--bs-body-bg);flex-shrink:0;width:1em;height:1em;margin-top:.25em;vertical-align:top;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--bs-form-check-bg);background-image:var(--bs-form-check-bg-image);background-repeat:no-repeat;background-position:center;background-size:contain;border:var(--bs-border-width) solid var(--bs-border-color);-webkit-print-color-adjust:exact;color-adjust:exact;print-color-adjust:exact}.form-check-input[type=checkbox]{border-radius:.25em}.form-check-input[type=radio]{border-radius:50%}.form-check-input:active{filter:brightness(90%)}.form-check-input:focus{border-color:#86b7fe;outline:0;box-shadow:0 0 0 .25rem #0d6efd40}.form-check-input:checked{background-color:#0d6efd;border-color:#0d6efd}.form-check-input:checked[type=checkbox]{--bs-form-check-bg-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3e%3cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='3' d='m6 10 3 3 6-6'/%3e%3c/svg%3e")}.form-check-input:checked[type=radio]{--bs-form-check-bg-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='2' fill='%23fff'/%3e%3c/svg%3e")}.form-check-input[type=checkbox]:indeterminate{background-color:#0d6efd;border-color:#0d6efd;--bs-form-check-bg-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3e%3cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='3' d='M6 10h8'/%3e%3c/svg%3e")}.form-check-input:disabled{pointer-events:none;filter:none;opacity:.5}.form-check-input:disabled~.form-check-label,.form-check-input[disabled]~.form-check-label{cursor:default;opacity:.5}.form-switch{padding-left:2.5em}.form-switch .form-check-input{--bs-form-switch-bg:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='rgba%280, 0, 0, 0.25%29'/%3e%3c/svg%3e");width:2em;margin-left:-2.5em;background-image:var(--bs-form-switch-bg);background-position:left center;border-radius:2em;transition:background-position .15s ease-in-out}@media (prefers-reduced-motion:reduce){.form-switch .form-check-input{transition:none}}.form-switch .form-check-input:focus{--bs-form-switch-bg:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='%2386b7fe'/%3e%3c/svg%3e")}.form-switch .form-check-input:checked{background-position:right center;--bs-form-switch-bg:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='%23fff'/%3e%3c/svg%3e")}.form-switch.form-check-reverse{padding-right:2.5em;padding-left:0}.form-switch.form-check-reverse .form-check-input{margin-right:-2.5em;margin-left:0}.form-check-inline{display:inline-block;margin-right:1rem}.btn-check{position:absolute;clip:rect(0,0,0,0);pointer-events:none}.btn-check:disabled+.btn,.btn-check[disabled]+.btn{pointer-events:none;filter:none;opacity:.65}[data-bs-theme=dark] .form-switch .form-check-input:not(:checked):not(:focus){--bs-form-switch-bg:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='rgba%28255, 255, 255, 0.25%29'/%3e%3c/svg%3e")}.form-range{width:100%;height:1.5rem;padding:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent}.form-range:focus{outline:0}.form-range:focus::-webkit-slider-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .25rem #0d6efd40}.form-range:focus::-moz-range-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .25rem #0d6efd40}.form-range::-moz-focus-outer{border:0}.form-range::-webkit-slider-thumb{width:1rem;height:1rem;margin-top:-.25rem;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#0d6efd;border:0;border-radius:1rem;-webkit-transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.form-range::-webkit-slider-thumb{-webkit-transition:none;transition:none}}.form-range::-webkit-slider-thumb:active{background-color:#b6d4fe}.form-range::-webkit-slider-runnable-track{width:100%;height:.5rem;color:transparent;cursor:pointer;background-color:var(--bs-secondary-bg);border-color:transparent;border-radius:1rem}.form-range::-moz-range-thumb{width:1rem;height:1rem;-moz-appearance:none;-webkit-appearance:none;appearance:none;background-color:#0d6efd;border:0;border-radius:1rem;-moz-transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.form-range::-moz-range-thumb{-moz-transition:none;transition:none}}.form-range::-moz-range-thumb:active{background-color:#b6d4fe}.form-range::-moz-range-track{width:100%;height:.5rem;color:transparent;cursor:pointer;background-color:var(--bs-secondary-bg);border-color:transparent;border-radius:1rem}.form-range:disabled{pointer-events:none}.form-range:disabled::-webkit-slider-thumb{background-color:var(--bs-secondary-color)}.form-range:disabled::-moz-range-thumb{background-color:var(--bs-secondary-color)}.form-floating{position:relative}.form-floating>.form-control,.form-floating>.form-control-plaintext,.form-floating>.form-select{height:calc(3.5rem + calc(var(--bs-border-width) * 2));min-height:calc(3.5rem + calc(var(--bs-border-width) * 2));line-height:1.25}.form-floating>label{position:absolute;top:0;left:0;z-index:2;max-width:100%;height:100%;padding:1rem .75rem;overflow:hidden;color:rgba(var(--bs-body-color-rgb),.65);text-align:start;text-overflow:ellipsis;white-space:nowrap;pointer-events:none;border:var(--bs-border-width) solid transparent;transform-origin:0 0;transition:opacity .1s ease-in-out,transform .1s ease-in-out}@media (prefers-reduced-motion:reduce){.form-floating>label{transition:none}}.form-floating>.form-control,.form-floating>.form-control-plaintext{padding:1rem .75rem}.form-floating>.form-control-plaintext::placeholder,.form-floating>.form-control::placeholder{color:transparent}.form-floating>.form-control-plaintext:focus,.form-floating>.form-control-plaintext:not(:placeholder-shown),.form-floating>.form-control:focus,.form-floating>.form-control:not(:placeholder-shown){padding-top:1.625rem;padding-bottom:.625rem}.form-floating>.form-control-plaintext:-webkit-autofill,.form-floating>.form-control:-webkit-autofill{padding-top:1.625rem;padding-bottom:.625rem}.form-floating>.form-select{padding-top:1.625rem;padding-bottom:.625rem;padding-left:.75rem}.form-floating>.form-control-plaintext~label,.form-floating>.form-control:focus~label,.form-floating>.form-control:not(:placeholder-shown)~label,.form-floating>.form-select~label{transform:scale(.85) translateY(-.5rem) translate(.15rem)}.form-floating>.form-control:-webkit-autofill~label{transform:scale(.85) translateY(-.5rem) translate(.15rem)}.form-floating>textarea:focus~label:after,.form-floating>textarea:not(:placeholder-shown)~label:after{position:absolute;top:1rem;right:.375rem;bottom:1rem;left:.375rem;z-index:-1;height:1.5em;content:"";background-color:var(--bs-body-bg);border-radius:var(--bs-border-radius)}.form-floating>textarea:disabled~label:after{background-color:var(--bs-secondary-bg)}.form-floating>.form-control-plaintext~label{border-width:var(--bs-border-width) 0}.form-floating>.form-control:disabled~label,.form-floating>:disabled~label{color:#6c757d}.input-group{position:relative;display:flex;flex-wrap:wrap;align-items:stretch;width:100%}.input-group>.form-control,.input-group>.form-floating,.input-group>.form-select{position:relative;flex:1 1 auto;width:1%;min-width:0}.input-group>.form-control:focus,.input-group>.form-floating:focus-within,.input-group>.form-select:focus{z-index:5}.input-group .btn{position:relative;z-index:2}.input-group .btn:focus{z-index:5}.input-group-text{display:flex;align-items:center;padding:.375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:var(--bs-body-color);text-align:center;white-space:nowrap;background-color:var(--bs-tertiary-bg);border:var(--bs-border-width) solid var(--bs-border-color);border-radius:var(--bs-border-radius)}.input-group-lg>.btn,.input-group-lg>.form-control,.input-group-lg>.form-select,.input-group-lg>.input-group-text{padding:.5rem 1rem;font-size:1.25rem;border-radius:var(--bs-border-radius-lg)}.input-group-sm>.btn,.input-group-sm>.form-control,.input-group-sm>.form-select,.input-group-sm>.input-group-text{padding:.25rem .5rem;font-size:.875rem;border-radius:var(--bs-border-radius-sm)}.input-group-lg>.form-select,.input-group-sm>.form-select{padding-right:3rem}.input-group:not(.has-validation)>.dropdown-toggle:nth-last-child(n+3),.input-group:not(.has-validation)>.form-floating:not(:last-child)>.form-control,.input-group:not(.has-validation)>.form-floating:not(:last-child)>.form-select,.input-group:not(.has-validation)>:not(:last-child):not(.dropdown-toggle):not(.dropdown-menu):not(.form-floating){border-top-right-radius:0;border-bottom-right-radius:0}.input-group.has-validation>.dropdown-toggle:nth-last-child(n+4),.input-group.has-validation>.form-floating:nth-last-child(n+3)>.form-control,.input-group.has-validation>.form-floating:nth-last-child(n+3)>.form-select,.input-group.has-validation>:nth-last-child(n+3):not(.dropdown-toggle):not(.dropdown-menu):not(.form-floating){border-top-right-radius:0;border-bottom-right-radius:0}.input-group>:not(:first-child):not(.dropdown-menu):not(.valid-tooltip):not(.valid-feedback):not(.invalid-tooltip):not(.invalid-feedback){margin-left:calc(-1 * var(--bs-border-width));border-top-left-radius:0;border-bottom-left-radius:0}.input-group>.form-floating:not(:first-child)>.form-control,.input-group>.form-floating:not(:first-child)>.form-select{border-top-left-radius:0;border-bottom-left-radius:0}.valid-feedback{display:none;width:100%;margin-top:.25rem;font-size:.875em;color:var(--bs-form-valid-color)}.valid-tooltip{position:absolute;top:100%;z-index:5;display:none;max-width:100%;padding:.25rem .5rem;margin-top:.1rem;font-size:.875rem;color:#fff;background-color:var(--bs-success);border-radius:var(--bs-border-radius)}.is-valid~.valid-feedback,.is-valid~.valid-tooltip,.was-validated :valid~.valid-feedback,.was-validated :valid~.valid-tooltip{display:block}.form-control.is-valid,.was-validated .form-control:valid{border-color:var(--bs-form-valid-border-color);padding-right:calc(1.5em + .75rem);background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'%3e%3cpath fill='%23198754' d='M2.3 6.73.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1'/%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right calc(.375em + .1875rem) center;background-size:calc(.75em + .375rem) calc(.75em + .375rem)}.form-control.is-valid:focus,.was-validated .form-control:valid:focus{border-color:var(--bs-form-valid-border-color);box-shadow:0 0 0 .25rem rgba(var(--bs-success-rgb),.25)}.was-validated textarea.form-control:valid,textarea.form-control.is-valid{padding-right:calc(1.5em + .75rem);background-position:top calc(.375em + .1875rem) right calc(.375em + .1875rem)}.form-select.is-valid,.was-validated .form-select:valid{border-color:var(--bs-form-valid-border-color)}.form-select.is-valid:not([multiple]):not([size]),.form-select.is-valid:not([multiple])[size="1"],.was-validated .form-select:valid:not([multiple]):not([size]),.was-validated .form-select:valid:not([multiple])[size="1"]{--bs-form-select-bg-icon:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'%3e%3cpath fill='%23198754' d='M2.3 6.73.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1'/%3e%3c/svg%3e");padding-right:4.125rem;background-position:right .75rem center,center right 2.25rem;background-size:16px 12px,calc(.75em + .375rem) calc(.75em + .375rem)}.form-select.is-valid:focus,.was-validated .form-select:valid:focus{border-color:var(--bs-form-valid-border-color);box-shadow:0 0 0 .25rem rgba(var(--bs-success-rgb),.25)}.form-control-color.is-valid,.was-validated .form-control-color:valid{width:calc(3.75rem + 1.5em)}.form-check-input.is-valid,.was-validated .form-check-input:valid{border-color:var(--bs-form-valid-border-color)}.form-check-input.is-valid:checked,.was-validated .form-check-input:valid:checked{background-color:var(--bs-form-valid-color)}.form-check-input.is-valid:focus,.was-validated .form-check-input:valid:focus{box-shadow:0 0 0 .25rem rgba(var(--bs-success-rgb),.25)}.form-check-input.is-valid~.form-check-label,.was-validated .form-check-input:valid~.form-check-label{color:var(--bs-form-valid-color)}.form-check-inline .form-check-input~.valid-feedback{margin-left:.5em}.input-group>.form-control:not(:focus).is-valid,.input-group>.form-floating:not(:focus-within).is-valid,.input-group>.form-select:not(:focus).is-valid,.was-validated .input-group>.form-control:not(:focus):valid,.was-validated .input-group>.form-floating:not(:focus-within):valid,.was-validated .input-group>.form-select:not(:focus):valid{z-index:3}.invalid-feedback{display:none;width:100%;margin-top:.25rem;font-size:.875em;color:var(--bs-form-invalid-color)}.invalid-tooltip{position:absolute;top:100%;z-index:5;display:none;max-width:100%;padding:.25rem .5rem;margin-top:.1rem;font-size:.875rem;color:#fff;background-color:var(--bs-danger);border-radius:var(--bs-border-radius)}.is-invalid~.invalid-feedback,.is-invalid~.invalid-tooltip,.was-validated :invalid~.invalid-feedback,.was-validated :invalid~.invalid-tooltip{display:block}.form-control.is-invalid,.was-validated .form-control:invalid{border-color:var(--bs-form-invalid-border-color);padding-right:calc(1.5em + .75rem);background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right calc(.375em + .1875rem) center;background-size:calc(.75em + .375rem) calc(.75em + .375rem)}.form-control.is-invalid:focus,.was-validated .form-control:invalid:focus{border-color:var(--bs-form-invalid-border-color);box-shadow:0 0 0 .25rem rgba(var(--bs-danger-rgb),.25)}.was-validated textarea.form-control:invalid,textarea.form-control.is-invalid{padding-right:calc(1.5em + .75rem);background-position:top calc(.375em + .1875rem) right calc(.375em + .1875rem)}.form-select.is-invalid,.was-validated .form-select:invalid{border-color:var(--bs-form-invalid-border-color)}.form-select.is-invalid:not([multiple]):not([size]),.form-select.is-invalid:not([multiple])[size="1"],.was-validated .form-select:invalid:not([multiple]):not([size]),.was-validated .form-select:invalid:not([multiple])[size="1"]{--bs-form-select-bg-icon:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e");padding-right:4.125rem;background-position:right .75rem center,center right 2.25rem;background-size:16px 12px,calc(.75em + .375rem) calc(.75em + .375rem)}.form-select.is-invalid:focus,.was-validated .form-select:invalid:focus{border-color:var(--bs-form-invalid-border-color);box-shadow:0 0 0 .25rem rgba(var(--bs-danger-rgb),.25)}.form-control-color.is-invalid,.was-validated .form-control-color:invalid{width:calc(3.75rem + 1.5em)}.form-check-input.is-invalid,.was-validated .form-check-input:invalid{border-color:var(--bs-form-invalid-border-color)}.form-check-input.is-invalid:checked,.was-validated .form-check-input:invalid:checked{background-color:var(--bs-form-invalid-color)}.form-check-input.is-invalid:focus,.was-validated .form-check-input:invalid:focus{box-shadow:0 0 0 .25rem rgba(var(--bs-danger-rgb),.25)}.form-check-input.is-invalid~.form-check-label,.was-validated .form-check-input:invalid~.form-check-label{color:var(--bs-form-invalid-color)}.form-check-inline .form-check-input~.invalid-feedback{margin-left:.5em}.input-group>.form-control:not(:focus).is-invalid,.input-group>.form-floating:not(:focus-within).is-invalid,.input-group>.form-select:not(:focus).is-invalid,.was-validated .input-group>.form-control:not(:focus):invalid,.was-validated .input-group>.form-floating:not(:focus-within):invalid,.was-validated .input-group>.form-select:not(:focus):invalid{z-index:4}.btn{--bs-btn-padding-x:.75rem;--bs-btn-padding-y:.375rem;--bs-btn-font-family: ;--bs-btn-font-size:1rem;--bs-btn-font-weight:400;--bs-btn-line-height:1.5;--bs-btn-color:var(--bs-body-color);--bs-btn-bg:transparent;--bs-btn-border-width:var(--bs-border-width);--bs-btn-border-color:transparent;--bs-btn-border-radius:var(--bs-border-radius);--bs-btn-hover-border-color:transparent;--bs-btn-box-shadow:inset 0 1px 0 rgba(255, 255, 255, .15),0 1px 1px rgba(0, 0, 0, .075);--bs-btn-disabled-opacity:.65;--bs-btn-focus-box-shadow:0 0 0 .25rem rgba(var(--bs-btn-focus-shadow-rgb), .5);display:inline-block;padding:var(--bs-btn-padding-y) var(--bs-btn-padding-x);font-family:var(--bs-btn-font-family);font-size:var(--bs-btn-font-size);font-weight:var(--bs-btn-font-weight);line-height:var(--bs-btn-line-height);color:var(--bs-btn-color);text-align:center;text-decoration:none;vertical-align:middle;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none;border:var(--bs-btn-border-width) solid var(--bs-btn-border-color);border-radius:var(--bs-btn-border-radius);background-color:var(--bs-btn-bg);transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.btn{transition:none}}.btn:hover{color:var(--bs-btn-hover-color);background-color:var(--bs-btn-hover-bg);border-color:var(--bs-btn-hover-border-color)}.btn-check+.btn:hover{color:var(--bs-btn-color);background-color:var(--bs-btn-bg);border-color:var(--bs-btn-border-color)}.btn:focus-visible{color:var(--bs-btn-hover-color);background-color:var(--bs-btn-hover-bg);border-color:var(--bs-btn-hover-border-color);outline:0;box-shadow:var(--bs-btn-focus-box-shadow)}.btn-check:focus-visible+.btn{border-color:var(--bs-btn-hover-border-color);outline:0;box-shadow:var(--bs-btn-focus-box-shadow)}.btn-check:checked+.btn,.btn.active,.btn.show,.btn:first-child:active,:not(.btn-check)+.btn:active{color:var(--bs-btn-active-color);background-color:var(--bs-btn-active-bg);border-color:var(--bs-btn-active-border-color)}.btn-check:checked+.btn:focus-visible,.btn.active:focus-visible,.btn.show:focus-visible,.btn:first-child:active:focus-visible,:not(.btn-check)+.btn:active:focus-visible{box-shadow:var(--bs-btn-focus-box-shadow)}.btn-check:checked:focus-visible+.btn{box-shadow:var(--bs-btn-focus-box-shadow)}.btn.disabled,.btn:disabled,fieldset:disabled .btn{color:var(--bs-btn-disabled-color);pointer-events:none;background-color:var(--bs-btn-disabled-bg);border-color:var(--bs-btn-disabled-border-color);opacity:var(--bs-btn-disabled-opacity)}.btn-primary{--bs-btn-color:#fff;--bs-btn-bg:#0d6efd;--bs-btn-border-color:#0d6efd;--bs-btn-hover-color:#fff;--bs-btn-hover-bg:#0b5ed7;--bs-btn-hover-border-color:#0a58ca;--bs-btn-focus-shadow-rgb:49,132,253;--bs-btn-active-color:#fff;--bs-btn-active-bg:#0a58ca;--bs-btn-active-border-color:#0a53be;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, .125);--bs-btn-disabled-color:#fff;--bs-btn-disabled-bg:#0d6efd;--bs-btn-disabled-border-color:#0d6efd}.btn-secondary{--bs-btn-color:#fff;--bs-btn-bg:#6c757d;--bs-btn-border-color:#6c757d;--bs-btn-hover-color:#fff;--bs-btn-hover-bg:#5c636a;--bs-btn-hover-border-color:#565e64;--bs-btn-focus-shadow-rgb:130,138,145;--bs-btn-active-color:#fff;--bs-btn-active-bg:#565e64;--bs-btn-active-border-color:#51585e;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, .125);--bs-btn-disabled-color:#fff;--bs-btn-disabled-bg:#6c757d;--bs-btn-disabled-border-color:#6c757d}.btn-success{--bs-btn-color:#fff;--bs-btn-bg:#198754;--bs-btn-border-color:#198754;--bs-btn-hover-color:#fff;--bs-btn-hover-bg:#157347;--bs-btn-hover-border-color:#146c43;--bs-btn-focus-shadow-rgb:60,153,110;--bs-btn-active-color:#fff;--bs-btn-active-bg:#146c43;--bs-btn-active-border-color:#13653f;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, .125);--bs-btn-disabled-color:#fff;--bs-btn-disabled-bg:#198754;--bs-btn-disabled-border-color:#198754}.btn-info{--bs-btn-color:#000;--bs-btn-bg:#0dcaf0;--bs-btn-border-color:#0dcaf0;--bs-btn-hover-color:#000;--bs-btn-hover-bg:#31d2f2;--bs-btn-hover-border-color:#25cff2;--bs-btn-focus-shadow-rgb:11,172,204;--bs-btn-active-color:#000;--bs-btn-active-bg:#3dd5f3;--bs-btn-active-border-color:#25cff2;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, .125);--bs-btn-disabled-color:#000;--bs-btn-disabled-bg:#0dcaf0;--bs-btn-disabled-border-color:#0dcaf0}.btn-warning{--bs-btn-color:#000;--bs-btn-bg:#ffc107;--bs-btn-border-color:#ffc107;--bs-btn-hover-color:#000;--bs-btn-hover-bg:#ffca2c;--bs-btn-hover-border-color:#ffc720;--bs-btn-focus-shadow-rgb:217,164,6;--bs-btn-active-color:#000;--bs-btn-active-bg:#ffcd39;--bs-btn-active-border-color:#ffc720;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, .125);--bs-btn-disabled-color:#000;--bs-btn-disabled-bg:#ffc107;--bs-btn-disabled-border-color:#ffc107}.btn-danger{--bs-btn-color:#fff;--bs-btn-bg:#dc3545;--bs-btn-border-color:#dc3545;--bs-btn-hover-color:#fff;--bs-btn-hover-bg:#bb2d3b;--bs-btn-hover-border-color:#b02a37;--bs-btn-focus-shadow-rgb:225,83,97;--bs-btn-active-color:#fff;--bs-btn-active-bg:#b02a37;--bs-btn-active-border-color:#a52834;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, .125);--bs-btn-disabled-color:#fff;--bs-btn-disabled-bg:#dc3545;--bs-btn-disabled-border-color:#dc3545}.btn-light{--bs-btn-color:#000;--bs-btn-bg:#f8f9fa;--bs-btn-border-color:#f8f9fa;--bs-btn-hover-color:#000;--bs-btn-hover-bg:#d3d4d5;--bs-btn-hover-border-color:#c6c7c8;--bs-btn-focus-shadow-rgb:211,212,213;--bs-btn-active-color:#000;--bs-btn-active-bg:#c6c7c8;--bs-btn-active-border-color:#babbbc;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, .125);--bs-btn-disabled-color:#000;--bs-btn-disabled-bg:#f8f9fa;--bs-btn-disabled-border-color:#f8f9fa}.btn-dark{--bs-btn-color:#fff;--bs-btn-bg:#212529;--bs-btn-border-color:#212529;--bs-btn-hover-color:#fff;--bs-btn-hover-bg:#424649;--bs-btn-hover-border-color:#373b3e;--bs-btn-focus-shadow-rgb:66,70,73;--bs-btn-active-color:#fff;--bs-btn-active-bg:#4d5154;--bs-btn-active-border-color:#373b3e;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, .125);--bs-btn-disabled-color:#fff;--bs-btn-disabled-bg:#212529;--bs-btn-disabled-border-color:#212529}.btn-outline-primary{--bs-btn-color:#0d6efd;--bs-btn-border-color:#0d6efd;--bs-btn-hover-color:#fff;--bs-btn-hover-bg:#0d6efd;--bs-btn-hover-border-color:#0d6efd;--bs-btn-focus-shadow-rgb:13,110,253;--bs-btn-active-color:#fff;--bs-btn-active-bg:#0d6efd;--bs-btn-active-border-color:#0d6efd;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, .125);--bs-btn-disabled-color:#0d6efd;--bs-btn-disabled-bg:transparent;--bs-btn-disabled-border-color:#0d6efd;--bs-gradient:none}.btn-outline-secondary{--bs-btn-color:#6c757d;--bs-btn-border-color:#6c757d;--bs-btn-hover-color:#fff;--bs-btn-hover-bg:#6c757d;--bs-btn-hover-border-color:#6c757d;--bs-btn-focus-shadow-rgb:108,117,125;--bs-btn-active-color:#fff;--bs-btn-active-bg:#6c757d;--bs-btn-active-border-color:#6c757d;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, .125);--bs-btn-disabled-color:#6c757d;--bs-btn-disabled-bg:transparent;--bs-btn-disabled-border-color:#6c757d;--bs-gradient:none}.btn-outline-success{--bs-btn-color:#198754;--bs-btn-border-color:#198754;--bs-btn-hover-color:#fff;--bs-btn-hover-bg:#198754;--bs-btn-hover-border-color:#198754;--bs-btn-focus-shadow-rgb:25,135,84;--bs-btn-active-color:#fff;--bs-btn-active-bg:#198754;--bs-btn-active-border-color:#198754;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, .125);--bs-btn-disabled-color:#198754;--bs-btn-disabled-bg:transparent;--bs-btn-disabled-border-color:#198754;--bs-gradient:none}.btn-outline-info{--bs-btn-color:#0dcaf0;--bs-btn-border-color:#0dcaf0;--bs-btn-hover-color:#000;--bs-btn-hover-bg:#0dcaf0;--bs-btn-hover-border-color:#0dcaf0;--bs-btn-focus-shadow-rgb:13,202,240;--bs-btn-active-color:#000;--bs-btn-active-bg:#0dcaf0;--bs-btn-active-border-color:#0dcaf0;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, .125);--bs-btn-disabled-color:#0dcaf0;--bs-btn-disabled-bg:transparent;--bs-btn-disabled-border-color:#0dcaf0;--bs-gradient:none}.btn-outline-warning{--bs-btn-color:#ffc107;--bs-btn-border-color:#ffc107;--bs-btn-hover-color:#000;--bs-btn-hover-bg:#ffc107;--bs-btn-hover-border-color:#ffc107;--bs-btn-focus-shadow-rgb:255,193,7;--bs-btn-active-color:#000;--bs-btn-active-bg:#ffc107;--bs-btn-active-border-color:#ffc107;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, .125);--bs-btn-disabled-color:#ffc107;--bs-btn-disabled-bg:transparent;--bs-btn-disabled-border-color:#ffc107;--bs-gradient:none}.btn-outline-danger{--bs-btn-color:#dc3545;--bs-btn-border-color:#dc3545;--bs-btn-hover-color:#fff;--bs-btn-hover-bg:#dc3545;--bs-btn-hover-border-color:#dc3545;--bs-btn-focus-shadow-rgb:220,53,69;--bs-btn-active-color:#fff;--bs-btn-active-bg:#dc3545;--bs-btn-active-border-color:#dc3545;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, .125);--bs-btn-disabled-color:#dc3545;--bs-btn-disabled-bg:transparent;--bs-btn-disabled-border-color:#dc3545;--bs-gradient:none}.btn-outline-light{--bs-btn-color:#f8f9fa;--bs-btn-border-color:#f8f9fa;--bs-btn-hover-color:#000;--bs-btn-hover-bg:#f8f9fa;--bs-btn-hover-border-color:#f8f9fa;--bs-btn-focus-shadow-rgb:248,249,250;--bs-btn-active-color:#000;--bs-btn-active-bg:#f8f9fa;--bs-btn-active-border-color:#f8f9fa;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, .125);--bs-btn-disabled-color:#f8f9fa;--bs-btn-disabled-bg:transparent;--bs-btn-disabled-border-color:#f8f9fa;--bs-gradient:none}.btn-outline-dark{--bs-btn-color:#212529;--bs-btn-border-color:#212529;--bs-btn-hover-color:#fff;--bs-btn-hover-bg:#212529;--bs-btn-hover-border-color:#212529;--bs-btn-focus-shadow-rgb:33,37,41;--bs-btn-active-color:#fff;--bs-btn-active-bg:#212529;--bs-btn-active-border-color:#212529;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, .125);--bs-btn-disabled-color:#212529;--bs-btn-disabled-bg:transparent;--bs-btn-disabled-border-color:#212529;--bs-gradient:none}.btn-link{--bs-btn-font-weight:400;--bs-btn-color:var(--bs-link-color);--bs-btn-bg:transparent;--bs-btn-border-color:transparent;--bs-btn-hover-color:var(--bs-link-hover-color);--bs-btn-hover-border-color:transparent;--bs-btn-active-color:var(--bs-link-hover-color);--bs-btn-active-border-color:transparent;--bs-btn-disabled-color:#6c757d;--bs-btn-disabled-border-color:transparent;--bs-btn-box-shadow:0 0 0 #000;--bs-btn-focus-shadow-rgb:49,132,253;text-decoration:underline}.btn-link:focus-visible{color:var(--bs-btn-color)}.btn-link:hover{color:var(--bs-btn-hover-color)}.btn-group-lg>.btn,.btn-lg{--bs-btn-padding-y:.5rem;--bs-btn-padding-x:1rem;--bs-btn-font-size:1.25rem;--bs-btn-border-radius:var(--bs-border-radius-lg)}.btn-group-sm>.btn,.btn-sm{--bs-btn-padding-y:.25rem;--bs-btn-padding-x:.5rem;--bs-btn-font-size:.875rem;--bs-btn-border-radius:var(--bs-border-radius-sm)}.fade{transition:opacity .15s linear}@media (prefers-reduced-motion:reduce){.fade{transition:none}}.fade:not(.show){opacity:0}.collapse:not(.show){display:none}.collapsing{height:0;overflow:hidden;transition:height .35s ease}@media (prefers-reduced-motion:reduce){.collapsing{transition:none}}.collapsing.collapse-horizontal{width:0;height:auto;transition:width .35s ease}@media (prefers-reduced-motion:reduce){.collapsing.collapse-horizontal{transition:none}}.dropdown,.dropdown-center,.dropend,.dropstart,.dropup,.dropup-center{position:relative}.dropdown-toggle{white-space:nowrap}.dropdown-toggle:after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:"";border-top:.3em solid;border-right:.3em solid transparent;border-bottom:0;border-left:.3em solid transparent}.dropdown-toggle:empty:after{margin-left:0}.dropdown-menu{--bs-dropdown-zindex:1000;--bs-dropdown-min-width:10rem;--bs-dropdown-padding-x:0;--bs-dropdown-padding-y:.5rem;--bs-dropdown-spacer:.125rem;--bs-dropdown-font-size:1rem;--bs-dropdown-color:var(--bs-body-color);--bs-dropdown-bg:var(--bs-body-bg);--bs-dropdown-border-color:var(--bs-border-color-translucent);--bs-dropdown-border-radius:var(--bs-border-radius);--bs-dropdown-border-width:var(--bs-border-width);--bs-dropdown-inner-border-radius:calc(var(--bs-border-radius) - var(--bs-border-width));--bs-dropdown-divider-bg:var(--bs-border-color-translucent);--bs-dropdown-divider-margin-y:.5rem;--bs-dropdown-box-shadow:var(--bs-box-shadow);--bs-dropdown-link-color:var(--bs-body-color);--bs-dropdown-link-hover-color:var(--bs-body-color);--bs-dropdown-link-hover-bg:var(--bs-tertiary-bg);--bs-dropdown-link-active-color:#fff;--bs-dropdown-link-active-bg:#0d6efd;--bs-dropdown-link-disabled-color:var(--bs-tertiary-color);--bs-dropdown-item-padding-x:1rem;--bs-dropdown-item-padding-y:.25rem;--bs-dropdown-header-color:#6c757d;--bs-dropdown-header-padding-x:1rem;--bs-dropdown-header-padding-y:.5rem;position:absolute;z-index:var(--bs-dropdown-zindex);display:none;min-width:var(--bs-dropdown-min-width);padding:var(--bs-dropdown-padding-y) var(--bs-dropdown-padding-x);margin:0;font-size:var(--bs-dropdown-font-size);color:var(--bs-dropdown-color);text-align:left;list-style:none;background-color:var(--bs-dropdown-bg);background-clip:padding-box;border:var(--bs-dropdown-border-width) solid var(--bs-dropdown-border-color);border-radius:var(--bs-dropdown-border-radius)}.dropdown-menu[data-bs-popper]{top:100%;left:0;margin-top:var(--bs-dropdown-spacer)}.dropdown-menu-start{--bs-position:start}.dropdown-menu-start[data-bs-popper]{right:auto;left:0}.dropdown-menu-end{--bs-position:end}.dropdown-menu-end[data-bs-popper]{right:0;left:auto}@media (min-width:576px){.dropdown-menu-sm-start{--bs-position:start}.dropdown-menu-sm-start[data-bs-popper]{right:auto;left:0}.dropdown-menu-sm-end{--bs-position:end}.dropdown-menu-sm-end[data-bs-popper]{right:0;left:auto}}@media (min-width:768px){.dropdown-menu-md-start{--bs-position:start}.dropdown-menu-md-start[data-bs-popper]{right:auto;left:0}.dropdown-menu-md-end{--bs-position:end}.dropdown-menu-md-end[data-bs-popper]{right:0;left:auto}}@media (min-width:992px){.dropdown-menu-lg-start{--bs-position:start}.dropdown-menu-lg-start[data-bs-popper]{right:auto;left:0}.dropdown-menu-lg-end{--bs-position:end}.dropdown-menu-lg-end[data-bs-popper]{right:0;left:auto}}@media (min-width:1200px){.dropdown-menu-xl-start{--bs-position:start}.dropdown-menu-xl-start[data-bs-popper]{right:auto;left:0}.dropdown-menu-xl-end{--bs-position:end}.dropdown-menu-xl-end[data-bs-popper]{right:0;left:auto}}@media (min-width:1400px){.dropdown-menu-xxl-start{--bs-position:start}.dropdown-menu-xxl-start[data-bs-popper]{right:auto;left:0}.dropdown-menu-xxl-end{--bs-position:end}.dropdown-menu-xxl-end[data-bs-popper]{right:0;left:auto}}.dropup .dropdown-menu[data-bs-popper]{top:auto;bottom:100%;margin-top:0;margin-bottom:var(--bs-dropdown-spacer)}.dropup .dropdown-toggle:after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:"";border-top:0;border-right:.3em solid transparent;border-bottom:.3em solid;border-left:.3em solid transparent}.dropup .dropdown-toggle:empty:after{margin-left:0}.dropend .dropdown-menu[data-bs-popper]{top:0;right:auto;left:100%;margin-top:0;margin-left:var(--bs-dropdown-spacer)}.dropend .dropdown-toggle:after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:"";border-top:.3em solid transparent;border-right:0;border-bottom:.3em solid transparent;border-left:.3em solid}.dropend .dropdown-toggle:empty:after{margin-left:0}.dropend .dropdown-toggle:after{vertical-align:0}.dropstart .dropdown-menu[data-bs-popper]{top:0;right:100%;left:auto;margin-top:0;margin-right:var(--bs-dropdown-spacer)}.dropstart .dropdown-toggle:after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:""}.dropstart .dropdown-toggle:after{display:none}.dropstart .dropdown-toggle:before{display:inline-block;margin-right:.255em;vertical-align:.255em;content:"";border-top:.3em solid transparent;border-right:.3em solid;border-bottom:.3em solid transparent}.dropstart .dropdown-toggle:empty:after{margin-left:0}.dropstart .dropdown-toggle:before{vertical-align:0}.dropdown-divider{height:0;margin:var(--bs-dropdown-divider-margin-y) 0;overflow:hidden;border-top:1px solid var(--bs-dropdown-divider-bg);opacity:1}.dropdown-item{display:block;width:100%;padding:var(--bs-dropdown-item-padding-y) var(--bs-dropdown-item-padding-x);clear:both;font-weight:400;color:var(--bs-dropdown-link-color);text-align:inherit;text-decoration:none;white-space:nowrap;background-color:transparent;border:0;border-radius:var(--bs-dropdown-item-border-radius,0)}.dropdown-item:focus,.dropdown-item:hover{color:var(--bs-dropdown-link-hover-color);background-color:var(--bs-dropdown-link-hover-bg)}.dropdown-item.active,.dropdown-item:active{color:var(--bs-dropdown-link-active-color);text-decoration:none;background-color:var(--bs-dropdown-link-active-bg)}.dropdown-item.disabled,.dropdown-item:disabled{color:var(--bs-dropdown-link-disabled-color);pointer-events:none;background-color:transparent}.dropdown-menu.show{display:block}.dropdown-header{display:block;padding:var(--bs-dropdown-header-padding-y) var(--bs-dropdown-header-padding-x);margin-bottom:0;font-size:.875rem;color:var(--bs-dropdown-header-color);white-space:nowrap}.dropdown-item-text{display:block;padding:var(--bs-dropdown-item-padding-y) var(--bs-dropdown-item-padding-x);color:var(--bs-dropdown-link-color)}.dropdown-menu-dark{--bs-dropdown-color:#dee2e6;--bs-dropdown-bg:#343a40;--bs-dropdown-border-color:var(--bs-border-color-translucent);--bs-dropdown-box-shadow: ;--bs-dropdown-link-color:#dee2e6;--bs-dropdown-link-hover-color:#fff;--bs-dropdown-divider-bg:var(--bs-border-color-translucent);--bs-dropdown-link-hover-bg:rgba(255, 255, 255, .15);--bs-dropdown-link-active-color:#fff;--bs-dropdown-link-active-bg:#0d6efd;--bs-dropdown-link-disabled-color:#adb5bd;--bs-dropdown-header-color:#adb5bd}.btn-group,.btn-group-vertical{position:relative;display:inline-flex;vertical-align:middle}.btn-group-vertical>.btn,.btn-group>.btn{position:relative;flex:1 1 auto}.btn-group-vertical>.btn-check:checked+.btn,.btn-group-vertical>.btn-check:focus+.btn,.btn-group-vertical>.btn.active,.btn-group-vertical>.btn:active,.btn-group-vertical>.btn:focus,.btn-group-vertical>.btn:hover,.btn-group>.btn-check:checked+.btn,.btn-group>.btn-check:focus+.btn,.btn-group>.btn.active,.btn-group>.btn:active,.btn-group>.btn:focus,.btn-group>.btn:hover{z-index:1}.btn-toolbar{display:flex;flex-wrap:wrap;justify-content:flex-start}.btn-toolbar .input-group{width:auto}.btn-group{border-radius:var(--bs-border-radius)}.btn-group>.btn-group:not(:first-child),.btn-group>:not(.btn-check:first-child)+.btn{margin-left:calc(-1 * var(--bs-border-width))}.btn-group>.btn-group:not(:last-child)>.btn,.btn-group>.btn.dropdown-toggle-split:first-child,.btn-group>.btn:not(:last-child):not(.dropdown-toggle){border-top-right-radius:0;border-bottom-right-radius:0}.btn-group>.btn-group:not(:first-child)>.btn,.btn-group>.btn:nth-child(n+3),.btn-group>:not(.btn-check)+.btn{border-top-left-radius:0;border-bottom-left-radius:0}.dropdown-toggle-split{padding-right:.5625rem;padding-left:.5625rem}.dropdown-toggle-split:after,.dropend .dropdown-toggle-split:after,.dropup .dropdown-toggle-split:after{margin-left:0}.dropstart .dropdown-toggle-split:before{margin-right:0}.btn-group-sm>.btn+.dropdown-toggle-split,.btn-sm+.dropdown-toggle-split{padding-right:.375rem;padding-left:.375rem}.btn-group-lg>.btn+.dropdown-toggle-split,.btn-lg+.dropdown-toggle-split{padding-right:.75rem;padding-left:.75rem}.btn-group-vertical{flex-direction:column;align-items:flex-start;justify-content:center}.btn-group-vertical>.btn,.btn-group-vertical>.btn-group{width:100%}.btn-group-vertical>.btn-group:not(:first-child),.btn-group-vertical>.btn:not(:first-child){margin-top:calc(-1 * var(--bs-border-width))}.btn-group-vertical>.btn-group:not(:last-child)>.btn,.btn-group-vertical>.btn:not(:last-child):not(.dropdown-toggle){border-bottom-right-radius:0;border-bottom-left-radius:0}.btn-group-vertical>.btn-group:not(:first-child)>.btn,.btn-group-vertical>.btn:nth-child(n+3),.btn-group-vertical>:not(.btn-check)+.btn{border-top-left-radius:0;border-top-right-radius:0}.nav{--bs-nav-link-padding-x:1rem;--bs-nav-link-padding-y:.5rem;--bs-nav-link-font-weight: ;--bs-nav-link-color:var(--bs-link-color);--bs-nav-link-hover-color:var(--bs-link-hover-color);--bs-nav-link-disabled-color:var(--bs-secondary-color);display:flex;flex-wrap:wrap;padding-left:0;margin-bottom:0;list-style:none}.nav-link{display:block;padding:var(--bs-nav-link-padding-y) var(--bs-nav-link-padding-x);font-size:var(--bs-nav-link-font-size);font-weight:var(--bs-nav-link-font-weight);color:var(--bs-nav-link-color);text-decoration:none;background:0 0;border:0;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out}@media (prefers-reduced-motion:reduce){.nav-link{transition:none}}.nav-link:focus,.nav-link:hover{color:var(--bs-nav-link-hover-color)}.nav-link:focus-visible{outline:0;box-shadow:0 0 0 .25rem #0d6efd40}.nav-link.disabled,.nav-link:disabled{color:var(--bs-nav-link-disabled-color);pointer-events:none;cursor:default}.nav-tabs{--bs-nav-tabs-border-width:var(--bs-border-width);--bs-nav-tabs-border-color:var(--bs-border-color);--bs-nav-tabs-border-radius:var(--bs-border-radius);--bs-nav-tabs-link-hover-border-color:var(--bs-secondary-bg) var(--bs-secondary-bg) var(--bs-border-color);--bs-nav-tabs-link-active-color:var(--bs-emphasis-color);--bs-nav-tabs-link-active-bg:var(--bs-body-bg);--bs-nav-tabs-link-active-border-color:var(--bs-border-color) var(--bs-border-color) var(--bs-body-bg);border-bottom:var(--bs-nav-tabs-border-width) solid var(--bs-nav-tabs-border-color)}.nav-tabs .nav-link{margin-bottom:calc(-1 * var(--bs-nav-tabs-border-width));border:var(--bs-nav-tabs-border-width) solid transparent;border-top-left-radius:var(--bs-nav-tabs-border-radius);border-top-right-radius:var(--bs-nav-tabs-border-radius)}.nav-tabs .nav-link:focus,.nav-tabs .nav-link:hover{isolation:isolate;border-color:var(--bs-nav-tabs-link-hover-border-color)}.nav-tabs .nav-item.show .nav-link,.nav-tabs .nav-link.active{color:var(--bs-nav-tabs-link-active-color);background-color:var(--bs-nav-tabs-link-active-bg);border-color:var(--bs-nav-tabs-link-active-border-color)}.nav-tabs .dropdown-menu{margin-top:calc(-1 * var(--bs-nav-tabs-border-width));border-top-left-radius:0;border-top-right-radius:0}.nav-pills{--bs-nav-pills-border-radius:var(--bs-border-radius);--bs-nav-pills-link-active-color:#fff;--bs-nav-pills-link-active-bg:#0d6efd}.nav-pills .nav-link{border-radius:var(--bs-nav-pills-border-radius)}.nav-pills .nav-link.active,.nav-pills .show>.nav-link{color:var(--bs-nav-pills-link-active-color);background-color:var(--bs-nav-pills-link-active-bg)}.nav-underline{--bs-nav-underline-gap:1rem;--bs-nav-underline-border-width:.125rem;--bs-nav-underline-link-active-color:var(--bs-emphasis-color);gap:var(--bs-nav-underline-gap)}.nav-underline .nav-link{padding-right:0;padding-left:0;border-bottom:var(--bs-nav-underline-border-width) solid transparent}.nav-underline .nav-link:focus,.nav-underline .nav-link:hover{border-bottom-color:currentcolor}.nav-underline .nav-link.active,.nav-underline .show>.nav-link{font-weight:700;color:var(--bs-nav-underline-link-active-color);border-bottom-color:currentcolor}.nav-fill .nav-item,.nav-fill>.nav-link{flex:1 1 auto;text-align:center}.nav-justified .nav-item,.nav-justified>.nav-link{flex-grow:1;flex-basis:0;text-align:center}.nav-fill .nav-item .nav-link,.nav-justified .nav-item .nav-link{width:100%}.tab-content>.tab-pane{display:none}.tab-content>.active{display:block}.navbar{--bs-navbar-padding-x:0;--bs-navbar-padding-y:.5rem;--bs-navbar-color:rgba(var(--bs-emphasis-color-rgb), .65);--bs-navbar-hover-color:rgba(var(--bs-emphasis-color-rgb), .8);--bs-navbar-disabled-color:rgba(var(--bs-emphasis-color-rgb), .3);--bs-navbar-active-color:rgba(var(--bs-emphasis-color-rgb), 1);--bs-navbar-brand-padding-y:.3125rem;--bs-navbar-brand-margin-end:1rem;--bs-navbar-brand-font-size:1.25rem;--bs-navbar-brand-color:rgba(var(--bs-emphasis-color-rgb), 1);--bs-navbar-brand-hover-color:rgba(var(--bs-emphasis-color-rgb), 1);--bs-navbar-nav-link-padding-x:.5rem;--bs-navbar-toggler-padding-y:.25rem;--bs-navbar-toggler-padding-x:.75rem;--bs-navbar-toggler-font-size:1.25rem;--bs-navbar-toggler-icon-bg:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%2833, 37, 41, 0.75%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e");--bs-navbar-toggler-border-color:rgba(var(--bs-emphasis-color-rgb), .15);--bs-navbar-toggler-border-radius:var(--bs-border-radius);--bs-navbar-toggler-focus-width:.25rem;--bs-navbar-toggler-transition:box-shadow .15s ease-in-out;position:relative;display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;padding:var(--bs-navbar-padding-y) var(--bs-navbar-padding-x)}.navbar>.container,.navbar>.container-fluid,.navbar>.container-lg,.navbar>.container-md,.navbar>.container-sm,.navbar>.container-xl,.navbar>.container-xxl{display:flex;flex-wrap:inherit;align-items:center;justify-content:space-between}.navbar-brand{padding-top:var(--bs-navbar-brand-padding-y);padding-bottom:var(--bs-navbar-brand-padding-y);margin-right:var(--bs-navbar-brand-margin-end);font-size:var(--bs-navbar-brand-font-size);color:var(--bs-navbar-brand-color);text-decoration:none;white-space:nowrap}.navbar-brand:focus,.navbar-brand:hover{color:var(--bs-navbar-brand-hover-color)}.navbar-nav{--bs-nav-link-padding-x:0;--bs-nav-link-padding-y:.5rem;--bs-nav-link-font-weight: ;--bs-nav-link-color:var(--bs-navbar-color);--bs-nav-link-hover-color:var(--bs-navbar-hover-color);--bs-nav-link-disabled-color:var(--bs-navbar-disabled-color);display:flex;flex-direction:column;padding-left:0;margin-bottom:0;list-style:none}.navbar-nav .nav-link.active,.navbar-nav .nav-link.show{color:var(--bs-navbar-active-color)}.navbar-nav .dropdown-menu{position:static}.navbar-text{padding-top:.5rem;padding-bottom:.5rem;color:var(--bs-navbar-color)}.navbar-text a,.navbar-text a:focus,.navbar-text a:hover{color:var(--bs-navbar-active-color)}.navbar-collapse{flex-grow:1;flex-basis:100%;align-items:center}.navbar-toggler{padding:var(--bs-navbar-toggler-padding-y) var(--bs-navbar-toggler-padding-x);font-size:var(--bs-navbar-toggler-font-size);line-height:1;color:var(--bs-navbar-color);background-color:transparent;border:var(--bs-border-width) solid var(--bs-navbar-toggler-border-color);border-radius:var(--bs-navbar-toggler-border-radius);transition:var(--bs-navbar-toggler-transition)}@media (prefers-reduced-motion:reduce){.navbar-toggler{transition:none}}.navbar-toggler:hover{text-decoration:none}.navbar-toggler:focus{text-decoration:none;outline:0;box-shadow:0 0 0 var(--bs-navbar-toggler-focus-width)}.navbar-toggler-icon{display:inline-block;width:1.5em;height:1.5em;vertical-align:middle;background-image:var(--bs-navbar-toggler-icon-bg);background-repeat:no-repeat;background-position:center;background-size:100%}.navbar-nav-scroll{max-height:var(--bs-scroll-height,75vh);overflow-y:auto}@media (min-width:576px){.navbar-expand-sm{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand-sm .navbar-nav{flex-direction:row}.navbar-expand-sm .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-sm .navbar-nav .nav-link{padding-right:var(--bs-navbar-nav-link-padding-x);padding-left:var(--bs-navbar-nav-link-padding-x)}.navbar-expand-sm .navbar-nav-scroll{overflow:visible}.navbar-expand-sm .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand-sm .navbar-toggler{display:none}.navbar-expand-sm .offcanvas{position:static;z-index:auto;flex-grow:1;width:auto!important;height:auto!important;visibility:visible!important;background-color:transparent!important;border:0!important;transform:none!important;transition:none}.navbar-expand-sm .offcanvas .offcanvas-header{display:none}.navbar-expand-sm .offcanvas .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible}}@media (min-width:768px){.navbar-expand-md{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand-md .navbar-nav{flex-direction:row}.navbar-expand-md .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-md .navbar-nav .nav-link{padding-right:var(--bs-navbar-nav-link-padding-x);padding-left:var(--bs-navbar-nav-link-padding-x)}.navbar-expand-md .navbar-nav-scroll{overflow:visible}.navbar-expand-md .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand-md .navbar-toggler{display:none}.navbar-expand-md .offcanvas{position:static;z-index:auto;flex-grow:1;width:auto!important;height:auto!important;visibility:visible!important;background-color:transparent!important;border:0!important;transform:none!important;transition:none}.navbar-expand-md .offcanvas .offcanvas-header{display:none}.navbar-expand-md .offcanvas .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible}}@media (min-width:992px){.navbar-expand-lg{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand-lg .navbar-nav{flex-direction:row}.navbar-expand-lg .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-lg .navbar-nav .nav-link{padding-right:var(--bs-navbar-nav-link-padding-x);padding-left:var(--bs-navbar-nav-link-padding-x)}.navbar-expand-lg .navbar-nav-scroll{overflow:visible}.navbar-expand-lg .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand-lg .navbar-toggler{display:none}.navbar-expand-lg .offcanvas{position:static;z-index:auto;flex-grow:1;width:auto!important;height:auto!important;visibility:visible!important;background-color:transparent!important;border:0!important;transform:none!important;transition:none}.navbar-expand-lg .offcanvas .offcanvas-header{display:none}.navbar-expand-lg .offcanvas .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible}}@media (min-width:1200px){.navbar-expand-xl{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand-xl .navbar-nav{flex-direction:row}.navbar-expand-xl .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-xl .navbar-nav .nav-link{padding-right:var(--bs-navbar-nav-link-padding-x);padding-left:var(--bs-navbar-nav-link-padding-x)}.navbar-expand-xl .navbar-nav-scroll{overflow:visible}.navbar-expand-xl .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand-xl .navbar-toggler{display:none}.navbar-expand-xl .offcanvas{position:static;z-index:auto;flex-grow:1;width:auto!important;height:auto!important;visibility:visible!important;background-color:transparent!important;border:0!important;transform:none!important;transition:none}.navbar-expand-xl .offcanvas .offcanvas-header{display:none}.navbar-expand-xl .offcanvas .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible}}@media (min-width:1400px){.navbar-expand-xxl{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand-xxl .navbar-nav{flex-direction:row}.navbar-expand-xxl .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-xxl .navbar-nav .nav-link{padding-right:var(--bs-navbar-nav-link-padding-x);padding-left:var(--bs-navbar-nav-link-padding-x)}.navbar-expand-xxl .navbar-nav-scroll{overflow:visible}.navbar-expand-xxl .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand-xxl .navbar-toggler{display:none}.navbar-expand-xxl .offcanvas{position:static;z-index:auto;flex-grow:1;width:auto!important;height:auto!important;visibility:visible!important;background-color:transparent!important;border:0!important;transform:none!important;transition:none}.navbar-expand-xxl .offcanvas .offcanvas-header{display:none}.navbar-expand-xxl .offcanvas .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible}}.navbar-expand{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand .navbar-nav{flex-direction:row}.navbar-expand .navbar-nav .dropdown-menu{position:absolute}.navbar-expand .navbar-nav .nav-link{padding-right:var(--bs-navbar-nav-link-padding-x);padding-left:var(--bs-navbar-nav-link-padding-x)}.navbar-expand .navbar-nav-scroll{overflow:visible}.navbar-expand .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand .navbar-toggler{display:none}.navbar-expand .offcanvas{position:static;z-index:auto;flex-grow:1;width:auto!important;height:auto!important;visibility:visible!important;background-color:transparent!important;border:0!important;transform:none!important;transition:none}.navbar-expand .offcanvas .offcanvas-header{display:none}.navbar-expand .offcanvas .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible}.navbar-dark,.navbar[data-bs-theme=dark]{--bs-navbar-color:rgba(255, 255, 255, .55);--bs-navbar-hover-color:rgba(255, 255, 255, .75);--bs-navbar-disabled-color:rgba(255, 255, 255, .25);--bs-navbar-active-color:#fff;--bs-navbar-brand-color:#fff;--bs-navbar-brand-hover-color:#fff;--bs-navbar-toggler-border-color:rgba(255, 255, 255, .1);--bs-navbar-toggler-icon-bg:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%28255, 255, 255, 0.55%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e")}[data-bs-theme=dark] .navbar-toggler-icon{--bs-navbar-toggler-icon-bg:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%28255, 255, 255, 0.55%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e")}.card{--bs-card-spacer-y:1rem;--bs-card-spacer-x:1rem;--bs-card-title-spacer-y:.5rem;--bs-card-title-color: ;--bs-card-subtitle-color: ;--bs-card-border-width:var(--bs-border-width);--bs-card-border-color:var(--bs-border-color-translucent);--bs-card-border-radius:var(--bs-border-radius);--bs-card-box-shadow: ;--bs-card-inner-border-radius:calc(var(--bs-border-radius) - (var(--bs-border-width)));--bs-card-cap-padding-y:.5rem;--bs-card-cap-padding-x:1rem;--bs-card-cap-bg:rgba(var(--bs-body-color-rgb), .03);--bs-card-cap-color: ;--bs-card-height: ;--bs-card-color: ;--bs-card-bg:var(--bs-body-bg);--bs-card-img-overlay-padding:1rem;--bs-card-group-margin:.75rem;position:relative;display:flex;flex-direction:column;min-width:0;height:var(--bs-card-height);color:var(--bs-body-color);word-wrap:break-word;background-color:var(--bs-card-bg);background-clip:border-box;border:var(--bs-card-border-width) solid var(--bs-card-border-color);border-radius:var(--bs-card-border-radius)}.card>hr{margin-right:0;margin-left:0}.card>.list-group{border-top:inherit;border-bottom:inherit}.card>.list-group:first-child{border-top-width:0;border-top-left-radius:var(--bs-card-inner-border-radius);border-top-right-radius:var(--bs-card-inner-border-radius)}.card>.list-group:last-child{border-bottom-width:0;border-bottom-right-radius:var(--bs-card-inner-border-radius);border-bottom-left-radius:var(--bs-card-inner-border-radius)}.card>.card-header+.list-group,.card>.list-group+.card-footer{border-top:0}.card-body{flex:1 1 auto;padding:var(--bs-card-spacer-y) var(--bs-card-spacer-x);color:var(--bs-card-color)}.card-title{margin-bottom:var(--bs-card-title-spacer-y);color:var(--bs-card-title-color)}.card-subtitle{margin-top:calc(-.5 * var(--bs-card-title-spacer-y));margin-bottom:0;color:var(--bs-card-subtitle-color)}.card-text:last-child{margin-bottom:0}.card-link+.card-link{margin-left:var(--bs-card-spacer-x)}.card-header{padding:var(--bs-card-cap-padding-y) var(--bs-card-cap-padding-x);margin-bottom:0;color:var(--bs-card-cap-color);background-color:var(--bs-card-cap-bg);border-bottom:var(--bs-card-border-width) solid var(--bs-card-border-color)}.card-header:first-child{border-radius:var(--bs-card-inner-border-radius) var(--bs-card-inner-border-radius) 0 0}.card-footer{padding:var(--bs-card-cap-padding-y) var(--bs-card-cap-padding-x);color:var(--bs-card-cap-color);background-color:var(--bs-card-cap-bg);border-top:var(--bs-card-border-width) solid var(--bs-card-border-color)}.card-footer:last-child{border-radius:0 0 var(--bs-card-inner-border-radius) var(--bs-card-inner-border-radius)}.card-header-tabs{margin-right:calc(-.5 * var(--bs-card-cap-padding-x));margin-bottom:calc(-1 * var(--bs-card-cap-padding-y));margin-left:calc(-.5 * var(--bs-card-cap-padding-x));border-bottom:0}.card-header-tabs .nav-link.active{background-color:var(--bs-card-bg);border-bottom-color:var(--bs-card-bg)}.card-header-pills{margin-right:calc(-.5 * var(--bs-card-cap-padding-x));margin-left:calc(-.5 * var(--bs-card-cap-padding-x))}.card-img-overlay{position:absolute;top:0;right:0;bottom:0;left:0;padding:var(--bs-card-img-overlay-padding);border-radius:var(--bs-card-inner-border-radius)}.card-img,.card-img-bottom,.card-img-top{width:100%}.card-img,.card-img-top{border-top-left-radius:var(--bs-card-inner-border-radius);border-top-right-radius:var(--bs-card-inner-border-radius)}.card-img,.card-img-bottom{border-bottom-right-radius:var(--bs-card-inner-border-radius);border-bottom-left-radius:var(--bs-card-inner-border-radius)}.card-group>.card{margin-bottom:var(--bs-card-group-margin)}@media (min-width:576px){.card-group{display:flex;flex-flow:row wrap}.card-group>.card{flex:1 0 0;margin-bottom:0}.card-group>.card+.card{margin-left:0;border-left:0}.card-group>.card:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.card-group>.card:not(:last-child)>.card-header,.card-group>.card:not(:last-child)>.card-img-top{border-top-right-radius:0}.card-group>.card:not(:last-child)>.card-footer,.card-group>.card:not(:last-child)>.card-img-bottom{border-bottom-right-radius:0}.card-group>.card:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.card-group>.card:not(:first-child)>.card-header,.card-group>.card:not(:first-child)>.card-img-top{border-top-left-radius:0}.card-group>.card:not(:first-child)>.card-footer,.card-group>.card:not(:first-child)>.card-img-bottom{border-bottom-left-radius:0}}.accordion{--bs-accordion-color:var(--bs-body-color);--bs-accordion-bg:var(--bs-body-bg);--bs-accordion-transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out,border-radius .15s ease;--bs-accordion-border-color:var(--bs-border-color);--bs-accordion-border-width:var(--bs-border-width);--bs-accordion-border-radius:var(--bs-border-radius);--bs-accordion-inner-border-radius:calc(var(--bs-border-radius) - (var(--bs-border-width)));--bs-accordion-btn-padding-x:1.25rem;--bs-accordion-btn-padding-y:1rem;--bs-accordion-btn-color:var(--bs-body-color);--bs-accordion-btn-bg:var(--bs-accordion-bg);--bs-accordion-btn-icon:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='none' stroke='%23212529' stroke-linecap='round' stroke-linejoin='round'%3e%3cpath d='m2 5 6 6 6-6'/%3e%3c/svg%3e");--bs-accordion-btn-icon-width:1.25rem;--bs-accordion-btn-icon-transform:rotate(-180deg);--bs-accordion-btn-icon-transition:transform .2s ease-in-out;--bs-accordion-btn-active-icon:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='none' stroke='%23052c65' stroke-linecap='round' stroke-linejoin='round'%3e%3cpath d='m2 5 6 6 6-6'/%3e%3c/svg%3e");--bs-accordion-btn-focus-box-shadow:0 0 0 .25rem rgba(13, 110, 253, .25);--bs-accordion-body-padding-x:1.25rem;--bs-accordion-body-padding-y:1rem;--bs-accordion-active-color:var(--bs-primary-text-emphasis);--bs-accordion-active-bg:var(--bs-primary-bg-subtle)}.accordion-button{position:relative;display:flex;align-items:center;width:100%;padding:var(--bs-accordion-btn-padding-y) var(--bs-accordion-btn-padding-x);font-size:1rem;color:var(--bs-accordion-btn-color);text-align:left;background-color:var(--bs-accordion-btn-bg);border:0;border-radius:0;overflow-anchor:none;transition:var(--bs-accordion-transition)}@media (prefers-reduced-motion:reduce){.accordion-button{transition:none}}.accordion-button:not(.collapsed){color:var(--bs-accordion-active-color);background-color:var(--bs-accordion-active-bg);box-shadow:inset 0 calc(-1 * var(--bs-accordion-border-width)) 0 var(--bs-accordion-border-color)}.accordion-button:not(.collapsed):after{background-image:var(--bs-accordion-btn-active-icon);transform:var(--bs-accordion-btn-icon-transform)}.accordion-button:after{flex-shrink:0;width:var(--bs-accordion-btn-icon-width);height:var(--bs-accordion-btn-icon-width);margin-left:auto;content:"";background-image:var(--bs-accordion-btn-icon);background-repeat:no-repeat;background-size:var(--bs-accordion-btn-icon-width);transition:var(--bs-accordion-btn-icon-transition)}@media (prefers-reduced-motion:reduce){.accordion-button:after{transition:none}}.accordion-button:hover{z-index:2}.accordion-button:focus{z-index:3;outline:0;box-shadow:var(--bs-accordion-btn-focus-box-shadow)}.accordion-header{margin-bottom:0}.accordion-item{color:var(--bs-accordion-color);background-color:var(--bs-accordion-bg);border:var(--bs-accordion-border-width) solid var(--bs-accordion-border-color)}.accordion-item:first-of-type{border-top-left-radius:var(--bs-accordion-border-radius);border-top-right-radius:var(--bs-accordion-border-radius)}.accordion-item:first-of-type>.accordion-header .accordion-button{border-top-left-radius:var(--bs-accordion-inner-border-radius);border-top-right-radius:var(--bs-accordion-inner-border-radius)}.accordion-item:not(:first-of-type){border-top:0}.accordion-item:last-of-type{border-bottom-right-radius:var(--bs-accordion-border-radius);border-bottom-left-radius:var(--bs-accordion-border-radius)}.accordion-item:last-of-type>.accordion-header .accordion-button.collapsed{border-bottom-right-radius:var(--bs-accordion-inner-border-radius);border-bottom-left-radius:var(--bs-accordion-inner-border-radius)}.accordion-item:last-of-type>.accordion-collapse{border-bottom-right-radius:var(--bs-accordion-border-radius);border-bottom-left-radius:var(--bs-accordion-border-radius)}.accordion-body{padding:var(--bs-accordion-body-padding-y) var(--bs-accordion-body-padding-x)}.accordion-flush>.accordion-item{border-right:0;border-left:0;border-radius:0}.accordion-flush>.accordion-item:first-child{border-top:0}.accordion-flush>.accordion-item:last-child{border-bottom:0}.accordion-flush>.accordion-item>.accordion-collapse,.accordion-flush>.accordion-item>.accordion-header .accordion-button,.accordion-flush>.accordion-item>.accordion-header .accordion-button.collapsed{border-radius:0}[data-bs-theme=dark] .accordion-button:after{--bs-accordion-btn-icon:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%236ea8fe'%3e%3cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708'/%3e%3c/svg%3e");--bs-accordion-btn-active-icon:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%236ea8fe'%3e%3cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708'/%3e%3c/svg%3e")}.breadcrumb{--bs-breadcrumb-padding-x:0;--bs-breadcrumb-padding-y:0;--bs-breadcrumb-margin-bottom:1rem;--bs-breadcrumb-bg: ;--bs-breadcrumb-border-radius: ;--bs-breadcrumb-divider-color:var(--bs-secondary-color);--bs-breadcrumb-item-padding-x:.5rem;--bs-breadcrumb-item-active-color:var(--bs-secondary-color);display:flex;flex-wrap:wrap;padding:var(--bs-breadcrumb-padding-y) var(--bs-breadcrumb-padding-x);margin-bottom:var(--bs-breadcrumb-margin-bottom);font-size:var(--bs-breadcrumb-font-size);list-style:none;background-color:var(--bs-breadcrumb-bg);border-radius:var(--bs-breadcrumb-border-radius)}.breadcrumb-item+.breadcrumb-item{padding-left:var(--bs-breadcrumb-item-padding-x)}.breadcrumb-item+.breadcrumb-item:before{float:left;padding-right:var(--bs-breadcrumb-item-padding-x);color:var(--bs-breadcrumb-divider-color);content:var(--bs-breadcrumb-divider, "/")}.breadcrumb-item.active{color:var(--bs-breadcrumb-item-active-color)}.pagination{--bs-pagination-padding-x:.75rem;--bs-pagination-padding-y:.375rem;--bs-pagination-font-size:1rem;--bs-pagination-color:var(--bs-link-color);--bs-pagination-bg:var(--bs-body-bg);--bs-pagination-border-width:var(--bs-border-width);--bs-pagination-border-color:var(--bs-border-color);--bs-pagination-border-radius:var(--bs-border-radius);--bs-pagination-hover-color:var(--bs-link-hover-color);--bs-pagination-hover-bg:var(--bs-tertiary-bg);--bs-pagination-hover-border-color:var(--bs-border-color);--bs-pagination-focus-color:var(--bs-link-hover-color);--bs-pagination-focus-bg:var(--bs-secondary-bg);--bs-pagination-focus-box-shadow:0 0 0 .25rem rgba(13, 110, 253, .25);--bs-pagination-active-color:#fff;--bs-pagination-active-bg:#0d6efd;--bs-pagination-active-border-color:#0d6efd;--bs-pagination-disabled-color:var(--bs-secondary-color);--bs-pagination-disabled-bg:var(--bs-secondary-bg);--bs-pagination-disabled-border-color:var(--bs-border-color);display:flex;padding-left:0;list-style:none}.page-link{position:relative;display:block;padding:var(--bs-pagination-padding-y) var(--bs-pagination-padding-x);font-size:var(--bs-pagination-font-size);color:var(--bs-pagination-color);text-decoration:none;background-color:var(--bs-pagination-bg);border:var(--bs-pagination-border-width) solid var(--bs-pagination-border-color);transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.page-link{transition:none}}.page-link:hover{z-index:2;color:var(--bs-pagination-hover-color);background-color:var(--bs-pagination-hover-bg);border-color:var(--bs-pagination-hover-border-color)}.page-link:focus{z-index:3;color:var(--bs-pagination-focus-color);background-color:var(--bs-pagination-focus-bg);outline:0;box-shadow:var(--bs-pagination-focus-box-shadow)}.active>.page-link,.page-link.active{z-index:3;color:var(--bs-pagination-active-color);background-color:var(--bs-pagination-active-bg);border-color:var(--bs-pagination-active-border-color)}.disabled>.page-link,.page-link.disabled{color:var(--bs-pagination-disabled-color);pointer-events:none;background-color:var(--bs-pagination-disabled-bg);border-color:var(--bs-pagination-disabled-border-color)}.page-item:not(:first-child) .page-link{margin-left:calc(-1 * var(--bs-border-width))}.page-item:first-child .page-link{border-top-left-radius:var(--bs-pagination-border-radius);border-bottom-left-radius:var(--bs-pagination-border-radius)}.page-item:last-child .page-link{border-top-right-radius:var(--bs-pagination-border-radius);border-bottom-right-radius:var(--bs-pagination-border-radius)}.pagination-lg{--bs-pagination-padding-x:1.5rem;--bs-pagination-padding-y:.75rem;--bs-pagination-font-size:1.25rem;--bs-pagination-border-radius:var(--bs-border-radius-lg)}.pagination-sm{--bs-pagination-padding-x:.5rem;--bs-pagination-padding-y:.25rem;--bs-pagination-font-size:.875rem;--bs-pagination-border-radius:var(--bs-border-radius-sm)}.badge{--bs-badge-padding-x:.65em;--bs-badge-padding-y:.35em;--bs-badge-font-size:.75em;--bs-badge-font-weight:700;--bs-badge-color:#fff;--bs-badge-border-radius:var(--bs-border-radius);display:inline-block;padding:var(--bs-badge-padding-y) var(--bs-badge-padding-x);font-size:var(--bs-badge-font-size);font-weight:var(--bs-badge-font-weight);line-height:1;color:var(--bs-badge-color);text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:var(--bs-badge-border-radius)}.badge:empty{display:none}.btn .badge{position:relative;top:-1px}.alert{--bs-alert-bg:transparent;--bs-alert-padding-x:1rem;--bs-alert-padding-y:1rem;--bs-alert-margin-bottom:1rem;--bs-alert-color:inherit;--bs-alert-border-color:transparent;--bs-alert-border:var(--bs-border-width) solid var(--bs-alert-border-color);--bs-alert-border-radius:var(--bs-border-radius);--bs-alert-link-color:inherit;position:relative;padding:var(--bs-alert-padding-y) var(--bs-alert-padding-x);margin-bottom:var(--bs-alert-margin-bottom);color:var(--bs-alert-color);background-color:var(--bs-alert-bg);border:var(--bs-alert-border);border-radius:var(--bs-alert-border-radius)}.alert-heading{color:inherit}.alert-link{font-weight:700;color:var(--bs-alert-link-color)}.alert-dismissible{padding-right:3rem}.alert-dismissible .btn-close{position:absolute;top:0;right:0;z-index:2;padding:1.25rem 1rem}.alert-primary{--bs-alert-color:var(--bs-primary-text-emphasis);--bs-alert-bg:var(--bs-primary-bg-subtle);--bs-alert-border-color:var(--bs-primary-border-subtle);--bs-alert-link-color:var(--bs-primary-text-emphasis)}.alert-secondary{--bs-alert-color:var(--bs-secondary-text-emphasis);--bs-alert-bg:var(--bs-secondary-bg-subtle);--bs-alert-border-color:var(--bs-secondary-border-subtle);--bs-alert-link-color:var(--bs-secondary-text-emphasis)}.alert-success{--bs-alert-color:var(--bs-success-text-emphasis);--bs-alert-bg:var(--bs-success-bg-subtle);--bs-alert-border-color:var(--bs-success-border-subtle);--bs-alert-link-color:var(--bs-success-text-emphasis)}.alert-info{--bs-alert-color:var(--bs-info-text-emphasis);--bs-alert-bg:var(--bs-info-bg-subtle);--bs-alert-border-color:var(--bs-info-border-subtle);--bs-alert-link-color:var(--bs-info-text-emphasis)}.alert-warning{--bs-alert-color:var(--bs-warning-text-emphasis);--bs-alert-bg:var(--bs-warning-bg-subtle);--bs-alert-border-color:var(--bs-warning-border-subtle);--bs-alert-link-color:var(--bs-warning-text-emphasis)}.alert-danger{--bs-alert-color:var(--bs-danger-text-emphasis);--bs-alert-bg:var(--bs-danger-bg-subtle);--bs-alert-border-color:var(--bs-danger-border-subtle);--bs-alert-link-color:var(--bs-danger-text-emphasis)}.alert-light{--bs-alert-color:var(--bs-light-text-emphasis);--bs-alert-bg:var(--bs-light-bg-subtle);--bs-alert-border-color:var(--bs-light-border-subtle);--bs-alert-link-color:var(--bs-light-text-emphasis)}.alert-dark{--bs-alert-color:var(--bs-dark-text-emphasis);--bs-alert-bg:var(--bs-dark-bg-subtle);--bs-alert-border-color:var(--bs-dark-border-subtle);--bs-alert-link-color:var(--bs-dark-text-emphasis)}@keyframes progress-bar-stripes{0%{background-position-x:var(--bs-progress-height)}}.progress,.progress-stacked{--bs-progress-height:1rem;--bs-progress-font-size:.75rem;--bs-progress-bg:var(--bs-secondary-bg);--bs-progress-border-radius:var(--bs-border-radius);--bs-progress-box-shadow:var(--bs-box-shadow-inset);--bs-progress-bar-color:#fff;--bs-progress-bar-bg:#0d6efd;--bs-progress-bar-transition:width .6s ease;display:flex;height:var(--bs-progress-height);overflow:hidden;font-size:var(--bs-progress-font-size);background-color:var(--bs-progress-bg);border-radius:var(--bs-progress-border-radius)}.progress-bar{display:flex;flex-direction:column;justify-content:center;overflow:hidden;color:var(--bs-progress-bar-color);text-align:center;white-space:nowrap;background-color:var(--bs-progress-bar-bg);transition:var(--bs-progress-bar-transition)}@media (prefers-reduced-motion:reduce){.progress-bar{transition:none}}.progress-bar-striped{background-image:linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-size:var(--bs-progress-height) var(--bs-progress-height)}.progress-stacked>.progress{overflow:visible}.progress-stacked>.progress>.progress-bar{width:100%}.progress-bar-animated{animation:1s linear infinite progress-bar-stripes}@media (prefers-reduced-motion:reduce){.progress-bar-animated{animation:none}}.list-group{--bs-list-group-color:var(--bs-body-color);--bs-list-group-bg:var(--bs-body-bg);--bs-list-group-border-color:var(--bs-border-color);--bs-list-group-border-width:var(--bs-border-width);--bs-list-group-border-radius:var(--bs-border-radius);--bs-list-group-item-padding-x:1rem;--bs-list-group-item-padding-y:.5rem;--bs-list-group-action-color:var(--bs-secondary-color);--bs-list-group-action-hover-color:var(--bs-emphasis-color);--bs-list-group-action-hover-bg:var(--bs-tertiary-bg);--bs-list-group-action-active-color:var(--bs-body-color);--bs-list-group-action-active-bg:var(--bs-secondary-bg);--bs-list-group-disabled-color:var(--bs-secondary-color);--bs-list-group-disabled-bg:var(--bs-body-bg);--bs-list-group-active-color:#fff;--bs-list-group-active-bg:#0d6efd;--bs-list-group-active-border-color:#0d6efd;display:flex;flex-direction:column;padding-left:0;margin-bottom:0;border-radius:var(--bs-list-group-border-radius)}.list-group-numbered{list-style-type:none;counter-reset:section}.list-group-numbered>.list-group-item:before{content:counters(section,".") ". ";counter-increment:section}.list-group-item{position:relative;display:block;padding:var(--bs-list-group-item-padding-y) var(--bs-list-group-item-padding-x);color:var(--bs-list-group-color);text-decoration:none;background-color:var(--bs-list-group-bg);border:var(--bs-list-group-border-width) solid var(--bs-list-group-border-color)}.list-group-item:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.list-group-item:last-child{border-bottom-right-radius:inherit;border-bottom-left-radius:inherit}.list-group-item.disabled,.list-group-item:disabled{color:var(--bs-list-group-disabled-color);pointer-events:none;background-color:var(--bs-list-group-disabled-bg)}.list-group-item.active{z-index:2;color:var(--bs-list-group-active-color);background-color:var(--bs-list-group-active-bg);border-color:var(--bs-list-group-active-border-color)}.list-group-item+.list-group-item{border-top-width:0}.list-group-item+.list-group-item.active{margin-top:calc(-1 * var(--bs-list-group-border-width));border-top-width:var(--bs-list-group-border-width)}.list-group-item-action{width:100%;color:var(--bs-list-group-action-color);text-align:inherit}.list-group-item-action:not(.active):focus,.list-group-item-action:not(.active):hover{z-index:1;color:var(--bs-list-group-action-hover-color);text-decoration:none;background-color:var(--bs-list-group-action-hover-bg)}.list-group-item-action:not(.active):active{color:var(--bs-list-group-action-active-color);background-color:var(--bs-list-group-action-active-bg)}.list-group-horizontal{flex-direction:row}.list-group-horizontal>.list-group-item:first-child:not(:last-child){border-bottom-left-radius:var(--bs-list-group-border-radius);border-top-right-radius:0}.list-group-horizontal>.list-group-item:last-child:not(:first-child){border-top-right-radius:var(--bs-list-group-border-radius);border-bottom-left-radius:0}.list-group-horizontal>.list-group-item.active{margin-top:0}.list-group-horizontal>.list-group-item+.list-group-item{border-top-width:var(--bs-list-group-border-width);border-left-width:0}.list-group-horizontal>.list-group-item+.list-group-item.active{margin-left:calc(-1 * var(--bs-list-group-border-width));border-left-width:var(--bs-list-group-border-width)}@media (min-width:576px){.list-group-horizontal-sm{flex-direction:row}.list-group-horizontal-sm>.list-group-item:first-child:not(:last-child){border-bottom-left-radius:var(--bs-list-group-border-radius);border-top-right-radius:0}.list-group-horizontal-sm>.list-group-item:last-child:not(:first-child){border-top-right-radius:var(--bs-list-group-border-radius);border-bottom-left-radius:0}.list-group-horizontal-sm>.list-group-item.active{margin-top:0}.list-group-horizontal-sm>.list-group-item+.list-group-item{border-top-width:var(--bs-list-group-border-width);border-left-width:0}.list-group-horizontal-sm>.list-group-item+.list-group-item.active{margin-left:calc(-1 * var(--bs-list-group-border-width));border-left-width:var(--bs-list-group-border-width)}}@media (min-width:768px){.list-group-horizontal-md{flex-direction:row}.list-group-horizontal-md>.list-group-item:first-child:not(:last-child){border-bottom-left-radius:var(--bs-list-group-border-radius);border-top-right-radius:0}.list-group-horizontal-md>.list-group-item:last-child:not(:first-child){border-top-right-radius:var(--bs-list-group-border-radius);border-bottom-left-radius:0}.list-group-horizontal-md>.list-group-item.active{margin-top:0}.list-group-horizontal-md>.list-group-item+.list-group-item{border-top-width:var(--bs-list-group-border-width);border-left-width:0}.list-group-horizontal-md>.list-group-item+.list-group-item.active{margin-left:calc(-1 * var(--bs-list-group-border-width));border-left-width:var(--bs-list-group-border-width)}}@media (min-width:992px){.list-group-horizontal-lg{flex-direction:row}.list-group-horizontal-lg>.list-group-item:first-child:not(:last-child){border-bottom-left-radius:var(--bs-list-group-border-radius);border-top-right-radius:0}.list-group-horizontal-lg>.list-group-item:last-child:not(:first-child){border-top-right-radius:var(--bs-list-group-border-radius);border-bottom-left-radius:0}.list-group-horizontal-lg>.list-group-item.active{margin-top:0}.list-group-horizontal-lg>.list-group-item+.list-group-item{border-top-width:var(--bs-list-group-border-width);border-left-width:0}.list-group-horizontal-lg>.list-group-item+.list-group-item.active{margin-left:calc(-1 * var(--bs-list-group-border-width));border-left-width:var(--bs-list-group-border-width)}}@media (min-width:1200px){.list-group-horizontal-xl{flex-direction:row}.list-group-horizontal-xl>.list-group-item:first-child:not(:last-child){border-bottom-left-radius:var(--bs-list-group-border-radius);border-top-right-radius:0}.list-group-horizontal-xl>.list-group-item:last-child:not(:first-child){border-top-right-radius:var(--bs-list-group-border-radius);border-bottom-left-radius:0}.list-group-horizontal-xl>.list-group-item.active{margin-top:0}.list-group-horizontal-xl>.list-group-item+.list-group-item{border-top-width:var(--bs-list-group-border-width);border-left-width:0}.list-group-horizontal-xl>.list-group-item+.list-group-item.active{margin-left:calc(-1 * var(--bs-list-group-border-width));border-left-width:var(--bs-list-group-border-width)}}@media (min-width:1400px){.list-group-horizontal-xxl{flex-direction:row}.list-group-horizontal-xxl>.list-group-item:first-child:not(:last-child){border-bottom-left-radius:var(--bs-list-group-border-radius);border-top-right-radius:0}.list-group-horizontal-xxl>.list-group-item:last-child:not(:first-child){border-top-right-radius:var(--bs-list-group-border-radius);border-bottom-left-radius:0}.list-group-horizontal-xxl>.list-group-item.active{margin-top:0}.list-group-horizontal-xxl>.list-group-item+.list-group-item{border-top-width:var(--bs-list-group-border-width);border-left-width:0}.list-group-horizontal-xxl>.list-group-item+.list-group-item.active{margin-left:calc(-1 * var(--bs-list-group-border-width));border-left-width:var(--bs-list-group-border-width)}}.list-group-flush{border-radius:0}.list-group-flush>.list-group-item{border-width:0 0 var(--bs-list-group-border-width)}.list-group-flush>.list-group-item:last-child{border-bottom-width:0}.list-group-item-primary{--bs-list-group-color:var(--bs-primary-text-emphasis);--bs-list-group-bg:var(--bs-primary-bg-subtle);--bs-list-group-border-color:var(--bs-primary-border-subtle);--bs-list-group-action-hover-color:var(--bs-emphasis-color);--bs-list-group-action-hover-bg:var(--bs-primary-border-subtle);--bs-list-group-action-active-color:var(--bs-emphasis-color);--bs-list-group-action-active-bg:var(--bs-primary-border-subtle);--bs-list-group-active-color:var(--bs-primary-bg-subtle);--bs-list-group-active-bg:var(--bs-primary-text-emphasis);--bs-list-group-active-border-color:var(--bs-primary-text-emphasis)}.list-group-item-secondary{--bs-list-group-color:var(--bs-secondary-text-emphasis);--bs-list-group-bg:var(--bs-secondary-bg-subtle);--bs-list-group-border-color:var(--bs-secondary-border-subtle);--bs-list-group-action-hover-color:var(--bs-emphasis-color);--bs-list-group-action-hover-bg:var(--bs-secondary-border-subtle);--bs-list-group-action-active-color:var(--bs-emphasis-color);--bs-list-group-action-active-bg:var(--bs-secondary-border-subtle);--bs-list-group-active-color:var(--bs-secondary-bg-subtle);--bs-list-group-active-bg:var(--bs-secondary-text-emphasis);--bs-list-group-active-border-color:var(--bs-secondary-text-emphasis)}.list-group-item-success{--bs-list-group-color:var(--bs-success-text-emphasis);--bs-list-group-bg:var(--bs-success-bg-subtle);--bs-list-group-border-color:var(--bs-success-border-subtle);--bs-list-group-action-hover-color:var(--bs-emphasis-color);--bs-list-group-action-hover-bg:var(--bs-success-border-subtle);--bs-list-group-action-active-color:var(--bs-emphasis-color);--bs-list-group-action-active-bg:var(--bs-success-border-subtle);--bs-list-group-active-color:var(--bs-success-bg-subtle);--bs-list-group-active-bg:var(--bs-success-text-emphasis);--bs-list-group-active-border-color:var(--bs-success-text-emphasis)}.list-group-item-info{--bs-list-group-color:var(--bs-info-text-emphasis);--bs-list-group-bg:var(--bs-info-bg-subtle);--bs-list-group-border-color:var(--bs-info-border-subtle);--bs-list-group-action-hover-color:var(--bs-emphasis-color);--bs-list-group-action-hover-bg:var(--bs-info-border-subtle);--bs-list-group-action-active-color:var(--bs-emphasis-color);--bs-list-group-action-active-bg:var(--bs-info-border-subtle);--bs-list-group-active-color:var(--bs-info-bg-subtle);--bs-list-group-active-bg:var(--bs-info-text-emphasis);--bs-list-group-active-border-color:var(--bs-info-text-emphasis)}.list-group-item-warning{--bs-list-group-color:var(--bs-warning-text-emphasis);--bs-list-group-bg:var(--bs-warning-bg-subtle);--bs-list-group-border-color:var(--bs-warning-border-subtle);--bs-list-group-action-hover-color:var(--bs-emphasis-color);--bs-list-group-action-hover-bg:var(--bs-warning-border-subtle);--bs-list-group-action-active-color:var(--bs-emphasis-color);--bs-list-group-action-active-bg:var(--bs-warning-border-subtle);--bs-list-group-active-color:var(--bs-warning-bg-subtle);--bs-list-group-active-bg:var(--bs-warning-text-emphasis);--bs-list-group-active-border-color:var(--bs-warning-text-emphasis)}.list-group-item-danger{--bs-list-group-color:var(--bs-danger-text-emphasis);--bs-list-group-bg:var(--bs-danger-bg-subtle);--bs-list-group-border-color:var(--bs-danger-border-subtle);--bs-list-group-action-hover-color:var(--bs-emphasis-color);--bs-list-group-action-hover-bg:var(--bs-danger-border-subtle);--bs-list-group-action-active-color:var(--bs-emphasis-color);--bs-list-group-action-active-bg:var(--bs-danger-border-subtle);--bs-list-group-active-color:var(--bs-danger-bg-subtle);--bs-list-group-active-bg:var(--bs-danger-text-emphasis);--bs-list-group-active-border-color:var(--bs-danger-text-emphasis)}.list-group-item-light{--bs-list-group-color:var(--bs-light-text-emphasis);--bs-list-group-bg:var(--bs-light-bg-subtle);--bs-list-group-border-color:var(--bs-light-border-subtle);--bs-list-group-action-hover-color:var(--bs-emphasis-color);--bs-list-group-action-hover-bg:var(--bs-light-border-subtle);--bs-list-group-action-active-color:var(--bs-emphasis-color);--bs-list-group-action-active-bg:var(--bs-light-border-subtle);--bs-list-group-active-color:var(--bs-light-bg-subtle);--bs-list-group-active-bg:var(--bs-light-text-emphasis);--bs-list-group-active-border-color:var(--bs-light-text-emphasis)}.list-group-item-dark{--bs-list-group-color:var(--bs-dark-text-emphasis);--bs-list-group-bg:var(--bs-dark-bg-subtle);--bs-list-group-border-color:var(--bs-dark-border-subtle);--bs-list-group-action-hover-color:var(--bs-emphasis-color);--bs-list-group-action-hover-bg:var(--bs-dark-border-subtle);--bs-list-group-action-active-color:var(--bs-emphasis-color);--bs-list-group-action-active-bg:var(--bs-dark-border-subtle);--bs-list-group-active-color:var(--bs-dark-bg-subtle);--bs-list-group-active-bg:var(--bs-dark-text-emphasis);--bs-list-group-active-border-color:var(--bs-dark-text-emphasis)}.btn-close{--bs-btn-close-color:#000;--bs-btn-close-bg:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23000'%3e%3cpath d='M.293.293a1 1 0 0 1 1.414 0L8 6.586 14.293.293a1 1 0 1 1 1.414 1.414L9.414 8l6.293 6.293a1 1 0 0 1-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 0 1-1.414-1.414L6.586 8 .293 1.707a1 1 0 0 1 0-1.414'/%3e%3c/svg%3e");--bs-btn-close-opacity:.5;--bs-btn-close-hover-opacity:.75;--bs-btn-close-focus-shadow:0 0 0 .25rem rgba(13, 110, 253, .25);--bs-btn-close-focus-opacity:1;--bs-btn-close-disabled-opacity:.25;box-sizing:content-box;width:1em;height:1em;padding:.25em;color:var(--bs-btn-close-color);background:transparent var(--bs-btn-close-bg) center/1em auto no-repeat;filter:var(--bs-btn-close-filter);border:0;border-radius:.375rem;opacity:var(--bs-btn-close-opacity)}.btn-close:hover{color:var(--bs-btn-close-color);text-decoration:none;opacity:var(--bs-btn-close-hover-opacity)}.btn-close:focus{outline:0;box-shadow:var(--bs-btn-close-focus-shadow);opacity:var(--bs-btn-close-focus-opacity)}.btn-close.disabled,.btn-close:disabled{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;opacity:var(--bs-btn-close-disabled-opacity)}.btn-close-white{--bs-btn-close-filter:invert(1) grayscale(100%) brightness(200%)}:root,[data-bs-theme=light]{--bs-btn-close-filter: }[data-bs-theme=dark]{--bs-btn-close-filter:invert(1) grayscale(100%) brightness(200%)}.toast{--bs-toast-zindex:1090;--bs-toast-padding-x:.75rem;--bs-toast-padding-y:.5rem;--bs-toast-spacing:1.5rem;--bs-toast-max-width:350px;--bs-toast-font-size:.875rem;--bs-toast-color: ;--bs-toast-bg:rgba(var(--bs-body-bg-rgb), .85);--bs-toast-border-width:var(--bs-border-width);--bs-toast-border-color:var(--bs-border-color-translucent);--bs-toast-border-radius:var(--bs-border-radius);--bs-toast-box-shadow:var(--bs-box-shadow);--bs-toast-header-color:var(--bs-secondary-color);--bs-toast-header-bg:rgba(var(--bs-body-bg-rgb), .85);--bs-toast-header-border-color:var(--bs-border-color-translucent);width:var(--bs-toast-max-width);max-width:100%;font-size:var(--bs-toast-font-size);color:var(--bs-toast-color);pointer-events:auto;background-color:var(--bs-toast-bg);background-clip:padding-box;border:var(--bs-toast-border-width) solid var(--bs-toast-border-color);box-shadow:var(--bs-toast-box-shadow);border-radius:var(--bs-toast-border-radius)}.toast.showing{opacity:0}.toast:not(.show){display:none}.toast-container{--bs-toast-zindex:1090;position:absolute;z-index:var(--bs-toast-zindex);width:-webkit-max-content;width:-moz-max-content;width:max-content;max-width:100%;pointer-events:none}.toast-container>:not(:last-child){margin-bottom:var(--bs-toast-spacing)}.toast-header{display:flex;align-items:center;padding:var(--bs-toast-padding-y) var(--bs-toast-padding-x);color:var(--bs-toast-header-color);background-color:var(--bs-toast-header-bg);background-clip:padding-box;border-bottom:var(--bs-toast-border-width) solid var(--bs-toast-header-border-color);border-top-left-radius:calc(var(--bs-toast-border-radius) - var(--bs-toast-border-width));border-top-right-radius:calc(var(--bs-toast-border-radius) - var(--bs-toast-border-width))}.toast-header .btn-close{margin-right:calc(-.5 * var(--bs-toast-padding-x));margin-left:var(--bs-toast-padding-x)}.toast-body{padding:var(--bs-toast-padding-x);word-wrap:break-word}.modal{--bs-modal-zindex:1055;--bs-modal-width:500px;--bs-modal-padding:1rem;--bs-modal-margin:.5rem;--bs-modal-color:var(--bs-body-color);--bs-modal-bg:var(--bs-body-bg);--bs-modal-border-color:var(--bs-border-color-translucent);--bs-modal-border-width:var(--bs-border-width);--bs-modal-border-radius:var(--bs-border-radius-lg);--bs-modal-box-shadow:var(--bs-box-shadow-sm);--bs-modal-inner-border-radius:calc(var(--bs-border-radius-lg) - (var(--bs-border-width)));--bs-modal-header-padding-x:1rem;--bs-modal-header-padding-y:1rem;--bs-modal-header-padding:1rem 1rem;--bs-modal-header-border-color:var(--bs-border-color);--bs-modal-header-border-width:var(--bs-border-width);--bs-modal-title-line-height:1.5;--bs-modal-footer-gap:.5rem;--bs-modal-footer-bg: ;--bs-modal-footer-border-color:var(--bs-border-color);--bs-modal-footer-border-width:var(--bs-border-width);position:fixed;top:0;left:0;z-index:var(--bs-modal-zindex);display:none;width:100%;height:100%;overflow-x:hidden;overflow-y:auto;outline:0}.modal-dialog{position:relative;width:auto;margin:var(--bs-modal-margin);pointer-events:none}.modal.fade .modal-dialog{transform:translateY(-50px);transition:transform .3s ease-out}@media (prefers-reduced-motion:reduce){.modal.fade .modal-dialog{transition:none}}.modal.show .modal-dialog{transform:none}.modal.modal-static .modal-dialog{transform:scale(1.02)}.modal-dialog-scrollable{height:calc(100% - var(--bs-modal-margin) * 2)}.modal-dialog-scrollable .modal-content{max-height:100%;overflow:hidden}.modal-dialog-scrollable .modal-body{overflow-y:auto}.modal-dialog-centered{display:flex;align-items:center;min-height:calc(100% - var(--bs-modal-margin) * 2)}.modal-content{position:relative;display:flex;flex-direction:column;width:100%;color:var(--bs-modal-color);pointer-events:auto;background-color:var(--bs-modal-bg);background-clip:padding-box;border:var(--bs-modal-border-width) solid var(--bs-modal-border-color);border-radius:var(--bs-modal-border-radius);outline:0}.modal-backdrop{--bs-backdrop-zindex:1050;--bs-backdrop-bg:#000;--bs-backdrop-opacity:.5;position:fixed;top:0;left:0;z-index:var(--bs-backdrop-zindex);width:100vw;height:100vh;background-color:var(--bs-backdrop-bg)}.modal-backdrop.fade{opacity:0}.modal-backdrop.show{opacity:var(--bs-backdrop-opacity)}.modal-header{display:flex;flex-shrink:0;align-items:center;padding:var(--bs-modal-header-padding);border-bottom:var(--bs-modal-header-border-width) solid var(--bs-modal-header-border-color);border-top-left-radius:var(--bs-modal-inner-border-radius);border-top-right-radius:var(--bs-modal-inner-border-radius)}.modal-header .btn-close{padding:calc(var(--bs-modal-header-padding-y) * .5) calc(var(--bs-modal-header-padding-x) * .5);margin-top:calc(-.5 * var(--bs-modal-header-padding-y));margin-right:calc(-.5 * var(--bs-modal-header-padding-x));margin-bottom:calc(-.5 * var(--bs-modal-header-padding-y));margin-left:auto}.modal-title{margin-bottom:0;line-height:var(--bs-modal-title-line-height)}.modal-body{position:relative;flex:1 1 auto;padding:var(--bs-modal-padding)}.modal-footer{display:flex;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;padding:calc(var(--bs-modal-padding) - var(--bs-modal-footer-gap) * .5);background-color:var(--bs-modal-footer-bg);border-top:var(--bs-modal-footer-border-width) solid var(--bs-modal-footer-border-color);border-bottom-right-radius:var(--bs-modal-inner-border-radius);border-bottom-left-radius:var(--bs-modal-inner-border-radius)}.modal-footer>*{margin:calc(var(--bs-modal-footer-gap) * .5)}@media (min-width:576px){.modal{--bs-modal-margin:1.75rem;--bs-modal-box-shadow:var(--bs-box-shadow)}.modal-dialog{max-width:var(--bs-modal-width);margin-right:auto;margin-left:auto}.modal-sm{--bs-modal-width:300px}}@media (min-width:992px){.modal-lg,.modal-xl{--bs-modal-width:800px}}@media (min-width:1200px){.modal-xl{--bs-modal-width:1140px}}.modal-fullscreen{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen .modal-content{height:100%;border:0;border-radius:0}.modal-fullscreen .modal-footer,.modal-fullscreen .modal-header{border-radius:0}.modal-fullscreen .modal-body{overflow-y:auto}@media (max-width:575.98px){.modal-fullscreen-sm-down{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen-sm-down .modal-content{height:100%;border:0;border-radius:0}.modal-fullscreen-sm-down .modal-footer,.modal-fullscreen-sm-down .modal-header{border-radius:0}.modal-fullscreen-sm-down .modal-body{overflow-y:auto}}@media (max-width:767.98px){.modal-fullscreen-md-down{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen-md-down .modal-content{height:100%;border:0;border-radius:0}.modal-fullscreen-md-down .modal-footer,.modal-fullscreen-md-down .modal-header{border-radius:0}.modal-fullscreen-md-down .modal-body{overflow-y:auto}}@media (max-width:991.98px){.modal-fullscreen-lg-down{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen-lg-down .modal-content{height:100%;border:0;border-radius:0}.modal-fullscreen-lg-down .modal-footer,.modal-fullscreen-lg-down .modal-header{border-radius:0}.modal-fullscreen-lg-down .modal-body{overflow-y:auto}}@media (max-width:1199.98px){.modal-fullscreen-xl-down{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen-xl-down .modal-content{height:100%;border:0;border-radius:0}.modal-fullscreen-xl-down .modal-footer,.modal-fullscreen-xl-down .modal-header{border-radius:0}.modal-fullscreen-xl-down .modal-body{overflow-y:auto}}@media (max-width:1399.98px){.modal-fullscreen-xxl-down{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen-xxl-down .modal-content{height:100%;border:0;border-radius:0}.modal-fullscreen-xxl-down .modal-footer,.modal-fullscreen-xxl-down .modal-header{border-radius:0}.modal-fullscreen-xxl-down .modal-body{overflow-y:auto}}.tooltip{--bs-tooltip-zindex:1080;--bs-tooltip-max-width:200px;--bs-tooltip-padding-x:.5rem;--bs-tooltip-padding-y:.25rem;--bs-tooltip-margin: ;--bs-tooltip-font-size:.875rem;--bs-tooltip-color:var(--bs-body-bg);--bs-tooltip-bg:var(--bs-emphasis-color);--bs-tooltip-border-radius:var(--bs-border-radius);--bs-tooltip-opacity:.9;--bs-tooltip-arrow-width:.8rem;--bs-tooltip-arrow-height:.4rem;z-index:var(--bs-tooltip-zindex);display:block;margin:var(--bs-tooltip-margin);font-family:var(--bs-font-sans-serif);font-style:normal;font-weight:400;line-height:1.5;text-align:left;text-align:start;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-break:normal;white-space:normal;word-spacing:normal;line-break:auto;font-size:var(--bs-tooltip-font-size);word-wrap:break-word;opacity:0}.tooltip.show{opacity:var(--bs-tooltip-opacity)}.tooltip .tooltip-arrow{display:block;width:var(--bs-tooltip-arrow-width);height:var(--bs-tooltip-arrow-height)}.tooltip .tooltip-arrow:before{position:absolute;content:"";border-color:transparent;border-style:solid}.bs-tooltip-auto[data-popper-placement^=top] .tooltip-arrow,.bs-tooltip-top .tooltip-arrow{bottom:calc(-1 * var(--bs-tooltip-arrow-height))}.bs-tooltip-auto[data-popper-placement^=top] .tooltip-arrow:before,.bs-tooltip-top .tooltip-arrow:before{top:-1px;border-width:var(--bs-tooltip-arrow-height) calc(var(--bs-tooltip-arrow-width) * .5) 0;border-top-color:var(--bs-tooltip-bg)}.bs-tooltip-auto[data-popper-placement^=right] .tooltip-arrow,.bs-tooltip-end .tooltip-arrow{left:calc(-1 * var(--bs-tooltip-arrow-height));width:var(--bs-tooltip-arrow-height);height:var(--bs-tooltip-arrow-width)}.bs-tooltip-auto[data-popper-placement^=right] .tooltip-arrow:before,.bs-tooltip-end .tooltip-arrow:before{right:-1px;border-width:calc(var(--bs-tooltip-arrow-width) * .5) var(--bs-tooltip-arrow-height) calc(var(--bs-tooltip-arrow-width) * .5) 0;border-right-color:var(--bs-tooltip-bg)}.bs-tooltip-auto[data-popper-placement^=bottom] .tooltip-arrow,.bs-tooltip-bottom .tooltip-arrow{top:calc(-1 * var(--bs-tooltip-arrow-height))}.bs-tooltip-auto[data-popper-placement^=bottom] .tooltip-arrow:before,.bs-tooltip-bottom .tooltip-arrow:before{bottom:-1px;border-width:0 calc(var(--bs-tooltip-arrow-width) * .5) var(--bs-tooltip-arrow-height);border-bottom-color:var(--bs-tooltip-bg)}.bs-tooltip-auto[data-popper-placement^=left] .tooltip-arrow,.bs-tooltip-start .tooltip-arrow{right:calc(-1 * var(--bs-tooltip-arrow-height));width:var(--bs-tooltip-arrow-height);height:var(--bs-tooltip-arrow-width)}.bs-tooltip-auto[data-popper-placement^=left] .tooltip-arrow:before,.bs-tooltip-start .tooltip-arrow:before{left:-1px;border-width:calc(var(--bs-tooltip-arrow-width) * .5) 0 calc(var(--bs-tooltip-arrow-width) * .5) var(--bs-tooltip-arrow-height);border-left-color:var(--bs-tooltip-bg)}.tooltip-inner{max-width:var(--bs-tooltip-max-width);padding:var(--bs-tooltip-padding-y) var(--bs-tooltip-padding-x);color:var(--bs-tooltip-color);text-align:center;background-color:var(--bs-tooltip-bg);border-radius:var(--bs-tooltip-border-radius)}.popover{--bs-popover-zindex:1070;--bs-popover-max-width:276px;--bs-popover-font-size:.875rem;--bs-popover-bg:var(--bs-body-bg);--bs-popover-border-width:var(--bs-border-width);--bs-popover-border-color:var(--bs-border-color-translucent);--bs-popover-border-radius:var(--bs-border-radius-lg);--bs-popover-inner-border-radius:calc(var(--bs-border-radius-lg) - var(--bs-border-width));--bs-popover-box-shadow:var(--bs-box-shadow);--bs-popover-header-padding-x:1rem;--bs-popover-header-padding-y:.5rem;--bs-popover-header-font-size:1rem;--bs-popover-header-color:inherit;--bs-popover-header-bg:var(--bs-secondary-bg);--bs-popover-body-padding-x:1rem;--bs-popover-body-padding-y:1rem;--bs-popover-body-color:var(--bs-body-color);--bs-popover-arrow-width:1rem;--bs-popover-arrow-height:.5rem;--bs-popover-arrow-border:var(--bs-popover-border-color);z-index:var(--bs-popover-zindex);display:block;max-width:var(--bs-popover-max-width);font-family:var(--bs-font-sans-serif);font-style:normal;font-weight:400;line-height:1.5;text-align:left;text-align:start;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-break:normal;white-space:normal;word-spacing:normal;line-break:auto;font-size:var(--bs-popover-font-size);word-wrap:break-word;background-color:var(--bs-popover-bg);background-clip:padding-box;border:var(--bs-popover-border-width) solid var(--bs-popover-border-color);border-radius:var(--bs-popover-border-radius)}.popover .popover-arrow{display:block;width:var(--bs-popover-arrow-width);height:var(--bs-popover-arrow-height)}.popover .popover-arrow:after,.popover .popover-arrow:before{position:absolute;display:block;content:"";border-color:transparent;border-style:solid;border-width:0}.bs-popover-auto[data-popper-placement^=top]>.popover-arrow,.bs-popover-top>.popover-arrow{bottom:calc(-1 * (var(--bs-popover-arrow-height)) - var(--bs-popover-border-width))}.bs-popover-auto[data-popper-placement^=top]>.popover-arrow:after,.bs-popover-auto[data-popper-placement^=top]>.popover-arrow:before,.bs-popover-top>.popover-arrow:after,.bs-popover-top>.popover-arrow:before{border-width:var(--bs-popover-arrow-height) calc(var(--bs-popover-arrow-width) * .5) 0}.bs-popover-auto[data-popper-placement^=top]>.popover-arrow:before,.bs-popover-top>.popover-arrow:before{bottom:0;border-top-color:var(--bs-popover-arrow-border)}.bs-popover-auto[data-popper-placement^=top]>.popover-arrow:after,.bs-popover-top>.popover-arrow:after{bottom:var(--bs-popover-border-width);border-top-color:var(--bs-popover-bg)}.bs-popover-auto[data-popper-placement^=right]>.popover-arrow,.bs-popover-end>.popover-arrow{left:calc(-1 * (var(--bs-popover-arrow-height)) - var(--bs-popover-border-width));width:var(--bs-popover-arrow-height);height:var(--bs-popover-arrow-width)}.bs-popover-auto[data-popper-placement^=right]>.popover-arrow:after,.bs-popover-auto[data-popper-placement^=right]>.popover-arrow:before,.bs-popover-end>.popover-arrow:after,.bs-popover-end>.popover-arrow:before{border-width:calc(var(--bs-popover-arrow-width) * .5) var(--bs-popover-arrow-height) calc(var(--bs-popover-arrow-width) * .5) 0}.bs-popover-auto[data-popper-placement^=right]>.popover-arrow:before,.bs-popover-end>.popover-arrow:before{left:0;border-right-color:var(--bs-popover-arrow-border)}.bs-popover-auto[data-popper-placement^=right]>.popover-arrow:after,.bs-popover-end>.popover-arrow:after{left:var(--bs-popover-border-width);border-right-color:var(--bs-popover-bg)}.bs-popover-auto[data-popper-placement^=bottom]>.popover-arrow,.bs-popover-bottom>.popover-arrow{top:calc(-1 * (var(--bs-popover-arrow-height)) - var(--bs-popover-border-width))}.bs-popover-auto[data-popper-placement^=bottom]>.popover-arrow:after,.bs-popover-auto[data-popper-placement^=bottom]>.popover-arrow:before,.bs-popover-bottom>.popover-arrow:after,.bs-popover-bottom>.popover-arrow:before{border-width:0 calc(var(--bs-popover-arrow-width) * .5) var(--bs-popover-arrow-height)}.bs-popover-auto[data-popper-placement^=bottom]>.popover-arrow:before,.bs-popover-bottom>.popover-arrow:before{top:0;border-bottom-color:var(--bs-popover-arrow-border)}.bs-popover-auto[data-popper-placement^=bottom]>.popover-arrow:after,.bs-popover-bottom>.popover-arrow:after{top:var(--bs-popover-border-width);border-bottom-color:var(--bs-popover-bg)}.bs-popover-auto[data-popper-placement^=bottom] .popover-header:before,.bs-popover-bottom .popover-header:before{position:absolute;top:0;left:50%;display:block;width:var(--bs-popover-arrow-width);margin-left:calc(-.5 * var(--bs-popover-arrow-width));content:"";border-bottom:var(--bs-popover-border-width) solid var(--bs-popover-header-bg)}.bs-popover-auto[data-popper-placement^=left]>.popover-arrow,.bs-popover-start>.popover-arrow{right:calc(-1 * (var(--bs-popover-arrow-height)) - var(--bs-popover-border-width));width:var(--bs-popover-arrow-height);height:var(--bs-popover-arrow-width)}.bs-popover-auto[data-popper-placement^=left]>.popover-arrow:after,.bs-popover-auto[data-popper-placement^=left]>.popover-arrow:before,.bs-popover-start>.popover-arrow:after,.bs-popover-start>.popover-arrow:before{border-width:calc(var(--bs-popover-arrow-width) * .5) 0 calc(var(--bs-popover-arrow-width) * .5) var(--bs-popover-arrow-height)}.bs-popover-auto[data-popper-placement^=left]>.popover-arrow:before,.bs-popover-start>.popover-arrow:before{right:0;border-left-color:var(--bs-popover-arrow-border)}.bs-popover-auto[data-popper-placement^=left]>.popover-arrow:after,.bs-popover-start>.popover-arrow:after{right:var(--bs-popover-border-width);border-left-color:var(--bs-popover-bg)}.popover-header{padding:var(--bs-popover-header-padding-y) var(--bs-popover-header-padding-x);margin-bottom:0;font-size:var(--bs-popover-header-font-size);color:var(--bs-popover-header-color);background-color:var(--bs-popover-header-bg);border-bottom:var(--bs-popover-border-width) solid var(--bs-popover-border-color);border-top-left-radius:var(--bs-popover-inner-border-radius);border-top-right-radius:var(--bs-popover-inner-border-radius)}.popover-header:empty{display:none}.popover-body{padding:var(--bs-popover-body-padding-y) var(--bs-popover-body-padding-x);color:var(--bs-popover-body-color)}.carousel{position:relative}.carousel.pointer-event{touch-action:pan-y}.carousel-inner{position:relative;width:100%;overflow:hidden}.carousel-inner:after{display:block;clear:both;content:""}.carousel-item{position:relative;display:none;float:left;width:100%;margin-right:-100%;-webkit-backface-visibility:hidden;backface-visibility:hidden;transition:transform .6s ease-in-out}@media (prefers-reduced-motion:reduce){.carousel-item{transition:none}}.carousel-item-next,.carousel-item-prev,.carousel-item.active{display:block}.active.carousel-item-end,.carousel-item-next:not(.carousel-item-start){transform:translate(100%)}.active.carousel-item-start,.carousel-item-prev:not(.carousel-item-end){transform:translate(-100%)}.carousel-fade .carousel-item{opacity:0;transition-property:opacity;transform:none}.carousel-fade .carousel-item-next.carousel-item-start,.carousel-fade .carousel-item-prev.carousel-item-end,.carousel-fade .carousel-item.active{z-index:1;opacity:1}.carousel-fade .active.carousel-item-end,.carousel-fade .active.carousel-item-start{z-index:0;opacity:0;transition:opacity 0s .6s}@media (prefers-reduced-motion:reduce){.carousel-fade .active.carousel-item-end,.carousel-fade .active.carousel-item-start{transition:none}}.carousel-control-next,.carousel-control-prev{position:absolute;top:0;bottom:0;z-index:1;display:flex;align-items:center;justify-content:center;width:15%;padding:0;color:#fff;text-align:center;background:0 0;filter:var(--bs-carousel-control-icon-filter);border:0;opacity:.5;transition:opacity .15s ease}@media (prefers-reduced-motion:reduce){.carousel-control-next,.carousel-control-prev{transition:none}}.carousel-control-next:focus,.carousel-control-next:hover,.carousel-control-prev:focus,.carousel-control-prev:hover{color:#fff;text-decoration:none;outline:0;opacity:.9}.carousel-control-prev{left:0}.carousel-control-next{right:0}.carousel-control-next-icon,.carousel-control-prev-icon{display:inline-block;width:2rem;height:2rem;background-repeat:no-repeat;background-position:50%;background-size:100% 100%}.carousel-control-prev-icon{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23fff'%3e%3cpath d='M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0'/%3e%3c/svg%3e")}.carousel-control-next-icon{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23fff'%3e%3cpath d='M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708'/%3e%3c/svg%3e")}.carousel-indicators{position:absolute;right:0;bottom:0;left:0;z-index:2;display:flex;justify-content:center;padding:0;margin-right:15%;margin-bottom:1rem;margin-left:15%}.carousel-indicators [data-bs-target]{box-sizing:content-box;flex:0 1 auto;width:30px;height:3px;padding:0;margin-right:3px;margin-left:3px;text-indent:-999px;cursor:pointer;background-color:var(--bs-carousel-indicator-active-bg);background-clip:padding-box;border:0;border-top:10px solid transparent;border-bottom:10px solid transparent;opacity:.5;transition:opacity .6s ease}@media (prefers-reduced-motion:reduce){.carousel-indicators [data-bs-target]{transition:none}}.carousel-indicators .active{opacity:1}.carousel-caption{position:absolute;right:15%;bottom:1.25rem;left:15%;padding-top:1.25rem;padding-bottom:1.25rem;color:var(--bs-carousel-caption-color);text-align:center}.carousel-dark{--bs-carousel-indicator-active-bg:#000;--bs-carousel-caption-color:#000;--bs-carousel-control-icon-filter:invert(1) grayscale(100)}:root,[data-bs-theme=light]{--bs-carousel-indicator-active-bg:#fff;--bs-carousel-caption-color:#fff;--bs-carousel-control-icon-filter: }[data-bs-theme=dark]{--bs-carousel-indicator-active-bg:#000;--bs-carousel-caption-color:#000;--bs-carousel-control-icon-filter:invert(1) grayscale(100)}.spinner-border,.spinner-grow{display:inline-block;width:var(--bs-spinner-width);height:var(--bs-spinner-height);vertical-align:var(--bs-spinner-vertical-align);border-radius:50%;animation:var(--bs-spinner-animation-speed) linear infinite var(--bs-spinner-animation-name)}@keyframes spinner-border{to{transform:rotate(360deg)}}.spinner-border{--bs-spinner-width:2rem;--bs-spinner-height:2rem;--bs-spinner-vertical-align:-.125em;--bs-spinner-border-width:.25em;--bs-spinner-animation-speed:.75s;--bs-spinner-animation-name:spinner-border;border:var(--bs-spinner-border-width) solid currentcolor;border-right-color:transparent}.spinner-border-sm{--bs-spinner-width:1rem;--bs-spinner-height:1rem;--bs-spinner-border-width:.2em}@keyframes spinner-grow{0%{transform:scale(0)}50%{opacity:1;transform:none}}.spinner-grow{--bs-spinner-width:2rem;--bs-spinner-height:2rem;--bs-spinner-vertical-align:-.125em;--bs-spinner-animation-speed:.75s;--bs-spinner-animation-name:spinner-grow;background-color:currentcolor;opacity:0}.spinner-grow-sm{--bs-spinner-width:1rem;--bs-spinner-height:1rem}@media (prefers-reduced-motion:reduce){.spinner-border,.spinner-grow{--bs-spinner-animation-speed:1.5s}}.offcanvas,.offcanvas-lg,.offcanvas-md,.offcanvas-sm,.offcanvas-xl,.offcanvas-xxl{--bs-offcanvas-zindex:1045;--bs-offcanvas-width:400px;--bs-offcanvas-height:30vh;--bs-offcanvas-padding-x:1rem;--bs-offcanvas-padding-y:1rem;--bs-offcanvas-color:var(--bs-body-color);--bs-offcanvas-bg:var(--bs-body-bg);--bs-offcanvas-border-width:var(--bs-border-width);--bs-offcanvas-border-color:var(--bs-border-color-translucent);--bs-offcanvas-box-shadow:var(--bs-box-shadow-sm);--bs-offcanvas-transition:transform .3s ease-in-out;--bs-offcanvas-title-line-height:1.5}@media (max-width:575.98px){.offcanvas-sm{position:fixed;bottom:0;z-index:var(--bs-offcanvas-zindex);display:flex;flex-direction:column;max-width:100%;color:var(--bs-offcanvas-color);visibility:hidden;background-color:var(--bs-offcanvas-bg);background-clip:padding-box;outline:0;transition:var(--bs-offcanvas-transition)}}@media (max-width:575.98px) and (prefers-reduced-motion:reduce){.offcanvas-sm{transition:none}}@media (max-width:575.98px){.offcanvas-sm.offcanvas-start{top:0;left:0;width:var(--bs-offcanvas-width);border-right:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translate(-100%)}.offcanvas-sm.offcanvas-end{top:0;right:0;width:var(--bs-offcanvas-width);border-left:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translate(100%)}.offcanvas-sm.offcanvas-top{top:0;right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-bottom:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(-100%)}.offcanvas-sm.offcanvas-bottom{right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-top:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(100%)}.offcanvas-sm.show:not(.hiding),.offcanvas-sm.showing{transform:none}.offcanvas-sm.hiding,.offcanvas-sm.show,.offcanvas-sm.showing{visibility:visible}}@media (min-width:576px){.offcanvas-sm{--bs-offcanvas-height:auto;--bs-offcanvas-border-width:0;background-color:transparent!important}.offcanvas-sm .offcanvas-header{display:none}.offcanvas-sm .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible;background-color:transparent!important}}@media (max-width:767.98px){.offcanvas-md{position:fixed;bottom:0;z-index:var(--bs-offcanvas-zindex);display:flex;flex-direction:column;max-width:100%;color:var(--bs-offcanvas-color);visibility:hidden;background-color:var(--bs-offcanvas-bg);background-clip:padding-box;outline:0;transition:var(--bs-offcanvas-transition)}}@media (max-width:767.98px) and (prefers-reduced-motion:reduce){.offcanvas-md{transition:none}}@media (max-width:767.98px){.offcanvas-md.offcanvas-start{top:0;left:0;width:var(--bs-offcanvas-width);border-right:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translate(-100%)}.offcanvas-md.offcanvas-end{top:0;right:0;width:var(--bs-offcanvas-width);border-left:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translate(100%)}.offcanvas-md.offcanvas-top{top:0;right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-bottom:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(-100%)}.offcanvas-md.offcanvas-bottom{right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-top:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(100%)}.offcanvas-md.show:not(.hiding),.offcanvas-md.showing{transform:none}.offcanvas-md.hiding,.offcanvas-md.show,.offcanvas-md.showing{visibility:visible}}@media (min-width:768px){.offcanvas-md{--bs-offcanvas-height:auto;--bs-offcanvas-border-width:0;background-color:transparent!important}.offcanvas-md .offcanvas-header{display:none}.offcanvas-md .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible;background-color:transparent!important}}@media (max-width:991.98px){.offcanvas-lg{position:fixed;bottom:0;z-index:var(--bs-offcanvas-zindex);display:flex;flex-direction:column;max-width:100%;color:var(--bs-offcanvas-color);visibility:hidden;background-color:var(--bs-offcanvas-bg);background-clip:padding-box;outline:0;transition:var(--bs-offcanvas-transition)}}@media (max-width:991.98px) and (prefers-reduced-motion:reduce){.offcanvas-lg{transition:none}}@media (max-width:991.98px){.offcanvas-lg.offcanvas-start{top:0;left:0;width:var(--bs-offcanvas-width);border-right:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translate(-100%)}.offcanvas-lg.offcanvas-end{top:0;right:0;width:var(--bs-offcanvas-width);border-left:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translate(100%)}.offcanvas-lg.offcanvas-top{top:0;right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-bottom:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(-100%)}.offcanvas-lg.offcanvas-bottom{right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-top:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(100%)}.offcanvas-lg.show:not(.hiding),.offcanvas-lg.showing{transform:none}.offcanvas-lg.hiding,.offcanvas-lg.show,.offcanvas-lg.showing{visibility:visible}}@media (min-width:992px){.offcanvas-lg{--bs-offcanvas-height:auto;--bs-offcanvas-border-width:0;background-color:transparent!important}.offcanvas-lg .offcanvas-header{display:none}.offcanvas-lg .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible;background-color:transparent!important}}@media (max-width:1199.98px){.offcanvas-xl{position:fixed;bottom:0;z-index:var(--bs-offcanvas-zindex);display:flex;flex-direction:column;max-width:100%;color:var(--bs-offcanvas-color);visibility:hidden;background-color:var(--bs-offcanvas-bg);background-clip:padding-box;outline:0;transition:var(--bs-offcanvas-transition)}}@media (max-width:1199.98px) and (prefers-reduced-motion:reduce){.offcanvas-xl{transition:none}}@media (max-width:1199.98px){.offcanvas-xl.offcanvas-start{top:0;left:0;width:var(--bs-offcanvas-width);border-right:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translate(-100%)}.offcanvas-xl.offcanvas-end{top:0;right:0;width:var(--bs-offcanvas-width);border-left:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translate(100%)}.offcanvas-xl.offcanvas-top{top:0;right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-bottom:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(-100%)}.offcanvas-xl.offcanvas-bottom{right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-top:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(100%)}.offcanvas-xl.show:not(.hiding),.offcanvas-xl.showing{transform:none}.offcanvas-xl.hiding,.offcanvas-xl.show,.offcanvas-xl.showing{visibility:visible}}@media (min-width:1200px){.offcanvas-xl{--bs-offcanvas-height:auto;--bs-offcanvas-border-width:0;background-color:transparent!important}.offcanvas-xl .offcanvas-header{display:none}.offcanvas-xl .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible;background-color:transparent!important}}@media (max-width:1399.98px){.offcanvas-xxl{position:fixed;bottom:0;z-index:var(--bs-offcanvas-zindex);display:flex;flex-direction:column;max-width:100%;color:var(--bs-offcanvas-color);visibility:hidden;background-color:var(--bs-offcanvas-bg);background-clip:padding-box;outline:0;transition:var(--bs-offcanvas-transition)}}@media (max-width:1399.98px) and (prefers-reduced-motion:reduce){.offcanvas-xxl{transition:none}}@media (max-width:1399.98px){.offcanvas-xxl.offcanvas-start{top:0;left:0;width:var(--bs-offcanvas-width);border-right:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translate(-100%)}.offcanvas-xxl.offcanvas-end{top:0;right:0;width:var(--bs-offcanvas-width);border-left:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translate(100%)}.offcanvas-xxl.offcanvas-top{top:0;right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-bottom:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(-100%)}.offcanvas-xxl.offcanvas-bottom{right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-top:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(100%)}.offcanvas-xxl.show:not(.hiding),.offcanvas-xxl.showing{transform:none}.offcanvas-xxl.hiding,.offcanvas-xxl.show,.offcanvas-xxl.showing{visibility:visible}}@media (min-width:1400px){.offcanvas-xxl{--bs-offcanvas-height:auto;--bs-offcanvas-border-width:0;background-color:transparent!important}.offcanvas-xxl .offcanvas-header{display:none}.offcanvas-xxl .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible;background-color:transparent!important}}.offcanvas{position:fixed;bottom:0;z-index:var(--bs-offcanvas-zindex);display:flex;flex-direction:column;max-width:100%;color:var(--bs-offcanvas-color);visibility:hidden;background-color:var(--bs-offcanvas-bg);background-clip:padding-box;outline:0;transition:var(--bs-offcanvas-transition)}@media (prefers-reduced-motion:reduce){.offcanvas{transition:none}}.offcanvas.offcanvas-start{top:0;left:0;width:var(--bs-offcanvas-width);border-right:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translate(-100%)}.offcanvas.offcanvas-end{top:0;right:0;width:var(--bs-offcanvas-width);border-left:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translate(100%)}.offcanvas.offcanvas-top{top:0;right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-bottom:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(-100%)}.offcanvas.offcanvas-bottom{right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-top:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(100%)}.offcanvas.show:not(.hiding),.offcanvas.showing{transform:none}.offcanvas.hiding,.offcanvas.show,.offcanvas.showing{visibility:visible}.offcanvas-backdrop{position:fixed;top:0;left:0;z-index:1040;width:100vw;height:100vh;background-color:#000}.offcanvas-backdrop.fade{opacity:0}.offcanvas-backdrop.show{opacity:.5}.offcanvas-header{display:flex;align-items:center;padding:var(--bs-offcanvas-padding-y) var(--bs-offcanvas-padding-x)}.offcanvas-header .btn-close{padding:calc(var(--bs-offcanvas-padding-y) * .5) calc(var(--bs-offcanvas-padding-x) * .5);margin-top:calc(-.5 * var(--bs-offcanvas-padding-y));margin-right:calc(-.5 * var(--bs-offcanvas-padding-x));margin-bottom:calc(-.5 * var(--bs-offcanvas-padding-y));margin-left:auto}.offcanvas-title{margin-bottom:0;line-height:var(--bs-offcanvas-title-line-height)}.offcanvas-body{flex-grow:1;padding:var(--bs-offcanvas-padding-y) var(--bs-offcanvas-padding-x);overflow-y:auto}.placeholder{display:inline-block;min-height:1em;vertical-align:middle;cursor:wait;background-color:currentcolor;opacity:.5}.placeholder.btn:before{display:inline-block;content:""}.placeholder-xs{min-height:.6em}.placeholder-sm{min-height:.8em}.placeholder-lg{min-height:1.2em}.placeholder-glow .placeholder{animation:placeholder-glow 2s ease-in-out infinite}@keyframes placeholder-glow{50%{opacity:.2}}.placeholder-wave{-webkit-mask-image:linear-gradient(130deg,#000 55%,rgba(0,0,0,.8) 75%,#000 95%);mask-image:linear-gradient(130deg,#000 55%,#000c,#000 95%);-webkit-mask-size:200% 100%;mask-size:200% 100%;animation:placeholder-wave 2s linear infinite}@keyframes placeholder-wave{to{-webkit-mask-position:-200% 0%;mask-position:-200% 0%}}.clearfix:after{display:block;clear:both;content:""}.text-bg-primary{color:#fff!important;background-color:RGBA(var(--bs-primary-rgb),var(--bs-bg-opacity,1))!important}.text-bg-secondary{color:#fff!important;background-color:RGBA(var(--bs-secondary-rgb),var(--bs-bg-opacity,1))!important}.text-bg-success{color:#fff!important;background-color:RGBA(var(--bs-success-rgb),var(--bs-bg-opacity,1))!important}.text-bg-info{color:#000!important;background-color:RGBA(var(--bs-info-rgb),var(--bs-bg-opacity,1))!important}.text-bg-warning{color:#000!important;background-color:RGBA(var(--bs-warning-rgb),var(--bs-bg-opacity,1))!important}.text-bg-danger{color:#fff!important;background-color:RGBA(var(--bs-danger-rgb),var(--bs-bg-opacity,1))!important}.text-bg-light{color:#000!important;background-color:RGBA(var(--bs-light-rgb),var(--bs-bg-opacity,1))!important}.text-bg-dark{color:#fff!important;background-color:RGBA(var(--bs-dark-rgb),var(--bs-bg-opacity,1))!important}.link-primary{color:RGBA(var(--bs-primary-rgb),var(--bs-link-opacity,1))!important;-webkit-text-decoration-color:RGBA(var(--bs-primary-rgb),var(--bs-link-underline-opacity,1))!important;text-decoration-color:RGBA(var(--bs-primary-rgb),var(--bs-link-underline-opacity,1))!important}.link-primary:focus,.link-primary:hover{color:RGBA(10,88,202,var(--bs-link-opacity,1))!important;-webkit-text-decoration-color:RGBA(10,88,202,var(--bs-link-underline-opacity,1))!important;text-decoration-color:RGBA(10,88,202,var(--bs-link-underline-opacity,1))!important}.link-secondary{color:RGBA(var(--bs-secondary-rgb),var(--bs-link-opacity,1))!important;-webkit-text-decoration-color:RGBA(var(--bs-secondary-rgb),var(--bs-link-underline-opacity,1))!important;text-decoration-color:RGBA(var(--bs-secondary-rgb),var(--bs-link-underline-opacity,1))!important}.link-secondary:focus,.link-secondary:hover{color:RGBA(86,94,100,var(--bs-link-opacity,1))!important;-webkit-text-decoration-color:RGBA(86,94,100,var(--bs-link-underline-opacity,1))!important;text-decoration-color:RGBA(86,94,100,var(--bs-link-underline-opacity,1))!important}.link-success{color:RGBA(var(--bs-success-rgb),var(--bs-link-opacity,1))!important;-webkit-text-decoration-color:RGBA(var(--bs-success-rgb),var(--bs-link-underline-opacity,1))!important;text-decoration-color:RGBA(var(--bs-success-rgb),var(--bs-link-underline-opacity,1))!important}.link-success:focus,.link-success:hover{color:RGBA(20,108,67,var(--bs-link-opacity,1))!important;-webkit-text-decoration-color:RGBA(20,108,67,var(--bs-link-underline-opacity,1))!important;text-decoration-color:RGBA(20,108,67,var(--bs-link-underline-opacity,1))!important}.link-info{color:RGBA(var(--bs-info-rgb),var(--bs-link-opacity,1))!important;-webkit-text-decoration-color:RGBA(var(--bs-info-rgb),var(--bs-link-underline-opacity,1))!important;text-decoration-color:RGBA(var(--bs-info-rgb),var(--bs-link-underline-opacity,1))!important}.link-info:focus,.link-info:hover{color:RGBA(61,213,243,var(--bs-link-opacity,1))!important;-webkit-text-decoration-color:RGBA(61,213,243,var(--bs-link-underline-opacity,1))!important;text-decoration-color:RGBA(61,213,243,var(--bs-link-underline-opacity,1))!important}.link-warning{color:RGBA(var(--bs-warning-rgb),var(--bs-link-opacity,1))!important;-webkit-text-decoration-color:RGBA(var(--bs-warning-rgb),var(--bs-link-underline-opacity,1))!important;text-decoration-color:RGBA(var(--bs-warning-rgb),var(--bs-link-underline-opacity,1))!important}.link-warning:focus,.link-warning:hover{color:RGBA(255,205,57,var(--bs-link-opacity,1))!important;-webkit-text-decoration-color:RGBA(255,205,57,var(--bs-link-underline-opacity,1))!important;text-decoration-color:RGBA(255,205,57,var(--bs-link-underline-opacity,1))!important}.link-danger{color:RGBA(var(--bs-danger-rgb),var(--bs-link-opacity,1))!important;-webkit-text-decoration-color:RGBA(var(--bs-danger-rgb),var(--bs-link-underline-opacity,1))!important;text-decoration-color:RGBA(var(--bs-danger-rgb),var(--bs-link-underline-opacity,1))!important}.link-danger:focus,.link-danger:hover{color:RGBA(176,42,55,var(--bs-link-opacity,1))!important;-webkit-text-decoration-color:RGBA(176,42,55,var(--bs-link-underline-opacity,1))!important;text-decoration-color:RGBA(176,42,55,var(--bs-link-underline-opacity,1))!important}.link-light{color:RGBA(var(--bs-light-rgb),var(--bs-link-opacity,1))!important;-webkit-text-decoration-color:RGBA(var(--bs-light-rgb),var(--bs-link-underline-opacity,1))!important;text-decoration-color:RGBA(var(--bs-light-rgb),var(--bs-link-underline-opacity,1))!important}.link-light:focus,.link-light:hover{color:RGBA(249,250,251,var(--bs-link-opacity,1))!important;-webkit-text-decoration-color:RGBA(249,250,251,var(--bs-link-underline-opacity,1))!important;text-decoration-color:RGBA(249,250,251,var(--bs-link-underline-opacity,1))!important}.link-dark{color:RGBA(var(--bs-dark-rgb),var(--bs-link-opacity,1))!important;-webkit-text-decoration-color:RGBA(var(--bs-dark-rgb),var(--bs-link-underline-opacity,1))!important;text-decoration-color:RGBA(var(--bs-dark-rgb),var(--bs-link-underline-opacity,1))!important}.link-dark:focus,.link-dark:hover{color:RGBA(26,30,33,var(--bs-link-opacity,1))!important;-webkit-text-decoration-color:RGBA(26,30,33,var(--bs-link-underline-opacity,1))!important;text-decoration-color:RGBA(26,30,33,var(--bs-link-underline-opacity,1))!important}.link-body-emphasis{color:RGBA(var(--bs-emphasis-color-rgb),var(--bs-link-opacity,1))!important;-webkit-text-decoration-color:RGBA(var(--bs-emphasis-color-rgb),var(--bs-link-underline-opacity,1))!important;text-decoration-color:RGBA(var(--bs-emphasis-color-rgb),var(--bs-link-underline-opacity,1))!important}.link-body-emphasis:focus,.link-body-emphasis:hover{color:RGBA(var(--bs-emphasis-color-rgb),var(--bs-link-opacity,.75))!important;-webkit-text-decoration-color:RGBA(var(--bs-emphasis-color-rgb),var(--bs-link-underline-opacity,.75))!important;text-decoration-color:RGBA(var(--bs-emphasis-color-rgb),var(--bs-link-underline-opacity,.75))!important}.focus-ring:focus{outline:0;box-shadow:var(--bs-focus-ring-x,0) var(--bs-focus-ring-y,0) var(--bs-focus-ring-blur,0) var(--bs-focus-ring-width) var(--bs-focus-ring-color)}.icon-link{display:inline-flex;gap:.375rem;align-items:center;-webkit-text-decoration-color:rgba(var(--bs-link-color-rgb),var(--bs-link-opacity,.5));text-decoration-color:rgba(var(--bs-link-color-rgb),var(--bs-link-opacity,.5));text-underline-offset:.25em;-webkit-backface-visibility:hidden;backface-visibility:hidden}.icon-link>.bi{flex-shrink:0;width:1em;height:1em;fill:currentcolor;transition:.2s ease-in-out transform}@media (prefers-reduced-motion:reduce){.icon-link>.bi{transition:none}}.icon-link-hover:focus-visible>.bi,.icon-link-hover:hover>.bi{transform:var(--bs-icon-link-transform,translate3d(.25em,0,0))}.ratio{position:relative;width:100%}.ratio:before{display:block;padding-top:var(--bs-aspect-ratio);content:""}.ratio>*{position:absolute;top:0;left:0;width:100%;height:100%}.ratio-1x1{--bs-aspect-ratio:100%}.ratio-4x3{--bs-aspect-ratio:75%}.ratio-16x9{--bs-aspect-ratio:56.25%}.ratio-21x9{--bs-aspect-ratio:42.8571428571%}.fixed-top{position:fixed;top:0;right:0;left:0;z-index:1030}.fixed-bottom{position:fixed;right:0;bottom:0;left:0;z-index:1030}.sticky-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}.sticky-bottom{position:-webkit-sticky;position:sticky;bottom:0;z-index:1020}@media (min-width:576px){.sticky-sm-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}.sticky-sm-bottom{position:-webkit-sticky;position:sticky;bottom:0;z-index:1020}}@media (min-width:768px){.sticky-md-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}.sticky-md-bottom{position:-webkit-sticky;position:sticky;bottom:0;z-index:1020}}@media (min-width:992px){.sticky-lg-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}.sticky-lg-bottom{position:-webkit-sticky;position:sticky;bottom:0;z-index:1020}}@media (min-width:1200px){.sticky-xl-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}.sticky-xl-bottom{position:-webkit-sticky;position:sticky;bottom:0;z-index:1020}}@media (min-width:1400px){.sticky-xxl-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}.sticky-xxl-bottom{position:-webkit-sticky;position:sticky;bottom:0;z-index:1020}}.hstack{display:flex;flex-direction:row;align-items:center;align-self:stretch}.vstack{display:flex;flex:1 1 auto;flex-direction:column;align-self:stretch}.visually-hidden,.visually-hidden-focusable:not(:focus):not(:focus-within){width:1px!important;height:1px!important;padding:0!important;margin:-1px!important;overflow:hidden!important;clip:rect(0,0,0,0)!important;white-space:nowrap!important;border:0!important}.visually-hidden-focusable:not(:focus):not(:focus-within):not(caption),.visually-hidden:not(caption){position:absolute!important}.visually-hidden *,.visually-hidden-focusable:not(:focus):not(:focus-within) *{overflow:hidden!important}.stretched-link:after{position:absolute;top:0;right:0;bottom:0;left:0;z-index:1;content:""}.text-truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.vr{display:inline-block;align-self:stretch;width:var(--bs-border-width);min-height:1em;background-color:currentcolor;opacity:.25}.align-baseline{vertical-align:baseline!important}.align-top{vertical-align:top!important}.align-middle{vertical-align:middle!important}.align-bottom{vertical-align:bottom!important}.align-text-bottom{vertical-align:text-bottom!important}.align-text-top{vertical-align:text-top!important}.float-start{float:left!important}.float-end{float:right!important}.float-none{float:none!important}.object-fit-contain{-o-object-fit:contain!important;object-fit:contain!important}.object-fit-cover{-o-object-fit:cover!important;object-fit:cover!important}.object-fit-fill{-o-object-fit:fill!important;object-fit:fill!important}.object-fit-scale{-o-object-fit:scale-down!important;object-fit:scale-down!important}.object-fit-none{-o-object-fit:none!important;object-fit:none!important}.opacity-0{opacity:0!important}.opacity-25{opacity:.25!important}.opacity-50{opacity:.5!important}.opacity-75{opacity:.75!important}.opacity-100{opacity:1!important}.overflow-auto{overflow:auto!important}.overflow-hidden{overflow:hidden!important}.overflow-visible{overflow:visible!important}.overflow-scroll{overflow:scroll!important}.overflow-x-auto{overflow-x:auto!important}.overflow-x-hidden{overflow-x:hidden!important}.overflow-x-visible{overflow-x:visible!important}.overflow-x-scroll{overflow-x:scroll!important}.overflow-y-auto{overflow-y:auto!important}.overflow-y-hidden{overflow-y:hidden!important}.overflow-y-visible{overflow-y:visible!important}.overflow-y-scroll{overflow-y:scroll!important}.d-inline{display:inline!important}.d-inline-block{display:inline-block!important}.d-block{display:block!important}.d-grid{display:grid!important}.d-inline-grid{display:inline-grid!important}.d-table{display:table!important}.d-table-row{display:table-row!important}.d-table-cell{display:table-cell!important}.d-flex{display:flex!important}.d-inline-flex{display:inline-flex!important}.d-none{display:none!important}.shadow{box-shadow:var(--bs-box-shadow)!important}.shadow-sm{box-shadow:var(--bs-box-shadow-sm)!important}.shadow-lg{box-shadow:var(--bs-box-shadow-lg)!important}.shadow-none{box-shadow:none!important}.focus-ring-primary{--bs-focus-ring-color:rgba(var(--bs-primary-rgb), var(--bs-focus-ring-opacity))}.focus-ring-secondary{--bs-focus-ring-color:rgba(var(--bs-secondary-rgb), var(--bs-focus-ring-opacity))}.focus-ring-success{--bs-focus-ring-color:rgba(var(--bs-success-rgb), var(--bs-focus-ring-opacity))}.focus-ring-info{--bs-focus-ring-color:rgba(var(--bs-info-rgb), var(--bs-focus-ring-opacity))}.focus-ring-warning{--bs-focus-ring-color:rgba(var(--bs-warning-rgb), var(--bs-focus-ring-opacity))}.focus-ring-danger{--bs-focus-ring-color:rgba(var(--bs-danger-rgb), var(--bs-focus-ring-opacity))}.focus-ring-light{--bs-focus-ring-color:rgba(var(--bs-light-rgb), var(--bs-focus-ring-opacity))}.focus-ring-dark{--bs-focus-ring-color:rgba(var(--bs-dark-rgb), var(--bs-focus-ring-opacity))}.position-static{position:static!important}.position-relative{position:relative!important}.position-absolute{position:absolute!important}.position-fixed{position:fixed!important}.position-sticky{position:-webkit-sticky!important;position:sticky!important}.top-0{top:0!important}.top-50{top:50%!important}.top-100{top:100%!important}.bottom-0{bottom:0!important}.bottom-50{bottom:50%!important}.bottom-100{bottom:100%!important}.start-0{left:0!important}.start-50{left:50%!important}.start-100{left:100%!important}.end-0{right:0!important}.end-50{right:50%!important}.end-100{right:100%!important}.translate-middle{transform:translate(-50%,-50%)!important}.translate-middle-x{transform:translate(-50%)!important}.translate-middle-y{transform:translateY(-50%)!important}.border{border:var(--bs-border-width) var(--bs-border-style) var(--bs-border-color)!important}.border-0{border:0!important}.border-top{border-top:var(--bs-border-width) var(--bs-border-style) var(--bs-border-color)!important}.border-top-0{border-top:0!important}.border-end{border-right:var(--bs-border-width) var(--bs-border-style) var(--bs-border-color)!important}.border-end-0{border-right:0!important}.border-bottom{border-bottom:var(--bs-border-width) var(--bs-border-style) var(--bs-border-color)!important}.border-bottom-0{border-bottom:0!important}.border-start{border-left:var(--bs-border-width) var(--bs-border-style) var(--bs-border-color)!important}.border-start-0{border-left:0!important}.border-primary{--bs-border-opacity:1;border-color:rgba(var(--bs-primary-rgb),var(--bs-border-opacity))!important}.border-secondary{--bs-border-opacity:1;border-color:rgba(var(--bs-secondary-rgb),var(--bs-border-opacity))!important}.border-success{--bs-border-opacity:1;border-color:rgba(var(--bs-success-rgb),var(--bs-border-opacity))!important}.border-info{--bs-border-opacity:1;border-color:rgba(var(--bs-info-rgb),var(--bs-border-opacity))!important}.border-warning{--bs-border-opacity:1;border-color:rgba(var(--bs-warning-rgb),var(--bs-border-opacity))!important}.border-danger{--bs-border-opacity:1;border-color:rgba(var(--bs-danger-rgb),var(--bs-border-opacity))!important}.border-light{--bs-border-opacity:1;border-color:rgba(var(--bs-light-rgb),var(--bs-border-opacity))!important}.border-dark{--bs-border-opacity:1;border-color:rgba(var(--bs-dark-rgb),var(--bs-border-opacity))!important}.border-black{--bs-border-opacity:1;border-color:rgba(var(--bs-black-rgb),var(--bs-border-opacity))!important}.border-white{--bs-border-opacity:1;border-color:rgba(var(--bs-white-rgb),var(--bs-border-opacity))!important}.border-primary-subtle{border-color:var(--bs-primary-border-subtle)!important}.border-secondary-subtle{border-color:var(--bs-secondary-border-subtle)!important}.border-success-subtle{border-color:var(--bs-success-border-subtle)!important}.border-info-subtle{border-color:var(--bs-info-border-subtle)!important}.border-warning-subtle{border-color:var(--bs-warning-border-subtle)!important}.border-danger-subtle{border-color:var(--bs-danger-border-subtle)!important}.border-light-subtle{border-color:var(--bs-light-border-subtle)!important}.border-dark-subtle{border-color:var(--bs-dark-border-subtle)!important}.border-1{border-width:1px!important}.border-2{border-width:2px!important}.border-3{border-width:3px!important}.border-4{border-width:4px!important}.border-5{border-width:5px!important}.border-opacity-10{--bs-border-opacity:.1}.border-opacity-25{--bs-border-opacity:.25}.border-opacity-50{--bs-border-opacity:.5}.border-opacity-75{--bs-border-opacity:.75}.border-opacity-100{--bs-border-opacity:1}.w-25{width:25%!important}.w-50{width:50%!important}.w-75{width:75%!important}.w-100{width:100%!important}.w-auto{width:auto!important}.mw-100{max-width:100%!important}.vw-100{width:100vw!important}.min-vw-100{min-width:100vw!important}.h-25{height:25%!important}.h-50{height:50%!important}.h-75{height:75%!important}.h-100{height:100%!important}.h-auto{height:auto!important}.mh-100{max-height:100%!important}.vh-100{height:100vh!important}.min-vh-100{min-height:100vh!important}.flex-fill{flex:1 1 auto!important}.flex-row{flex-direction:row!important}.flex-column{flex-direction:column!important}.flex-row-reverse{flex-direction:row-reverse!important}.flex-column-reverse{flex-direction:column-reverse!important}.flex-grow-0{flex-grow:0!important}.flex-grow-1{flex-grow:1!important}.flex-shrink-0{flex-shrink:0!important}.flex-shrink-1{flex-shrink:1!important}.flex-wrap{flex-wrap:wrap!important}.flex-nowrap{flex-wrap:nowrap!important}.flex-wrap-reverse{flex-wrap:wrap-reverse!important}.justify-content-start{justify-content:flex-start!important}.justify-content-end{justify-content:flex-end!important}.justify-content-center{justify-content:center!important}.justify-content-between{justify-content:space-between!important}.justify-content-around{justify-content:space-around!important}.justify-content-evenly{justify-content:space-evenly!important}.align-items-start{align-items:flex-start!important}.align-items-end{align-items:flex-end!important}.align-items-center{align-items:center!important}.align-items-baseline{align-items:baseline!important}.align-items-stretch{align-items:stretch!important}.align-content-start{align-content:flex-start!important}.align-content-end{align-content:flex-end!important}.align-content-center{align-content:center!important}.align-content-between{align-content:space-between!important}.align-content-around{align-content:space-around!important}.align-content-stretch{align-content:stretch!important}.align-self-auto{align-self:auto!important}.align-self-start{align-self:flex-start!important}.align-self-end{align-self:flex-end!important}.align-self-center{align-self:center!important}.align-self-baseline{align-self:baseline!important}.align-self-stretch{align-self:stretch!important}.order-first{order:-1!important}.order-0{order:0!important}.order-1{order:1!important}.order-2{order:2!important}.order-3{order:3!important}.order-4{order:4!important}.order-5{order:5!important}.order-last{order:6!important}.m-0{margin:0!important}.m-1{margin:.25rem!important}.m-2{margin:.5rem!important}.m-3{margin:1rem!important}.m-4{margin:1.5rem!important}.m-5{margin:3rem!important}.m-auto{margin:auto!important}.mx-0{margin-right:0!important;margin-left:0!important}.mx-1{margin-right:.25rem!important;margin-left:.25rem!important}.mx-2{margin-right:.5rem!important;margin-left:.5rem!important}.mx-3{margin-right:1rem!important;margin-left:1rem!important}.mx-4{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-5{margin-right:3rem!important;margin-left:3rem!important}.mx-auto{margin-right:auto!important;margin-left:auto!important}.my-0{margin-top:0!important;margin-bottom:0!important}.my-1{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-2{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-3{margin-top:1rem!important;margin-bottom:1rem!important}.my-4{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-5{margin-top:3rem!important;margin-bottom:3rem!important}.my-auto{margin-top:auto!important;margin-bottom:auto!important}.mt-0{margin-top:0!important}.mt-1{margin-top:.25rem!important}.mt-2{margin-top:.5rem!important}.mt-3{margin-top:1rem!important}.mt-4{margin-top:1.5rem!important}.mt-5{margin-top:3rem!important}.mt-auto{margin-top:auto!important}.me-0{margin-right:0!important}.me-1{margin-right:.25rem!important}.me-2{margin-right:.5rem!important}.me-3{margin-right:1rem!important}.me-4{margin-right:1.5rem!important}.me-5{margin-right:3rem!important}.me-auto{margin-right:auto!important}.mb-0{margin-bottom:0!important}.mb-1{margin-bottom:.25rem!important}.mb-2{margin-bottom:.5rem!important}.mb-3{margin-bottom:1rem!important}.mb-4{margin-bottom:1.5rem!important}.mb-5{margin-bottom:3rem!important}.mb-auto{margin-bottom:auto!important}.ms-0{margin-left:0!important}.ms-1{margin-left:.25rem!important}.ms-2{margin-left:.5rem!important}.ms-3{margin-left:1rem!important}.ms-4{margin-left:1.5rem!important}.ms-5{margin-left:3rem!important}.ms-auto{margin-left:auto!important}.p-0{padding:0!important}.p-1{padding:.25rem!important}.p-2{padding:.5rem!important}.p-3{padding:1rem!important}.p-4{padding:1.5rem!important}.p-5{padding:3rem!important}.px-0{padding-right:0!important;padding-left:0!important}.px-1{padding-right:.25rem!important;padding-left:.25rem!important}.px-2{padding-right:.5rem!important;padding-left:.5rem!important}.px-3{padding-right:1rem!important;padding-left:1rem!important}.px-4{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-5{padding-right:3rem!important;padding-left:3rem!important}.py-0{padding-top:0!important;padding-bottom:0!important}.py-1{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-2{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-3{padding-top:1rem!important;padding-bottom:1rem!important}.py-4{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-5{padding-top:3rem!important;padding-bottom:3rem!important}.pt-0{padding-top:0!important}.pt-1{padding-top:.25rem!important}.pt-2{padding-top:.5rem!important}.pt-3{padding-top:1rem!important}.pt-4{padding-top:1.5rem!important}.pt-5{padding-top:3rem!important}.pe-0{padding-right:0!important}.pe-1{padding-right:.25rem!important}.pe-2{padding-right:.5rem!important}.pe-3{padding-right:1rem!important}.pe-4{padding-right:1.5rem!important}.pe-5{padding-right:3rem!important}.pb-0{padding-bottom:0!important}.pb-1{padding-bottom:.25rem!important}.pb-2{padding-bottom:.5rem!important}.pb-3{padding-bottom:1rem!important}.pb-4{padding-bottom:1.5rem!important}.pb-5{padding-bottom:3rem!important}.ps-0{padding-left:0!important}.ps-1{padding-left:.25rem!important}.ps-2{padding-left:.5rem!important}.ps-3{padding-left:1rem!important}.ps-4{padding-left:1.5rem!important}.ps-5{padding-left:3rem!important}.gap-0{gap:0!important}.gap-1{gap:.25rem!important}.gap-2{gap:.5rem!important}.gap-3{gap:1rem!important}.gap-4{gap:1.5rem!important}.gap-5{gap:3rem!important}.row-gap-0{row-gap:0!important}.row-gap-1{row-gap:.25rem!important}.row-gap-2{row-gap:.5rem!important}.row-gap-3{row-gap:1rem!important}.row-gap-4{row-gap:1.5rem!important}.row-gap-5{row-gap:3rem!important}.column-gap-0{-moz-column-gap:0!important;column-gap:0!important}.column-gap-1{-moz-column-gap:.25rem!important;column-gap:.25rem!important}.column-gap-2{-moz-column-gap:.5rem!important;column-gap:.5rem!important}.column-gap-3{-moz-column-gap:1rem!important;column-gap:1rem!important}.column-gap-4{-moz-column-gap:1.5rem!important;column-gap:1.5rem!important}.column-gap-5{-moz-column-gap:3rem!important;column-gap:3rem!important}.font-monospace{font-family:var(--bs-font-monospace)!important}.fs-1{font-size:calc(1.375rem + 1.5vw)!important}.fs-2{font-size:calc(1.325rem + .9vw)!important}.fs-3{font-size:calc(1.3rem + .6vw)!important}.fs-4{font-size:calc(1.275rem + .3vw)!important}.fs-5{font-size:1.25rem!important}.fs-6{font-size:1rem!important}.fst-italic{font-style:italic!important}.fst-normal{font-style:normal!important}.fw-lighter{font-weight:lighter!important}.fw-light{font-weight:300!important}.fw-normal{font-weight:400!important}.fw-medium{font-weight:500!important}.fw-semibold{font-weight:600!important}.fw-bold{font-weight:700!important}.fw-bolder{font-weight:bolder!important}.lh-1{line-height:1!important}.lh-sm{line-height:1.25!important}.lh-base{line-height:1.5!important}.lh-lg{line-height:2!important}.text-start{text-align:left!important}.text-end{text-align:right!important}.text-center{text-align:center!important}.text-decoration-none{text-decoration:none!important}.text-decoration-underline{text-decoration:underline!important}.text-decoration-line-through{text-decoration:line-through!important}.text-lowercase{text-transform:lowercase!important}.text-uppercase{text-transform:uppercase!important}.text-capitalize{text-transform:capitalize!important}.text-wrap{white-space:normal!important}.text-nowrap{white-space:nowrap!important}.text-break{word-wrap:break-word!important;word-break:break-word!important}.text-primary{--bs-text-opacity:1;color:rgba(var(--bs-primary-rgb),var(--bs-text-opacity))!important}.text-secondary{--bs-text-opacity:1;color:rgba(var(--bs-secondary-rgb),var(--bs-text-opacity))!important}.text-success{--bs-text-opacity:1;color:rgba(var(--bs-success-rgb),var(--bs-text-opacity))!important}.text-info{--bs-text-opacity:1;color:rgba(var(--bs-info-rgb),var(--bs-text-opacity))!important}.text-warning{--bs-text-opacity:1;color:rgba(var(--bs-warning-rgb),var(--bs-text-opacity))!important}.text-danger{--bs-text-opacity:1;color:rgba(var(--bs-danger-rgb),var(--bs-text-opacity))!important}.text-light{--bs-text-opacity:1;color:rgba(var(--bs-light-rgb),var(--bs-text-opacity))!important}.text-dark{--bs-text-opacity:1;color:rgba(var(--bs-dark-rgb),var(--bs-text-opacity))!important}.text-black{--bs-text-opacity:1;color:rgba(var(--bs-black-rgb),var(--bs-text-opacity))!important}.text-white{--bs-text-opacity:1;color:rgba(var(--bs-white-rgb),var(--bs-text-opacity))!important}.text-body{--bs-text-opacity:1;color:rgba(var(--bs-body-color-rgb),var(--bs-text-opacity))!important}.text-muted{--bs-text-opacity:1;color:var(--bs-secondary-color)!important}.text-black-50{--bs-text-opacity:1;color:#00000080!important}.text-white-50{--bs-text-opacity:1;color:#ffffff80!important}.text-body-secondary{--bs-text-opacity:1;color:var(--bs-secondary-color)!important}.text-body-tertiary{--bs-text-opacity:1;color:var(--bs-tertiary-color)!important}.text-body-emphasis{--bs-text-opacity:1;color:var(--bs-emphasis-color)!important}.text-reset{--bs-text-opacity:1;color:inherit!important}.text-opacity-25{--bs-text-opacity:.25}.text-opacity-50{--bs-text-opacity:.5}.text-opacity-75{--bs-text-opacity:.75}.text-opacity-100{--bs-text-opacity:1}.text-primary-emphasis{color:var(--bs-primary-text-emphasis)!important}.text-secondary-emphasis{color:var(--bs-secondary-text-emphasis)!important}.text-success-emphasis{color:var(--bs-success-text-emphasis)!important}.text-info-emphasis{color:var(--bs-info-text-emphasis)!important}.text-warning-emphasis{color:var(--bs-warning-text-emphasis)!important}.text-danger-emphasis{color:var(--bs-danger-text-emphasis)!important}.text-light-emphasis{color:var(--bs-light-text-emphasis)!important}.text-dark-emphasis{color:var(--bs-dark-text-emphasis)!important}.link-opacity-10,.link-opacity-10-hover:hover{--bs-link-opacity:.1}.link-opacity-25,.link-opacity-25-hover:hover{--bs-link-opacity:.25}.link-opacity-50,.link-opacity-50-hover:hover{--bs-link-opacity:.5}.link-opacity-75,.link-opacity-75-hover:hover{--bs-link-opacity:.75}.link-opacity-100,.link-opacity-100-hover:hover{--bs-link-opacity:1}.link-offset-1,.link-offset-1-hover:hover{text-underline-offset:.125em!important}.link-offset-2,.link-offset-2-hover:hover{text-underline-offset:.25em!important}.link-offset-3,.link-offset-3-hover:hover{text-underline-offset:.375em!important}.link-underline-primary{--bs-link-underline-opacity:1;-webkit-text-decoration-color:rgba(var(--bs-primary-rgb),var(--bs-link-underline-opacity))!important;text-decoration-color:rgba(var(--bs-primary-rgb),var(--bs-link-underline-opacity))!important}.link-underline-secondary{--bs-link-underline-opacity:1;-webkit-text-decoration-color:rgba(var(--bs-secondary-rgb),var(--bs-link-underline-opacity))!important;text-decoration-color:rgba(var(--bs-secondary-rgb),var(--bs-link-underline-opacity))!important}.link-underline-success{--bs-link-underline-opacity:1;-webkit-text-decoration-color:rgba(var(--bs-success-rgb),var(--bs-link-underline-opacity))!important;text-decoration-color:rgba(var(--bs-success-rgb),var(--bs-link-underline-opacity))!important}.link-underline-info{--bs-link-underline-opacity:1;-webkit-text-decoration-color:rgba(var(--bs-info-rgb),var(--bs-link-underline-opacity))!important;text-decoration-color:rgba(var(--bs-info-rgb),var(--bs-link-underline-opacity))!important}.link-underline-warning{--bs-link-underline-opacity:1;-webkit-text-decoration-color:rgba(var(--bs-warning-rgb),var(--bs-link-underline-opacity))!important;text-decoration-color:rgba(var(--bs-warning-rgb),var(--bs-link-underline-opacity))!important}.link-underline-danger{--bs-link-underline-opacity:1;-webkit-text-decoration-color:rgba(var(--bs-danger-rgb),var(--bs-link-underline-opacity))!important;text-decoration-color:rgba(var(--bs-danger-rgb),var(--bs-link-underline-opacity))!important}.link-underline-light{--bs-link-underline-opacity:1;-webkit-text-decoration-color:rgba(var(--bs-light-rgb),var(--bs-link-underline-opacity))!important;text-decoration-color:rgba(var(--bs-light-rgb),var(--bs-link-underline-opacity))!important}.link-underline-dark{--bs-link-underline-opacity:1;-webkit-text-decoration-color:rgba(var(--bs-dark-rgb),var(--bs-link-underline-opacity))!important;text-decoration-color:rgba(var(--bs-dark-rgb),var(--bs-link-underline-opacity))!important}.link-underline{--bs-link-underline-opacity:1;-webkit-text-decoration-color:rgba(var(--bs-link-color-rgb),var(--bs-link-underline-opacity,1))!important;text-decoration-color:rgba(var(--bs-link-color-rgb),var(--bs-link-underline-opacity,1))!important}.link-underline-opacity-0,.link-underline-opacity-0-hover:hover{--bs-link-underline-opacity:0}.link-underline-opacity-10,.link-underline-opacity-10-hover:hover{--bs-link-underline-opacity:.1}.link-underline-opacity-25,.link-underline-opacity-25-hover:hover{--bs-link-underline-opacity:.25}.link-underline-opacity-50,.link-underline-opacity-50-hover:hover{--bs-link-underline-opacity:.5}.link-underline-opacity-75,.link-underline-opacity-75-hover:hover{--bs-link-underline-opacity:.75}.link-underline-opacity-100,.link-underline-opacity-100-hover:hover{--bs-link-underline-opacity:1}.bg-primary{--bs-bg-opacity:1;background-color:rgba(var(--bs-primary-rgb),var(--bs-bg-opacity))!important}.bg-secondary{--bs-bg-opacity:1;background-color:rgba(var(--bs-secondary-rgb),var(--bs-bg-opacity))!important}.bg-success{--bs-bg-opacity:1;background-color:rgba(var(--bs-success-rgb),var(--bs-bg-opacity))!important}.bg-info{--bs-bg-opacity:1;background-color:rgba(var(--bs-info-rgb),var(--bs-bg-opacity))!important}.bg-warning{--bs-bg-opacity:1;background-color:rgba(var(--bs-warning-rgb),var(--bs-bg-opacity))!important}.bg-danger{--bs-bg-opacity:1;background-color:rgba(var(--bs-danger-rgb),var(--bs-bg-opacity))!important}.bg-light{--bs-bg-opacity:1;background-color:rgba(var(--bs-light-rgb),var(--bs-bg-opacity))!important}.bg-dark{--bs-bg-opacity:1;background-color:rgba(var(--bs-dark-rgb),var(--bs-bg-opacity))!important}.bg-black{--bs-bg-opacity:1;background-color:rgba(var(--bs-black-rgb),var(--bs-bg-opacity))!important}.bg-white{--bs-bg-opacity:1;background-color:rgba(var(--bs-white-rgb),var(--bs-bg-opacity))!important}.bg-body{--bs-bg-opacity:1;background-color:rgba(var(--bs-body-bg-rgb),var(--bs-bg-opacity))!important}.bg-transparent{--bs-bg-opacity:1;background-color:transparent!important}.bg-body-secondary{--bs-bg-opacity:1;background-color:rgba(var(--bs-secondary-bg-rgb),var(--bs-bg-opacity))!important}.bg-body-tertiary{--bs-bg-opacity:1;background-color:rgba(var(--bs-tertiary-bg-rgb),var(--bs-bg-opacity))!important}.bg-opacity-10{--bs-bg-opacity:.1}.bg-opacity-25{--bs-bg-opacity:.25}.bg-opacity-50{--bs-bg-opacity:.5}.bg-opacity-75{--bs-bg-opacity:.75}.bg-opacity-100{--bs-bg-opacity:1}.bg-primary-subtle{background-color:var(--bs-primary-bg-subtle)!important}.bg-secondary-subtle{background-color:var(--bs-secondary-bg-subtle)!important}.bg-success-subtle{background-color:var(--bs-success-bg-subtle)!important}.bg-info-subtle{background-color:var(--bs-info-bg-subtle)!important}.bg-warning-subtle{background-color:var(--bs-warning-bg-subtle)!important}.bg-danger-subtle{background-color:var(--bs-danger-bg-subtle)!important}.bg-light-subtle{background-color:var(--bs-light-bg-subtle)!important}.bg-dark-subtle{background-color:var(--bs-dark-bg-subtle)!important}.bg-gradient{background-image:var(--bs-gradient)!important}.user-select-all{-webkit-user-select:all!important;-moz-user-select:all!important;user-select:all!important}.user-select-auto{-webkit-user-select:auto!important;-moz-user-select:auto!important;user-select:auto!important}.user-select-none{-webkit-user-select:none!important;-moz-user-select:none!important;user-select:none!important}.pe-none{pointer-events:none!important}.pe-auto{pointer-events:auto!important}.rounded{border-radius:var(--bs-border-radius)!important}.rounded-0{border-radius:0!important}.rounded-1{border-radius:var(--bs-border-radius-sm)!important}.rounded-2{border-radius:var(--bs-border-radius)!important}.rounded-3{border-radius:var(--bs-border-radius-lg)!important}.rounded-4{border-radius:var(--bs-border-radius-xl)!important}.rounded-5{border-radius:var(--bs-border-radius-xxl)!important}.rounded-circle{border-radius:50%!important}.rounded-pill{border-radius:var(--bs-border-radius-pill)!important}.rounded-top{border-top-left-radius:var(--bs-border-radius)!important;border-top-right-radius:var(--bs-border-radius)!important}.rounded-top-0{border-top-left-radius:0!important;border-top-right-radius:0!important}.rounded-top-1{border-top-left-radius:var(--bs-border-radius-sm)!important;border-top-right-radius:var(--bs-border-radius-sm)!important}.rounded-top-2{border-top-left-radius:var(--bs-border-radius)!important;border-top-right-radius:var(--bs-border-radius)!important}.rounded-top-3{border-top-left-radius:var(--bs-border-radius-lg)!important;border-top-right-radius:var(--bs-border-radius-lg)!important}.rounded-top-4{border-top-left-radius:var(--bs-border-radius-xl)!important;border-top-right-radius:var(--bs-border-radius-xl)!important}.rounded-top-5{border-top-left-radius:var(--bs-border-radius-xxl)!important;border-top-right-radius:var(--bs-border-radius-xxl)!important}.rounded-top-circle{border-top-left-radius:50%!important;border-top-right-radius:50%!important}.rounded-top-pill{border-top-left-radius:var(--bs-border-radius-pill)!important;border-top-right-radius:var(--bs-border-radius-pill)!important}.rounded-end{border-top-right-radius:var(--bs-border-radius)!important;border-bottom-right-radius:var(--bs-border-radius)!important}.rounded-end-0{border-top-right-radius:0!important;border-bottom-right-radius:0!important}.rounded-end-1{border-top-right-radius:var(--bs-border-radius-sm)!important;border-bottom-right-radius:var(--bs-border-radius-sm)!important}.rounded-end-2{border-top-right-radius:var(--bs-border-radius)!important;border-bottom-right-radius:var(--bs-border-radius)!important}.rounded-end-3{border-top-right-radius:var(--bs-border-radius-lg)!important;border-bottom-right-radius:var(--bs-border-radius-lg)!important}.rounded-end-4{border-top-right-radius:var(--bs-border-radius-xl)!important;border-bottom-right-radius:var(--bs-border-radius-xl)!important}.rounded-end-5{border-top-right-radius:var(--bs-border-radius-xxl)!important;border-bottom-right-radius:var(--bs-border-radius-xxl)!important}.rounded-end-circle{border-top-right-radius:50%!important;border-bottom-right-radius:50%!important}.rounded-end-pill{border-top-right-radius:var(--bs-border-radius-pill)!important;border-bottom-right-radius:var(--bs-border-radius-pill)!important}.rounded-bottom{border-bottom-right-radius:var(--bs-border-radius)!important;border-bottom-left-radius:var(--bs-border-radius)!important}.rounded-bottom-0{border-bottom-right-radius:0!important;border-bottom-left-radius:0!important}.rounded-bottom-1{border-bottom-right-radius:var(--bs-border-radius-sm)!important;border-bottom-left-radius:var(--bs-border-radius-sm)!important}.rounded-bottom-2{border-bottom-right-radius:var(--bs-border-radius)!important;border-bottom-left-radius:var(--bs-border-radius)!important}.rounded-bottom-3{border-bottom-right-radius:var(--bs-border-radius-lg)!important;border-bottom-left-radius:var(--bs-border-radius-lg)!important}.rounded-bottom-4{border-bottom-right-radius:var(--bs-border-radius-xl)!important;border-bottom-left-radius:var(--bs-border-radius-xl)!important}.rounded-bottom-5{border-bottom-right-radius:var(--bs-border-radius-xxl)!important;border-bottom-left-radius:var(--bs-border-radius-xxl)!important}.rounded-bottom-circle{border-bottom-right-radius:50%!important;border-bottom-left-radius:50%!important}.rounded-bottom-pill{border-bottom-right-radius:var(--bs-border-radius-pill)!important;border-bottom-left-radius:var(--bs-border-radius-pill)!important}.rounded-start{border-bottom-left-radius:var(--bs-border-radius)!important;border-top-left-radius:var(--bs-border-radius)!important}.rounded-start-0{border-bottom-left-radius:0!important;border-top-left-radius:0!important}.rounded-start-1{border-bottom-left-radius:var(--bs-border-radius-sm)!important;border-top-left-radius:var(--bs-border-radius-sm)!important}.rounded-start-2{border-bottom-left-radius:var(--bs-border-radius)!important;border-top-left-radius:var(--bs-border-radius)!important}.rounded-start-3{border-bottom-left-radius:var(--bs-border-radius-lg)!important;border-top-left-radius:var(--bs-border-radius-lg)!important}.rounded-start-4{border-bottom-left-radius:var(--bs-border-radius-xl)!important;border-top-left-radius:var(--bs-border-radius-xl)!important}.rounded-start-5{border-bottom-left-radius:var(--bs-border-radius-xxl)!important;border-top-left-radius:var(--bs-border-radius-xxl)!important}.rounded-start-circle{border-bottom-left-radius:50%!important;border-top-left-radius:50%!important}.rounded-start-pill{border-bottom-left-radius:var(--bs-border-radius-pill)!important;border-top-left-radius:var(--bs-border-radius-pill)!important}.visible{visibility:visible!important}.invisible{visibility:hidden!important}.z-n1{z-index:-1!important}.z-0{z-index:0!important}.z-1{z-index:1!important}.z-2{z-index:2!important}.z-3{z-index:3!important}@media (min-width:576px){.float-sm-start{float:left!important}.float-sm-end{float:right!important}.float-sm-none{float:none!important}.object-fit-sm-contain{-o-object-fit:contain!important;object-fit:contain!important}.object-fit-sm-cover{-o-object-fit:cover!important;object-fit:cover!important}.object-fit-sm-fill{-o-object-fit:fill!important;object-fit:fill!important}.object-fit-sm-scale{-o-object-fit:scale-down!important;object-fit:scale-down!important}.object-fit-sm-none{-o-object-fit:none!important;object-fit:none!important}.d-sm-inline{display:inline!important}.d-sm-inline-block{display:inline-block!important}.d-sm-block{display:block!important}.d-sm-grid{display:grid!important}.d-sm-inline-grid{display:inline-grid!important}.d-sm-table{display:table!important}.d-sm-table-row{display:table-row!important}.d-sm-table-cell{display:table-cell!important}.d-sm-flex{display:flex!important}.d-sm-inline-flex{display:inline-flex!important}.d-sm-none{display:none!important}.flex-sm-fill{flex:1 1 auto!important}.flex-sm-row{flex-direction:row!important}.flex-sm-column{flex-direction:column!important}.flex-sm-row-reverse{flex-direction:row-reverse!important}.flex-sm-column-reverse{flex-direction:column-reverse!important}.flex-sm-grow-0{flex-grow:0!important}.flex-sm-grow-1{flex-grow:1!important}.flex-sm-shrink-0{flex-shrink:0!important}.flex-sm-shrink-1{flex-shrink:1!important}.flex-sm-wrap{flex-wrap:wrap!important}.flex-sm-nowrap{flex-wrap:nowrap!important}.flex-sm-wrap-reverse{flex-wrap:wrap-reverse!important}.justify-content-sm-start{justify-content:flex-start!important}.justify-content-sm-end{justify-content:flex-end!important}.justify-content-sm-center{justify-content:center!important}.justify-content-sm-between{justify-content:space-between!important}.justify-content-sm-around{justify-content:space-around!important}.justify-content-sm-evenly{justify-content:space-evenly!important}.align-items-sm-start{align-items:flex-start!important}.align-items-sm-end{align-items:flex-end!important}.align-items-sm-center{align-items:center!important}.align-items-sm-baseline{align-items:baseline!important}.align-items-sm-stretch{align-items:stretch!important}.align-content-sm-start{align-content:flex-start!important}.align-content-sm-end{align-content:flex-end!important}.align-content-sm-center{align-content:center!important}.align-content-sm-between{align-content:space-between!important}.align-content-sm-around{align-content:space-around!important}.align-content-sm-stretch{align-content:stretch!important}.align-self-sm-auto{align-self:auto!important}.align-self-sm-start{align-self:flex-start!important}.align-self-sm-end{align-self:flex-end!important}.align-self-sm-center{align-self:center!important}.align-self-sm-baseline{align-self:baseline!important}.align-self-sm-stretch{align-self:stretch!important}.order-sm-first{order:-1!important}.order-sm-0{order:0!important}.order-sm-1{order:1!important}.order-sm-2{order:2!important}.order-sm-3{order:3!important}.order-sm-4{order:4!important}.order-sm-5{order:5!important}.order-sm-last{order:6!important}.m-sm-0{margin:0!important}.m-sm-1{margin:.25rem!important}.m-sm-2{margin:.5rem!important}.m-sm-3{margin:1rem!important}.m-sm-4{margin:1.5rem!important}.m-sm-5{margin:3rem!important}.m-sm-auto{margin:auto!important}.mx-sm-0{margin-right:0!important;margin-left:0!important}.mx-sm-1{margin-right:.25rem!important;margin-left:.25rem!important}.mx-sm-2{margin-right:.5rem!important;margin-left:.5rem!important}.mx-sm-3{margin-right:1rem!important;margin-left:1rem!important}.mx-sm-4{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-sm-5{margin-right:3rem!important;margin-left:3rem!important}.mx-sm-auto{margin-right:auto!important;margin-left:auto!important}.my-sm-0{margin-top:0!important;margin-bottom:0!important}.my-sm-1{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-sm-2{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-sm-3{margin-top:1rem!important;margin-bottom:1rem!important}.my-sm-4{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-sm-5{margin-top:3rem!important;margin-bottom:3rem!important}.my-sm-auto{margin-top:auto!important;margin-bottom:auto!important}.mt-sm-0{margin-top:0!important}.mt-sm-1{margin-top:.25rem!important}.mt-sm-2{margin-top:.5rem!important}.mt-sm-3{margin-top:1rem!important}.mt-sm-4{margin-top:1.5rem!important}.mt-sm-5{margin-top:3rem!important}.mt-sm-auto{margin-top:auto!important}.me-sm-0{margin-right:0!important}.me-sm-1{margin-right:.25rem!important}.me-sm-2{margin-right:.5rem!important}.me-sm-3{margin-right:1rem!important}.me-sm-4{margin-right:1.5rem!important}.me-sm-5{margin-right:3rem!important}.me-sm-auto{margin-right:auto!important}.mb-sm-0{margin-bottom:0!important}.mb-sm-1{margin-bottom:.25rem!important}.mb-sm-2{margin-bottom:.5rem!important}.mb-sm-3{margin-bottom:1rem!important}.mb-sm-4{margin-bottom:1.5rem!important}.mb-sm-5{margin-bottom:3rem!important}.mb-sm-auto{margin-bottom:auto!important}.ms-sm-0{margin-left:0!important}.ms-sm-1{margin-left:.25rem!important}.ms-sm-2{margin-left:.5rem!important}.ms-sm-3{margin-left:1rem!important}.ms-sm-4{margin-left:1.5rem!important}.ms-sm-5{margin-left:3rem!important}.ms-sm-auto{margin-left:auto!important}.p-sm-0{padding:0!important}.p-sm-1{padding:.25rem!important}.p-sm-2{padding:.5rem!important}.p-sm-3{padding:1rem!important}.p-sm-4{padding:1.5rem!important}.p-sm-5{padding:3rem!important}.px-sm-0{padding-right:0!important;padding-left:0!important}.px-sm-1{padding-right:.25rem!important;padding-left:.25rem!important}.px-sm-2{padding-right:.5rem!important;padding-left:.5rem!important}.px-sm-3{padding-right:1rem!important;padding-left:1rem!important}.px-sm-4{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-sm-5{padding-right:3rem!important;padding-left:3rem!important}.py-sm-0{padding-top:0!important;padding-bottom:0!important}.py-sm-1{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-sm-2{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-sm-3{padding-top:1rem!important;padding-bottom:1rem!important}.py-sm-4{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-sm-5{padding-top:3rem!important;padding-bottom:3rem!important}.pt-sm-0{padding-top:0!important}.pt-sm-1{padding-top:.25rem!important}.pt-sm-2{padding-top:.5rem!important}.pt-sm-3{padding-top:1rem!important}.pt-sm-4{padding-top:1.5rem!important}.pt-sm-5{padding-top:3rem!important}.pe-sm-0{padding-right:0!important}.pe-sm-1{padding-right:.25rem!important}.pe-sm-2{padding-right:.5rem!important}.pe-sm-3{padding-right:1rem!important}.pe-sm-4{padding-right:1.5rem!important}.pe-sm-5{padding-right:3rem!important}.pb-sm-0{padding-bottom:0!important}.pb-sm-1{padding-bottom:.25rem!important}.pb-sm-2{padding-bottom:.5rem!important}.pb-sm-3{padding-bottom:1rem!important}.pb-sm-4{padding-bottom:1.5rem!important}.pb-sm-5{padding-bottom:3rem!important}.ps-sm-0{padding-left:0!important}.ps-sm-1{padding-left:.25rem!important}.ps-sm-2{padding-left:.5rem!important}.ps-sm-3{padding-left:1rem!important}.ps-sm-4{padding-left:1.5rem!important}.ps-sm-5{padding-left:3rem!important}.gap-sm-0{gap:0!important}.gap-sm-1{gap:.25rem!important}.gap-sm-2{gap:.5rem!important}.gap-sm-3{gap:1rem!important}.gap-sm-4{gap:1.5rem!important}.gap-sm-5{gap:3rem!important}.row-gap-sm-0{row-gap:0!important}.row-gap-sm-1{row-gap:.25rem!important}.row-gap-sm-2{row-gap:.5rem!important}.row-gap-sm-3{row-gap:1rem!important}.row-gap-sm-4{row-gap:1.5rem!important}.row-gap-sm-5{row-gap:3rem!important}.column-gap-sm-0{-moz-column-gap:0!important;column-gap:0!important}.column-gap-sm-1{-moz-column-gap:.25rem!important;column-gap:.25rem!important}.column-gap-sm-2{-moz-column-gap:.5rem!important;column-gap:.5rem!important}.column-gap-sm-3{-moz-column-gap:1rem!important;column-gap:1rem!important}.column-gap-sm-4{-moz-column-gap:1.5rem!important;column-gap:1.5rem!important}.column-gap-sm-5{-moz-column-gap:3rem!important;column-gap:3rem!important}.text-sm-start{text-align:left!important}.text-sm-end{text-align:right!important}.text-sm-center{text-align:center!important}}@media (min-width:768px){.float-md-start{float:left!important}.float-md-end{float:right!important}.float-md-none{float:none!important}.object-fit-md-contain{-o-object-fit:contain!important;object-fit:contain!important}.object-fit-md-cover{-o-object-fit:cover!important;object-fit:cover!important}.object-fit-md-fill{-o-object-fit:fill!important;object-fit:fill!important}.object-fit-md-scale{-o-object-fit:scale-down!important;object-fit:scale-down!important}.object-fit-md-none{-o-object-fit:none!important;object-fit:none!important}.d-md-inline{display:inline!important}.d-md-inline-block{display:inline-block!important}.d-md-block{display:block!important}.d-md-grid{display:grid!important}.d-md-inline-grid{display:inline-grid!important}.d-md-table{display:table!important}.d-md-table-row{display:table-row!important}.d-md-table-cell{display:table-cell!important}.d-md-flex{display:flex!important}.d-md-inline-flex{display:inline-flex!important}.d-md-none{display:none!important}.flex-md-fill{flex:1 1 auto!important}.flex-md-row{flex-direction:row!important}.flex-md-column{flex-direction:column!important}.flex-md-row-reverse{flex-direction:row-reverse!important}.flex-md-column-reverse{flex-direction:column-reverse!important}.flex-md-grow-0{flex-grow:0!important}.flex-md-grow-1{flex-grow:1!important}.flex-md-shrink-0{flex-shrink:0!important}.flex-md-shrink-1{flex-shrink:1!important}.flex-md-wrap{flex-wrap:wrap!important}.flex-md-nowrap{flex-wrap:nowrap!important}.flex-md-wrap-reverse{flex-wrap:wrap-reverse!important}.justify-content-md-start{justify-content:flex-start!important}.justify-content-md-end{justify-content:flex-end!important}.justify-content-md-center{justify-content:center!important}.justify-content-md-between{justify-content:space-between!important}.justify-content-md-around{justify-content:space-around!important}.justify-content-md-evenly{justify-content:space-evenly!important}.align-items-md-start{align-items:flex-start!important}.align-items-md-end{align-items:flex-end!important}.align-items-md-center{align-items:center!important}.align-items-md-baseline{align-items:baseline!important}.align-items-md-stretch{align-items:stretch!important}.align-content-md-start{align-content:flex-start!important}.align-content-md-end{align-content:flex-end!important}.align-content-md-center{align-content:center!important}.align-content-md-between{align-content:space-between!important}.align-content-md-around{align-content:space-around!important}.align-content-md-stretch{align-content:stretch!important}.align-self-md-auto{align-self:auto!important}.align-self-md-start{align-self:flex-start!important}.align-self-md-end{align-self:flex-end!important}.align-self-md-center{align-self:center!important}.align-self-md-baseline{align-self:baseline!important}.align-self-md-stretch{align-self:stretch!important}.order-md-first{order:-1!important}.order-md-0{order:0!important}.order-md-1{order:1!important}.order-md-2{order:2!important}.order-md-3{order:3!important}.order-md-4{order:4!important}.order-md-5{order:5!important}.order-md-last{order:6!important}.m-md-0{margin:0!important}.m-md-1{margin:.25rem!important}.m-md-2{margin:.5rem!important}.m-md-3{margin:1rem!important}.m-md-4{margin:1.5rem!important}.m-md-5{margin:3rem!important}.m-md-auto{margin:auto!important}.mx-md-0{margin-right:0!important;margin-left:0!important}.mx-md-1{margin-right:.25rem!important;margin-left:.25rem!important}.mx-md-2{margin-right:.5rem!important;margin-left:.5rem!important}.mx-md-3{margin-right:1rem!important;margin-left:1rem!important}.mx-md-4{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-md-5{margin-right:3rem!important;margin-left:3rem!important}.mx-md-auto{margin-right:auto!important;margin-left:auto!important}.my-md-0{margin-top:0!important;margin-bottom:0!important}.my-md-1{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-md-2{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-md-3{margin-top:1rem!important;margin-bottom:1rem!important}.my-md-4{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-md-5{margin-top:3rem!important;margin-bottom:3rem!important}.my-md-auto{margin-top:auto!important;margin-bottom:auto!important}.mt-md-0{margin-top:0!important}.mt-md-1{margin-top:.25rem!important}.mt-md-2{margin-top:.5rem!important}.mt-md-3{margin-top:1rem!important}.mt-md-4{margin-top:1.5rem!important}.mt-md-5{margin-top:3rem!important}.mt-md-auto{margin-top:auto!important}.me-md-0{margin-right:0!important}.me-md-1{margin-right:.25rem!important}.me-md-2{margin-right:.5rem!important}.me-md-3{margin-right:1rem!important}.me-md-4{margin-right:1.5rem!important}.me-md-5{margin-right:3rem!important}.me-md-auto{margin-right:auto!important}.mb-md-0{margin-bottom:0!important}.mb-md-1{margin-bottom:.25rem!important}.mb-md-2{margin-bottom:.5rem!important}.mb-md-3{margin-bottom:1rem!important}.mb-md-4{margin-bottom:1.5rem!important}.mb-md-5{margin-bottom:3rem!important}.mb-md-auto{margin-bottom:auto!important}.ms-md-0{margin-left:0!important}.ms-md-1{margin-left:.25rem!important}.ms-md-2{margin-left:.5rem!important}.ms-md-3{margin-left:1rem!important}.ms-md-4{margin-left:1.5rem!important}.ms-md-5{margin-left:3rem!important}.ms-md-auto{margin-left:auto!important}.p-md-0{padding:0!important}.p-md-1{padding:.25rem!important}.p-md-2{padding:.5rem!important}.p-md-3{padding:1rem!important}.p-md-4{padding:1.5rem!important}.p-md-5{padding:3rem!important}.px-md-0{padding-right:0!important;padding-left:0!important}.px-md-1{padding-right:.25rem!important;padding-left:.25rem!important}.px-md-2{padding-right:.5rem!important;padding-left:.5rem!important}.px-md-3{padding-right:1rem!important;padding-left:1rem!important}.px-md-4{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-md-5{padding-right:3rem!important;padding-left:3rem!important}.py-md-0{padding-top:0!important;padding-bottom:0!important}.py-md-1{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-md-2{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-md-3{padding-top:1rem!important;padding-bottom:1rem!important}.py-md-4{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-md-5{padding-top:3rem!important;padding-bottom:3rem!important}.pt-md-0{padding-top:0!important}.pt-md-1{padding-top:.25rem!important}.pt-md-2{padding-top:.5rem!important}.pt-md-3{padding-top:1rem!important}.pt-md-4{padding-top:1.5rem!important}.pt-md-5{padding-top:3rem!important}.pe-md-0{padding-right:0!important}.pe-md-1{padding-right:.25rem!important}.pe-md-2{padding-right:.5rem!important}.pe-md-3{padding-right:1rem!important}.pe-md-4{padding-right:1.5rem!important}.pe-md-5{padding-right:3rem!important}.pb-md-0{padding-bottom:0!important}.pb-md-1{padding-bottom:.25rem!important}.pb-md-2{padding-bottom:.5rem!important}.pb-md-3{padding-bottom:1rem!important}.pb-md-4{padding-bottom:1.5rem!important}.pb-md-5{padding-bottom:3rem!important}.ps-md-0{padding-left:0!important}.ps-md-1{padding-left:.25rem!important}.ps-md-2{padding-left:.5rem!important}.ps-md-3{padding-left:1rem!important}.ps-md-4{padding-left:1.5rem!important}.ps-md-5{padding-left:3rem!important}.gap-md-0{gap:0!important}.gap-md-1{gap:.25rem!important}.gap-md-2{gap:.5rem!important}.gap-md-3{gap:1rem!important}.gap-md-4{gap:1.5rem!important}.gap-md-5{gap:3rem!important}.row-gap-md-0{row-gap:0!important}.row-gap-md-1{row-gap:.25rem!important}.row-gap-md-2{row-gap:.5rem!important}.row-gap-md-3{row-gap:1rem!important}.row-gap-md-4{row-gap:1.5rem!important}.row-gap-md-5{row-gap:3rem!important}.column-gap-md-0{-moz-column-gap:0!important;column-gap:0!important}.column-gap-md-1{-moz-column-gap:.25rem!important;column-gap:.25rem!important}.column-gap-md-2{-moz-column-gap:.5rem!important;column-gap:.5rem!important}.column-gap-md-3{-moz-column-gap:1rem!important;column-gap:1rem!important}.column-gap-md-4{-moz-column-gap:1.5rem!important;column-gap:1.5rem!important}.column-gap-md-5{-moz-column-gap:3rem!important;column-gap:3rem!important}.text-md-start{text-align:left!important}.text-md-end{text-align:right!important}.text-md-center{text-align:center!important}}@media (min-width:992px){.float-lg-start{float:left!important}.float-lg-end{float:right!important}.float-lg-none{float:none!important}.object-fit-lg-contain{-o-object-fit:contain!important;object-fit:contain!important}.object-fit-lg-cover{-o-object-fit:cover!important;object-fit:cover!important}.object-fit-lg-fill{-o-object-fit:fill!important;object-fit:fill!important}.object-fit-lg-scale{-o-object-fit:scale-down!important;object-fit:scale-down!important}.object-fit-lg-none{-o-object-fit:none!important;object-fit:none!important}.d-lg-inline{display:inline!important}.d-lg-inline-block{display:inline-block!important}.d-lg-block{display:block!important}.d-lg-grid{display:grid!important}.d-lg-inline-grid{display:inline-grid!important}.d-lg-table{display:table!important}.d-lg-table-row{display:table-row!important}.d-lg-table-cell{display:table-cell!important}.d-lg-flex{display:flex!important}.d-lg-inline-flex{display:inline-flex!important}.d-lg-none{display:none!important}.flex-lg-fill{flex:1 1 auto!important}.flex-lg-row{flex-direction:row!important}.flex-lg-column{flex-direction:column!important}.flex-lg-row-reverse{flex-direction:row-reverse!important}.flex-lg-column-reverse{flex-direction:column-reverse!important}.flex-lg-grow-0{flex-grow:0!important}.flex-lg-grow-1{flex-grow:1!important}.flex-lg-shrink-0{flex-shrink:0!important}.flex-lg-shrink-1{flex-shrink:1!important}.flex-lg-wrap{flex-wrap:wrap!important}.flex-lg-nowrap{flex-wrap:nowrap!important}.flex-lg-wrap-reverse{flex-wrap:wrap-reverse!important}.justify-content-lg-start{justify-content:flex-start!important}.justify-content-lg-end{justify-content:flex-end!important}.justify-content-lg-center{justify-content:center!important}.justify-content-lg-between{justify-content:space-between!important}.justify-content-lg-around{justify-content:space-around!important}.justify-content-lg-evenly{justify-content:space-evenly!important}.align-items-lg-start{align-items:flex-start!important}.align-items-lg-end{align-items:flex-end!important}.align-items-lg-center{align-items:center!important}.align-items-lg-baseline{align-items:baseline!important}.align-items-lg-stretch{align-items:stretch!important}.align-content-lg-start{align-content:flex-start!important}.align-content-lg-end{align-content:flex-end!important}.align-content-lg-center{align-content:center!important}.align-content-lg-between{align-content:space-between!important}.align-content-lg-around{align-content:space-around!important}.align-content-lg-stretch{align-content:stretch!important}.align-self-lg-auto{align-self:auto!important}.align-self-lg-start{align-self:flex-start!important}.align-self-lg-end{align-self:flex-end!important}.align-self-lg-center{align-self:center!important}.align-self-lg-baseline{align-self:baseline!important}.align-self-lg-stretch{align-self:stretch!important}.order-lg-first{order:-1!important}.order-lg-0{order:0!important}.order-lg-1{order:1!important}.order-lg-2{order:2!important}.order-lg-3{order:3!important}.order-lg-4{order:4!important}.order-lg-5{order:5!important}.order-lg-last{order:6!important}.m-lg-0{margin:0!important}.m-lg-1{margin:.25rem!important}.m-lg-2{margin:.5rem!important}.m-lg-3{margin:1rem!important}.m-lg-4{margin:1.5rem!important}.m-lg-5{margin:3rem!important}.m-lg-auto{margin:auto!important}.mx-lg-0{margin-right:0!important;margin-left:0!important}.mx-lg-1{margin-right:.25rem!important;margin-left:.25rem!important}.mx-lg-2{margin-right:.5rem!important;margin-left:.5rem!important}.mx-lg-3{margin-right:1rem!important;margin-left:1rem!important}.mx-lg-4{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-lg-5{margin-right:3rem!important;margin-left:3rem!important}.mx-lg-auto{margin-right:auto!important;margin-left:auto!important}.my-lg-0{margin-top:0!important;margin-bottom:0!important}.my-lg-1{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-lg-2{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-lg-3{margin-top:1rem!important;margin-bottom:1rem!important}.my-lg-4{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-lg-5{margin-top:3rem!important;margin-bottom:3rem!important}.my-lg-auto{margin-top:auto!important;margin-bottom:auto!important}.mt-lg-0{margin-top:0!important}.mt-lg-1{margin-top:.25rem!important}.mt-lg-2{margin-top:.5rem!important}.mt-lg-3{margin-top:1rem!important}.mt-lg-4{margin-top:1.5rem!important}.mt-lg-5{margin-top:3rem!important}.mt-lg-auto{margin-top:auto!important}.me-lg-0{margin-right:0!important}.me-lg-1{margin-right:.25rem!important}.me-lg-2{margin-right:.5rem!important}.me-lg-3{margin-right:1rem!important}.me-lg-4{margin-right:1.5rem!important}.me-lg-5{margin-right:3rem!important}.me-lg-auto{margin-right:auto!important}.mb-lg-0{margin-bottom:0!important}.mb-lg-1{margin-bottom:.25rem!important}.mb-lg-2{margin-bottom:.5rem!important}.mb-lg-3{margin-bottom:1rem!important}.mb-lg-4{margin-bottom:1.5rem!important}.mb-lg-5{margin-bottom:3rem!important}.mb-lg-auto{margin-bottom:auto!important}.ms-lg-0{margin-left:0!important}.ms-lg-1{margin-left:.25rem!important}.ms-lg-2{margin-left:.5rem!important}.ms-lg-3{margin-left:1rem!important}.ms-lg-4{margin-left:1.5rem!important}.ms-lg-5{margin-left:3rem!important}.ms-lg-auto{margin-left:auto!important}.p-lg-0{padding:0!important}.p-lg-1{padding:.25rem!important}.p-lg-2{padding:.5rem!important}.p-lg-3{padding:1rem!important}.p-lg-4{padding:1.5rem!important}.p-lg-5{padding:3rem!important}.px-lg-0{padding-right:0!important;padding-left:0!important}.px-lg-1{padding-right:.25rem!important;padding-left:.25rem!important}.px-lg-2{padding-right:.5rem!important;padding-left:.5rem!important}.px-lg-3{padding-right:1rem!important;padding-left:1rem!important}.px-lg-4{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-lg-5{padding-right:3rem!important;padding-left:3rem!important}.py-lg-0{padding-top:0!important;padding-bottom:0!important}.py-lg-1{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-lg-2{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-lg-3{padding-top:1rem!important;padding-bottom:1rem!important}.py-lg-4{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-lg-5{padding-top:3rem!important;padding-bottom:3rem!important}.pt-lg-0{padding-top:0!important}.pt-lg-1{padding-top:.25rem!important}.pt-lg-2{padding-top:.5rem!important}.pt-lg-3{padding-top:1rem!important}.pt-lg-4{padding-top:1.5rem!important}.pt-lg-5{padding-top:3rem!important}.pe-lg-0{padding-right:0!important}.pe-lg-1{padding-right:.25rem!important}.pe-lg-2{padding-right:.5rem!important}.pe-lg-3{padding-right:1rem!important}.pe-lg-4{padding-right:1.5rem!important}.pe-lg-5{padding-right:3rem!important}.pb-lg-0{padding-bottom:0!important}.pb-lg-1{padding-bottom:.25rem!important}.pb-lg-2{padding-bottom:.5rem!important}.pb-lg-3{padding-bottom:1rem!important}.pb-lg-4{padding-bottom:1.5rem!important}.pb-lg-5{padding-bottom:3rem!important}.ps-lg-0{padding-left:0!important}.ps-lg-1{padding-left:.25rem!important}.ps-lg-2{padding-left:.5rem!important}.ps-lg-3{padding-left:1rem!important}.ps-lg-4{padding-left:1.5rem!important}.ps-lg-5{padding-left:3rem!important}.gap-lg-0{gap:0!important}.gap-lg-1{gap:.25rem!important}.gap-lg-2{gap:.5rem!important}.gap-lg-3{gap:1rem!important}.gap-lg-4{gap:1.5rem!important}.gap-lg-5{gap:3rem!important}.row-gap-lg-0{row-gap:0!important}.row-gap-lg-1{row-gap:.25rem!important}.row-gap-lg-2{row-gap:.5rem!important}.row-gap-lg-3{row-gap:1rem!important}.row-gap-lg-4{row-gap:1.5rem!important}.row-gap-lg-5{row-gap:3rem!important}.column-gap-lg-0{-moz-column-gap:0!important;column-gap:0!important}.column-gap-lg-1{-moz-column-gap:.25rem!important;column-gap:.25rem!important}.column-gap-lg-2{-moz-column-gap:.5rem!important;column-gap:.5rem!important}.column-gap-lg-3{-moz-column-gap:1rem!important;column-gap:1rem!important}.column-gap-lg-4{-moz-column-gap:1.5rem!important;column-gap:1.5rem!important}.column-gap-lg-5{-moz-column-gap:3rem!important;column-gap:3rem!important}.text-lg-start{text-align:left!important}.text-lg-end{text-align:right!important}.text-lg-center{text-align:center!important}}@media (min-width:1200px){.float-xl-start{float:left!important}.float-xl-end{float:right!important}.float-xl-none{float:none!important}.object-fit-xl-contain{-o-object-fit:contain!important;object-fit:contain!important}.object-fit-xl-cover{-o-object-fit:cover!important;object-fit:cover!important}.object-fit-xl-fill{-o-object-fit:fill!important;object-fit:fill!important}.object-fit-xl-scale{-o-object-fit:scale-down!important;object-fit:scale-down!important}.object-fit-xl-none{-o-object-fit:none!important;object-fit:none!important}.d-xl-inline{display:inline!important}.d-xl-inline-block{display:inline-block!important}.d-xl-block{display:block!important}.d-xl-grid{display:grid!important}.d-xl-inline-grid{display:inline-grid!important}.d-xl-table{display:table!important}.d-xl-table-row{display:table-row!important}.d-xl-table-cell{display:table-cell!important}.d-xl-flex{display:flex!important}.d-xl-inline-flex{display:inline-flex!important}.d-xl-none{display:none!important}.flex-xl-fill{flex:1 1 auto!important}.flex-xl-row{flex-direction:row!important}.flex-xl-column{flex-direction:column!important}.flex-xl-row-reverse{flex-direction:row-reverse!important}.flex-xl-column-reverse{flex-direction:column-reverse!important}.flex-xl-grow-0{flex-grow:0!important}.flex-xl-grow-1{flex-grow:1!important}.flex-xl-shrink-0{flex-shrink:0!important}.flex-xl-shrink-1{flex-shrink:1!important}.flex-xl-wrap{flex-wrap:wrap!important}.flex-xl-nowrap{flex-wrap:nowrap!important}.flex-xl-wrap-reverse{flex-wrap:wrap-reverse!important}.justify-content-xl-start{justify-content:flex-start!important}.justify-content-xl-end{justify-content:flex-end!important}.justify-content-xl-center{justify-content:center!important}.justify-content-xl-between{justify-content:space-between!important}.justify-content-xl-around{justify-content:space-around!important}.justify-content-xl-evenly{justify-content:space-evenly!important}.align-items-xl-start{align-items:flex-start!important}.align-items-xl-end{align-items:flex-end!important}.align-items-xl-center{align-items:center!important}.align-items-xl-baseline{align-items:baseline!important}.align-items-xl-stretch{align-items:stretch!important}.align-content-xl-start{align-content:flex-start!important}.align-content-xl-end{align-content:flex-end!important}.align-content-xl-center{align-content:center!important}.align-content-xl-between{align-content:space-between!important}.align-content-xl-around{align-content:space-around!important}.align-content-xl-stretch{align-content:stretch!important}.align-self-xl-auto{align-self:auto!important}.align-self-xl-start{align-self:flex-start!important}.align-self-xl-end{align-self:flex-end!important}.align-self-xl-center{align-self:center!important}.align-self-xl-baseline{align-self:baseline!important}.align-self-xl-stretch{align-self:stretch!important}.order-xl-first{order:-1!important}.order-xl-0{order:0!important}.order-xl-1{order:1!important}.order-xl-2{order:2!important}.order-xl-3{order:3!important}.order-xl-4{order:4!important}.order-xl-5{order:5!important}.order-xl-last{order:6!important}.m-xl-0{margin:0!important}.m-xl-1{margin:.25rem!important}.m-xl-2{margin:.5rem!important}.m-xl-3{margin:1rem!important}.m-xl-4{margin:1.5rem!important}.m-xl-5{margin:3rem!important}.m-xl-auto{margin:auto!important}.mx-xl-0{margin-right:0!important;margin-left:0!important}.mx-xl-1{margin-right:.25rem!important;margin-left:.25rem!important}.mx-xl-2{margin-right:.5rem!important;margin-left:.5rem!important}.mx-xl-3{margin-right:1rem!important;margin-left:1rem!important}.mx-xl-4{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-xl-5{margin-right:3rem!important;margin-left:3rem!important}.mx-xl-auto{margin-right:auto!important;margin-left:auto!important}.my-xl-0{margin-top:0!important;margin-bottom:0!important}.my-xl-1{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-xl-2{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-xl-3{margin-top:1rem!important;margin-bottom:1rem!important}.my-xl-4{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-xl-5{margin-top:3rem!important;margin-bottom:3rem!important}.my-xl-auto{margin-top:auto!important;margin-bottom:auto!important}.mt-xl-0{margin-top:0!important}.mt-xl-1{margin-top:.25rem!important}.mt-xl-2{margin-top:.5rem!important}.mt-xl-3{margin-top:1rem!important}.mt-xl-4{margin-top:1.5rem!important}.mt-xl-5{margin-top:3rem!important}.mt-xl-auto{margin-top:auto!important}.me-xl-0{margin-right:0!important}.me-xl-1{margin-right:.25rem!important}.me-xl-2{margin-right:.5rem!important}.me-xl-3{margin-right:1rem!important}.me-xl-4{margin-right:1.5rem!important}.me-xl-5{margin-right:3rem!important}.me-xl-auto{margin-right:auto!important}.mb-xl-0{margin-bottom:0!important}.mb-xl-1{margin-bottom:.25rem!important}.mb-xl-2{margin-bottom:.5rem!important}.mb-xl-3{margin-bottom:1rem!important}.mb-xl-4{margin-bottom:1.5rem!important}.mb-xl-5{margin-bottom:3rem!important}.mb-xl-auto{margin-bottom:auto!important}.ms-xl-0{margin-left:0!important}.ms-xl-1{margin-left:.25rem!important}.ms-xl-2{margin-left:.5rem!important}.ms-xl-3{margin-left:1rem!important}.ms-xl-4{margin-left:1.5rem!important}.ms-xl-5{margin-left:3rem!important}.ms-xl-auto{margin-left:auto!important}.p-xl-0{padding:0!important}.p-xl-1{padding:.25rem!important}.p-xl-2{padding:.5rem!important}.p-xl-3{padding:1rem!important}.p-xl-4{padding:1.5rem!important}.p-xl-5{padding:3rem!important}.px-xl-0{padding-right:0!important;padding-left:0!important}.px-xl-1{padding-right:.25rem!important;padding-left:.25rem!important}.px-xl-2{padding-right:.5rem!important;padding-left:.5rem!important}.px-xl-3{padding-right:1rem!important;padding-left:1rem!important}.px-xl-4{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-xl-5{padding-right:3rem!important;padding-left:3rem!important}.py-xl-0{padding-top:0!important;padding-bottom:0!important}.py-xl-1{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-xl-2{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-xl-3{padding-top:1rem!important;padding-bottom:1rem!important}.py-xl-4{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-xl-5{padding-top:3rem!important;padding-bottom:3rem!important}.pt-xl-0{padding-top:0!important}.pt-xl-1{padding-top:.25rem!important}.pt-xl-2{padding-top:.5rem!important}.pt-xl-3{padding-top:1rem!important}.pt-xl-4{padding-top:1.5rem!important}.pt-xl-5{padding-top:3rem!important}.pe-xl-0{padding-right:0!important}.pe-xl-1{padding-right:.25rem!important}.pe-xl-2{padding-right:.5rem!important}.pe-xl-3{padding-right:1rem!important}.pe-xl-4{padding-right:1.5rem!important}.pe-xl-5{padding-right:3rem!important}.pb-xl-0{padding-bottom:0!important}.pb-xl-1{padding-bottom:.25rem!important}.pb-xl-2{padding-bottom:.5rem!important}.pb-xl-3{padding-bottom:1rem!important}.pb-xl-4{padding-bottom:1.5rem!important}.pb-xl-5{padding-bottom:3rem!important}.ps-xl-0{padding-left:0!important}.ps-xl-1{padding-left:.25rem!important}.ps-xl-2{padding-left:.5rem!important}.ps-xl-3{padding-left:1rem!important}.ps-xl-4{padding-left:1.5rem!important}.ps-xl-5{padding-left:3rem!important}.gap-xl-0{gap:0!important}.gap-xl-1{gap:.25rem!important}.gap-xl-2{gap:.5rem!important}.gap-xl-3{gap:1rem!important}.gap-xl-4{gap:1.5rem!important}.gap-xl-5{gap:3rem!important}.row-gap-xl-0{row-gap:0!important}.row-gap-xl-1{row-gap:.25rem!important}.row-gap-xl-2{row-gap:.5rem!important}.row-gap-xl-3{row-gap:1rem!important}.row-gap-xl-4{row-gap:1.5rem!important}.row-gap-xl-5{row-gap:3rem!important}.column-gap-xl-0{-moz-column-gap:0!important;column-gap:0!important}.column-gap-xl-1{-moz-column-gap:.25rem!important;column-gap:.25rem!important}.column-gap-xl-2{-moz-column-gap:.5rem!important;column-gap:.5rem!important}.column-gap-xl-3{-moz-column-gap:1rem!important;column-gap:1rem!important}.column-gap-xl-4{-moz-column-gap:1.5rem!important;column-gap:1.5rem!important}.column-gap-xl-5{-moz-column-gap:3rem!important;column-gap:3rem!important}.text-xl-start{text-align:left!important}.text-xl-end{text-align:right!important}.text-xl-center{text-align:center!important}}@media (min-width:1400px){.float-xxl-start{float:left!important}.float-xxl-end{float:right!important}.float-xxl-none{float:none!important}.object-fit-xxl-contain{-o-object-fit:contain!important;object-fit:contain!important}.object-fit-xxl-cover{-o-object-fit:cover!important;object-fit:cover!important}.object-fit-xxl-fill{-o-object-fit:fill!important;object-fit:fill!important}.object-fit-xxl-scale{-o-object-fit:scale-down!important;object-fit:scale-down!important}.object-fit-xxl-none{-o-object-fit:none!important;object-fit:none!important}.d-xxl-inline{display:inline!important}.d-xxl-inline-block{display:inline-block!important}.d-xxl-block{display:block!important}.d-xxl-grid{display:grid!important}.d-xxl-inline-grid{display:inline-grid!important}.d-xxl-table{display:table!important}.d-xxl-table-row{display:table-row!important}.d-xxl-table-cell{display:table-cell!important}.d-xxl-flex{display:flex!important}.d-xxl-inline-flex{display:inline-flex!important}.d-xxl-none{display:none!important}.flex-xxl-fill{flex:1 1 auto!important}.flex-xxl-row{flex-direction:row!important}.flex-xxl-column{flex-direction:column!important}.flex-xxl-row-reverse{flex-direction:row-reverse!important}.flex-xxl-column-reverse{flex-direction:column-reverse!important}.flex-xxl-grow-0{flex-grow:0!important}.flex-xxl-grow-1{flex-grow:1!important}.flex-xxl-shrink-0{flex-shrink:0!important}.flex-xxl-shrink-1{flex-shrink:1!important}.flex-xxl-wrap{flex-wrap:wrap!important}.flex-xxl-nowrap{flex-wrap:nowrap!important}.flex-xxl-wrap-reverse{flex-wrap:wrap-reverse!important}.justify-content-xxl-start{justify-content:flex-start!important}.justify-content-xxl-end{justify-content:flex-end!important}.justify-content-xxl-center{justify-content:center!important}.justify-content-xxl-between{justify-content:space-between!important}.justify-content-xxl-around{justify-content:space-around!important}.justify-content-xxl-evenly{justify-content:space-evenly!important}.align-items-xxl-start{align-items:flex-start!important}.align-items-xxl-end{align-items:flex-end!important}.align-items-xxl-center{align-items:center!important}.align-items-xxl-baseline{align-items:baseline!important}.align-items-xxl-stretch{align-items:stretch!important}.align-content-xxl-start{align-content:flex-start!important}.align-content-xxl-end{align-content:flex-end!important}.align-content-xxl-center{align-content:center!important}.align-content-xxl-between{align-content:space-between!important}.align-content-xxl-around{align-content:space-around!important}.align-content-xxl-stretch{align-content:stretch!important}.align-self-xxl-auto{align-self:auto!important}.align-self-xxl-start{align-self:flex-start!important}.align-self-xxl-end{align-self:flex-end!important}.align-self-xxl-center{align-self:center!important}.align-self-xxl-baseline{align-self:baseline!important}.align-self-xxl-stretch{align-self:stretch!important}.order-xxl-first{order:-1!important}.order-xxl-0{order:0!important}.order-xxl-1{order:1!important}.order-xxl-2{order:2!important}.order-xxl-3{order:3!important}.order-xxl-4{order:4!important}.order-xxl-5{order:5!important}.order-xxl-last{order:6!important}.m-xxl-0{margin:0!important}.m-xxl-1{margin:.25rem!important}.m-xxl-2{margin:.5rem!important}.m-xxl-3{margin:1rem!important}.m-xxl-4{margin:1.5rem!important}.m-xxl-5{margin:3rem!important}.m-xxl-auto{margin:auto!important}.mx-xxl-0{margin-right:0!important;margin-left:0!important}.mx-xxl-1{margin-right:.25rem!important;margin-left:.25rem!important}.mx-xxl-2{margin-right:.5rem!important;margin-left:.5rem!important}.mx-xxl-3{margin-right:1rem!important;margin-left:1rem!important}.mx-xxl-4{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-xxl-5{margin-right:3rem!important;margin-left:3rem!important}.mx-xxl-auto{margin-right:auto!important;margin-left:auto!important}.my-xxl-0{margin-top:0!important;margin-bottom:0!important}.my-xxl-1{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-xxl-2{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-xxl-3{margin-top:1rem!important;margin-bottom:1rem!important}.my-xxl-4{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-xxl-5{margin-top:3rem!important;margin-bottom:3rem!important}.my-xxl-auto{margin-top:auto!important;margin-bottom:auto!important}.mt-xxl-0{margin-top:0!important}.mt-xxl-1{margin-top:.25rem!important}.mt-xxl-2{margin-top:.5rem!important}.mt-xxl-3{margin-top:1rem!important}.mt-xxl-4{margin-top:1.5rem!important}.mt-xxl-5{margin-top:3rem!important}.mt-xxl-auto{margin-top:auto!important}.me-xxl-0{margin-right:0!important}.me-xxl-1{margin-right:.25rem!important}.me-xxl-2{margin-right:.5rem!important}.me-xxl-3{margin-right:1rem!important}.me-xxl-4{margin-right:1.5rem!important}.me-xxl-5{margin-right:3rem!important}.me-xxl-auto{margin-right:auto!important}.mb-xxl-0{margin-bottom:0!important}.mb-xxl-1{margin-bottom:.25rem!important}.mb-xxl-2{margin-bottom:.5rem!important}.mb-xxl-3{margin-bottom:1rem!important}.mb-xxl-4{margin-bottom:1.5rem!important}.mb-xxl-5{margin-bottom:3rem!important}.mb-xxl-auto{margin-bottom:auto!important}.ms-xxl-0{margin-left:0!important}.ms-xxl-1{margin-left:.25rem!important}.ms-xxl-2{margin-left:.5rem!important}.ms-xxl-3{margin-left:1rem!important}.ms-xxl-4{margin-left:1.5rem!important}.ms-xxl-5{margin-left:3rem!important}.ms-xxl-auto{margin-left:auto!important}.p-xxl-0{padding:0!important}.p-xxl-1{padding:.25rem!important}.p-xxl-2{padding:.5rem!important}.p-xxl-3{padding:1rem!important}.p-xxl-4{padding:1.5rem!important}.p-xxl-5{padding:3rem!important}.px-xxl-0{padding-right:0!important;padding-left:0!important}.px-xxl-1{padding-right:.25rem!important;padding-left:.25rem!important}.px-xxl-2{padding-right:.5rem!important;padding-left:.5rem!important}.px-xxl-3{padding-right:1rem!important;padding-left:1rem!important}.px-xxl-4{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-xxl-5{padding-right:3rem!important;padding-left:3rem!important}.py-xxl-0{padding-top:0!important;padding-bottom:0!important}.py-xxl-1{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-xxl-2{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-xxl-3{padding-top:1rem!important;padding-bottom:1rem!important}.py-xxl-4{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-xxl-5{padding-top:3rem!important;padding-bottom:3rem!important}.pt-xxl-0{padding-top:0!important}.pt-xxl-1{padding-top:.25rem!important}.pt-xxl-2{padding-top:.5rem!important}.pt-xxl-3{padding-top:1rem!important}.pt-xxl-4{padding-top:1.5rem!important}.pt-xxl-5{padding-top:3rem!important}.pe-xxl-0{padding-right:0!important}.pe-xxl-1{padding-right:.25rem!important}.pe-xxl-2{padding-right:.5rem!important}.pe-xxl-3{padding-right:1rem!important}.pe-xxl-4{padding-right:1.5rem!important}.pe-xxl-5{padding-right:3rem!important}.pb-xxl-0{padding-bottom:0!important}.pb-xxl-1{padding-bottom:.25rem!important}.pb-xxl-2{padding-bottom:.5rem!important}.pb-xxl-3{padding-bottom:1rem!important}.pb-xxl-4{padding-bottom:1.5rem!important}.pb-xxl-5{padding-bottom:3rem!important}.ps-xxl-0{padding-left:0!important}.ps-xxl-1{padding-left:.25rem!important}.ps-xxl-2{padding-left:.5rem!important}.ps-xxl-3{padding-left:1rem!important}.ps-xxl-4{padding-left:1.5rem!important}.ps-xxl-5{padding-left:3rem!important}.gap-xxl-0{gap:0!important}.gap-xxl-1{gap:.25rem!important}.gap-xxl-2{gap:.5rem!important}.gap-xxl-3{gap:1rem!important}.gap-xxl-4{gap:1.5rem!important}.gap-xxl-5{gap:3rem!important}.row-gap-xxl-0{row-gap:0!important}.row-gap-xxl-1{row-gap:.25rem!important}.row-gap-xxl-2{row-gap:.5rem!important}.row-gap-xxl-3{row-gap:1rem!important}.row-gap-xxl-4{row-gap:1.5rem!important}.row-gap-xxl-5{row-gap:3rem!important}.column-gap-xxl-0{-moz-column-gap:0!important;column-gap:0!important}.column-gap-xxl-1{-moz-column-gap:.25rem!important;column-gap:.25rem!important}.column-gap-xxl-2{-moz-column-gap:.5rem!important;column-gap:.5rem!important}.column-gap-xxl-3{-moz-column-gap:1rem!important;column-gap:1rem!important}.column-gap-xxl-4{-moz-column-gap:1.5rem!important;column-gap:1.5rem!important}.column-gap-xxl-5{-moz-column-gap:3rem!important;column-gap:3rem!important}.text-xxl-start{text-align:left!important}.text-xxl-end{text-align:right!important}.text-xxl-center{text-align:center!important}}@media (min-width:1200px){.fs-1{font-size:2.5rem!important}.fs-2{font-size:2rem!important}.fs-3{font-size:1.75rem!important}.fs-4{font-size:1.5rem!important}}@media print{.d-print-inline{display:inline!important}.d-print-inline-block{display:inline-block!important}.d-print-block{display:block!important}.d-print-grid{display:grid!important}.d-print-inline-grid{display:inline-grid!important}.d-print-table{display:table!important}.d-print-table-row{display:table-row!important}.d-print-table-cell{display:table-cell!important}.d-print-flex{display:flex!important}.d-print-inline-flex{display:inline-flex!important}.d-print-none{display:none!important}}img{max-width:100%}.pulse{box-shadow:0 0 #c9c9c980;animation:pulse 1.5s infinite}@keyframes pulse{70%{box-shadow:0 0 0 25px #c9c9c900}to{box-shadow:0 0 #c9c9c900}}.hero-caption h1{cursor:pointer}.hero-caption h1:hover{text-decoration:underline}.hero-banner.hero-interactive{border-radius:5px;overflow:hidden}.hero-banner.hero-interactive.active{min-height:550px!important}@media (min-width: 992px){.col{margin-left:60px}}.btn.btn-secondary.btn-icon.btn-round.btn-round-big{height:38px;width:38px;padding:0;display:flex;justify-content:center;align-items:center}.btn.btn-secondary.btn-icon.btn-round.btn-round-big i{font-size:14px}.btn.btn-secondary.btn-icon.btn-round.btn-round-big.btn-hero-interactive-close i{font-size:18px}.hero-interactive{position:relative;transition:min-height .5s ease-in-out}.hero-interactive .hero-interactive-content{display:none;position:absolute;width:100%;height:100%;top:0;left:0}.hero-interactive .btn-hero-interactive-close{position:absolute;top:1rem;right:1rem;z-index:2}.hero-interactive .next,.hero-interactive .prev{position:absolute;top:50%;transform:translateY(-50%);z-index:2;opacity:0;pointer-events:none}@media (min-width: 768px){.hero-interactive .next,.hero-interactive .prev{opacity:1;pointer-events:auto}}.hero-interactive .prev{left:1rem}.hero-interactive .next{right:1rem}.hero-interactive.active{background-color:#1e1e1e;color:#fff;min-height:90vh}@media (min-width: 768px){.hero-interactive.active{min-height:690px}}.banner-slide{position:absolute;top:0;width:100%;height:100%;background-color:#f4f4f4}.banner-slide .container{height:100%}.banner-slide .banner-text{position:relative;z-index:1}.banner-slide .col{height:100%;display:flex;flex-direction:column;justify-content:center;align-items:flex-start;position:relative;z-index:2}@media (min-width: 992px){.banner-slide .col{width:40%}}.banner-slide .col h1{font-size:1.2rem;letter-spacing:-1px;color:#000;line-height:1.1;margin-bottom:20px}@media (min-width: 1200px){.banner-slide .col h1{font-size:1.5rem}}@media (min-width: 1200px){.banner-slide .col h1{font-size:2rem}}.banner-slide .col .title-category{margin-bottom:1.5rem}.banner-slide .col p{font-weight:300;margin-bottom:2rem;z-index:2;color:#000}.banner-slide .col p a{color:#000;text-decoration:underline}.banner-slide .col p a:hover{color:#000}.banner-slide .col p.unit{color:#e1e1e1;font-weight:700;margin-bottom:1rem;font-size:18px}.banner-slide .col .btn{background-color:#1b1815;border-color:#e1e1e1;color:#e1e1e1}.banner-slide .col .btn:hover{color:#e1e1e1}.banner-slide .image-prop-helper{height:100%;width:auto;max-width:none;display:block}.banner-slide .slide-video{position:absolute;height:100%;left:50%;transform:translate(-50%);background-color:#f4f4f4;width:100%;top:0;overflow:hidden}@media (min-width: 992px){.banner-slide .slide-video{left:calc(40% + 120px);transform:none;width:auto}}.banner-slide .slide-video .video-loop{position:relative;height:100%;top:0;left:50%;cursor:none;pointer-events:none;mix-blend-mode:multiply;transform:translate(-50%);opacity:.2}@media (min-width: 992px){.banner-slide .slide-video .video-loop{left:0;transform:none;opacity:1}}html[lang=ar] .row-fao-homepage-hero .hero-banner:before{transform:scaleX(-1)}@media (min-width: 992px){html[lang=ar] .banner-slide .slide-video{left:auto;right:40%}}html[lang=ar] .hero-banner-video{left:auto;right:50%}html[lang=ar] .hero-interactive .btn-round-big i{transform:none}html[lang=ar] .banner-slide .col .btn i{transform:scaleX(-1)}html[lang=ar] .hero-interactive .btn-hero-interactive-close{right:auto;left:1rem}html[lang=ar] .banner-slide .slide-video iframe{transform:scaleX(-1)}.preload-logo.svelte-mnfr17{background-image:url(https://www.fao.org/images/corporatelibraries/fao-logo/fao-logo-archive/fao-logo-black-3lines-en.svg);background-size:contain;background-repeat:no-repeat;background-position:center;width:218px;height:60px;position:absolute;left:calc(50% - 109px);top:calc(50% - 30px)}.pre-loader.svelte-mnfr17{top:0;position:fixed;z-index:1031;width:100%;height:100%;background-color:#fff;pointer-events:none;backface-visibility:hidden;transform-style:preserve-3d;transform:translateZ(0)}.pre-loader.svelte-mnfr17:after{content:"";display:block;top:calc(50% - 34px);left:calc(50% - 113px);width:68px;height:68px;position:absolute;border:3px solid transparent;border-top-color:var(--theme-color);border-radius:50%;animation:svelte-mnfr17-loading 1s ease infinite;backface-visibility:hidden;transform-style:preserve-3d}.pre-loader.svelte-mnfr17:before{content:"";display:block;top:calc(50% - 34px);left:calc(50% - 113px);border-radius:50%;border:3px solid rgba(215,215,215,.25);width:68px;height:68px;position:absolute}@keyframes svelte-mnfr17-loading{to{transform:rotate(360deg)}}.login.svelte-1pixdll{position:fixed;top:0;left:0;width:100%;height:100vh;z-index:99999;background:#fff;display:flex;flex-direction:column;justify-content:center;align-items:center}.modal-open,.overflow-noscroll{overflow:hidden;padding-right:0}video.svelte-gd4zu3{width:100%}.video-full.svelte-gd4zu3{height:100vh;width:100vw;object-fit:cover}.navbar{z-index:99;box-shadow:#0000001a 0 10px 15px -3px,#0000000d 0 4px 6px -2px}.navbar-brand{position:relative;top:0;padding:.5rem}.navbar-brand img{height:38px}.language-switch .dropdown-menu{left:auto;right:0}.arabFont{font-family:Cairo,sans-serif}.text-color-default{color:#545454}.mb-comp{margin-bottom:2rem}.background-cover{background-size:cover}@media (min-width:1400px){.container,.container-lg,.container-md,.container-sm,.container-xl,.container-xxl{max-width:1140px!important}}@keyframes blink{0%{opacity:.1}to{opacity:1}}:root{--primary:#116bac;--primary-light:#e5ecf4;--link:#116bac;--line:#f2f2f2;--border:#dee2e6;--background:#fff;--surface:#fff;--on-background:#545454;--on-background-secondary:#999;--on-surface:#545454;--on-primary:#fff;--on-primary-light:#545454;--accordion-bg:#fff;--accordion-btn-bg:#f8f9fa;--accordion-active-bg:#f8f9fa;--accordion-active-color:#212529;--accordion-btn-icon:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' stroke='%23212529' stroke-linecap='round' stroke-linejoin='round' viewBox='0 0 16 16'%3E%3Cpath d='m2 5 6 6 6-6'/%3E%3C/svg%3E");--accordion-btn-active-icon:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' stroke='%23052c65' stroke-linecap='round' stroke-linejoin='round' viewBox='0 0 16 16'%3E%3Cpath d='m2 5 6 6 6-6'/%3E%3C/svg%3E");--btn-primary:#116bac;--btn-primary-hover:#1688da;--btn-secondary:#fff;--btn-secondary-hover:#fff;--custom-subheader-bg:#f2f2f2}[data-bs-theme=dark]{--primary:#3b82f6;--primary-light:#6095eb;--link:#3b82f6;--line:#f2f2f2;--border:#545454;--background:#161616;--surface:#23262e;--on-background:hsla(0,0%,100%,.85);--on-background-secondary:hsla(0,0%,100%,.65);--on-surface:#fff;--on-primary:#fff;--on-primary-light:#fff;--accordion-bg:var(--background);--accordion-btn-bg:var(--surface);--accordion-active-bg:var(--surface);--accordion-active-color:var(--on-surface);--accordion-btn-icon:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' viewBox='0 0 16 16'%3E%3Cpath d='m2 5 6 6 6-6'/%3E%3C/svg%3E");--accordion-btn-active-icon:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' viewBox='0 0 16 16'%3E%3Cpath d='m2 5 6 6 6-6'/%3E%3C/svg%3E");--btn-primary:var(--primary);--btn-primary-hover:#6ca1f8;--btn-secondary:var(--surface);--btn-secondary-hover:#393e4b;--bs-card-bg:var(--background);--custom-subheader-bg:var(--surface)}.bg-primary{background-color:#116bac!important}.text-color-primary{color:#116bac!important}.bg-primary-light{background-color:#e5ecf4!important}.text-color-primary-light{color:#e5ecf4!important}.bg-gray-dark{background-color:#545454!important}.text-color-gray-dark{color:#545454!important}.bg-gray-medium{background-color:#999!important}.text-color-gray-medium{color:#999!important}.bg-gray-light{background-color:#f2f2f2!important}.text-color-gray-light{color:#f2f2f2!important}.bg-white-fao{background-color:#f7f8f9!important}.text-color-white-fao{color:#f7f8f9!important}.bg-orange{background-color:#f58320!important}.text-color-orange{color:#f58320!important}.bg-caption{background-color:#1c4767!important}.text-color-caption{color:#1c4767!important}.bg-emergency{background-color:#980000!important}.text-color-emergency{color:#980000!important}.bg-un-blue{background-color:#5792c9!important}.text-color-un-blue{color:#5792c9!important}.bg-primary-light{background-color:var(--primary-light)!important;color:var(--on-primary-light)}.bg-caption,.bg-caption a,.bg-caption a:hover,.bg-caption h1,.bg-caption h2,.bg-caption h3,.bg-caption h4,.bg-caption h5,.bg-caption h6,.bg-caption p,.bg-gray-dark,.bg-gray-dark a,.bg-gray-dark a:hover,.bg-gray-dark h1,.bg-gray-dark h2,.bg-gray-dark h3,.bg-gray-dark h4,.bg-gray-dark h5,.bg-gray-dark h6,.bg-gray-dark p,.bg-gray-medium,.bg-gray-medium a,.bg-gray-medium a:hover,.bg-gray-medium h1,.bg-gray-medium h2,.bg-gray-medium h3,.bg-gray-medium h4,.bg-gray-medium h5,.bg-gray-medium h6,.bg-gray-medium p,.bg-orange,.bg-orange a,.bg-orange a:hover,.bg-orange h1,.bg-orange h2,.bg-orange h3,.bg-orange h4,.bg-orange h5,.bg-orange h6,.bg-orange p,.bg-primary,.bg-primary a,.bg-primary a:hover,.bg-primary h1,.bg-primary h2,.bg-primary h3,.bg-primary h4,.bg-primary h5,.bg-primary h6,.bg-primary p{color:#fff}:export{country-abw:abw;country-afg:afg;country-ago:ago;country-aia:aia;country-ala:ala;country-alb:alb;country-and:and;country-are:are;country-arg:arg;country-arm:arm;country-asm:asm;country-ata:ata;country-atf:atf;country-atg:atg;country-aus:aus;country-aut:aut;country-aze:aze;country-bdi:bdi;country-bel:bel;country-ben:ben;country-bes:bes;country-bfa:bfa;country-bgd:bgd;country-bgr:bgr;country-bhr:bhr;country-bhs:bhs;country-bih:bih;country-blm:blm;country-blr:blr;country-blz:blz;country-bmu:bmu;country-bol:bol;country-bra:bra;country-brb:brb;country-brn:brn;country-btn:btn;country-bvt:bvt;country-bwa:bwa;country-caf:caf;country-can:can;country-cck:cck;country-che:che;country-chl:chl;country-chn:chn;country-civ:civ;country-cmr:cmr;country-cod:cod;country-cog:cog;country-cok:cok;country-col:col;country-com:com;country-cpv:cpv;country-cri:cri;country-cub:cub;country-cuw:cuw;country-cxr:cxr;country-cym:cym;country-cyp:cyp;country-cze:cze;country-deu:deu;country-dji:dji;country-dma:dma;country-dnk:dnk;country-dom:dom;country-dza:dza;country-ecu:ecu;country-egy:egy;country-eri:eri;country-esh:esh;country-esp:esp;country-est:est;country-eth:eth;country-eur:eur;country-fin:fin;country-fji:fji;country-flk:flk;country-fra:fra;country-fro:fro;country-fsm:fsm;country-gab:gab;country-gbr:gbr;country-geo:geo;country-ggy:ggy;country-gha:gha;country-gib:gib;country-gin:gin;country-glp:glp;country-gmb:gmb;country-gnb:gnb;country-gnq:gnq;country-grc:grc;country-grd:grd;country-grl:grl;country-gtm:gtm;country-guf:guf;country-gum:gum;country-guy:guy;country-hkg:hkg;country-hmd:hmd;country-hnd:hnd;country-hrv:hrv;country-hti:hti;country-hun:hun;country-idn:idn;country-imn:imn;country-ind:ind;country-iot:iot;country-irl:irl;country-irn:irn;country-irq:irq;country-isl:isl;country-isr:isr;country-ita:ita;country-jam:jam;country-jey:jey;country-jor:jor;country-jpn:jpn;country-kaz:kaz;country-ken:ken;country-kgz:kgz;country-khm:khm;country-kir:kir;country-kna:kna;country-kor:kor;country-kwt:kwt;country-lao:lao;country-lbn:lbn;country-lbr:lbr;country-lby:lby;country-lca:lca;country-lie:lie;country-lka:lka;country-lso:lso;country-ltu:ltu;country-lux:lux;country-lva:lva;country-mac:mac;country-maf:maf;country-mar:mar;country-mco:mco;country-mda:mda;country-mdg:mdg;country-mdv:mdv;country-mex:mex;country-mhl:mhl;country-mkd:mkd;country-mli:mli;country-mlt:mlt;country-mmr:mmr;country-mne:mne;country-mng:mng;country-mnp:mnp;country-moz:moz;country-mrt:mrt;country-msr:msr;country-mtq:mtq;country-mus:mus;country-mwi:mwi;country-mys:mys;country-myt:myt;country-nam:nam;country-ncl:ncl;country-ner:ner;country-nfk:nfk;country-nga:nga;country-nic:nic;country-niu:niu;country-nld:nld;country-nor:nor;country-npl:npl;country-nru:nru;country-nzl:nzl;country-omn:omn;country-pak:pak;country-pan:pan;country-pcn:pcn;country-per:per;country-phl:phl;country-plw:plw;country-png:png;country-pol:pol;country-pri:pri;country-prk:prk;country-prt:prt;country-pry:pry;country-pse:pse;country-pyf:pyf;country-qat:qat;country-reu:reu;country-rou:rou;country-rus:rus;country-rwa:rwa;country-sau:sau;country-sdn:sdn;country-sen:sen;country-sgp:sgp;country-sgs:sgs;country-shn:shn;country-sjm:sjm;country-slb:slb;country-sle:sle;country-slv:slv;country-smr:smr;country-som:som;country-spm:spm;country-srb:srb;country-ssd:ssd;country-stp:stp;country-sur:sur;country-svk:svk;country-svn:svn;country-swe:swe;country-swz:swz;country-sxm:sxm;country-syc:syc;country-syr:syr;country-tca:tca;country-tcd:tcd;country-tgo:tgo;country-tha:tha;country-tjk:tjk;country-tkl:tkl;country-tkm:tkm;country-tls:tls;country-ton:ton;country-tto:tto;country-tun:tun;country-tur:tur;country-tuv:tuv;country-twn:twn;country-tza:tza;country-uga:uga;country-ukr:ukr;country-umi:umi;country-ury:ury;country-usa:usa;country-uzb:uzb;country-vat:vat;country-vct:vct;country-ven:ven;country-vgb:vgb;country-vir:vir;country-vnm:vnm;country-vut:vut;country-wlf:wlf;country-wsm:wsm;country-yem:yem;country-zaf:zaf;country-zmb:zmb;country-zwe:zwe}.flag{aspect-ratio:4/3;background-repeat:no-repeat;display:inline-block;height:100%;margin-bottom:-.25rem;margin-right:1rem;min-height:2rem}.flag.flag-small{margin-right:.5rem;min-height:1.5rem}html[lang=ar] .flag,html[lang=fa] .flag,html[lang=sf] .flag{margin-left:1rem;margin-right:0}html[lang=ar] .flag.flag-small,html[lang=fa] .flag.flag-small,html[lang=sf] .flag.flag-small{margin-left:.5rem}.flag-abw{background-image:url(https://www.fao.org/images/corporatelibraries/flags/abw.svg)}.flag-afg{background-image:url(https://www.fao.org/images/corporatelibraries/flags/afg.svg)}.flag-ago{background-image:url(https://www.fao.org/images/corporatelibraries/flags/ago.svg)}.flag-aia{background-image:url(https://www.fao.org/images/corporatelibraries/flags/aia.svg)}.flag-ala{background-image:url(https://www.fao.org/images/corporatelibraries/flags/ala.svg)}.flag-alb{background-image:url(https://www.fao.org/images/corporatelibraries/flags/alb.svg)}.flag-and{background-image:url(https://www.fao.org/images/corporatelibraries/flags/and.svg)}.flag-are{background-image:url(https://www.fao.org/images/corporatelibraries/flags/are.svg)}.flag-arg{background-image:url(https://www.fao.org/images/corporatelibraries/flags/arg.svg)}.flag-arm{background-image:url(https://www.fao.org/images/corporatelibraries/flags/arm.svg)}.flag-asm{background-image:url(https://www.fao.org/images/corporatelibraries/flags/asm.svg)}.flag-ata{background-image:url(https://www.fao.org/images/corporatelibraries/flags/ata.svg)}.flag-atf{background-image:url(https://www.fao.org/images/corporatelibraries/flags/atf.svg)}.flag-atg{background-image:url(https://www.fao.org/images/corporatelibraries/flags/atg.svg)}.flag-aus{background-image:url(https://www.fao.org/images/corporatelibraries/flags/aus.svg)}.flag-aut{background-image:url(https://www.fao.org/images/corporatelibraries/flags/aut.svg)}.flag-aze{background-image:url(https://www.fao.org/images/corporatelibraries/flags/aze.svg)}.flag-bdi{background-image:url(https://www.fao.org/images/corporatelibraries/flags/bdi.svg)}.flag-bel{background-image:url(https://www.fao.org/images/corporatelibraries/flags/bel.svg)}.flag-ben{background-image:url(https://www.fao.org/images/corporatelibraries/flags/ben.svg)}.flag-bes{background-image:url(https://www.fao.org/images/corporatelibraries/flags/bes.svg)}.flag-bfa{background-image:url(https://www.fao.org/images/corporatelibraries/flags/bfa.svg)}.flag-bgd{background-image:url(https://www.fao.org/images/corporatelibraries/flags/bgd.svg)}.flag-bgr{background-image:url(https://www.fao.org/images/corporatelibraries/flags/bgr.svg)}.flag-bhr{background-image:url(https://www.fao.org/images/corporatelibraries/flags/bhr.svg)}.flag-bhs{background-image:url(https://www.fao.org/images/corporatelibraries/flags/bhs.svg)}.flag-bih{background-image:url(https://www.fao.org/images/corporatelibraries/flags/bih.svg)}.flag-blm{background-image:url(https://www.fao.org/images/corporatelibraries/flags/blm.svg)}.flag-blr{background-image:url(https://www.fao.org/images/corporatelibraries/flags/blr.svg)}.flag-blz{background-image:url(https://www.fao.org/images/corporatelibraries/flags/blz.svg)}.flag-bmu{background-image:url(https://www.fao.org/images/corporatelibraries/flags/bmu.svg)}.flag-bol{background-image:url(https://www.fao.org/images/corporatelibraries/flags/bol.svg)}.flag-bra{background-image:url(https://www.fao.org/images/corporatelibraries/flags/bra.svg)}.flag-brb{background-image:url(https://www.fao.org/images/corporatelibraries/flags/brb.svg)}.flag-brn{background-image:url(https://www.fao.org/images/corporatelibraries/flags/brn.svg)}.flag-btn{background-image:url(https://www.fao.org/images/corporatelibraries/flags/btn.svg)}.flag-bvt{background-image:url(https://www.fao.org/images/corporatelibraries/flags/bvt.svg)}.flag-bwa{background-image:url(https://www.fao.org/images/corporatelibraries/flags/bwa.svg)}.flag-caf{background-image:url(https://www.fao.org/images/corporatelibraries/flags/caf.svg)}.flag-can{background-image:url(https://www.fao.org/images/corporatelibraries/flags/can.svg)}.flag-cck{background-image:url(https://www.fao.org/images/corporatelibraries/flags/cck.svg)}.flag-che{background-image:url(https://www.fao.org/images/corporatelibraries/flags/che.svg)}.flag-chl{background-image:url(https://www.fao.org/images/corporatelibraries/flags/chl.svg)}.flag-chn{background-image:url(https://www.fao.org/images/corporatelibraries/flags/chn.svg)}.flag-civ{background-image:url(https://www.fao.org/images/corporatelibraries/flags/civ.svg)}.flag-cmr{background-image:url(https://www.fao.org/images/corporatelibraries/flags/cmr.svg)}.flag-cod{background-image:url(https://www.fao.org/images/corporatelibraries/flags/cod.svg)}.flag-cog{background-image:url(https://www.fao.org/images/corporatelibraries/flags/cog.svg)}.flag-cok{background-image:url(https://www.fao.org/images/corporatelibraries/flags/cok.svg)}.flag-col{background-image:url(https://www.fao.org/images/corporatelibraries/flags/col.svg)}.flag-com{background-image:url(https://www.fao.org/images/corporatelibraries/flags/com.svg)}.flag-cpv{background-image:url(https://www.fao.org/images/corporatelibraries/flags/cpv.svg)}.flag-cri{background-image:url(https://www.fao.org/images/corporatelibraries/flags/cri.svg)}.flag-cub{background-image:url(https://www.fao.org/images/corporatelibraries/flags/cub.svg)}.flag-cuw{background-image:url(https://www.fao.org/images/corporatelibraries/flags/cuw.svg)}.flag-cxr{background-image:url(https://www.fao.org/images/corporatelibraries/flags/cxr.svg)}.flag-cym{background-image:url(https://www.fao.org/images/corporatelibraries/flags/cym.svg)}.flag-cyp{background-image:url(https://www.fao.org/images/corporatelibraries/flags/cyp.svg)}.flag-cze{background-image:url(https://www.fao.org/images/corporatelibraries/flags/cze.svg)}.flag-deu{background-image:url(https://www.fao.org/images/corporatelibraries/flags/deu.svg)}.flag-dji{background-image:url(https://www.fao.org/images/corporatelibraries/flags/dji.svg)}.flag-dma{background-image:url(https://www.fao.org/images/corporatelibraries/flags/dma.svg)}.flag-dnk{background-image:url(https://www.fao.org/images/corporatelibraries/flags/dnk.svg)}.flag-dom{background-image:url(https://www.fao.org/images/corporatelibraries/flags/dom.svg)}.flag-dza{background-image:url(https://www.fao.org/images/corporatelibraries/flags/dza.svg)}.flag-ecu{background-image:url(https://www.fao.org/images/corporatelibraries/flags/ecu.svg)}.flag-egy{background-image:url(https://www.fao.org/images/corporatelibraries/flags/egy.svg)}.flag-eri{background-image:url(https://www.fao.org/images/corporatelibraries/flags/eri.svg)}.flag-esh{background-image:url(https://www.fao.org/images/corporatelibraries/flags/esh.svg)}.flag-esp{background-image:url(https://www.fao.org/images/corporatelibraries/flags/esp.svg)}.flag-est{background-image:url(https://www.fao.org/images/corporatelibraries/flags/est.svg)}.flag-eth{background-image:url(https://www.fao.org/images/corporatelibraries/flags/eth.svg)}.flag-eur{background-image:url(https://www.fao.org/images/corporatelibraries/flags/eur.svg)}.flag-fin{background-image:url(https://www.fao.org/images/corporatelibraries/flags/fin.svg)}.flag-fji{background-image:url(https://www.fao.org/images/corporatelibraries/flags/fji.svg)}.flag-flk{background-image:url(https://www.fao.org/images/corporatelibraries/flags/flk.svg)}.flag-fra{background-image:url(https://www.fao.org/images/corporatelibraries/flags/fra.svg)}.flag-fro{background-image:url(https://www.fao.org/images/corporatelibraries/flags/fro.svg)}.flag-fsm{background-image:url(https://www.fao.org/images/corporatelibraries/flags/fsm.svg)}.flag-gab{background-image:url(https://www.fao.org/images/corporatelibraries/flags/gab.svg)}.flag-gbr{background-image:url(https://www.fao.org/images/corporatelibraries/flags/gbr.svg)}.flag-geo{background-image:url(https://www.fao.org/images/corporatelibraries/flags/geo.svg)}.flag-ggy{background-image:url(https://www.fao.org/images/corporatelibraries/flags/ggy.svg)}.flag-gha{background-image:url(https://www.fao.org/images/corporatelibraries/flags/gha.svg)}.flag-gib{background-image:url(https://www.fao.org/images/corporatelibraries/flags/gib.svg)}.flag-gin{background-image:url(https://www.fao.org/images/corporatelibraries/flags/gin.svg)}.flag-glp{background-image:url(https://www.fao.org/images/corporatelibraries/flags/glp.svg)}.flag-gmb{background-image:url(https://www.fao.org/images/corporatelibraries/flags/gmb.svg)}.flag-gnb{background-image:url(https://www.fao.org/images/corporatelibraries/flags/gnb.svg)}.flag-gnq{background-image:url(https://www.fao.org/images/corporatelibraries/flags/gnq.svg)}.flag-grc{background-image:url(https://www.fao.org/images/corporatelibraries/flags/grc.svg)}.flag-grd{background-image:url(https://www.fao.org/images/corporatelibraries/flags/grd.svg)}.flag-grl{background-image:url(https://www.fao.org/images/corporatelibraries/flags/grl.svg)}.flag-gtm{background-image:url(https://www.fao.org/images/corporatelibraries/flags/gtm.svg)}.flag-guf{background-image:url(https://www.fao.org/images/corporatelibraries/flags/guf.svg)}.flag-gum{background-image:url(https://www.fao.org/images/corporatelibraries/flags/gum.svg)}.flag-guy{background-image:url(https://www.fao.org/images/corporatelibraries/flags/guy.svg)}.flag-hkg{background-image:url(https://www.fao.org/images/corporatelibraries/flags/hkg.svg)}.flag-hmd{background-image:url(https://www.fao.org/images/corporatelibraries/flags/hmd.svg)}.flag-hnd{background-image:url(https://www.fao.org/images/corporatelibraries/flags/hnd.svg)}.flag-hrv{background-image:url(https://www.fao.org/images/corporatelibraries/flags/hrv.svg)}.flag-hti{background-image:url(https://www.fao.org/images/corporatelibraries/flags/hti.svg)}.flag-hun{background-image:url(https://www.fao.org/images/corporatelibraries/flags/hun.svg)}.flag-idn{background-image:url(https://www.fao.org/images/corporatelibraries/flags/idn.svg)}.flag-imn{background-image:url(https://www.fao.org/images/corporatelibraries/flags/imn.svg)}.flag-ind{background-image:url(https://www.fao.org/images/corporatelibraries/flags/ind.svg)}.flag-iot{background-image:url(https://www.fao.org/images/corporatelibraries/flags/iot.svg)}.flag-irl{background-image:url(https://www.fao.org/images/corporatelibraries/flags/irl.svg)}.flag-irn{background-image:url(https://www.fao.org/images/corporatelibraries/flags/irn.svg)}.flag-irq{background-image:url(https://www.fao.org/images/corporatelibraries/flags/irq.svg)}.flag-isl{background-image:url(https://www.fao.org/images/corporatelibraries/flags/isl.svg)}.flag-isr{background-image:url(https://www.fao.org/images/corporatelibraries/flags/isr.svg)}.flag-ita{background-image:url(https://www.fao.org/images/corporatelibraries/flags/ita.svg)}.flag-jam{background-image:url(https://www.fao.org/images/corporatelibraries/flags/jam.svg)}.flag-jey{background-image:url(https://www.fao.org/images/corporatelibraries/flags/jey.svg)}.flag-jor{background-image:url(https://www.fao.org/images/corporatelibraries/flags/jor.svg)}.flag-jpn{background-image:url(https://www.fao.org/images/corporatelibraries/flags/jpn.svg)}.flag-kaz{background-image:url(https://www.fao.org/images/corporatelibraries/flags/kaz.svg)}.flag-ken{background-image:url(https://www.fao.org/images/corporatelibraries/flags/ken.svg)}.flag-kgz{background-image:url(https://www.fao.org/images/corporatelibraries/flags/kgz.svg)}.flag-khm{background-image:url(https://www.fao.org/images/corporatelibraries/flags/khm.svg)}.flag-kir{background-image:url(https://www.fao.org/images/corporatelibraries/flags/kir.svg)}.flag-kna{background-image:url(https://www.fao.org/images/corporatelibraries/flags/kna.svg)}.flag-kor{background-image:url(https://www.fao.org/images/corporatelibraries/flags/kor.svg)}.flag-kwt{background-image:url(https://www.fao.org/images/corporatelibraries/flags/kwt.svg)}.flag-lao{background-image:url(https://www.fao.org/images/corporatelibraries/flags/lao.svg)}.flag-lbn{background-image:url(https://www.fao.org/images/corporatelibraries/flags/lbn.svg)}.flag-lbr{background-image:url(https://www.fao.org/images/corporatelibraries/flags/lbr.svg)}.flag-lby{background-image:url(https://www.fao.org/images/corporatelibraries/flags/lby.svg)}.flag-lca{background-image:url(https://www.fao.org/images/corporatelibraries/flags/lca.svg)}.flag-lie{background-image:url(https://www.fao.org/images/corporatelibraries/flags/lie.svg)}.flag-lka{background-image:url(https://www.fao.org/images/corporatelibraries/flags/lka.svg)}.flag-lso{background-image:url(https://www.fao.org/images/corporatelibraries/flags/lso.svg)}.flag-ltu{background-image:url(https://www.fao.org/images/corporatelibraries/flags/ltu.svg)}.flag-lux{background-image:url(https://www.fao.org/images/corporatelibraries/flags/lux.svg)}.flag-lva{background-image:url(https://www.fao.org/images/corporatelibraries/flags/lva.svg)}.flag-mac{background-image:url(https://www.fao.org/images/corporatelibraries/flags/mac.svg)}.flag-maf{background-image:url(https://www.fao.org/images/corporatelibraries/flags/maf.svg)}.flag-mar{background-image:url(https://www.fao.org/images/corporatelibraries/flags/mar.svg)}.flag-mco{background-image:url(https://www.fao.org/images/corporatelibraries/flags/mco.svg)}.flag-mda{background-image:url(https://www.fao.org/images/corporatelibraries/flags/mda.svg)}.flag-mdg{background-image:url(https://www.fao.org/images/corporatelibraries/flags/mdg.svg)}.flag-mdv{background-image:url(https://www.fao.org/images/corporatelibraries/flags/mdv.svg)}.flag-mex{background-image:url(https://www.fao.org/images/corporatelibraries/flags/mex.svg)}.flag-mhl{background-image:url(https://www.fao.org/images/corporatelibraries/flags/mhl.svg)}.flag-mkd{background-image:url(https://www.fao.org/images/corporatelibraries/flags/mkd.svg)}.flag-mli{background-image:url(https://www.fao.org/images/corporatelibraries/flags/mli.svg)}.flag-mlt{background-image:url(https://www.fao.org/images/corporatelibraries/flags/mlt.svg)}.flag-mmr{background-image:url(https://www.fao.org/images/corporatelibraries/flags/mmr.svg)}.flag-mne{background-image:url(https://www.fao.org/images/corporatelibraries/flags/mne.svg)}.flag-mng{background-image:url(https://www.fao.org/images/corporatelibraries/flags/mng.svg)}.flag-mnp{background-image:url(https://www.fao.org/images/corporatelibraries/flags/mnp.svg)}.flag-moz{background-image:url(https://www.fao.org/images/corporatelibraries/flags/moz.svg)}.flag-mrt{background-image:url(https://www.fao.org/images/corporatelibraries/flags/mrt.svg)}.flag-msr{background-image:url(https://www.fao.org/images/corporatelibraries/flags/msr.svg)}.flag-mtq{background-image:url(https://www.fao.org/images/corporatelibraries/flags/mtq.svg)}.flag-mus{background-image:url(https://www.fao.org/images/corporatelibraries/flags/mus.svg)}.flag-mwi{background-image:url(https://www.fao.org/images/corporatelibraries/flags/mwi.svg)}.flag-mys{background-image:url(https://www.fao.org/images/corporatelibraries/flags/mys.svg)}.flag-myt{background-image:url(https://www.fao.org/images/corporatelibraries/flags/myt.svg)}.flag-nam{background-image:url(https://www.fao.org/images/corporatelibraries/flags/nam.svg)}.flag-ncl{background-image:url(https://www.fao.org/images/corporatelibraries/flags/ncl.svg)}.flag-ner{background-image:url(https://www.fao.org/images/corporatelibraries/flags/ner.svg)}.flag-nfk{background-image:url(https://www.fao.org/images/corporatelibraries/flags/nfk.svg)}.flag-nga{background-image:url(https://www.fao.org/images/corporatelibraries/flags/nga.svg)}.flag-nic{background-image:url(https://www.fao.org/images/corporatelibraries/flags/nic.svg)}.flag-niu{background-image:url(https://www.fao.org/images/corporatelibraries/flags/niu.svg)}.flag-nld{background-image:url(https://www.fao.org/images/corporatelibraries/flags/nld.svg)}.flag-nor{background-image:url(https://www.fao.org/images/corporatelibraries/flags/nor.svg)}.flag-npl{background-image:url(https://www.fao.org/images/corporatelibraries/flags/npl.svg)}.flag-nru{background-image:url(https://www.fao.org/images/corporatelibraries/flags/nru.svg)}.flag-nzl{background-image:url(https://www.fao.org/images/corporatelibraries/flags/nzl.svg)}.flag-omn{background-image:url(https://www.fao.org/images/corporatelibraries/flags/omn.svg)}.flag-pak{background-image:url(https://www.fao.org/images/corporatelibraries/flags/pak.svg)}.flag-pan{background-image:url(https://www.fao.org/images/corporatelibraries/flags/pan.svg)}.flag-pcn{background-image:url(https://www.fao.org/images/corporatelibraries/flags/pcn.svg)}.flag-per{background-image:url(https://www.fao.org/images/corporatelibraries/flags/per.svg)}.flag-phl{background-image:url(https://www.fao.org/images/corporatelibraries/flags/phl.svg)}.flag-plw{background-image:url(https://www.fao.org/images/corporatelibraries/flags/plw.svg)}.flag-png{background-image:url(https://www.fao.org/images/corporatelibraries/flags/png.svg)}.flag-pol{background-image:url(https://www.fao.org/images/corporatelibraries/flags/pol.svg)}.flag-pri{background-image:url(https://www.fao.org/images/corporatelibraries/flags/pri.svg)}.flag-prk{background-image:url(https://www.fao.org/images/corporatelibraries/flags/prk.svg)}.flag-prt{background-image:url(https://www.fao.org/images/corporatelibraries/flags/prt.svg)}.flag-pry{background-image:url(https://www.fao.org/images/corporatelibraries/flags/pry.svg)}.flag-pse{background-image:url(https://www.fao.org/images/corporatelibraries/flags/pse.svg)}.flag-pyf{background-image:url(https://www.fao.org/images/corporatelibraries/flags/pyf.svg)}.flag-qat{background-image:url(https://www.fao.org/images/corporatelibraries/flags/qat.svg)}.flag-reu{background-image:url(https://www.fao.org/images/corporatelibraries/flags/reu.svg)}.flag-rou{background-image:url(https://www.fao.org/images/corporatelibraries/flags/rou.svg)}.flag-rus{background-image:url(https://www.fao.org/images/corporatelibraries/flags/rus.svg)}.flag-rwa{background-image:url(https://www.fao.org/images/corporatelibraries/flags/rwa.svg)}.flag-sau{background-image:url(https://www.fao.org/images/corporatelibraries/flags/sau.svg)}.flag-sdn{background-image:url(https://www.fao.org/images/corporatelibraries/flags/sdn.svg)}.flag-sen{background-image:url(https://www.fao.org/images/corporatelibraries/flags/sen.svg)}.flag-sgp{background-image:url(https://www.fao.org/images/corporatelibraries/flags/sgp.svg)}.flag-sgs{background-image:url(https://www.fao.org/images/corporatelibraries/flags/sgs.svg)}.flag-shn{background-image:url(https://www.fao.org/images/corporatelibraries/flags/shn.svg)}.flag-sjm{background-image:url(https://www.fao.org/images/corporatelibraries/flags/sjm.svg)}.flag-slb{background-image:url(https://www.fao.org/images/corporatelibraries/flags/slb.svg)}.flag-sle{background-image:url(https://www.fao.org/images/corporatelibraries/flags/sle.svg)}.flag-slv{background-image:url(https://www.fao.org/images/corporatelibraries/flags/slv.svg)}.flag-smr{background-image:url(https://www.fao.org/images/corporatelibraries/flags/smr.svg)}.flag-som{background-image:url(https://www.fao.org/images/corporatelibraries/flags/som.svg)}.flag-spm{background-image:url(https://www.fao.org/images/corporatelibraries/flags/spm.svg)}.flag-srb{background-image:url(https://www.fao.org/images/corporatelibraries/flags/srb.svg)}.flag-ssd{background-image:url(https://www.fao.org/images/corporatelibraries/flags/ssd.svg)}.flag-stp{background-image:url(https://www.fao.org/images/corporatelibraries/flags/stp.svg)}.flag-sur{background-image:url(https://www.fao.org/images/corporatelibraries/flags/sur.svg)}.flag-svk{background-image:url(https://www.fao.org/images/corporatelibraries/flags/svk.svg)}.flag-svn{background-image:url(https://www.fao.org/images/corporatelibraries/flags/svn.svg)}.flag-swe{background-image:url(https://www.fao.org/images/corporatelibraries/flags/swe.svg)}.flag-swz{background-image:url(https://www.fao.org/images/corporatelibraries/flags/swz.svg)}.flag-sxm{background-image:url(https://www.fao.org/images/corporatelibraries/flags/sxm.svg)}.flag-syc{background-image:url(https://www.fao.org/images/corporatelibraries/flags/syc.svg)}.flag-syr{background-image:url(https://www.fao.org/images/corporatelibraries/flags/syr.svg)}.flag-tca{background-image:url(https://www.fao.org/images/corporatelibraries/flags/tca.svg)}.flag-tcd{background-image:url(https://www.fao.org/images/corporatelibraries/flags/tcd.svg)}.flag-tgo{background-image:url(https://www.fao.org/images/corporatelibraries/flags/tgo.svg)}.flag-tha{background-image:url(https://www.fao.org/images/corporatelibraries/flags/tha.svg)}.flag-tjk{background-image:url(https://www.fao.org/images/corporatelibraries/flags/tjk.svg)}.flag-tkl{background-image:url(https://www.fao.org/images/corporatelibraries/flags/tkl.svg)}.flag-tkm{background-image:url(https://www.fao.org/images/corporatelibraries/flags/tkm.svg)}.flag-tls{background-image:url(https://www.fao.org/images/corporatelibraries/flags/tls.svg)}.flag-ton{background-image:url(https://www.fao.org/images/corporatelibraries/flags/ton.svg)}.flag-tto{background-image:url(https://www.fao.org/images/corporatelibraries/flags/tto.svg)}.flag-tun{background-image:url(https://www.fao.org/images/corporatelibraries/flags/tun.svg)}.flag-tur{background-image:url(https://www.fao.org/images/corporatelibraries/flags/tur.svg)}.flag-tuv{background-image:url(https://www.fao.org/images/corporatelibraries/flags/tuv.svg)}.flag-twn{background-image:url(https://www.fao.org/images/corporatelibraries/flags/twn.svg)}.flag-tza{background-image:url(https://www.fao.org/images/corporatelibraries/flags/tza.svg)}.flag-uga{background-image:url(https://www.fao.org/images/corporatelibraries/flags/uga.svg)}.flag-ukr{background-image:url(https://www.fao.org/images/corporatelibraries/flags/ukr.svg)}.flag-umi{background-image:url(https://www.fao.org/images/corporatelibraries/flags/umi.svg)}.flag-ury{background-image:url(https://www.fao.org/images/corporatelibraries/flags/ury.svg)}.flag-usa{background-image:url(https://www.fao.org/images/corporatelibraries/flags/usa.svg)}.flag-uzb{background-image:url(https://www.fao.org/images/corporatelibraries/flags/uzb.svg)}.flag-vat{background-image:url(https://www.fao.org/images/corporatelibraries/flags/vat.svg)}.flag-vct{background-image:url(https://www.fao.org/images/corporatelibraries/flags/vct.svg)}.flag-ven{background-image:url(https://www.fao.org/images/corporatelibraries/flags/ven.svg)}.flag-vgb{background-image:url(https://www.fao.org/images/corporatelibraries/flags/vgb.svg)}.flag-vir{background-image:url(https://www.fao.org/images/corporatelibraries/flags/vir.svg)}.flag-vnm{background-image:url(https://www.fao.org/images/corporatelibraries/flags/vnm.svg)}.flag-vut{background-image:url(https://www.fao.org/images/corporatelibraries/flags/vut.svg)}.flag-wlf{background-image:url(https://www.fao.org/images/corporatelibraries/flags/wlf.svg)}.flag-wsm{background-image:url(https://www.fao.org/images/corporatelibraries/flags/wsm.svg)}.flag-yem{background-image:url(https://www.fao.org/images/corporatelibraries/flags/yem.svg)}.flag-zaf{background-image:url(https://www.fao.org/images/corporatelibraries/flags/zaf.svg)}.flag-zmb{background-image:url(https://www.fao.org/images/corporatelibraries/flags/zmb.svg)}.flag-zwe{background-image:url(https://www.fao.org/images/corporatelibraries/flags/zwe.svg)}.ratio>*{-o-object-fit:cover;object-fit:cover}.ratio-3x2:before{padding-top:66.6%}.sdg-small{border-radius:2px;color:#fff;display:inline-block;font-size:12px;font-weight:600;height:18px;line-height:18px;margin:0 .5rem .5rem 0;text-align:center;width:18px}.sdg-small.sdg-1{background-color:#eb1c2e}.sdg-small.sdg-1:before{content:"1"}.sdg-small.sdg-2{background-color:#d19e29}.sdg-small.sdg-2:before{content:"2"}.sdg-small.sdg-3{background-color:#2c9946}.sdg-small.sdg-3:before{content:"3"}.sdg-small.sdg-4{background-color:#c32033}.sdg-small.sdg-4:before{content:"4"}.sdg-small.sdg-5{background-color:#ef402b}.sdg-small.sdg-5:before{content:"5"}.sdg-small.sdg-6{background-color:#01acd8}.sdg-small.sdg-6:before{content:"6"}.sdg-small.sdg-7{background-color:#fcb714}.sdg-small.sdg-7:before{content:"7"}.sdg-small.sdg-8{background-color:#8f1838}.sdg-small.sdg-8:before{content:"8"}.sdg-small.sdg-9{background-color:#f26e24}.sdg-small.sdg-9:before{content:"9"}.sdg-small.sdg-10{background-color:#df1a83}.sdg-small.sdg-10:before{content:"10"}.sdg-small.sdg-11{background-color:#f99c25}.sdg-small.sdg-11:before{content:"11"}.sdg-small.sdg-12{background-color:#c98a2b}.sdg-small.sdg-12:before{content:"12"}.sdg-small.sdg-13{background-color:#47773b}.sdg-small.sdg-13:before{content:"13"}.sdg-small.sdg-14{background-color:#017dbb}.sdg-small.sdg-14:before{content:"14"}.sdg-small.sdg-15{background-color:#3eb049}.sdg-small.sdg-15:before{content:"15"}.sdg-small.sdg-16{background-color:#005689}.sdg-small.sdg-16:before{content:"16"}.sdg-small.sdg-17{background-color:#1f3668}.sdg-small.sdg-17:before{content:"17"}.sdg{background-size:100% 100%;display:inline-block;height:60px;margin:0 1rem 1rem 0;width:60px}html .sdg.sdg-1{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg01-en.svg)}html .sdg.sdg-2{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg02-en.svg)}html .sdg.sdg-3{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg03-en.svg)}html .sdg.sdg-4{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg04-en.svg)}html .sdg.sdg-5{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg05-en.svg)}html .sdg.sdg-6{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg06-en.svg)}html .sdg.sdg-7{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg07-en.svg)}html .sdg.sdg-8{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg08-en.svg)}html .sdg.sdg-9{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg09-en.svg)}html .sdg.sdg-10{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg10-en.svg)}html .sdg.sdg-11{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg11-en.svg)}html .sdg.sdg-12{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg12-en.svg)}html .sdg.sdg-13{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg13-en.svg)}html .sdg.sdg-14{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg14-en.svg)}html .sdg.sdg-15{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg15-en.svg)}html .sdg.sdg-16{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg16-en.svg)}html .sdg.sdg-17{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg17-en.svg)}html[lang=en] .sdg.sdg-1{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg01-en.svg)}html[lang=en] .sdg.sdg-2{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg02-en.svg)}html[lang=en] .sdg.sdg-3{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg03-en.svg)}html[lang=en] .sdg.sdg-4{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg04-en.svg)}html[lang=en] .sdg.sdg-5{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg05-en.svg)}html[lang=en] .sdg.sdg-6{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg06-en.svg)}html[lang=en] .sdg.sdg-7{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg07-en.svg)}html[lang=en] .sdg.sdg-8{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg08-en.svg)}html[lang=en] .sdg.sdg-9{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg09-en.svg)}html[lang=en] .sdg.sdg-10{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg10-en.svg)}html[lang=en] .sdg.sdg-11{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg11-en.svg)}html[lang=en] .sdg.sdg-12{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg12-en.svg)}html[lang=en] .sdg.sdg-13{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg13-en.svg)}html[lang=en] .sdg.sdg-14{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg14-en.svg)}html[lang=en] .sdg.sdg-15{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg15-en.svg)}html[lang=en] .sdg.sdg-16{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg16-en.svg)}html[lang=en] .sdg.sdg-17{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg17-en.svg)}html[lang=fr] .sdg.sdg-1{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg01-fr.svg)}html[lang=fr] .sdg.sdg-2{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg02-fr.svg)}html[lang=fr] .sdg.sdg-3{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg03-fr.svg)}html[lang=fr] .sdg.sdg-4{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg04-fr.svg)}html[lang=fr] .sdg.sdg-5{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg05-fr.svg)}html[lang=fr] .sdg.sdg-6{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg06-fr.svg)}html[lang=fr] .sdg.sdg-7{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg07-fr.svg)}html[lang=fr] .sdg.sdg-8{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg08-fr.svg)}html[lang=fr] .sdg.sdg-9{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg09-fr.svg)}html[lang=fr] .sdg.sdg-10{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg10-fr.svg)}html[lang=fr] .sdg.sdg-11{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg11-fr.svg)}html[lang=fr] .sdg.sdg-12{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg12-fr.svg)}html[lang=fr] .sdg.sdg-13{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg13-fr.svg)}html[lang=fr] .sdg.sdg-14{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg14-fr.svg)}html[lang=fr] .sdg.sdg-15{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg15-fr.svg)}html[lang=fr] .sdg.sdg-16{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg16-fr.svg)}html[lang=fr] .sdg.sdg-17{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg17-fr.svg)}html[lang=es] .sdg.sdg-1{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg01-es.svg)}html[lang=es] .sdg.sdg-2{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg02-es.svg)}html[lang=es] .sdg.sdg-3{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg03-es.svg)}html[lang=es] .sdg.sdg-4{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg04-es.svg)}html[lang=es] .sdg.sdg-5{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg05-es.svg)}html[lang=es] .sdg.sdg-6{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg06-es.svg)}html[lang=es] .sdg.sdg-7{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg07-es.svg)}html[lang=es] .sdg.sdg-8{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg08-es.svg)}html[lang=es] .sdg.sdg-9{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg09-es.svg)}html[lang=es] .sdg.sdg-10{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg10-es.svg)}html[lang=es] .sdg.sdg-11{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg11-es.svg)}html[lang=es] .sdg.sdg-12{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg12-es.svg)}html[lang=es] .sdg.sdg-13{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg13-es.svg)}html[lang=es] .sdg.sdg-14{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg14-es.svg)}html[lang=es] .sdg.sdg-15{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg15-es.svg)}html[lang=es] .sdg.sdg-16{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg16-es.svg)}html[lang=es] .sdg.sdg-17{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg17-es.svg)}html[lang=zh] .sdg.sdg-1{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg01-zh.svg)}html[lang=zh] .sdg.sdg-2{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg02-zh.svg)}html[lang=zh] .sdg.sdg-3{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg03-zh.svg)}html[lang=zh] .sdg.sdg-4{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg04-zh.svg)}html[lang=zh] .sdg.sdg-5{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg05-zh.svg)}html[lang=zh] .sdg.sdg-6{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg06-zh.svg)}html[lang=zh] .sdg.sdg-7{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg07-zh.svg)}html[lang=zh] .sdg.sdg-8{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg08-zh.svg)}html[lang=zh] .sdg.sdg-9{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg09-zh.svg)}html[lang=zh] .sdg.sdg-10{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg10-zh.svg)}html[lang=zh] .sdg.sdg-11{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg11-zh.svg)}html[lang=zh] .sdg.sdg-12{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg12-zh.svg)}html[lang=zh] .sdg.sdg-13{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg13-zh.svg)}html[lang=zh] .sdg.sdg-14{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg14-zh.svg)}html[lang=zh] .sdg.sdg-15{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg15-zh.svg)}html[lang=zh] .sdg.sdg-16{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg16-zh.svg)}html[lang=zh] .sdg.sdg-17{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg17-zh.svg)}html[lang=ar] .sdg.sdg-1{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg01-ar.svg)}html[lang=ar] .sdg.sdg-2{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg02-ar.svg)}html[lang=ar] .sdg.sdg-3{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg03-ar.svg)}html[lang=ar] .sdg.sdg-4{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg04-ar.svg)}html[lang=ar] .sdg.sdg-5{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg05-ar.svg)}html[lang=ar] .sdg.sdg-6{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg06-ar.svg)}html[lang=ar] .sdg.sdg-7{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg07-ar.svg)}html[lang=ar] .sdg.sdg-8{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg08-ar.svg)}html[lang=ar] .sdg.sdg-9{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg09-ar.svg)}html[lang=ar] .sdg.sdg-10{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg10-ar.svg)}html[lang=ar] .sdg.sdg-11{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg11-ar.svg)}html[lang=ar] .sdg.sdg-12{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg12-ar.svg)}html[lang=ar] .sdg.sdg-13{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg13-ar.svg)}html[lang=ar] .sdg.sdg-14{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg14-ar.svg)}html[lang=ar] .sdg.sdg-15{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg15-ar.svg)}html[lang=ar] .sdg.sdg-16{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg16-ar.svg)}html[lang=ar] .sdg.sdg-17{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg17-ar.svg)}html[lang=ru] .sdg.sdg-1{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg01-ru.svg)}html[lang=ru] .sdg.sdg-2{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg02-ru.svg)}html[lang=ru] .sdg.sdg-3{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg03-ru.svg)}html[lang=ru] .sdg.sdg-4{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg04-ru.svg)}html[lang=ru] .sdg.sdg-5{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg05-ru.svg)}html[lang=ru] .sdg.sdg-6{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg06-ru.svg)}html[lang=ru] .sdg.sdg-7{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg07-ru.svg)}html[lang=ru] .sdg.sdg-8{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg08-ru.svg)}html[lang=ru] .sdg.sdg-9{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg09-ru.svg)}html[lang=ru] .sdg.sdg-10{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg10-ru.svg)}html[lang=ru] .sdg.sdg-11{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg11-ru.svg)}html[lang=ru] .sdg.sdg-12{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg12-ru.svg)}html[lang=ru] .sdg.sdg-13{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg13-ru.svg)}html[lang=ru] .sdg.sdg-14{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg14-ru.svg)}html[lang=ru] .sdg.sdg-15{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg15-ru.svg)}html[lang=ru] .sdg.sdg-16{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg16-ru.svg)}html[lang=ru] .sdg.sdg-17{background-image:url(https://www.fao.org/images/corporatelibraries/sdg/sdg17-ru.svg)}body{background:var(--background);font-family:Open Sans,sans-serif}body,h1,h2,h3,h4,h5,h6,p{color:var(--on-background)}h1,h2,h3,h4,h5,h6{line-height:1.4}h1,h2,h3,h4{font-weight:300}h5,h6{font-weight:400}.sfContentBlock a,h1 a,h2 a,h3 a,h4 a,h5 a,h6 a,p a,table a{text-decoration:none}.sfContentBlock a:hover,h1 a:hover,h2 a:hover,h3 a:hover,h4 a:hover,h5 a:hover,h6 a:hover,p a:hover,table a:hover{text-decoration:underline}h1{margin-bottom:2rem}h2{margin-bottom:1.8rem}h3{margin-bottom:1.6rem}h4{margin-bottom:1.4rem}h5{margin-bottom:1.2rem}a,a:hover{color:var(--link)}b,strong{font-weight:700}ul{padding-left:1.4rem}.page-title{border-bottom:2px solid var(--line);font-weight:300;margin-bottom:0;padding-bottom:1rem;padding-top:1rem}.primary-heading{font-size:calc(1.325rem + .9vw)}@media (min-width:992px){.primary-heading{font-size:1.7rem;margin-bottom:1.3rem}}.detail-title{font-size:calc(1.275rem + .3vw);margin-bottom:1rem}@media (min-width:1200px){.detail-title{font-size:1.5rem}}.title-highlight{font-weight:400;margin-bottom:1.2rem;margin-top:0;padding-top:.8rem;position:relative}.title-highlight:before{background-color:var(--primary);content:"";height:2px;position:absolute;top:0;width:50px}a.title-link{font-weight:400;text-decoration:none}a.title-link:hover{text-decoration:underline}a.title-link a{text-decoration:none}a.title-link a:hover{text-decoration:underline}.sub-title{font-weight:400;margin-bottom:1.2rem;margin-top:0;padding-top:.8rem;position:relative}.sub-title:before{background-color:var(--line);content:"";height:2px;position:absolute;top:0;width:100%}.sub-title.small{font-size:1rem;font-weight:400;padding-top:.6rem}.sub-title.small:before{background-color:var(--on-background);height:1px;opacity:.5}.title-category{font-size:12px;margin-top:0}.blog-author,.date,.title-category{color:var(--on-background-secondary);font-weight:700;text-transform:uppercase}.blog-author,.date{font-size:.75rem}.blog-author em,.blog-author i,.date em,.date i{margin-right:4px;position:relative;top:-2px}.simple-list li{padding-bottom:.5rem}blockquote{background-color:#f7f8f9;border-left:0;display:block;float:left;font-family:Merriweather,serif;font-size:110%;font-weight:300;letter-spacing:1px;line-height:1.7;padding:33px 25px;position:relative;width:100%}blockquote b{display:block;font-family:Open Sans,sans-serif;font-size:80%;letter-spacing:0;margin-top:10px}@media (min-width:992px){blockquote{background-color:transparent;margin-bottom:0;padding:20px 30px 20px 0;width:35%}}html[lang=ar] blockquote,html[lang=fa] blockquote,html[lang=sf] blockquote{float:right;font-family:Cairo,sans-serif}html[lang=ar] blockquote b,html[lang=fa] blockquote b,html[lang=sf] blockquote b{font-family:Cairo,sans-serif}@media (min-width:992px){html[lang=ar] blockquote,html[lang=fa] blockquote,html[lang=sf] blockquote{padding:40px 0 20px 30px}}.btn{--bs-btn-focus-box-shadow:none}.btn.btn-block{margin-top:0}.btn-primary{background:var(--btn-primary);border-color:var(--btn-primary);color:var(--on-primary)}.btn-primary:hover,.btn-primary:not(:disabled):not(.disabled):active,.btn-primary:not(:disabled):not(.disabled):active:focus,.btn-primary:not(:disabled):not(.disabled):focus{background:var(--btn-primary-hover);border-color:var(--btn-primary-hover);box-shadow:none;color:var(--on-primary);text-decoration:none}.btn-secondary{background:var(--btn-secondary);border-color:var(--btn-secondary);box-shadow:0 3px 6px #00000029;color:var(--link)}.btn-secondary:hover,.btn-secondary:not(:disabled):not(.disabled):active,.btn-secondary:not(:disabled):not(.disabled):active:focus,.btn-secondary:not(:disabled):not(.disabled):focus{background:var(--btn-secondary-hover);border-color:var(--btn-secondary-hover);box-shadow:0 6px 10px #00000029;color:var(--link);text-decoration:none}.btn-outline{background:transparent;border-color:var(--btn-primary);color:var(--btn-primary)}.btn-outline:hover,.btn-outline:not(:disabled):not(.disabled):active,.btn-outline:not(:disabled):not(.disabled):active:focus,.btn-outline:not(:disabled):not(.disabled):focus{background:transparent;border-color:var(--btn-primary-hover);box-shadow:none;color:var(--btn-primary-hover);text-decoration:none}.btn-round{border-radius:50%;padding:.375rem;width:38px}.btn-round .bi{margin-left:0}.btn-icon .bi{display:inline-block;margin-left:.5rem}.btn-icon .bi:before{vertical-align:-.1em}.btn-icon.btn-icon-left .bi{margin:0 .5rem 0 0}.btn-icon.btn-round{margin-bottom:0}.btn-icon.btn-round .bi{margin-left:0}.btn-round-big{border-radius:50%;font-size:1.5em;width:50px}.btn-round-big .bi{margin-left:0}.btn-round-big .bi:before{vertical-align:-.12em}.btn-round-side{border-radius:50%;font-size:1.8em;padding:.438rem;width:59px}.btn-round-side .bi{margin-left:0}.btn-round-side .bi:before{vertical-align:-.12em}@media screen and (min-width:1400px){.btn.btn-search{border:1px solid #ced4da;min-width:180px;text-align:left}.btn.btn-search:hover{box-shadow:0 0 0 .1rem #116bac80!important}.btn.btn-search:hover>i,.btn.btn-search:hover>span{color:#116bac}}.link-icon{display:inline-flex;text-decoration:none}.link-icon:hover{text-decoration:underline}.link-icon .bi{display:inline-block;margin-right:.6rem}.link-icon .bi:before{vertical-align:-.15em}.link-icon .bi:last-child{margin-left:.2rem;margin-right:0}.link-icon .bi.bi-bgico{background-color:var(--primary);border-radius:5px;flex-shrink:0;height:1.6rem;text-align:center;width:1.6rem}.link-icon .bi.bi-bgico:before{color:#fff}.btn-lg{font-size:1rem;padding:1.2rem 1rem;text-align:left}.btn-lg .bi{font-size:1.2rem;margin-left:0;margin-right:.7rem}.btn-lg .bi:before{vertical-align:-.2em}.btn-link{color:#116bac;text-decoration:none}.btn-link:hover{color:#116bac;text-decoration:underline}html[lang=ar] .btn-icon.btn-lg .bi,html[lang=fa] .btn-icon.btn-lg .bi,html[lang=sf] .btn-icon.btn-lg .bi{margin-left:.7rem;margin-right:0}html[lang=ar] .btn-icon .bi,html[lang=fa] .btn-icon .bi,html[lang=sf] .btn-icon .bi{transform:scaleX(-1)}html[lang=ar] .btn-icon .bi.bi-question-circle,html[lang=fa] .btn-icon .bi.bi-question-circle,html[lang=sf] .btn-icon .bi.bi-question-circle{transform:none}html[lang=ar] .link-icon .bi,html[lang=fa] .link-icon .bi,html[lang=sf] .link-icon .bi{transform:scaleX(-1)}html[lang=ar] .link-icon .bi.bi-question-circle,html[lang=fa] .link-icon .bi.bi-question-circle,html[lang=sf] .link-icon .bi.bi-question-circle{transform:none}html[lang=ar] .link-icon .bi.bi-chevron-right,html[lang=fa] .link-icon .bi.bi-chevron-right,html[lang=sf] .link-icon .bi.bi-chevron-right{margin-right:.6rem}.fao-header{background-color:var(--surface);box-shadow:0 2px 6px #0000001a;position:relative}.fao-header.subsite-header{padding:15px 0}.fao-header.corporate-header{padding-top:15px}.fao-header.corporate-header .card-mb-0 .card{margin-bottom:0}.fao-header.corporate-header .header-wrapper{padding-bottom:15px}.fao-header.corporate-header .discover-dropdown{visibility:hidden}.fao-header.corporate-header .navbar-corporate{background:#f2f2f2;padding-bottom:0;padding-top:0}.fao-header.corporate-header .navbar-corporate .navbar-nav{position:relative;width:100%}.fao-header.corporate-header .navbar-corporate .navbar-nav li.nav-item{position:static}.fao-header.corporate-header .navbar-corporate .navbar-nav li.nav-item>a{position:relative}.fao-header.corporate-header .navbar-corporate .navbar-nav li.nav-item>a:after{border:0;content:"";font-family:bootstrap-icons;font-size:.6rem;line-height:1;margin-left:.26rem;vertical-align:-.1em}.fao-header.corporate-header .navbar-corporate .navbar-nav li.nav-item.show>a{background-color:#fff}.fao-header.corporate-header .navbar-corporate .navbar-nav li.nav-item.show>a:before{background-color:#fff;content:"";height:6px;left:0;position:absolute;top:100%;width:100%;z-index:2}.fao-header.corporate-header .navbar-corporate .navbar-nav li.nav-item .dropdown-menu{width:100%}.fao-header.corporate-header .navbar-corporate .navbar-nav .nav-link{padding:1.1rem}.fao-header.corporate-header .navbar-corporate .dropdown-menu{border:0;border-radius:5px;box-shadow:0 20px 20px #0000001a;margin-top:2px;padding-bottom:1rem;padding-top:1rem}.fao-header.corporate-header .navbar-corporate .dropdown-menu .row{flex-grow:1}.fao-header.corporate-header .navbar-corporate .navbar-list{background-color:#e5ecf4;border-radius:5px;height:100%;padding:1rem 0}.fao-header.corporate-header .navbar-corporate .navbar-list li a{align-items:center;justify-content:space-between;padding:.25rem 1.25rem;width:100%}.fao-header.corporate-header .navbar-corporate .navbar-list li a:hover{background-color:#fff;text-decoration:none}.fao-header.corporate-header .navbar-corporate .card-horizontal .card-image,.fao-header.corporate-header .navbar-corporate .card-overlay .card-image{height:100%}.fao-header.corporate-header .navbar-corporate .card-horizontal .card-image img,.fao-header.corporate-header .navbar-corporate .card-overlay .card-image img{height:100%;-o-object-fit:cover;object-fit:cover}.fao-header.corporate-header .navbar-corporate .card-body .btn-icon{flex-shrink:0}.fao-header.corporate-header .navbar-corporate .icon-corporate-header-media{color:#fff;font-size:2.5rem;margin-bottom:.25rem}.fao-header.corporate-header .navbar-corporate .dropdown-menu[aria-labelledby=navbarDropdownAbout] .card-overlay,.fao-header.corporate-header .navbar-corporate .dropdown-menu[aria-labelledby=navbarDropdownMainTopics] .col-md-8 .card-overlay{max-height:235px}.fao-header.corporate-header .dropdown-menu .row{height:100%}.fao-header .header-wrapper{display:flex;flex-direction:column;justify-content:space-between}@media (min-width:768px){.fao-header .header-wrapper{flex-direction:row}}.fao-header .fao-header-left{align-items:center;display:flex;justify-content:space-between}.fao-header .fao-header-right{align-items:center;display:flex;flex:1 1 auto;padding-top:1rem}.fao-header .fao-header-right .discover-dropdown{flex:1 1 auto}@media (min-width:768px){.fao-header .fao-header-right .discover-dropdown{margin-left:3rem}.fao-header .fao-header-right{padding-top:0}}.fao-header .header-fao-logo{height:70px;margin-bottom:0;width:100%}.fao-header .dropdown>.btn,.fao-header .dropdown>.btn:hover,.fao-header .dropdown>.btn:not(:disabled):not(.disabled):active,.fao-header .dropdown>.btn:not(:disabled):not(.disabled):active:focus,.fao-header .dropdown>.btn:not(:disabled):not(.disabled):focus{box-shadow:none}.fao-header .dropdown>.btn:after{border:0;content:"";font-family:bootstrap-icons;font-size:.6rem;line-height:1;margin-left:.26rem;vertical-align:-.1em}.fao-header .dropdown>.btn.dropdown-disabled{cursor:default;pointer-events:none}.fao-header .dropdown>.btn.dropdown-disabled:after{display:none}.fao-header .header-icons{display:flex}.fao-header .header-icons a{color:#116bac;text-decoration:none}.fao-header .header-icons a:hover{opacity:.6;text-decoration:none}.fao-header .header-icons .bi{align-items:center;cursor:pointer;display:flex;margin-left:1rem}.header-share{font-size:14px;padding:.5rem 0}.header-share li{margin-right:1rem}.header-share li .bi{margin-right:.4rem}.hero-banner{background-position:50%;background-repeat:no-repeat;background-size:cover;border-radius:5px;display:flex;flex-direction:column;justify-content:flex-end;margin-bottom:2rem;min-height:60vh;overflow:hidden;position:relative}@media (min-width:768px){.hero-banner{min-height:295px;padding:2rem}}@media (min-width:992px){.hero-banner{min-height:398px}}@media (min-width:1200px){.hero-banner{min-height:475px}}.hero-banner:before{background:linear-gradient(180deg,transparent 0,rgba(0,0,0,.01) 1%,#000);content:"";filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#00000000",endColorstr="#000000",GradientType=0);opacity:.8;z-index:1}.hero-banner .hero-banner-video,.hero-banner:before{height:100%;left:0;position:absolute;top:0;width:100%}.hero-banner .hero-banner-video{-o-object-fit:cover;object-fit:cover;z-index:0}.hero-banner .hero-caption{background-color:#1c4767cc;border-radius:5px;color:#fff;padding:1rem;position:relative;z-index:3}.hero-banner .hero-caption *{color:#fff}.hero-banner .hero-caption a:last-child,.hero-banner .hero-caption h6:last-child,.hero-banner .hero-caption p:last-child{margin-bottom:0}.hero-banner .hero-caption p{font-weight:300}.hero-banner .hero-caption p a{text-decoration:underline}.hero-banner .date{color:#fff;opacity:1}.footer{background-color:var(--surface);box-shadow:0 -2px 6px #0000001a;margin-top:4rem;padding:20px 0;position:relative}.footer>.container{padding-bottom:1rem;padding-top:1rem}.footer>.container>.row{padding-bottom:0;padding-top:0}@media (min-width:768px){.footer>.container>.row:first-child{padding-bottom:1rem}}.footer .row{padding:1rem 0}.footer .row .footer-logo{padding-bottom:2rem}.footer .row .footer-logo img{height:60px}@media (min-width:768px){.footer .row .footer-logo{padding-bottom:0}}.footer .social-icons .list-inline-item{margin-bottom:.5rem}.footer .social-icons img{width:1.5rem}.footer .copyright{color:var(--on-surface);font-size:13px;text-decoration:none}.footer .copyright:hover{text-decoration:underline}.footer .footer-links{font-size:14px}.footer .footer-links a{text-decoration:none}.footer .footer-links a:hover{text-decoration:underline}.footer .footer-links .footer-links-top{align-items:center;display:flex;padding-bottom:.5rem}.footer .footer-links .footer-links-top .dropup{margin-left:2rem}.footer .footer-links .footer-links-top .dropup .btn{box-shadow:none;font-size:14px}.footer .footer-links .footer-links-top .dropup .btn:hover,.footer .footer-links .footer-links-top .dropup .btn:not(:disabled):not(.disabled):active,.footer .footer-links .footer-links-top .dropup .btn:not(:disabled):not(.disabled):active:focus,.footer .footer-links .footer-links-top .dropup .btn:not(:disabled):not(.disabled):focus{box-shadow:none}.footer .footer-links .footer-links-top .dropup .btn:after{border:0;content:"";font-family:bootstrap-icons;font-size:.6rem;line-height:1;margin-left:.26rem;vertical-align:-.1em}.footer .footer-links .footer-links-bottom{border-top:2px solid #f2f2f2;padding-top:.5rem}.footer .footer-links .footer-links-bottom li{position:relative}.footer .footer-links .footer-links-bottom li:after{background:#f2f2f2;content:"";height:100%;position:absolute;right:-6px;top:0;width:2px}.footer .footer-links .footer-links-bottom li:last-child:after{content:none}.footer .footer-download{padding-top:1rem}@media (min-width:768px){.footer .footer-download{padding-top:0}}.footer-app .footer-links li{position:relative}.footer-app .footer-links li:after{background:#f2f2f2;content:"";height:100%;position:absolute;right:-6px;top:0;width:2px}.footer-app .footer-links li:last-child:after{content:none}[data-bs-theme=dark] .footer .footer-links .footer-links-bottom{border-top:1px solid #6c757d}[data-bs-theme=dark] .footer .footer-links .footer-links-bottom li:after,[data-bs-theme=dark] .footer.footer-app .footer-links li:after{background:#6c757d;width:1px}.dropdown.dropdown-sort-by>.btn{box-shadow:none}.dropdown.dropdown-sort-by>.btn:after{border:0;content:"";font-family:bootstrap-icons;font-size:.6rem;line-height:1;margin-left:.26rem;vertical-align:-.1em}.dropdown.dropdown-sort-by>.btn:hover,.dropdown.dropdown-sort-by>.btn:not(:disabled):not(.disabled):active,.dropdown.dropdown-sort-by>.btn:not(:disabled):not(.disabled):active:focus,.dropdown.dropdown-sort-by>.btn:not(:disabled):not(.disabled):focus{box-shadow:none}.category-list{font-size:.8rem;font-weight:500}.category-list .category-list-title{color:var(--on-background-secondary);font-weight:700}.card{background-color:var(--surface);border-radius:5px;margin-bottom:2rem;overflow:hidden}.card a{text-decoration:none}.card a:hover{text-decoration:underline}.card.card-h-100{height:calc(100% - 2rem)}.card.card-h-100.card-horizontal .card-image,.card.card-h-100.card-horizontal>.row,.card.card-h-100.card-overlay .card-image{height:100%}.card.card-h-100.card-horizontal .card-image img,.card.card-h-100.card-overlay .card-image img{height:100%;-o-object-fit:cover;object-fit:cover}.card.no-border{background-color:var(--background);border:0}.card[class*=bg-]{border:0}.card.card-hide-title .card-title{display:none}.card .card-image{position:relative}.card .card-image:before{background-color:#f2f2f2}.card .card-image .card-img-overlay{align-items:center;bottom:auto;color:#fff;display:flex;right:auto}.card .card-image .card-img-overlay img{margin-right:.5rem;max-width:50px}.card .card-image .card-img-overlay .card-title{margin-bottom:0}.card .card-title{font-weight:400}.card.card-bg-light{background:#e5ecf4;border:0}.card.card-bg-gray{background:#f2f2f2;border:0}.card.border-0{background-color:var(--background)}.card.border-0 .card-image{border-radius:5px;overflow:hidden}.card.border-0 .card-body{padding-left:0;padding-right:0}.card .card-event-live{align-items:center;color:#fff;display:none;font-size:12px;font-weight:700;margin-bottom:0;padding:1.25rem;pointer-events:none;position:absolute;right:0;text-transform:uppercase;top:0;z-index:2}.card .card-event-live:after{animation:blink .7s infinite alternate;background:red;border-radius:50%;content:"";display:block;height:14px;margin-left:5px;width:14px}.card.event-live .card-event-live{display:flex}.card.event-live.card-horizontal>.row .col-md-6:first-child{position:relative}.card.card-article{border-bottom:4px solid #999}.card-calendar{align-items:center;background:#fff;border:0;border-radius:5px;box-shadow:0 3px 6px #00000029;display:flex;padding:.7rem .5rem}@media (min-width:768px){.card-calendar{align-items:flex-start;flex-direction:column;height:155px}}.card-calendar p{color:#545454;font-weight:400;margin:0}.card-calendar .from-to-divider{background-color:#999;height:2px;margin:0 10px;position:relative;width:20px}.card-calendar .from-to-divider:after{border-color:transparent transparent transparent #999;border-style:solid;border-width:3.5px 0 3.5px 5px;bottom:-2.5px;content:"";height:0;position:absolute;right:-5px;width:0}@media (min-width:768px){.card-calendar .from-to-divider{height:20px;margin:10px 0;width:2px}.card-calendar .from-to-divider:after{border-color:#999 transparent transparent;border-width:5px 3.5px 0;bottom:-5px;left:-2.5px;right:auto}}.card-calendar .date{font-size:28px;font-weight:300;line-height:1;opacity:1}.card-calendar .year{color:#f58320;font-size:12px;font-weight:700;margin-left:10px}@media (min-width:768px){.card-calendar .year{flex-direction:column;margin-left:0}}.card-calendar .row-calendar{align-items:center;display:flex;position:relative}@media (min-width:768px){.card-calendar .row-calendar{align-items:flex-start;flex-direction:column}}.card.card-events{min-height:20rem}.card.card-events .card-placeholder{position:relative}.card.card-events .card-placeholder:before{background:#116bac;content:"";display:block;padding-top:66.6%;width:100%}.card.card-events .card-events--location{bottom:0;color:#fff;height:auto;left:0;margin-left:auto;margin-right:auto;position:absolute;right:0;text-align:center;top:unset}.card.card-events .card-events--location i{font-size:2rem}.card.card-events .card-events--location p{color:#fff;font-size:1rem;font-weight:400}.card.card-events h6.date{font-size:12px;font-weight:600;margin-bottom:0}@media screen and (min-width:1500px){.card.card-events h6.date{font-size:14px}}.card.card-overlay.type-event .card-event-live{align-items:center;color:#fff;display:flex;font-size:12px;font-weight:700;margin-bottom:0;padding:1.25rem;pointer-events:none;position:absolute;right:0;text-transform:uppercase;top:0;visibility:hidden}.card.card-overlay.type-event .card-event-live:after{animation:blink .7s infinite alternate;background:red;border-radius:50%;content:"";display:block;height:14px;margin-left:5px;width:14px}.card.card-overlay.type-event.event-live .card-event-live,.card.card-overlay.type-event.on .card-event-live{visibility:visible}.card.card-horizontal .col-md-6:first-child{align-self:stretch}.card.card-horizontal .card-image{height:100%}.card.card-horizontal .card-image img{height:100%;-o-object-fit:cover;object-fit:cover;-o-object-position:center;object-position:center}.card.card-horizontal.bg-primary-light .card-image:before{content:none}.card.card-horizontal.bg-primary-light .card-image img{bottom:auto;left:auto;position:relative;right:auto;top:auto}.card.card-overlay{border:0}.card.card-overlay .card-image:after{background:#00000073;content:"";height:100%;left:0;position:absolute;top:0;width:100%}.card.card-overlay .card-img-overlay .card-title,.card.card-overlay .card-img-overlay .card-title a,.card.card-overlay .card-img-overlay .date,.card.card-overlay .card-img-overlay .title-category,.card.card-overlay .card-img-overlay p{color:#fff}.card.card-overlay.type-story a:hover{text-decoration:none}.card.card-overlay.type-story .card-title{font-family:Merriweather,serif;font-weight:300}.card.card-overlay.type-story .card-image:after{background:#000000a6;transition:background-color .3s ease-out}.card.card-overlay.type-story:hover .card-image:after{background:#00000059}html[lang=ar] .card.card-overlay.type-story .card-title,html[lang=fa] .card.card-overlay.type-story .card-title,html[lang=sf] .card.card-overlay.type-story .card-title{font-family:Cairo,sans-serif}.card.card-elearning{border-bottom:4px solid #f58320}.card.card-photo-gallery .card-image{border:1px solid #aaa;border-radius:5px;left:1.25rem;margin-bottom:2.5rem;overflow:hidden;top:1.25rem;width:calc(100% - 3.75rem);z-index:2}.card.card-photo-gallery:before{left:2.5rem;top:2.1rem;transform:rotate(3deg)}.card.card-photo-gallery:after,.card.card-photo-gallery:before{background-color:#343a40;border:1px solid #aaa;border-radius:5px;content:"";display:block;padding-top:calc(66.6% - 41px);position:absolute;width:calc(100% - 3.75rem)}.card.card-photo-gallery:after{left:1.9rem;top:1.7rem;transform:rotate(2deg)}.card.card-publication{border-bottom:4px solid #f7f8f9}.card.card-publication .card-image:before{background-color:#f7f8f9}.card.card-publication .card-image .card-pub-image{align-items:center;display:flex;height:calc(100% - 3rem);justify-content:center;left:3.5rem;top:1.5rem;width:calc(100% - 7rem)}.card.card-publication .card-image .card-pub-image img{border-radius:3px;box-shadow:0 4px 4px 1px #0000001f;display:inline-block;max-height:100%;max-width:100%}.card.card-speeches{border-bottom:4px solid #116bac}.card.card-twitter{border-color:transparent}.card.card-twitter .card-header{background-color:#039ff4;border-bottom:0;color:#fff}.card.card-twitter .card-header .bi-twitter{display:block;font-size:23px;height:30px;margin-bottom:5px}.card.card-twitter .card-header .bi-twitter:before{content:"";vertical-align:.1em}.card.card-twitter .card-body{background-color:#5cbcf7;color:#fff}.card.card-twitter .card-body ul{margin-bottom:0}.card.card-twitter .card-body a{color:#fff}.bi-twitter:before{content:""}.card-partners.ratio>*{-o-object-fit:contain;object-fit:contain}.dynamic-list{border:0}.dynamic-list .dynamic-list-row{margin-bottom:2rem;position:relative}.dynamic-list .dynamic-list-row .title-link{margin-bottom:.6rem}.dynamic-list .dynamic-list-img{border-radius:5px;overflow:hidden;position:relative}.dynamic-list .dynamic-list-img:before{background-color:#f2f2f2}.dynamic-list .list-resources{margin-left:0;margin-right:0}.dynamic-list .list-article>.col-12,.dynamic-list .list-elearning>.col-12,.dynamic-list .list-speeches>.col-12{padding-left:2rem}.dynamic-list .list-article:before,.dynamic-list .list-elearning:before,.dynamic-list .list-speeches:before{border-radius:20px;content:"";height:100%;left:0;position:absolute;top:0;width:12px}.dynamic-list .list-article:before{background-color:#c9c9c9}.dynamic-list .list-speeches:before{background-color:#116bac}.dynamic-list .list-elearning:before{background-color:#f58320}.dynamic-list .list-audio.row,.dynamic-list .list-photog.row,.dynamic-list .list-video.row{padding:1rem 0}.dynamic-list .list-audio .btn-link,.dynamic-list .list-photog .btn-link,.dynamic-list .list-video .btn-link{font-size:12px;font-weight:700;opacity:1}.dynamic-list .list-image{border-radius:5px;overflow:hidden}.dynamic-list .dynamic-list-row .list-iframe-audio{height:120px}.dynamic-list .dynamic-list-row.list-audio .list-image{position:relative}.dynamic-list .dynamic-list-row.list-audio .list-image:before{background-color:#00000073;position:relative;z-index:1}.dynamic-list .dynamic-list-row.list-audio .list-image:after{content:"";display:inline-block;font-family:bootstrap-icons!important;font-style:normal;font-variant:normal;font-weight:400!important;line-height:1;text-transform:none;vertical-align:text-bottom;-webkit-font-smoothing:antialiased;font-size:2rem;left:50%;position:absolute;top:50%;transform:translate(-50%,-50%);z-index:2}.dynamic-list .dynamic-list-row.list-blog .date{color:#999;opacity:1}.list-elearning-links .btn-link{color:#116bac}.list-elearning-links .btn-link:first-child{padding-left:0}.list-photo-gallery .col-md-3{position:relative}.list-photo-gallery .col-md-3 .list-image{border:1px solid #aaa;border-radius:5px;left:0;margin-bottom:2.5rem;overflow:hidden;position:relative;top:0;width:calc(100% - 30px);z-index:2}@media (min-width:768px){.list-photo-gallery .col-md-3 .list-image{width:100%}}.list-photo-gallery .col-md-3 .list-image:before{background-color:#343a40}.list-photo-gallery .col-md-3 .list-image>img{bottom:0;height:100%;left:0;-o-object-fit:cover;object-fit:cover;position:absolute;right:0;top:0;width:100%}.list-photo-gallery .col-md-3:before{background-color:#343a40;border:1px solid #aaa;border-radius:5px;content:"";display:block;left:35px;padding-top:calc(66.6% - 45px);position:absolute;top:15px;transform:rotate(3deg);width:calc(100% - 60px)}@media (min-width:768px){.list-photo-gallery .col-md-3:before{left:25px;padding-top:calc(66.6% - 30px);top:15px;width:calc(100% - 30px)}}.list-photo-gallery .col-md-3:after{background-color:#343a40;border:1px solid #aaa;border-radius:5px;content:"";display:block;left:25px;padding-top:calc(66.6% - 45px);position:absolute;top:10px;transform:rotate(2deg);width:calc(100% - 60px)}@media (min-width:768px){.list-photo-gallery .col-md-3:after{left:21px;padding-top:calc(66.6% - 28px);top:10px;width:calc(100% - 30px)}}.dynamic-list-publication{border-radius:5px;padding:0 1rem}.dynamic-list-publication .dynamic-list-row{background-color:#f7f8f9;margin-bottom:0;padding:1rem 1.5rem 1rem .5rem!important}.dynamic-list-publication p:last-child{margin-bottom:0}.dynamic-list-publication .dynamic-list-img{overflow:visible;position:relative;text-align:center}.dynamic-list-publication .dynamic-list-img:before{content:none}.dynamic-list-publication .dynamic-list-img>img{border-radius:3px;box-shadow:0 4px 4px 1px #0000001f;max-width:250px;position:relative;width:100%}html[lang=ar] .dynamic-list-publication .dynamic-list-row,html[lang=fa] .dynamic-list-publication .dynamic-list-row,html[lang=sf] .dynamic-list-publication .dynamic-list-row{padding:1rem .5rem 1rem 1.5rem!important}.dynamic-list .dynamic-list-row.list-video .list-image{position:relative}.dynamic-list .dynamic-list-row.list-video .list-image:before{background-color:#00000073;position:relative;z-index:1}.dynamic-list .dynamic-list-row.list-video .list-image:after{content:"";display:inline-block;font-family:bootstrap-icons!important;font-style:normal;font-variant:normal;font-weight:400!important;line-height:1;text-transform:none;vertical-align:text-bottom;-webkit-font-smoothing:antialiased;font-size:2rem;left:50%;position:absolute;top:50%;transform:translate(-50%,-50%);z-index:2}.list-partners .ratio>*{-o-object-fit:contain;object-fit:contain}.d-list{align-items:flex-start;container-type:inline-size;display:flex;flex-wrap:wrap;margin-bottom:1.75rem;position:relative}.d-list .d-list-visual{overflow:hidden;width:auto}@container (min-width: 350px){.d-list .d-list-visual{width:100%}.d-list .d-list-visual.ratio{overflow:hidden}@media (min-width:768px){.d-list .d-list-visual{width:25%}}}@container (min-width: 500px){.d-list .d-list-visual{width:25%}}@container (min-width: 700px){.d-list .d-list-visual{width:16.66666667%}}.d-list .d-list-visual.ratio:before{background-color:#f2f2f2;border-radius:5px}.d-list .d-list-visual img{border-radius:5px}.d-list .d-list-content{padding-left:1rem;width:85%}.d-list .d-list-content p{display:none;margin-bottom:.5rem}.d-list .d-list-content .tags-list{display:none}.d-list .d-list-content h5.title-link{margin-bottom:.6rem}.d-list .d-list-content h6.title-category{margin-bottom:.4rem}@container (min-width: 350px){.d-list .d-list-content{padding-left:0;padding-top:.75rem;width:100%}.d-list .d-list-content .tags-list,.d-list .d-list-content p{display:block}@media (min-width:768px){.d-list .d-list-content{padding-left:1rem;padding-top:0;width:75%}}}@container (min-width: 500px){.d-list .d-list-content{padding-left:1.5rem;padding-top:0;width:75%}.d-list .d-list-content p{display:block}}@container (min-width: 700px){.d-list .d-list-content{width:83.33333333%}}.d-list.d-list-column{flex-direction:column;padding:1rem}.d-list.d-list-column .d-list-visual{width:100%}.d-list.d-list-column .d-list-content{padding-left:0;width:100%}.d-list.d-list-article:before,.d-list.d-list-elearning:before,.d-list.d-list-speeches:before{background-color:#c9c9c9;border-radius:20px;content:"";height:100%;left:0;position:absolute;top:0;width:7px}@container (min-width: 350px){.d-list.d-list-article:before,.d-list.d-list-elearning:before,.d-list.d-list-speeches:before{width:12px}}.d-list.d-list-article .d-list-content,.d-list.d-list-elearning .d-list-content,.d-list.d-list-speeches .d-list-content{padding-left:1rem;width:100%}@container (min-width: 350px){.d-list.d-list-article .d-list-content,.d-list.d-list-elearning .d-list-content,.d-list.d-list-speeches .d-list-content{padding-left:2rem}}.d-list.d-list-audio .btn-link.btn-icon,.d-list.d-list-video .btn-link.btn-icon{font-size:12px;font-weight:700;opacity:1}.d-list.d-list-article:before{background-color:#c9c9c9}.d-list.d-list-audio{background-color:#545454;border-radius:5px;color:#fff;padding:1rem}.d-list.d-list-audio a{color:#fff}.d-list.d-list-audio p{color:#ccc}.d-list.d-list-audio .d-list-visual:after{content:"";display:inline-block;font-family:bootstrap-icons!important;font-style:normal;font-variant:normal;font-weight:400!important;line-height:1;text-transform:none;vertical-align:text-bottom;-webkit-font-smoothing:antialiased;pointer-events:none}.d-list.d-list-audio .d-list-visual iframe{display:none}@container (min-width: 350px){.d-list.d-list-audio .d-list-visual iframe{display:inline}.d-list.d-list-audio.d-list-player{flex-direction:column;padding:1rem}.d-list.d-list-audio.d-list-player .d-list-visual{width:100%}.d-list.d-list-audio.d-list-player .d-list-visual:after{content:""}.d-list.d-list-audio.d-list-player .d-list-content{padding-left:0;width:100%}}.d-list.d-list-audio:not(.d-list-player) .d-list-visual{position:relative}.d-list.d-list-audio:not(.d-list-player) .d-list-visual:before{content:none;pointer-events:none}@container (min-width: 350px){.d-list.d-list-audio:not(.d-list-player) .d-list-visual:before{background-color:#00000073;content:"";position:relative;z-index:1}.d-list.d-list-audio:not(.d-list-player) .d-list-visual:after{font-size:2rem;left:50%;position:absolute;top:50%;transform:translate(-50%,-50%);z-index:2}}.d-list.d-list-audio:not(.d-list-player) .d-list-visual img{display:none}@container (min-width: 350px){.d-list.d-list-audio:not(.d-list-player) .d-list-visual img{display:block}}.d-list.d-list-blog .d-list-visual:before{content:none}@container (min-width: 350px){.d-list.d-list-blog .d-list-visual:before{content:""}}.d-list.d-list-blog .d-list-visual img{display:none}@container (min-width: 350px){.d-list.d-list-blog .d-list-visual img{display:block}}.d-list.d-list-blog .d-list-visual:after{content:"";display:inline-block;font-family:bootstrap-icons!important;font-style:normal;font-variant:normal;font-weight:400!important;line-height:1;text-transform:none;vertical-align:text-bottom;-webkit-font-smoothing:antialiased;color:var(--primary)}@container (min-width: 350px){.d-list.d-list-blog .d-list-visual:after{content:none}}.d-list.d-list-elearning:before{background-color:#f58320}.d-list.d-list-event .d-list-visual{overflow:visible}.d-list.d-list-event .d-list-visual:before{content:"";display:inline-block;font-family:bootstrap-icons!important;font-style:normal;font-variant:normal;font-weight:400!important;line-height:1;text-transform:none;vertical-align:text-bottom;-webkit-font-smoothing:antialiased;color:var(--primary)}@container (min-width: 350px){.d-list.d-list-event .d-list-visual:before{content:none}}.d-list.d-list-event .card-calendar{align-items:center;background:#fff;border:0;border-radius:5px;box-shadow:0 3px 6px #00000029;display:none;padding:.7rem .5rem;position:relative}@container (min-width: 350px){.d-list.d-list-event .card-calendar{display:flex}}@container (min-width: 500px){.d-list.d-list-event .card-calendar{align-items:flex-start;flex-direction:column;height:155px}}@media (min-width:992px){.d-list.d-list-event .card-calendar{align-items:flex-start;flex-direction:column;height:155px}}.d-list.d-list-event .card-calendar p{color:#545454;font-weight:400;margin:0}.d-list.d-list-event .card-calendar .from-to-divider{background-color:#999;height:2px;margin:0 10px;position:relative;width:20px}.d-list.d-list-event .card-calendar .from-to-divider:after{border-color:#999 transparent transparent;border-style:solid;border-width:5px 3.5px 0;bottom:-1.5px;content:"";height:0;left:auto;position:absolute;right:-4px;transform:rotate(-90deg);width:0}@container (min-width: 500px){.d-list.d-list-event .card-calendar .from-to-divider{height:20px;margin:10px 0;width:2px}.d-list.d-list-event .card-calendar .from-to-divider:after{bottom:-5px;left:-2.5px;right:auto;transform:rotate(0)}}@media (min-width:992px){.d-list.d-list-event .card-calendar .from-to-divider{height:20px;margin:10px 0;width:2px}.d-list.d-list-event .card-calendar .from-to-divider:after{bottom:-5px;left:-2.5px;right:auto;transform:rotate(0)}}.d-list.d-list-event .card-calendar .row-calendar{align-items:center;display:flex;position:relative}@container (min-width: 500px){.d-list.d-list-event .card-calendar .row-calendar{align-items:flex-start;flex-direction:column}}@media (min-width:992px){.d-list.d-list-event .card-calendar .row-calendar{align-items:flex-start}}.d-list.d-list-event .card-calendar .date{font-size:28px;font-weight:300;line-height:1;opacity:1}.d-list.d-list-event .card-calendar .year{color:#f58320;flex-direction:column;font-size:12px;font-weight:700;margin-left:10px}@container (min-width: 500px){.d-list.d-list-event .card-calendar .year{margin-left:0}}@media (min-width:992px){.d-list.d-list-event .card-calendar .year{margin-left:0}}.d-list.d-list-news .d-list-visual:before{content:none}@container (min-width: 350px){.d-list.d-list-news .d-list-visual:before{content:""}}.d-list.d-list-news .d-list-visual img{display:none}@container (min-width: 350px){.d-list.d-list-news .d-list-visual img{display:block}}.d-list.d-list-news .d-list-visual:after{content:"";display:inline-block;font-family:bootstrap-icons!important;font-style:normal;font-variant:normal;font-weight:400!important;line-height:1;text-transform:none;vertical-align:text-bottom;-webkit-font-smoothing:antialiased;color:var(--primary)}@container (min-width: 350px){.d-list.d-list-news .d-list-visual:after{content:none}}.d-list.d-list-partners .ratio>*{-o-object-fit:contain;object-fit:contain}.d-list.d-list-partners .d-list-visual:before{content:none}@container (min-width: 350px){.d-list.d-list-partners .d-list-visual:before{content:""}}.d-list.d-list-partners .d-list-visual img{display:none}@container (min-width: 350px){.d-list.d-list-partners .d-list-visual img{display:block}}.d-list.d-list-partners .d-list-visual:after{content:"";display:inline-block;font-family:bootstrap-icons!important;font-style:normal;font-variant:normal;font-weight:400!important;line-height:1;text-transform:none;vertical-align:text-bottom;-webkit-font-smoothing:antialiased;color:var(--primary)}@container (min-width: 350px){.d-list.d-list-partners .d-list-visual:after{content:none}}.d-list.d-list-photogallery{background-color:#545454;border-radius:5px;color:#fff;padding:1rem}.d-list.d-list-photogallery a{color:#fff}.d-list.d-list-photogallery p{color:#ccc}.d-list.d-list-photogallery .d-list-visual{overflow:unset;position:relative}.d-list.d-list-photogallery .d-list-visual.ratio img{border:1px solid #aaa;margin-bottom:1rem;position:relative!important;z-index:1}.d-list.d-list-photogallery .d-list-visual:before{background-color:transparent;padding-top:0}@container (min-width: 350px){.d-list.d-list-photogallery .d-list-visual:before{background-color:#343a40;border:1px solid #aaa;border-radius:5px;content:"";display:block;left:25px;padding-top:calc(66.6% - 10px);position:absolute;top:15px;transform:rotate(3deg);width:calc(100% - 14px);z-index:0}}.d-list.d-list-photogallery .d-list-visual:after{content:"";display:inline-block;font-family:bootstrap-icons!important;font-style:normal;font-variant:normal;font-weight:400!important;line-height:1;text-transform:none;vertical-align:text-bottom;-webkit-font-smoothing:antialiased}@container (min-width: 350px){.d-list.d-list-photogallery .d-list-visual:after{background-color:#343a40;border:1px solid #aaa;border-radius:5px;content:"";display:block;left:20px;padding-top:calc(66.6% - 10px);position:absolute;top:10px;transform:rotate(2deg);width:calc(100% - 15px);z-index:0}}.d-list.d-list-photogallery .d-list-visual img{display:none}@container (min-width: 350px){.d-list.d-list-photogallery .d-list-visual img{display:block}}.d-list.d-list-project .d-list-content{padding-left:0;width:100%}.d-list.d-list-publication{background-color:#f7f8f9;border-radius:.375rem;padding:1rem}@container (min-width: 350px){.d-list.d-list-publication{padding:1rem 1.5rem}}.d-list.d-list-publication .d-list-visual{overflow:visible;position:relative}.d-list.d-list-publication .d-list-visual:before{content:none}.d-list.d-list-publication .d-list-visual>img{display:none}@container (min-width: 350px){.d-list.d-list-publication .d-list-visual>img{border-radius:3px;box-shadow:0 4px 4px 1px #0000001f;display:block;max-width:250px;position:relative;width:100%}}.d-list.d-list-publication .d-list-visual:after{content:"";display:inline-block;font-family:bootstrap-icons!important;font-style:normal;font-variant:normal;font-weight:400!important;line-height:1;text-transform:none;vertical-align:text-bottom;-webkit-font-smoothing:antialiased;color:var(--primary)}@container (min-width: 350px){.d-list.d-list-publication .d-list-visual:after{content:none}.d-list.d-list-publication .d-list-visual{text-align:center;width:16.66666667%}}@container (min-width: 700px){.d-list.d-list-publication .d-list-visual{width:16.66666667%}}.d-list.d-list-publication .d-list-content{padding-left:1rem;padding-top:0}@container (min-width: 350px){.d-list.d-list-publication .d-list-content{width:83.33333333%}}@container (min-width: 700px){.d-list.d-list-publication .d-list-content{width:83.33333333%}}[data-bs-theme=dark] .d-list.d-list-publication{background-color:var(--surface)}.d-list.d-list-speeches:before{background-color:#116bac}.d-list.d-list-story .d-list-visual:before{content:none}@container (min-width: 350px){.d-list.d-list-story .d-list-visual:before{content:""}}.d-list.d-list-story .d-list-visual img{display:none}@container (min-width: 350px){.d-list.d-list-story .d-list-visual img{display:block}}.d-list.d-list-story .d-list-visual:after{content:"";display:inline-block;font-family:bootstrap-icons!important;font-style:normal;font-variant:normal;font-weight:400!important;line-height:1;text-transform:none;vertical-align:text-bottom;-webkit-font-smoothing:antialiased;color:var(--primary)}@container (min-width: 350px){.d-list.d-list-story .d-list-visual:after{content:none}}.d-list.d-list-video{background-color:#545454;border-radius:5px;color:#fff;padding:1rem}.d-list.d-list-video a{color:#fff}.d-list.d-list-video p{color:#ccc}.d-list.d-list-video .d-list-visual{border-radius:5px;overflow:hidden}.d-list.d-list-video .d-list-visual:after{content:"";display:inline-block;font-family:bootstrap-icons!important;font-style:normal;font-variant:normal;font-weight:400!important;line-height:1;pointer-events:none;text-transform:none;vertical-align:text-bottom;-webkit-font-smoothing:antialiased}@container (min-width: 350px){.d-list.d-list-video .d-list-visual:after{display:none}}.d-list.d-list-video .d-list-visual:before{content:none;pointer-events:none}@container (min-width: 350px){.d-list.d-list-video .d-list-visual:before{background-color:#00000073;content:"";position:relative;z-index:1}}.d-list.d-list-video .d-list-visual iframe{display:none}@container (min-width: 350px){.d-list.d-list-video .d-list-visual iframe{display:block}}.d-list.d-list-video:not(.d-list-player) .d-list-visual{position:relative}@container (min-width: 350px){.d-list.d-list-video:not(.d-list-player) .d-list-visual:after{display:inline-block;font-size:2rem;left:50%;position:absolute;top:50%;transform:translate(-50%,-50%);z-index:2}}.d-list.d-list-video:not(.d-list-player) .d-list-visual img{display:none}@container (min-width: 350px){.d-list.d-list-video:not(.d-list-player) .d-list-visual img{display:block}}.swiper{margin-bottom:2rem}.swiper .swiper-button-next,.swiper .swiper-button-prev{background:#fff;border-color:#fff;border-radius:50%;height:38px;width:38px}.swiper .swiper-button-next:after,.swiper .swiper-button-prev:after{color:#116bac;font-size:14px}.swiper .swiper-slide{height:auto}.swiper .swiper-slide .card{height:100%;margin-bottom:0}.swiper .swiper-pagination-bullet-active{background:#116bac}.swiper.swiper-hero .swiper-pagination .swiper-pagination-bullet-active{background:#fff}.swiper-container-rtl .swiper-button{width:auto}.swiper-container-rtl .swiper-button:after{content:none}.swiper-container-rtl .bi-chevron-right:before{content:""}.swiper-container-rtl .bi-chevron-left:before{content:""}.swiper-container .hero-banner{margin-bottom:0}.swiper-button{width:auto}.swiper-button:after{content:none}.swiper-auto-cards-container .swiper-slide{width:100%}@media (min-width:576px){.swiper-auto-cards-container .swiper-slide{max-width:320px}}.swiper-gallery .swiper-slide img{border-radius:5px;overflow:hidden;width:100%}.ratio .swiper-container{height:100%;position:absolute;top:0;width:100%}.modal .modal-header{align-items:center;justify-content:space-between}.modal-share .social-icons{margin-bottom:0}.modal-share .list-inline-item{margin-bottom:.6rem}.modal-share .list-inline-item img{width:40px}.accordion{--bs-accordion-bg:var(--accordion-bg);--bs-accordion-btn-bg:var(--accordion-btn-bg);--bs-accordion-active-bg:var(--accordion-active-bg);--bs-accordion-active-color:var(--accordion-active-color);--bs-accordion-btn-padding-x:1.25rem;--bs-accordion-btn-padding-y:.5rem;--bs-accordion-btn-focus-box-shadow:none}.accordion .accordion-button:after{--bs-accordion-btn-icon:var(--accordion-btn-icon);--bs-accordion-btn-active-icon:var(--accordion-btn-active-icon)}.dynamic-search{margin-bottom:2rem}.dynamic-search .input-main-search{margin-bottom:1rem}.dynamic-search .input-main-search .btn{border-bottom-left-radius:0;border-top-left-radius:0}.dynamic-search .input-main-search .btn .bi{margin-left:0}.dynamic-search .dynamic-search-header{margin-bottom:1rem}.dynamic-search .btn-adv-search{box-shadow:none;padding:0}.dynamic-search .btn-adv-search .bi-chevron-down:before{content:""}.dynamic-search .btn-adv-search.collapsed .bi-chevron-down:before{content:""}.dynamic-search .btn-adv-search:hover,.dynamic-search .btn-adv-search:not(:disabled):not(.disabled):active,.dynamic-search .btn-adv-search:not(:disabled):not(.disabled):active:focus,.dynamic-search .btn-adv-search:not(:disabled):not(.disabled):focus{box-shadow:none}html[lang=ar] .dynamic-search .input-main-search input,html[lang=fa] .dynamic-search .input-main-search input,html[lang=sf] .dynamic-search .input-main-search input{border-bottom-left-radius:0;border-bottom-right-radius:.375rem!important;border-top-left-radius:0;border-top-right-radius:.375rem!important}html[lang=ar] .dynamic-search .input-main-search .btn,html[lang=fa] .dynamic-search .input-main-search .btn,html[lang=sf] .dynamic-search .input-main-search .btn{border-bottom-left-radius:.375rem;border-bottom-right-radius:0;border-top-left-radius:.375rem;border-top-right-radius:0}.tabbed-content{margin-bottom:2rem}.tabbed-content .nav-link{color:var(--primary)}.tabbed-content .tab-pane,.tabbed-content .tab-pane li,.tabbed-content .tab-pane p{color:var(--on-background)}.fao-header .search-container{margin-top:1rem}.fao-header .search-container table.gsc-search-box{padding-bottom:0}.fao-header .search-container .gsc-input{padding-right:0}.fao-header .search-container .gsc-input-box{border-radius:5px 0 0 5px}.fao-header .search-container .gsc-input-box .gsc-input{color:#545454}.fao-header .search-container .gsc-search-button button{background:#116bac;border:0;border-radius:0 5px 5px 0;height:100%;height:35px;margin:0;padding:0;width:42px}.fao-header .search-container .gsc-search-button button svg{display:none}.fao-header .search-container .gsc-search-button button:before{color:#fff;content:"";display:inline-block;font-family:bootstrap-icons!important;font-size:1rem;font-style:normal;font-variant:normal;font-weight:400!important;line-height:1;text-transform:none;vertical-align:-.1em}.search-container div.gsc-input-box{border-radius:5px 0 0 5px}.search-container button.gsc-search-button{background-color:#116aab;border:none;border-radius:0 5px 5px 0;color:#fff;height:35px;margin-left:0;width:42px}.search-container .gsc-search-button-v2{padding:6px}.search-container .gsc-search-button-v2:hover{background-color:#0b5890}.search-container button.gsc-search-button svg{display:none}.search-container table.gsc-search-box td.gsc-input{padding-right:0}.search-container button.gsc-search-button:before{color:#fff;content:"";display:inline-block;font-family:bootstrap-icons!important;font-size:1rem;font-style:normal;font-variant:normal;font-weight:400!important;line-height:1;text-transform:none;vertical-align:-.1em}.pagination{--bs-pagination-bg:var(--background);--bs-pagination-border-color:var(--border);--bs-pagination-color:var(--link);--bs-pagination-active-bg:var(--link);--bs-pagination-active-color:#fff;--bs-pagination-active-border-color:var(--link)}.list-partner{align-items:center;display:flex;flex-direction:column}@media (min-width:576px){.list-partner{flex-direction:row;flex-wrap:wrap}}.list-partner img{height:65px;margin:1rem;max-width:250px}@media (min-width:576px){.list-partner img{margin:1rem 1rem 1rem 0;width:auto}}.google__map{background-color:#f2f2f2;content:"";display:block;width:100%}.google__map--ratio-0{padding-top:42.85714%}.google__map--ratio-1{padding-top:66.66667%}.google__map--ratio-2{padding-top:100%}.map__popup{font-family:Open Sans;max-width:350px}.map__popup:not(:first-child){border-top:1px solid #efefef;margin-top:.75rem;padding-top:.5rem}.map__popup .map__popup--title{font-size:1.15rem}.map__popup--country{align-items:flex-end;display:flex;font-size:.85rem;margin-bottom:.5rem;text-transform:uppercase}.map__popup--country .map__popup--location{display:block;font-size:.8rem;text-transform:none}.map__popup--country img.map__popup--flag{max-width:32px}.map__popup--date{font-size:.75rem;opacity:.6}.content-icons{display:flex;flex-wrap:wrap-reverse;margin:2rem 0 0}.content-icons .content-icons-right{line-height:1;margin-bottom:1rem;margin-left:auto}@media (min-width:768px){.content-icons .content-icons-right{margin-bottom:1rem}}.content-icons .content-icons-right a{color:#116bac;line-height:1;text-decoration:none}.content-icons .content-icons-right a:hover{opacity:.6;text-decoration:none}.content-icons .content-icons-right .bi{align-items:center;cursor:pointer;display:flex;margin-left:1rem}.content-icons .content-icons-right span{font-size:.875rem;margin-left:.5rem}.tags-list .badge,.tags-list .class-list__title{margin-right:.5rem}.tags-list .badge{--bs-badge-font-weight:500;font-size:.8rem;line-height:1.3;margin-bottom:.5rem;padding:.3rem .4rem;text-align:left;text-decoration:none;text-transform:none;white-space:normal}.tags-list .badge:hover{background-color:#495057!important;color:#fff;text-decoration:none}html[lang=ar] .tags-list .badge,html[lang=fa] .tags-list .badge,html[lang=sf] .tags-list .badge{text-align:right}.project-list-item .table td,.project-list-item .table th{border-bottom:0}.project-list-item .table tr{display:flex;flex-direction:column;width:100%}.project-list-item .table tr:last-child td{border-bottom:1px solid #dee2e6}@media (min-width:768px){.project-list-item .table tr{display:table-row}.project-list-item .table tr th{width:20%}.project-list-item .table tr td{width:80%}}.project-list-item a,.project-list-item-minimal a{text-decoration:none}.project-list-item a:hover,.project-list-item-minimal a:hover{text-decoration:underline}[data-bs-theme=dark] .project-list-item .table th.bg-gray-light,[data-bs-theme=dark] .project-list-item-minimal .table th.bg-gray-light{background-color:var(--surface)!important}.app-sidebar{background-color:var(--surface);flex-shrink:0;width:300px}.app-sidebar .app-sidebar-route-title i{color:var(--primary)}.app-sidebar .app-sidebar-item .accordion{margin-bottom:.5rem}.app-sidebar .app-sidebar-item .accordion .accordion-button{color:#000000a6;display:block;overflow:hidden;padding:.2rem 2rem .2rem .5rem;text-overflow:ellipsis}.app-sidebar .app-sidebar-item .accordion .accordion-button:not(.collapsed){font-weight:600}.app-sidebar .app-sidebar-item .accordion .accordion-header button:after{right:.5rem}.app-sidebar .app-sidebar-item .accordion .accordion-body{padding:.2rem .5rem}.app-sidebar .btn.btn-app-collapse{--bs-btn-padding-x:0;--bs-btn-padding-y:0;align-items:center;display:flex;height:30px;justify-content:center;width:50px}.app-sidebar .app-sidebar-item{line-height:1rem;padding:.3rem 0}.app-sidebar .app-sidebar-item:first-child{padding-top:0}.app-sidebar .app-sidebar-item .app-sidebar-link{color:var(--on-surface);display:inline-block;display:block;font-size:.8rem;font-weight:400;margin-left:1rem;overflow:hidden;padding:.2rem .5rem;text-decoration:none;text-overflow:ellipsis}.app-sidebar .app-sidebar-item .app-sidebar-link.active{background-color:var(--primary);color:var(--on-primary);font-weight:600}.app-sidebar .app-sidebar-item.disabled{padding-top:1rem}.app-sidebar .app-sidebar-item.disabled:first-child{padding-top:0}.app-sidebar .app-sidebar-item.disabled .app-sidebar-link{font-size:.95rem;font-weight:700;pointer-events:none}.app-sidebar .accordion{--bs-accordion-bg:transparent;--bs-accordion-btn-bg:transparent;--bs-accordion-active-bg:transparent;--bs-accordion-border-width:0;--bs-accordion-btn-padding-x:1rem;--bs-accordion-btn-color:rgba(0,0,0,.65);--bs-accordion-active-color:#000}.app-sidebar .accordion .accordion-button,.app-sidebar .accordion .accordion-button:after{font-size:.8rem}@media (min-width:992px){.app-sidebar{height:calc(100vh - 56px);margin-left:-.25rem;overflow-y:auto;padding-left:.25rem;position:sticky;top:56px}}@media (max-width:991.99px){.app-sidebar.collapse{display:block}}@media (min-width:992px){.app-sidebar{animation:none!important;transition:none!important}.app-sidebar.collapse:not(.show){display:block;width:50px}.app-sidebar.collapse:not(.show).collapsing{display:block}.app-sidebar.collapse:not(.show).collapsing .offcanvas-body{display:none}.app-sidebar.collapse:not(.show) .bi-list{display:block}.app-sidebar.collapse.show .bi-list,.app-sidebar.collapse:not(.show) .bi-x,.app-sidebar.collapse:not(.show) .offcanvas-body{display:none}.app-sidebar.collapse.show .bi-x{display:block}}.navbar.navbar--website,.navbar.navbar--website .navbar--website__nav{width:100%}.navbar.navbar--website .navbar--website__nav li{line-height:1rem;padding:.3rem 0}.navbar.navbar--website .navbar--website__nav li:first-child{padding-top:0}.navbar.navbar--website .navbar--website__nav li a{color:#000000a6;display:inline-block;display:block;font-size:.8rem;font-weight:400;overflow:hidden;padding:.2rem .5rem;text-decoration:none;text-overflow:ellipsis}.navbar.navbar--website .navbar--website__nav li a.active{background-color:#116bac1a;color:#000000d9;font-weight:600}.app-navbar{background-color:var(--surface);border-bottom:1px solid #ebecf0}.app-navbar .nav-link,.app-navbar .navbar-toggler{color:var(--on-surface)}.app-navbar .nav-link{font-size:.9rem;font-weight:400}.app-navbar .nav-link.active{color:var(--on-surface);font-weight:600}.app-navbar .navbar-brand{left:50%;position:absolute;transform:translate(-50%)}@media (min-width:992px){.app-navbar .navbar-brand{left:0;position:static;transform:none}}[data-bs-theme=dark] .app-navbar{border-bottom:0}[data-bs-theme=dark] .app-navbar .btn-link.text-color-gray-dark,[data-bs-theme=dark] .app-navbar .btn-search.text-color-gray-dark{color:var(--on-surface)!important}[data-bs-theme=dark] .app-navbar .dropdown-toggle.bg-gray-light{background-color:var(--surface)!important}body .leaflet-control-attribution svg{display:none!important}.ds-map{overflow:hidden;position:relative}.ds-map .ds-map-tooltip{background-color:#fff;display:flex;flex-direction:column;height:100%;left:-100%;position:absolute;top:0;transition:left .5s;width:100%;z-index:9999}@media (min-width:992px){.ds-map .ds-map-tooltip{box-shadow:0 3px 6px #00000029;width:50%}}.ds-map .ds-map-tooltip.active{left:0}.ds-map .ds-map-tooltip-header{align-items:center;border-bottom:1px solid #dee2e6;display:flex;flex-shrink:0;justify-content:space-between;padding:1rem}.ds-map .ds-map-tooltip-header h5{margin:0}.ds-map .ds-map-tooltip-content{flex-grow:1;overflow-y:auto;padding:1rem}.tl-timeline{height:600px;width:100%}.tl-timeline .tl-caption,.tl-timeline .tl-credit,.tl-timeline .tl-headline,.tl-timeline .tl-headline-date,.tl-timeline .tl-slidenav-description,.tl-timeline .tl-slidenav-title,.tl-timeline .tl-timeaxis-tick,.tl-timeline .tl-timenav-slider,.tl-timeline p{font-family:Open Sans,sans-serif!important}.tl-timeline .tl-text-headline-container .tl-headline-date,.tl-timeline .tl-text-headline-container h3.tl-headline-date{color:#999!important;font-family:Open Sans,sans-serif!important;font-size:.75rem!important;font-weight:700!important;text-transform:uppercase!important}.tl-timeline .tl-headline{font-size:1.5rem;font-weight:300!important;text-transform:none}.tl-timeline .tl-timeaxis-tick{font-size:.6rem!important}.tl-timeline .tl-icon-image{display:none!important}.tl-timeline .tl-attribution{display:none}.tl-timeline .tl-slidenav-next .tl-slidenav-icon:before,.tl-timeline .tl-slidenav-previous .tl-slidenav-icon:before,.tl-timeline [class*=" tl-icon-"]:after,.tl-timeline [class^=tl-icon-]:after{display:inline-block;font-family:bootstrap-icons!important;font-style:normal;font-variant:normal;font-weight:400!important;line-height:1;text-transform:none;vertical-align:-.125em;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.tl-timeline .tl-slidenav-previous .tl-slidenav-icon:before{content:""}.tl-timeline .tl-slidenav-next .tl-slidenav-icon:before{content:""}.tl-timeline .tl-icon-zoom-in:after{content:""}.tl-timeline .tl-icon-zoom-out:after{content:""}.tl-timeline .tl-icon-goend:after{content:""}.tl-timeline .tl-icon-goback:after{content:""}.breadcrumb{--bs-breadcrumb-padding-y:0;--bs-breadcrumb-margin-bottom:1rem;--bs-breadcrumb-item-active-color:var(--on-background-secondary);flex-wrap:nowrap;font-size:.875rem}.breadcrumb .breadcrumb-item+.breadcrumb-item:before{content:"";font-family:bootstrap-icons;font-size:.6rem;position:relative;top:5px}.breadcrumb .breadcrumb-item{line-height:1;max-width:150px}.breadcrumb .breadcrumb-item,.breadcrumb .breadcrumb-item a{display:inline-block;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.breadcrumb .breadcrumb-item a{line-height:1.2;max-width:100px;text-decoration:none}.breadcrumb .breadcrumb-item a:hover{text-decoration:underline}.breadcrumb .breadcrumb-item.active{position:relative;top:1px}.breadcrumb .breadcrumb-item.active:before{top:4px}.app-main{width:100%}@media (min-width:992px){.app-layout{display:flex}.app-no-sidebar .app-layout{padding:0!important}.app-no-sidebar .app-sidebar{display:none!important}.app-no-sidebar .app-main{width:100%}}.news-detail{font-weight:700}.event-detail__date .bi{margin-right:.25rem;position:relative;top:-3px}.detail-publication .detail-title{font-size:calc(1.325rem + .9vw);margin-bottom:.4rem}@media (min-width:1200px){.detail-publication .detail-title{font-size:2rem}}.detail-speeches .background-cover{border-radius:5px}.detail-speeches .background-cover h1,.detail-speeches .background-cover h4,.detail-speeches .background-cover h5,.detail-speeches .background-cover h6,.detail-speeches .background-cover p{color:#fff}.detail-speeches .background-cover .detail-title{font-size:calc(1.275rem + .3vw);font-weight:500;margin-bottom:1rem}@media (min-width:1200px){.detail-speeches .background-cover .detail-title{font-size:1.5rem}}.detail-speeches .background-cover h4{font-size:1.25rem}.detail-speeches .detail__body ol{padding-left:1rem}.detail-speeches .detail__body ol li{margin-bottom:1.5rem;padding-left:1rem}.detail-audio h4,.detail-photo-gallery h4,.detail-video h4{color:#fff}.detail-audio .border-white,.detail-photo-gallery .border-white,.detail-video .border-white{border-color:transparent!important}@media (min-width:992px){.detail-audio .border-white,.detail-photo-gallery .border-white,.detail-video .border-white{border-color:#999!important}}.detail-audio .frameshoundcloud-anchor,.detail-photo-gallery .frameshoundcloud-anchor,.detail-video .frameshoundcloud-anchor{background-color:red;color:#ccc;font-size:10px;line-break:anywhere;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-break:normal}.fao-story-header{align-items:center;background:var(--background);box-shadow:0 2.8px 2.2px #00000005,0 6.7px 5.3px #00000007,0 12.5px 10px #00000009,0 22.3px 17.9px #0000000b,0 41.8px 33.4px #0000000d,0 100px 80px #00000012;display:flex;justify-content:space-between;padding:0 .75rem}.fao-story-header .fao-story-header-left a{display:inline-block;padding:.5rem 0}.fao-story-header .fao-story-header-left a img{height:38px;width:auto}.fao-story-header .fao-story-header-left a .fao-logo-mobile{display:inline-block}@media (min-width:768px){.fao-story-header .fao-story-header-left a .fao-logo-mobile{display:none}}.fao-story-header .fao-story-header-left a .fao-logo-desktop{display:none}@media (min-width:768px){.fao-story-header .fao-story-header-left a .fao-logo-desktop{display:inline-block}}.fao-story-header .fao-story-header-right .btn-secondary:not(:disabled):not(.disabled):focus,.fao-story-header .fao-story-header-right .dropdown-toggle,.fao-story-header .fao-story-header-right .dropdown-toggle:active,.fao-story-header .fao-story-header-right .dropdown-toggle:focus:active{background-color:transparent;border-color:transparent;box-shadow:none;color:var(--on-background)}.story-cover{position:relative}.story-cover:before{content:"";display:block;min-height:80vh;width:100%}@media (min-width:768px){.story-cover:before{min-height:0;padding-top:42.8571428571%}}.story-cover>img{border-radius:5px;-o-object-fit:cover;object-fit:cover}.story-cover .story-cover-content,.story-cover>img{height:100%;left:0;position:absolute;top:0;width:100%}.story-cover .story-cover-content{align-items:flex-start;display:flex;flex-direction:column;justify-content:flex-end;padding:1rem}.story-cover .story-cover-content hr{border-top-color:#fff;display:none;margin:1rem 0 1.5rem;opacity:1;position:relative;width:160px}.story-cover .story-cover-content .date,.story-cover .story-cover-content .detail-title,.story-cover .story-cover-content .story-sdgs,.story-cover .story-cover-content h2{color:#fff;position:relative}.story-cover .story-cover-content .story-sdgs span{background-size:0;color:#fff;display:inline-block;font-size:12px;font-weight:700;height:18px;line-height:18px;margin:0 .5rem .5rem 0;text-align:center;width:18px}.story-cover .story-cover-content .story-sdgs span.sdg-1{background-color:#eb1c2e}.story-cover .story-cover-content .story-sdgs span.sdg-1:before{content:"1"}.story-cover .story-cover-content .story-sdgs span.sdg-2{background-color:#d19e29}.story-cover .story-cover-content .story-sdgs span.sdg-2:before{content:"2"}.story-cover .story-cover-content .story-sdgs span.sdg-3{background-color:#2c9946}.story-cover .story-cover-content .story-sdgs span.sdg-3:before{content:"3"}.story-cover .story-cover-content .story-sdgs span.sdg-4{background-color:#c32033}.story-cover .story-cover-content .story-sdgs span.sdg-4:before{content:"4"}.story-cover .story-cover-content .story-sdgs span.sdg-5{background-color:#ef402b}.story-cover .story-cover-content .story-sdgs span.sdg-5:before{content:"5"}.story-cover .story-cover-content .story-sdgs span.sdg-6{background-color:#01acd8}.story-cover .story-cover-content .story-sdgs span.sdg-6:before{content:"6"}.story-cover .story-cover-content .story-sdgs span.sdg-7{background-color:#fcb714}.story-cover .story-cover-content .story-sdgs span.sdg-7:before{content:"7"}.story-cover .story-cover-content .story-sdgs span.sdg-8{background-color:#8f1838}.story-cover .story-cover-content .story-sdgs span.sdg-8:before{content:"8"}.story-cover .story-cover-content .story-sdgs span.sdg-9{background-color:#f26e24}.story-cover .story-cover-content .story-sdgs span.sdg-9:before{content:"9"}.story-cover .story-cover-content .story-sdgs span.sdg-10{background-color:#df1a83}.story-cover .story-cover-content .story-sdgs span.sdg-10:before{content:"10"}.story-cover .story-cover-content .story-sdgs span.sdg-11{background-color:#f99c25}.story-cover .story-cover-content .story-sdgs span.sdg-11:before{content:"11"}.story-cover .story-cover-content .story-sdgs span.sdg-12{background-color:#c98a2b}.story-cover .story-cover-content .story-sdgs span.sdg-12:before{content:"12"}.story-cover .story-cover-content .story-sdgs span.sdg-13{background-color:#47773b}.story-cover .story-cover-content .story-sdgs span.sdg-13:before{content:"13"}.story-cover .story-cover-content .story-sdgs span.sdg-14{background-color:#017dbb}.story-cover .story-cover-content .story-sdgs span.sdg-14:before{content:"14"}.story-cover .story-cover-content .story-sdgs span.sdg-15{background-color:#3eb049}.story-cover .story-cover-content .story-sdgs span.sdg-15:before{content:"15"}.story-cover .story-cover-content .story-sdgs span.sdg-16{background-color:#005689}.story-cover .story-cover-content .story-sdgs span.sdg-16:before{content:"16"}.story-cover .story-cover-content .story-sdgs span.sdg-17{background-color:#1f3668}.story-cover .story-cover-content .story-sdgs span.sdg-17:before{content:"17"}.story-cover .story-cover-content .story-tag{align-items:center;background-color:#00000080;border-radius:5px;color:#fff;display:flex;font-size:12px;font-weight:700;padding:2px 13px;position:absolute;text-transform:uppercase;top:4.5rem}.story-cover .story-cover-content .story-tag .bi{font-size:21px;margin-right:5px}.story-cover .story-cover-content .story-share-cover{bottom:1.5rem;position:absolute}.story-cover .story-cover-content .detail-title{font-size:1.1rem;font-weight:300;margin-bottom:.65rem}@media (min-width:768px){.story-cover .story-cover-content .detail-title{font-size:1.2rem}}@media (min-width:992px){.story-cover .story-cover-content .detail-title{font-size:1.3rem}}@media (min-width:1200px){.story-cover .story-cover-content .detail-title{font-size:1.6rem}}.story-cover .story-cover-content h2{font-size:1rem;font-weight:400;margin-bottom:1rem}.story-cover .story-cover-content .detail-title,.story-cover .story-cover-content h2{max-width:80%}.story-cover .story-cover-content:before{background-color:#0009;border-radius:5px;content:"";height:100%;left:0;position:absolute;top:0;width:100%}.story-share,.story-share-cover{display:flex;justify-content:center}.story-share a,.story-share-cover a{padding:.35rem}.story-share a img,.story-share-cover a img{height:30px;width:30px}.story-share{margin:0 auto}.story-cover .story-cover-content .story-tag,.story-share,.story-share-cover{display:none}.story-column{margin:0 auto}.story-column-2photos{margin:4rem auto}.story-column-2photos .story-2photos-images{display:flex;flex-direction:column}.story-column-2photos .story-2photos-images .ratio:first-child{margin-bottom:1.5rem}@media (min-width:1200px){.story-column-2photos .story-2photos-images{flex-direction:row}.story-column-2photos .story-2photos-images .ratio:first-child{margin-bottom:0;margin-right:.75rem}.story-column-2photos .story-2photos-images .ratio:last-child{margin-left:.75rem}}.story-column-1photo{margin:4rem auto}.story-column-1photo img,.story-column-2photos img{border-radius:5px}.story-corporate{-webkit-font-smoothing:antialiased;--on-background:#1b1d1f}.story-corporate .story-cover .story-cover-content .story-tag,.story-corporate .story-share,.story-corporate .story-share-cover{display:flex}.story-corporate .story-cover{min-height:100vh}.story-corporate .story-cover img{border-radius:0}.story-corporate .story-cover .story-cover-content{align-items:center;justify-content:center}.story-corporate .story-cover .story-cover-content .date,.story-corporate .story-cover .story-cover-content .detail-title,.story-corporate .story-cover .story-cover-content .story-sdgs,.story-corporate .story-cover .story-cover-content h2{text-align:center}.story-corporate .story-cover .story-cover-content .detail-title{font-family:Merriweather,serif;font-size:1.25rem}@media (min-width:576px){.story-corporate .story-cover .story-cover-content .detail-title{font-size:1.6rem}}@media (min-width:768px){.story-corporate .story-cover .story-cover-content .detail-title{font-size:2rem}}@media (min-width:992px){.story-corporate .story-cover .story-cover-content .detail-title{font-size:2.25rem}}@media (min-width:1200px){.story-corporate .story-cover .story-cover-content .detail-title{font-size:2.5rem}}.story-corporate .story-cover .story-cover-content hr{display:block}.story-corporate .story-cover .story-cover-content h2{font-size:.875rem;font-weight:700;margin-bottom:2rem}@media (min-width:768px){.story-corporate .story-cover .story-cover-content h2{font-size:1.125rem}.story-corporate .story-cover .story-cover-content .detail-title,.story-corporate .story-cover .story-cover-content h2{max-width:60%}}.story-corporate .story-cover .story-cover-content .story-sdgs span{background-size:100% 100%;height:60px;margin:0 1rem 1rem 0;width:60px}.story-corporate .story-cover .story-cover-content .story-sdgs span:before{content:none}.story-corporate p,.story-corporate ul{font-family:Merriweather,serif;font-size:1.063rem;font-weight:300;line-height:1.7;margin-bottom:25px}.story-corporate p.small,.story-corporate ul.small{font-family:Open Sans,sans-serif;font-size:.875rem;font-weight:400;line-height:1.42857143;margin-top:15px}.story-corporate a{text-decoration:none}.story-corporate a:hover{text-decoration:underline}.story-corporate .date{font-family:Merriweather,serif;font-size:1.063rem;font-weight:300}.story-corporate blockquote{background-color:transparent;border-left:0;display:block;float:left;font-weight:400;letter-spacing:1px;line-height:1.7;margin:10px 55px 35px 0;padding:19px 0 0;width:100%}@media (min-width:992px){.story-corporate blockquote{margin:10px 48px 20px -15%;width:329px}}.story-corporate .sub-title{font-family:Merriweather,serif;font-size:1.063rem;font-weight:700}.story-corporate .sub-title:before{content:none}.story-corporate .story-column{padding:0 .75rem}@media (min-width:768px){.story-corporate .story-column{width:416px}}@media (min-width:992px){.story-corporate .story-column{width:538px}}@media (min-width:1200px){.story-corporate .story-column{width:650px}}.story-corporate .story-column-1photo,.story-corporate .story-column-2photos{padding:0 .75rem}@media (min-width:768px){.story-corporate .story-column-1photo,.story-corporate .story-column-2photos{width:625px}}@media (min-width:992px){.story-corporate .story-column-1photo,.story-corporate .story-column-2photos{width:808px}}@media (min-width:1400px){.story-corporate .story-column-1photo,.story-corporate .story-column-2photos{width:975px}}@media (min-width:992px){.story-corporate .story-column-2photos .story-2photos-images{flex-direction:row}.story-corporate .story-column-2photos .story-2photos-images .ratio:first-child{margin-bottom:0;margin-right:.75rem}.story-corporate .story-column-2photos .story-2photos-images .ratio:last-child{margin-left:.75rem}}.story-corporate .story-column-1photo .ratio:before,.story-corporate .story-column-2photos .ratio:before{content:none}.story-corporate .story-column-1photo .ratio *,.story-corporate .story-column-2photos .ratio *{height:auto;position:relative;width:auto}.story-corporate .story-column-1photo .ratio img,.story-corporate .story-column-2photos .ratio img{height:auto;max-width:100%}html[lang=ar] .story-cover .story-cover-content h1,html[lang=fa] .story-cover .story-cover-content h1,html[lang=sf] .story-cover .story-cover-content h1{font-family:Cairo,sans-serif}html[lang=ar] .story-cover .story-cover-content .story-tag .bi,html[lang=fa] .story-cover .story-cover-content .story-tag .bi,html[lang=sf] .story-cover .story-cover-content .story-tag .bi{margin-left:5px;margin-right:0}@media (min-width:1200px){html[lang=ar] .story-column-2photos .story-2photos-images .ratio:first-child,html[lang=fa] .story-column-2photos .story-2photos-images .ratio:first-child,html[lang=sf] .story-column-2photos .story-2photos-images .ratio:first-child{margin-left:.75rem}html[lang=ar] .story-column-2photos .story-2photos-images .ratio:last-child,html[lang=fa] .story-column-2photos .story-2photos-images .ratio:last-child,html[lang=sf] .story-column-2photos .story-2photos-images .ratio:last-child{margin-right:.75rem}}html[lang=ar] .story-corporate .story-cover .story-cover-content h1,html[lang=ar] .story-corporate p,html[lang=ar] .story-corporate ul,html[lang=fa] .story-corporate .story-cover .story-cover-content h1,html[lang=fa] .story-corporate p,html[lang=fa] .story-corporate ul,html[lang=sf] .story-corporate .story-cover .story-cover-content h1,html[lang=sf] .story-corporate p,html[lang=sf] .story-corporate ul{font-family:Cairo,sans-serif}html[lang=ar] .story-corporate blockquote,html[lang=fa] .story-corporate blockquote,html[lang=sf] .story-corporate blockquote{float:right;margin:10px 0 35px 55px}@media (min-width:992px){html[lang=ar] .story-corporate blockquote,html[lang=fa] .story-corporate blockquote,html[lang=sf] .story-corporate blockquote{margin:10px -15% 20px 48px}}main .sfContentBlock img{border-radius:5px;margin-bottom:1rem}main .sfContentBlock img.-align-left{margin-right:1.5rem}main .sfContentBlock img.-align-right{margin-left:1.5rem}.image-widget,img,video{max-width:100%}.image-widget{border-radius:5px;margin-bottom:2rem}.image-widget.img-responsive{height:auto;width:100%}.image-widget.img-hero{max-height:218px;-o-object-fit:cover;object-fit:cover}@media (min-width:768px){.image-widget.img-hero{max-height:295px}}@media (min-width:992px){.image-widget.img-hero{max-height:398px}}@media (min-width:1200px){.image-widget.img-hero{max-height:475px}}.custom-sub-header{background-color:var(--custom-subheader-bg);background-position:50%;background-size:cover;border-radius:5px;padding:15px 0;position:relative}@media (min-width:768px){.custom-sub-header{height:100px}}.custom-sub-header .custom-sub-left,.custom-sub-header .custom-sub-right{flex-grow:1;flex-wrap:wrap;height:100%;padding:0 15px}.custom-sub-header .custom-sub-left img{margin-right:5px}@media (min-width:768px){.custom-sub-header .custom-sub-left img{margin-right:15px}}.custom-sub-header .custom-sub-right img{margin-left:5px}@media (min-width:768px){.custom-sub-header .custom-sub-right img{margin-left:15px}}.custom-sub-header img{border-radius:5px;display:block;flex-shrink:0;height:70px;margin-bottom:5px;width:auto}.custom-sub-header img.pop-out{background-color:#fff;box-shadow:0 2px 6px #0000001a}.navbar-subsite{justify-content:flex-end;padding:.5rem 0;position:relative}.navbar-subsite .bi{color:#f58320;font-size:1.2rem;line-height:1;position:relative;top:1px}.navbar-subsite.dropdown-nowrap .dropdown-item,.navbar-subsite.dropdown-nowrap .nav-link{white-space:normal}.navbar-subsite .navbar-nav .nav-link{color:#545454}.navbar-subsite .navbar-nav .active>.nav-link{font-weight:700}.navbar-subsite .dropdown-menu{background-color:#f7f8f9;border:1px solid #dee2e6;border-radius:5px}@media (min-width:992px){.navbar-subsite .dropdown-menu{box-shadow:0 2px 6px #0000001a}}.navbar-subsite .dropdown-menu li{border-bottom:1px solid #dee2e6}.navbar-subsite .dropdown-menu li:last-child{border-bottom:0}.navbar-subsite .dropdown-submenu .dropdown-toggle{align-items:center;display:flex;justify-content:space-between;pointer-events:none}.navbar-subsite .dropdown-submenu>.dropdown-menu{border:0;display:block;margin:0;padding:0 0 0 20px}@media (min-width:992px){.navbar-subsite .dropdown-submenu{position:relative}.navbar-subsite .dropdown-submenu .dropdown-toggle{opacity:1;pointer-events:auto}.navbar-subsite .dropdown-submenu .dropdown-toggle:after{content:""}.navbar-subsite .dropdown-submenu>.dropdown-menu{border:1px solid #dee2e6;display:none;left:100%;margin:-6px .125rem 0 0;padding:.5rem 0;top:0}.navbar-subsite .dropdown-submenu:hover>.dropdown-menu{display:block}}.navbar-subsite .dropdown-toggle:after{border:0;content:"";font-family:bootstrap-icons;font-size:.6rem;margin-left:.26rem;vertical-align:0}[data-bs-theme=dark] .navbar-subsite{background-color:var(--background)}[data-bs-theme=dark] .navbar-subsite.bg-white{background-color:var(--background)!important}[data-bs-theme=dark] .navbar-subsite .navbar-nav .nav-link{color:var(--on-background)}.subsite-col-border{margin-bottom:2rem}.audio-visual-cover{clip-path:polygon(0 0,100% 0,100% 100%,0 100%);display:none;height:100%;pointer-events:none;position:absolute;width:100%}@media (min-width:992px){.audio-visual-cover{display:block}}.audio-visual-cover .audio-visual-image{background-repeat:no-repeat;height:100%;left:50%;position:fixed;width:100%}.media-provider-list{align-items:center;display:flex}.media-provider-list .media-provider-title{margin-right:.5rem}.media-provider-list .media-provider-ico{border-radius:5px;display:inline-block;margin-right:.5rem;overflow:hidden}.media-provider-list .media-provider-ico img{height:30px;width:auto}html[lang=ar]:not(.sfPageEditorWrp),html[lang=fa]:not(.sfPageEditorWrp),html[lang=sf]:not(.sfPageEditorWrp){direction:rtl}html[lang=ar] body,html[lang=fa] body,html[lang=sf] body{font-family:Cairo,sans-serif}html[lang=ar] .navbar-corporate .dropdown-menu,html[lang=fa] .navbar-corporate .dropdown-menu,html[lang=sf] .navbar-corporate .dropdown-menu{text-align:right}html[lang=ar] .navbar-corporate .dropdown-menu .simple-list .bi-chevron-right,html[lang=fa] .navbar-corporate .dropdown-menu .simple-list .bi-chevron-right,html[lang=sf] .navbar-corporate .dropdown-menu .simple-list .bi-chevron-right{transform:rotate(180deg)}html[lang=ar] .navbar-subsite .navbar-nav,html[lang=fa] .navbar-subsite .navbar-nav,html[lang=sf] .navbar-subsite .navbar-nav{margin-right:0!important;padding-inline-start:0}html[lang=ar] .link-icon .bi,html[lang=fa] .link-icon .bi,html[lang=sf] .link-icon .bi{margin-left:.6rem;margin-right:0}html[lang=ar] .btn-lg,html[lang=fa] .btn-lg,html[lang=sf] .btn-lg{text-align:right}html[lang=ar] .fao-header.corporate-header .navbar-corporate .navbar-nav,html[lang=fa] .fao-header.corporate-header .navbar-corporate .navbar-nav,html[lang=sf] .fao-header.corporate-header .navbar-corporate .navbar-nav{padding-inline-start:0}@media (min-width:768px){html[lang=ar] .fao-header .fao-header-right .discover-dropdown,html[lang=fa] .fao-header .fao-header-right .discover-dropdown,html[lang=sf] .fao-header .fao-header-right .discover-dropdown{margin-left:0;margin-right:3rem}}html[lang=ar] footer ul,html[lang=fa] footer ul,html[lang=sf] footer ul{padding-inline-start:0}html[lang=ar] footer .footer-download .list-inline-item:not(:last-child),html[lang=ar] footer .social-icons .list-inline-item:not(:last-child),html[lang=fa] footer .footer-download .list-inline-item:not(:last-child),html[lang=fa] footer .social-icons .list-inline-item:not(:last-child),html[lang=sf] footer .footer-download .list-inline-item:not(:last-child),html[lang=sf] footer .social-icons .list-inline-item:not(:last-child){margin-left:.5rem;margin-right:0}html[lang=ar] .dropdown.discover-dropdown .dropdown-menu,html[lang=fa] .dropdown.discover-dropdown .dropdown-menu,html[lang=sf] .dropdown.discover-dropdown .dropdown-menu{text-align:revert;text-align:right}html[lang=ar] .tags-list .badge,html[lang=ar] .tags-list .class-list__title,html[lang=fa] .tags-list .badge,html[lang=fa] .tags-list .class-list__title,html[lang=sf] .tags-list .badge,html[lang=sf] .tags-list .class-list__title{margin-left:.5rem;margin-right:0}html[lang=ar] .tl-timeline .tl-slide .tl-slide-content-container .tl-slide-content .tl-text,html[lang=fa] .tl-timeline .tl-slide .tl-slide-content-container .tl-slide-content .tl-text,html[lang=sf] .tl-timeline .tl-slide .tl-slide-content-container .tl-slide-content .tl-text{direction:rtl;text-align:right}html[lang=ar] .tl-timeline .tl-slidenav-next,html[lang=ar] .tl-timeline .tl-slidenav-previous,html[lang=fa] .tl-timeline .tl-slidenav-next,html[lang=fa] .tl-timeline .tl-slidenav-previous,html[lang=sf] .tl-timeline .tl-slidenav-next,html[lang=sf] .tl-timeline .tl-slidenav-previous{text-align:right}html[lang=ar] .tl-timeline .tl-slidenav-previous,html[lang=fa] .tl-timeline .tl-slidenav-previous,html[lang=sf] .tl-timeline .tl-slidenav-previous{left:80px}html[lang=ar] .tl-timeline .tl-slidenav-next,html[lang=fa] .tl-timeline .tl-slidenav-next,html[lang=sf] .tl-timeline .tl-slidenav-next{right:0}html[lang=ar] .tl-timeline .tl-caption,html[lang=fa] .tl-timeline .tl-caption,html[lang=sf] .tl-timeline .tl-caption{text-align:right}html[lang=ar] .tl-timeline .tl-timenav,html[lang=fa] .tl-timeline .tl-timenav,html[lang=sf] .tl-timeline .tl-timenav{direction:ltr}html[lang=ar] .tl-timeline .tl-timemarker-content,html[lang=fa] .tl-timeline .tl-timemarker-content,html[lang=sf] .tl-timeline .tl-timemarker-content{direction:rtl}html[lang=ar] .breadcrumb .breadcrumb-item:first-child,html[lang=fa] .breadcrumb .breadcrumb-item:first-child,html[lang=sf] .breadcrumb .breadcrumb-item:first-child{padding-left:var(--bs-breadcrumb-item-padding-x)}html[lang=ar] .breadcrumb .breadcrumb-item+.breadcrumb-item:before,html[lang=fa] .breadcrumb .breadcrumb-item+.breadcrumb-item:before,html[lang=sf] .breadcrumb .breadcrumb-item+.breadcrumb-item:before{content:"";padding-left:var(--bs-breadcrumb-item-padding-x);padding-right:0}html[lang=ar] .d-list .d-list-content,html[lang=fa] .d-list .d-list-content,html[lang=sf] .d-list .d-list-content{padding-left:0;padding-right:1rem}@container (min-width: 350px){html[lang=ar] .d-list .d-list-content,html[lang=fa] .d-list .d-list-content,html[lang=sf] .d-list .d-list-content{padding-left:0;padding-right:1.5rem}}html[lang=ar] .d-list.d-list-column .d-list-content,html[lang=fa] .d-list.d-list-column .d-list-content,html[lang=sf] .d-list.d-list-column .d-list-content{padding-right:0}html[lang=ar] .d-list.d-list-article:before,html[lang=ar] .d-list.d-list-elearning:before,html[lang=ar] .d-list.d-list-speeches:before,html[lang=fa] .d-list.d-list-article:before,html[lang=fa] .d-list.d-list-elearning:before,html[lang=fa] .d-list.d-list-speeches:before,html[lang=sf] .d-list.d-list-article:before,html[lang=sf] .d-list.d-list-elearning:before,html[lang=sf] .d-list.d-list-speeches:before{left:auto;right:0}@container (min-width: 350px){html[lang=ar] .d-list.d-list-article:before,html[lang=ar] .d-list.d-list-elearning:before,html[lang=ar] .d-list.d-list-speeches:before,html[lang=fa] .d-list.d-list-article:before,html[lang=fa] .d-list.d-list-elearning:before,html[lang=fa] .d-list.d-list-speeches:before,html[lang=sf] .d-list.d-list-article:before,html[lang=sf] .d-list.d-list-elearning:before,html[lang=sf] .d-list.d-list-speeches:before{width:12px}}html[lang=ar] .d-list.d-list-article .d-list-content,html[lang=ar] .d-list.d-list-elearning .d-list-content,html[lang=ar] .d-list.d-list-speeches .d-list-content,html[lang=fa] .d-list.d-list-article .d-list-content,html[lang=fa] .d-list.d-list-elearning .d-list-content,html[lang=fa] .d-list.d-list-speeches .d-list-content,html[lang=sf] .d-list.d-list-article .d-list-content,html[lang=sf] .d-list.d-list-elearning .d-list-content,html[lang=sf] .d-list.d-list-speeches .d-list-content{padding-left:1rem;padding-right:1rem}@container (min-width: 350px){html[lang=ar] .d-list.d-list-article .d-list-content,html[lang=ar] .d-list.d-list-elearning .d-list-content,html[lang=ar] .d-list.d-list-speeches .d-list-content,html[lang=fa] .d-list.d-list-article .d-list-content,html[lang=fa] .d-list.d-list-elearning .d-list-content,html[lang=fa] .d-list.d-list-speeches .d-list-content,html[lang=sf] .d-list.d-list-article .d-list-content,html[lang=sf] .d-list.d-list-elearning .d-list-content,html[lang=sf] .d-list.d-list-speeches .d-list-content{padding-left:0;padding-right:2rem}}html[lang=ja] body,html[lang=jp] body{font-family:Noto Sans JP,sans-serif}html[lang=ja] .card-calendar .row-calendar .date,html[lang=ja] .date .date__container,html[lang=jp] .card-calendar .row-calendar .date,html[lang=jp] .date .date__container{display:flex;flex-direction:row-reverse}.row-fao-homepage-hero{margin:0;padding:4rem 0}.row-fao-homepage-hero>.col-md-12{padding:0}.row-fao-homepage-hero .hero-banner{align-items:center;border-radius:0;min-height:425px}@media (min-width:992px){.row-fao-homepage-hero .hero-banner{justify-content:center}.row-fao-homepage-hero .hero-banner:before{background:linear-gradient(90deg,#000 0,rgba(0,0,0,.01) 99%,transparent);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#000000",endColorstr="#00000000",GradientType=1)}}.row-fao-homepage-hero .hero-banner .hero-banner-video{-o-object-position:bottom center;object-position:bottom center}.row-fao-homepage-hero .hero-caption{width:100%}.row-fao-homepage-hero .hero-caption h1{font-size:1.2rem}.row-fao-homepage-hero .hero-caption h1 a{text-decoration:none}.row-fao-homepage-hero .hero-caption h1 a:hover{text-decoration:underline}.row-fao-homepage-hero .hero-caption p{font-size:1rem}.row-fao-homepage-hero .hero-caption .title-link{display:none}.row-fao-homepage-hero .hero-caption .link-icon{margin-right:1.6rem;margin-top:.5rem;text-decoration:none}.row-fao-homepage-hero .hero-caption .link-icon:hover{text-decoration:underline}.row-fao-homepage-hero .hero-caption .link-icon .bi-bgico{background-color:#fff}.row-fao-homepage-hero .hero-caption .link-icon .bi-bgico:before{color:#545454}@media (min-width:576px){.row-fao-homepage-hero .hero-caption{max-width:540px}}@media (min-width:768px){.row-fao-homepage-hero .hero-caption{max-width:720px}.row-fao-homepage-hero .hero-caption h1{font-size:1.5rem}}@media (min-width:992px){.row-fao-homepage-hero .hero-caption{background-color:transparent;color:#fff;margin:0 auto;max-width:960px}.row-fao-homepage-hero .hero-caption h1{font-size:2rem}}@media (min-width:1200px){.row-fao-homepage-hero .hero-caption{max-width:1140px}.row-fao-homepage-hero .hero-caption h1,.row-fao-homepage-hero .hero-caption h6,.row-fao-homepage-hero .hero-caption p{width:40%}}.slot-dg-corner .card{border:1px solid #116bac}.slot-dg-corner .card .title-category{color:#116bac}.row-fao-homepage-small-slots .card{align-items:flex-start;flex-direction:row}@media (min-width:768px){.row-fao-homepage-small-slots .card{flex-direction:column}}@media (min-width:992px){.row-fao-homepage-small-slots .card{flex-direction:row}}.row-fao-homepage-small-slots .card .card-image{flex-shrink:0}.row-fao-homepage-small-slots .card .card-body{padding:0 1rem}@media (min-width:768px){.row-fao-homepage-small-slots .card .card-body{padding:1rem 0}}@media (min-width:992px){.row-fao-homepage-small-slots .card .card-body{padding:0 1rem}}.row-fao-homepage-small-slots .card h5{line-height:1.1rem;margin-bottom:0}.row-fao-homepage-small-slots .card h5 .title-link{font-size:1rem}.row-fao-homepage-small-slots .card .card-page,.row-fao-homepage-small-slots .card p{display:none}@media (min-width:768px){.row-fao-homepage-small-slots .col-md-4:nth-child(2) .card,.row-fao-homepage-small-slots .col-md-4:nth-child(3) .card{overflow:visible}.row-fao-homepage-small-slots .col-md-4:nth-child(2) .card:before,.row-fao-homepage-small-slots .col-md-4:nth-child(3) .card:before{background-color:#999;content:"";height:100%;left:-15px;position:absolute;top:0;width:1px}}.row-fao-homepage-multimedia{margin:0;padding:4rem 0}.row-fao-homepage-multimedia>.col-md-12{padding:0}.row-fao-homepage-multimedia .title-highlight{color:#fff}.row-fao-homepage-multimedia .title-highlight:before{background-color:#fff;left:calc(50% - 25px)}.row-fao-homepage-multimedia .sub-title.small{color:#fff}.row-fao-homepage-multimedia hr{border-top-color:#999}.row-fao-homepage-multimedia .card{background-color:transparent}.row-fao-homepage-multimedia .card .card-body .title-link{text-decoration:none}@media (min-width:576px){.row-fao-homepage-multimedia .card{flex-direction:row}.row-fao-homepage-multimedia .card .ratio{flex-shrink:0;width:50%}.row-fao-homepage-multimedia .card .card-body{margin-left:1rem}}@media (min-width:768px){.row-fao-homepage-multimedia .card{flex-direction:column}.row-fao-homepage-multimedia .card .ratio{flex-shrink:1;width:100%}.row-fao-homepage-multimedia .card .card-body{margin-left:0}}@media (min-width:992px){.row-fao-homepage-multimedia .card{flex-direction:row}.row-fao-homepage-multimedia .card .ratio{flex-shrink:0;width:50%}.row-fao-homepage-multimedia .card .card-body{margin-left:1rem}}.row-fao-homepage-multimedia .link-icon,.row-fao-homepage-multimedia .podcast-container .podcast-h .title-link a{text-decoration:none}.row-fao-homepage-multimedia .podcast-container .podcast-h .podcast-footer{align-items:center;display:flex;justify-content:space-between}.row-fao-homepage-multimedia .podcast-container .podcast-h .podcast-footer .title-category{margin-bottom:0}.row-fao-homepage-multimedia .podcast-container .podcast-h .podcast-footer .podcast-play-h a{color:#999;text-decoration:none}.row-fao-homepage-multimedia .podcast-container .podcast-h .podcast-footer .podcast-play-h .btn-podcast-play{background-color:#fff;border-radius:50%;box-shadow:0 2px 6px #0000001a;color:#545454;display:inline-block;height:30px;line-height:30px;margin-left:.5rem;text-align:center;width:30px}.row-fao-homepage-multimedia .podcast-container .podcast-h .podcast-footer .podcast-play-h .btn-podcast-play .bi:before{font-size:18px;vertical-align:-.3em}.row-fao-homepage-data{margin:0;padding:4rem 0}.row-fao-homepage-data>.col-md-12{padding:0}.row-fao-homepage-data .title-highlight:before{left:calc(50% - 25px)}.row-fao-homepage-data .data-home-cards-container{display:flex;flex-direction:column}.row-fao-homepage-data .data-home-cards-container .data-home-card{background-color:#fff;border-radius:5px;display:flex;overflow:hidden}.row-fao-homepage-data .data-home-cards-container .data-home-card .data-home-card-ref{padding:1.25rem;width:50%}.row-fao-homepage-data .data-home-cards-container .data-home-card .data-home-card-ref h5,.row-fao-homepage-data .data-home-cards-container .data-home-card .data-home-card-ref h6:last-child{color:#116bac}.row-fao-homepage-data .data-home-cards-container .data-home-card .data-home-card-number{align-items:center;background-color:#e5ecf4;display:flex;justify-content:center;width:50%}.row-fao-homepage-data #home-data-graph{background-color:#fff;border-radius:5px;padding:1rem}.row-fao-homepage-data .highcharts-tooltip>span{background-color:#ffffffe6;box-shadow:0 1px 10px 2px #0000001a;padding:15px}.row-fao-homepage-data .highcharts-tooltip>span span{font-size:14px!important}.row-fao-homepage-data .highcharts-tooltip>span span:first-child{display:inline-block;font-size:18px!important;font-weight:300;margin-bottom:10px}.container-in-depth{overflow-x:hidden;padding:4rem 0}.container-in-depth .title-highlight:before{left:calc(50% - 25px)}.ratio embed,.ratio iframe,.ratio object,.ratio video{z-index:2}.card.card-overlay .card-img-overlay .title-caption{color:#fff}.fao-header.corporate-header .card-mb-0 .card{height:100%;margin-bottom:0}.footer{margin-top:0}@media screen and (max-width:600px){.row-fao-homepage-data .data-home-cards-container .data-home-card .data-home-card-ref h5{font-size:1rem}}.grid-item img,.photo [data-sdg] img{height:100%;left:0;-o-object-fit:cover;object-fit:cover;position:absolute;top:0;width:100%}.card-social-facebook .card-image,.card-social-instagram .card-image,.card-social-linkedin .card-image,.card-social-twitter .card-image,.card-social-wechat .card-image,.card-social-weibo .card-image{background-color:#f2f2f2;height:150px;width:150px}.card-social-facebook .card-image img,.card-social-instagram .card-image img,.card-social-linkedin .card-image img,.card-social-twitter .card-image img,.card-social-wechat .card-image img,.card-social-weibo .card-image img{height:100%;left:0;-o-object-fit:cover;object-fit:cover;position:absolute;top:0;width:100%}.card-social-facebook .card-image:before,.card-social-instagram .card-image:before,.card-social-linkedin .card-image:before,.card-social-twitter .card-image:before,.card-social-wechat .card-image:before,.card-social-weibo .card-image:before{display:inline-block;font-family:bootstrap-icons!important;font-size:1.6rem;font-style:normal;font-variant:normal;font-weight:400!important;line-height:1;text-transform:none;vertical-align:text-bottom;-webkit-font-smoothing:antialiased;background-color:transparent;color:#fff;left:1rem;padding-top:0;position:absolute;top:1rem;width:auto;z-index:2}.card-social-facebook .card-image:after,.card-social-instagram .card-image:after,.card-social-linkedin .card-image:after,.card-social-twitter .card-image:after,.card-social-wechat .card-image:after,.card-social-weibo .card-image:after{background:linear-gradient(180deg,#000 0,transparent 40%);content:"";filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#000000",endColorstr="#00000000",GradientType=0);height:100%;left:0;position:absolute;top:0;width:100%;z-index:1}.card-social-twitter .card-image:before{content:""}.card-social-instagram .card-image:before{content:""}.card-social-facebook .card-image:before{content:""}.card-social-linkedin .card-image:before{content:""}.card-social-weibo .card-image:before{content:""}.card-social-wechat .card-image:before{content:""}.container-sdg{overflow-x:hidden;padding:4rem 0}@media (min-width:768px){.container-sdg{overflow-x:visible}}.container-sdg .title-highlight:before{left:calc(50% - 25px)}.sdg-section{height:700px;left:-15px;position:relative}@media (min-width:768px){.sdg-section{height:700px}}@media (min-width:992px){.sdg-section{height:630px}}@media (min-width:1200px){.sdg-section{height:500px}}.sdg-mobile .sdg-mobile-message{padding:0 15px}.sdg-mobile .btn-sdg{bottom:57px;left:50%;position:absolute;transform:translate(-50%)}.sdg-mobile .btn-sdg,.sdg-mobile .btn-sdg:active,.sdg-mobile .btn-sdg:active:focus,.sdg-mobile .btn-sdg:active:hover,.sdg-mobile .btn-sdg:focus,.sdg-mobile .btn-sdg:hover{border-color:#fff;color:#fff}.sdg-mobile .swiper-container{width:100%}.sdg-mobile .swiper-slide{position:relative;text-align:center}.sdg-mobile .swiper-slide[data-sdg]{background-image:none}.sdg-mobile .swiper-slide .caption{display:inline-block;height:calc(100% - 75px);left:0;margin-bottom:0;padding:15px;position:absolute;top:75px;width:100%}.sdg-mobile .swiper-slide .caption p{color:#fff;font-size:14px;font-weight:700;position:relative;text-align:left}.sdg-mobile .swiper-slide .caption .p-background{background-image:none;height:100%;left:0;opacity:.5;position:absolute;top:0;width:100%}.sdg-mobile .swiper-image{padding-top:140%}.sdg-mobile .image-text-holder{background-position:50% 50%;background-size:cover}.sdg-mobile .swiper-ico{background-size:contain;height:75px;left:15px;top:15px;width:75px}.sdg-mobile .swiper-button-next,.sdg-mobile .swiper-button-prev{bottom:54px;top:auto}.sdg-mobile .swiper-button-next:after,.sdg-mobile .swiper-button-prev:after{color:#116bac;font-size:2rem}.sdg-mobile .swiper-button{width:auto}.sdg-mobile .swiper-button:after{content:none}.intro{background-color:#ced4da;background-position:0 100%;background-size:cover;height:100%;left:0;padding:15px;position:absolute;top:0}.intro p{font-size:14px}.opac{opacity:.2}.selected{z-index:1}.photo [data-sdg]{background-position:bottom;background-size:cover;height:100%;left:0;opacity:0;padding:15px;position:absolute;top:0;transition:all .3s ease}.photo [data-sdg] .small-title{color:#fff;font-size:12px;font-weight:500;position:relative;z-index:2}.photo [data-sdg] p{color:#fff;font-size:16px;font-weight:700;opacity:0;position:relative;top:-50px;transition:all .3s ease;z-index:2}.photo [data-sdg]:before{content:"";height:100%;left:0;position:absolute;top:0;width:100%;z-index:1}.photo [data-sdg].visible{opacity:1}.photo [data-sdg].visible p{opacity:1;top:0}p[data-sdg]{background-color:#eb1c2e;background-image:none}.btn-sdg{border-color:#fff;color:#fff;position:relative;z-index:2}.grid-item{background-position:50% 50%;background-size:cover;cursor:pointer;height:70px;width:70px}.grid-item,.grid-item:after{position:absolute;transition:all .3s ease}.grid-item:after{background-color:#000;content:"";height:100%;left:0;opacity:0;pointer-events:none;top:0;width:100%;z-index:1}.grid-item:hover:after{opacity:.2}.grid-item:hover .btn-sdg{opacity:1}.grid-item .btn-sdg{background-color:transparent!important;background-image:url(http://www.fao.org/images/homepagelibraries/default-album/corner-plus.svg);background-position:100% 100%;background-repeat:no-repeat;background-size:40px 40px;border-color:transparent!important;color:#fff;height:100%;left:0;opacity:0;position:absolute;top:0;transition:all .3s ease;width:100%;z-index:2}.grid-item .btn-sdg:active,.grid-item .btn-sdg:active:focus,.grid-item .btn-sdg:active:hover,.grid-item .btn-sdg:focus,.grid-item .btn-sdg:hover{border-color:transparent!important;color:transparent!important}.grid-item.grid-item--width1{padding:20px 8px}.grid-item.grid-item--width2{height:140px;padding:55px 42px;width:140px}.grid-item.grid-item--width3{height:210px;padding:88px 72px;width:210px}.grid-item.grid-item--width4{height:280px;padding:120px 110px;width:280px}.grid-item.grid-item--width5{background-color:gold;height:350px;padding:20px 8px;width:300px}.grid-item.grid-item--width5:after{display:none}.message{position:absolute}.message p{font-size:14px}@media (min-width:768px){.message{height:70px;width:630px}}@media (min-width:992px){.message{height:70px;width:510px}}@media (min-width:1200px){.message{height:70px;width:510px}}.sdg-logo{background-repeat:no-repeat;height:70px;position:absolute}@media (min-width:768px){.sdg-logo{right:240px;top:584px;width:260px}}@media (min-width:992px){.sdg-logo{right:250px;top:435px;width:400px}}@media (min-width:1200px){.sdg-logo{right:0;top:365px;width:440px}}.grid-item.photo{left:0;top:70px}@media (min-width:768px){.grid-item.photo{height:350px;width:280px}}@media (min-width:992px){.grid-item.photo{height:490px;width:300px}}@media (min-width:1200px){.grid-item.photo{height:350px}}.sdg-1 h2{color:#eb1c2d}@media (min-width:768px){.sdg-1{left:560px;top:140px}}@media (min-width:992px){.sdg-1{left:580px;top:0}}.sdg-2 h2{color:#d3a029}@media (min-width:768px){.sdg-2{left:280px;top:70px}}@media (min-width:992px){.sdg-2{left:300px;top:70px}}.sdg-3 h2{color:#d3a029}@media (min-width:768px){.sdg-3{left:560px;top:70px}}@media (min-width:992px){.sdg-3{left:720px;top:70px}}.sdg-4 h2{color:#d3a029}@media (min-width:768px){.sdg-4{left:630px;top:0}}@media (min-width:992px){.sdg-4{left:510px;top:0}}@media (min-width:1200px){.sdg-4{left:510px;top:0}}.sdg-5 h2{color:#d3a029}@media (min-width:768px){.sdg-5{left:210px;top:420px}}@media (min-width:992px){.sdg-5{left:790px;top:70px}}.sdg-6 h2{color:#00aed9}@media (min-width:768px){.sdg-6{left:350px;top:420px}}@media (min-width:992px){.sdg-6{left:790px;top:210px}}.sdg-7 h2{color:#ef402b}@media (min-width:768px){.sdg-7{left:630px;top:70px}}@media (min-width:992px){.sdg-7{left:720px;top:0}}.sdg-8 h2{color:#d3a029}@media (min-width:768px){.sdg-8{left:560px;top:280px}}@media (min-width:992px){.sdg-8{left:790px;top:0}}.sdg-9 h2{color:#d3a029}@media (min-width:768px){.sdg-9{left:630px;top:280px}}@media (min-width:992px){.sdg-9{left:860px;top:0}}.sdg-10 h2{color:#d3a029}@media (min-width:768px){.sdg-10{left:280px;top:350px}}@media (min-width:992px){.sdg-10{left:300px;top:350px}}@media (min-width:1200px){.sdg-10{left:930px;top:0}}.sdg-11 h2{color:#d3a029}@media (min-width:768px){.sdg-11{left:350px;top:350px}}@media (min-width:992px){.sdg-11{left:370px;top:350px}}@media (min-width:1200px){.sdg-11{left:1000px;top:0}}.sdg-12 h2{color:#d3a029}@media (min-width:768px){.sdg-12{left:420px;top:350px}}@media (min-width:992px){.sdg-12{left:440px;top:350px}}@media (min-width:1200px){.sdg-12{left:1070px;top:0}}.sdg-13 h2{color:#d3a029}@media (min-width:768px){.sdg-13{left:490px;top:350px}}@media (min-width:992px){.sdg-13{left:510px;top:350px}}@media (min-width:1200px){.sdg-13{left:930px;top:280px}}.sdg-14 h2{color:#d3a029}@media (min-width:768px){.sdg-14{left:0;top:420px}}@media (min-width:992px){.sdg-14{left:580px;top:140px}}@media (min-width:1200px){.sdg-14{left:580px;top:140px}}.sdg-15 h2{color:#007dbc}@media (min-width:768px){.sdg-15{left:490px;top:420px}}@media (min-width:992px){.sdg-15{left:720px;top:350px}}@media (min-width:1200px){.sdg-15{left:930px;top:70px}}.sdg-16 h2{color:#3eb049}@media (min-width:768px){.sdg-16{left:560px;top:350px}}@media (min-width:992px){.sdg-16{left:580px;top:350px}}@media (min-width:1200px){.sdg-16{left:1000px;top:280px}}.sdg-17 h2{color:#007dbc}@media (min-width:768px){.sdg-17{left:630px;top:350px}}@media (min-width:992px){.sdg-17{left:650px;top:350px}}@media (min-width:1200px){.sdg-17{left:1070px;top:280px}}.photo [data-sdg] img{opacity:.5;z-index:1}.photo [data-sdg="1"]:before{background-color:#e4253c}.photo [data-sdg="2"]:before{background-color:#dea73a}.photo [data-sdg="3"]:before{background-color:#4c9f46}.photo [data-sdg="4"]:before{background-color:#c32033}.photo [data-sdg="5"]:before{background-color:#ef402b}.photo [data-sdg="6"]:before{background-color:#2abde2}.photo [data-sdg="7"]:before{background-color:#f9c317}.photo [data-sdg="8"]:before{background-color:#a21d44}.photo [data-sdg="9"]:before{background-color:#f26e24}.photo [data-sdg="10"]:before{background-color:#dd1768}.photo [data-sdg="11"]:before{background-color:#f99c25}.photo [data-sdg="12"]:before{background-color:#be8b2c}.photo [data-sdg="13"]:before{background-color:#408045}.photo [data-sdg="14"]:before{background-color:#1b97d4}.photo [data-sdg="15"]:before{background-color:#5cba48}.photo [data-sdg="16"]:before{background-color:#0c699e}.photo [data-sdg="17"]:before{background-color:#184a6b}.sdg-mobile .swiper-ico{position:relative;z-index:1}.sdg-mobile .swiper-ico img,.sdg-mobile .swiper-image img{height:100%;left:0;position:absolute;top:0;width:100%}.sdg-mobile .swiper-ico img{-o-object-fit:contain;object-fit:contain}.sdg-mobile .swiper-image img{-o-object-fit:cover;object-fit:cover;opacity:.5}.sdg-mobile [data-sdg="1"],.sdg-mobile [data-sdg="1"]:before{background-color:#e4253c}.sdg-mobile [data-sdg="2"]{background-color:#dea73a}.sdg-mobile [data-sdg="3"]{background-color:#4c9f46}.sdg-mobile [data-sdg="4"]{background-color:#c32033}.sdg-mobile [data-sdg="5"]{background-color:#ef402b}.sdg-mobile [data-sdg="6"]{background-color:#2abde2}.sdg-mobile [data-sdg="7"]{background-color:#f9c317}.sdg-mobile [data-sdg="8"]{background-color:#a21d44}.sdg-mobile [data-sdg="9"]{background-color:#f26e24}.sdg-mobile [data-sdg="10"]{background-color:#dd1768}.sdg-mobile [data-sdg="11"]{background-color:#f99c25}.sdg-mobile [data-sdg="12"]{background-color:#be8b2c}.sdg-mobile [data-sdg="13"]{background-color:#408045}.sdg-mobile [data-sdg="14"]{background-color:#1b97d4}.sdg-mobile [data-sdg="15"]{background-color:#5cba48}.sdg-mobile [data-sdg="16"]{background-color:#0c699e}.sdg-mobile [data-sdg="17"]{background-color:#184a6b}.row-fao-homepage-3dmap{background-color:#181624;margin:0;padding:4rem 0 0}.row-fao-homepage-3dmap>.col-md-12{padding:0}.row-fao-homepage-3dmap .title-highlight{color:#fff}.row-fao-homepage-3dmap .title-highlight:before{background-color:#fff;left:calc(50% - 25px)}#map-home{align-items:center;display:flex;justify-content:center}#map-home.hand-cursor{cursor:pointer}#c{display:block;height:100%;width:100%}.map-container{background-color:#181624;height:500px;overflow:hidden;position:relative}#map-3d{height:1000px;position:absolute;top:0;width:100%}#map-3d .globe-bg{background-image:url(https://www.fao.org/images/homepagelibraries/default-album/globe-bg.svg);background-position:50%;background-repeat:no-repeat;background-size:contain;height:100%;left:-50%;position:absolute;top:0;width:200%}#map-3d:active,#map-3d:active:focus,#map-3d:active:hover,#map-3d:focus,#map-3d:hover{outline:0}#map-3d canvas{height:100%;position:relative}#map-3d canvas:active,#map-3d canvas:active:focus,#map-3d canvas:active:hover,#map-3d canvas:focus,#map-3d canvas:hover{outline:0}#map-modal{background:#fff;border-radius:5px;box-shadow:0 2px 6px #0000001a;min-height:200px;opacity:0;overflow:hidden;padding:1.5rem;pointer-events:none;top:0;transition:all .3s ease;width:600px;z-index:1}#map-modal.show{opacity:1;pointer-events:auto}#map-modal .map-modal-header{height:150px;padding-bottom:1rem;position:relative;text-align:right}#map-modal .map-modal-header .homemap-modal-image{height:100%;left:-1.5rem;overflow:hidden;position:absolute;top:-1.5rem;width:calc(100% + 3rem)}#map-modal .map-modal-header #btn-modal-close{position:relative}#map-modal #map-modal-body{max-height:180px;overflow-y:auto}#map-modal #map-modal-body h3{color:#116aab;margin-bottom:1rem}#map-modal #map-modal-body p:last-child{margin-bottom:0}.hero-interactive{transition:min-height .5s ease-in-out}.hero-interactive .hero-interactive-content{display:none;height:100%;left:0;position:absolute;top:0;width:100%}.hero-interactive .btn-hero-interactive-close{position:absolute;right:1rem;top:1rem;z-index:2}.hero-interactive.active{background-color:#1e1e1e;color:#fff;min-height:690px}.hero-interactive.active:before{content:none}.hero-interactive.active .hero-banner-video,.hero-interactive.active .hero-caption{display:none}.hero-interactive.active .hero-interactive-content{display:block}.swiper-forestry{height:100%}.swiper-forestry .swiper-slide{display:block;overflow:hidden}.swiper-forestry .swiper-slide .container,.swiper-forestry .swiper-slide .row{height:100%}.swiper-forestry .forestry-text{position:relative;z-index:1}.swiper-forestry .col-forestry{display:flex;flex-direction:column;height:100%;justify-content:center;width:40%}.swiper-forestry .col-forestry h1{color:#8bc34a;font-family:Roboto Condensed,sans-serif;font-size:64px;font-weight:700;letter-spacing:-2px;text-transform:uppercase}.swiper-forestry .col-forestry .link-icon,.swiper-forestry .col-forestry .link-icon:hover{color:#fff}.swiper-forestry .col-forestry .link-icon .bi.bi-bgico{background-color:#fff}.swiper-forestry .col-forestry .link-icon .bi.bi-bgico:before{color:#1e1e1e}.swiper-forestry .unit{font-family:Open Sans,sans-serif;font-size:16px;font-weight:300;letter-spacing:normal;text-transform:none}.swiper-forestry .image-prop-helper{display:block;height:100%;max-width:none;width:auto}.swiper-forestry .forestry-video{height:calc(100% + 100px);left:40%;overflow:hidden;position:absolute;top:-50px}.swiper-forestry .forestry-video iframe{cursor:none;height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.swiper-forestry .forestry-video:before{background:linear-gradient(90deg,#1e1e1e 0,#1e1e1efc 1%,#1e1e1e00);content:"";filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#1e1e1e",endColorstr="#001e1e1e",GradientType=1);height:100%;left:0;position:absolute;top:0;width:40%;z-index:1}.swiper-forestry .forestry-video:after{background:linear-gradient(90deg,#1e1e1e00 0,#1e1e1efc 99%,#1e1e1e);content:"";filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#001e1e1e",endColorstr="#1e1e1e",GradientType=1);height:100%;position:absolute;right:0;top:0;width:40%;z-index:1}#map-home.loading .container,#map-home.loading .ui{opacity:0}#map-home.loading .pre-loader{opacity:1}@media (min-width:992px){#map-home{overflow-x:hidden}}#map-home .ui{opacity:1}#map-home .pre-loader{opacity:0}.pre-loader{align-items:center;backface-visibility:hidden;background-color:#181624;display:flex;flex-direction:column;height:100%;justify-content:center;opacity:0;padding:15px;pointer-events:none;position:absolute;text-align:center;top:0;transform:translateZ(0);transform-style:preserve-3d;transition:all .3s ease;width:100%}.preload-logo{background-position:50%;background-repeat:no-repeat;background-size:contain;height:60px;position:relative;width:60px}.preload-logo:after{animation:loading 1s ease infinite;backface-visibility:hidden;border:3px solid transparent;border-top-color:#fff;transform-style:preserve-3d}.preload-logo:after,.preload-logo:before{border-radius:50%;content:"";display:block;height:68px;left:-4px;position:absolute;top:-4px;width:68px}.preload-logo:before{border:3px solid hsla(0,0%,84%,.25)}@keyframes loading{to{transform:rotate(1turn)}}.card-news-home .card-title:before{color:#999;content:"NEWS";display:block;font-size:12px;font-weight:700;margin-bottom:.5rem;margin-top:0;text-transform:uppercase}html[lang=ar] .card-news-home .card-title:before{content:"الأخبار"}html[lang=zh] .card-news-home .card-title:before{content:"新闻"}html[lang=fr] .card-news-home .card-title:before{content:"Actualités"}html[lang=ru] .card-news-home .card-title:before{content:"Новости"}html[lang=es] .card-news-home .card-title:before{content:"Noticias"}.card-news-home .date{display:none}.row-fao-homepage-multimedia .dynamic-list .row{margin-bottom:0;padding-bottom:0;padding-top:0}.row-fao-homepage-multimedia .dynamic-list._full-column .col-lg-3,.row-fao-homepage-multimedia .dynamic-list._full-column .col-lg-9,.row-fao-homepage-multimedia .dynamic-list._full-column .col-md-4,.row-fao-homepage-multimedia .dynamic-list._full-column .col-md-8{flex:100%;max-width:100%;padding-left:0;padding-right:0}.row-fao-homepage-multimedia .dynamic-list._full-column .ratio{margin-bottom:1rem}.row-fao-homepage-multimedia .dynamic-list._half-column .col-lg-3,.row-fao-homepage-multimedia .dynamic-list._half-column .col-md-4{padding-left:0;width:100%}.row-fao-homepage-multimedia .dynamic-list._half-column .col-lg-3,.row-fao-homepage-multimedia .dynamic-list._half-column .col-lg-9,.row-fao-homepage-multimedia .dynamic-list._half-column .col-md-4,.row-fao-homepage-multimedia .dynamic-list._half-column .col-md-8{flex:100%;max-width:100%}@media (min-width:992px){.row-fao-homepage-multimedia .dynamic-list._half-column .col-lg-3,.row-fao-homepage-multimedia .dynamic-list._half-column .col-lg-9,.row-fao-homepage-multimedia .dynamic-list._half-column .col-md-4,.row-fao-homepage-multimedia .dynamic-list._half-column .col-md-8{flex:50%;max-width:50%}}.row-fao-homepage-multimedia .dynamic-list .list-audio .col-12,.row-fao-homepage-multimedia .dynamic-list .list-audio .col-md-12{padding-left:0;padding-right:0}.row-fao-homepage-multimedia .dynamic-list .list-audio .date{display:none}.row-fao-homepage-multimedia .dynamic-list .list-video iframe{border-radius:.5rem}.row-fao-homepage-multimedia .dynamic-list .list-video .date{display:none}@media (min-width:992px){html[lang=ar] .row-fao-homepage-hero .hero-banner:before,html[lang=fa] .row-fao-homepage-hero .hero-banner:before,html[lang=sf] .row-fao-homepage-hero .hero-banner:before{background:linear-gradient(90deg,transparent 0,rgba(0,0,0,.01) 1%,#000)}}html[lang=ar] .row-fao-homepage-hero .hero-caption .link-icon,html[lang=fa] .row-fao-homepage-hero .hero-caption .link-icon,html[lang=sf] .row-fao-homepage-hero .hero-caption .link-icon{margin-left:1.6rem;margin-right:0}@media (min-width:768px){html[lang=ar] .row-fao-homepage-small-slots .col-md-4:nth-child(2) .card:before,html[lang=ar] .row-fao-homepage-small-slots .col-md-4:nth-child(3) .card:before,html[lang=fa] .row-fao-homepage-small-slots .col-md-4:nth-child(2) .card:before,html[lang=fa] .row-fao-homepage-small-slots .col-md-4:nth-child(3) .card:before,html[lang=sf] .row-fao-homepage-small-slots .col-md-4:nth-child(2) .card:before,html[lang=sf] .row-fao-homepage-small-slots .col-md-4:nth-child(3) .card:before{left:auto;right:-15px}}html[lang=ar] .row-fao-homepage-multimedia .card .card-body,html[lang=fa] .row-fao-homepage-multimedia .card .card-body,html[lang=sf] .row-fao-homepage-multimedia .card .card-body{margin-left:0;margin-right:1rem}html[lang=ar] .sdg-section,html[lang=fa] .sdg-section,html[lang=sf] .sdg-section{direction:ltr}html[lang=ar] .sdg-section .message,html[lang=fa] .sdg-section .message,html[lang=sf] .sdg-section .message{padding-right:10px}html[lang=ar] .sdg-mobile .swiper-ico,html[lang=fa] .sdg-mobile .swiper-ico,html[lang=sf] .sdg-mobile .swiper-ico{left:auto;right:15px}@media (min-width:1200px){html[lang=ru] .row-fao-homepage-hero .hero-caption h1,html[lang=ru] .row-fao-homepage-hero .hero-caption h6,html[lang=ru] .row-fao-homepage-hero .hero-caption p{width:50%}}html[lang=ru] .sdg-section .message p{font-size:12px}.banner-slide .col .btn{border-color:#1b1815!important}.banner-slide .col .btn:active,.banner-slide .col .btn:active:focus,.banner-slide .col .btn:focus{background-color:#1b1815!important;border-color:#1b1815!important;color:#fff}.hero-banner.svelte-1bgs4u2{background-color:#f4f4f4}.row-fao-homepage-hero .hero-banner .hero-banner-video{width:440px;left:50%;opacity:1;mix-blend-mode:multiply}.hero-banner .hero-banner-video,.hero-banner:before{opacity:0}@media (min-width: 992px){.hero-banner .hero-caption *{color:#000}}@media (min-width: 992px){.row-fao-homepage-hero .hero-caption h1,.row-fao-homepage-hero .hero-caption h6,.row-fao-homepage-hero .hero-caption p{width:40%}}.row-fao-homepage-hero .hero-banner .hero-banner-video{transform:translate(-50%)}@media (min-width: 992px){.row-fao-homepage-hero .hero-banner .hero-banner-video{transform:none}}

</style>

    </div>
</div>
<div id="Contentplaceholder1_C001_Col00" class="sf_colsIn container" data-sf-element="Container" data-placeholder-label="Container"><div class="row" data-sf-element="Row">
    <div id="Contentplaceholder1_C096_Col00" class="sf_colsIn col-md-12" data-sf-element="Column 1" data-placeholder-label="Column 1">
<div class="search-container search-results-container" style="margin-bottom: 2rem;"><div class="gcse-searchbox-only" data-resultsUrl="/home/search/en/"></div></div>


    </div>
</div>
<div class="row" data-sf-element="Row">
<div id="Contentplaceholder1_C008_Col00" class="sf_colsIn col-md-8" data-sf-element="Column 1" data-placeholder-label="Column 1">
<div >
    <div class="sfContentBlock sf-Long-text" ><h5 class="sub-title small">Highlights</h5></div>
</div>
</div>
<div id="Contentplaceholder1_C008_Col01" class="sf_colsIn col-md-4 d-none d-md-block" data-sf-element="Column 2" data-placeholder-label="Column 2">
<div >
    <div class="sfContentBlock sf-Long-text" ><h5 class="sub-title small">Director-General</h5></div>
</div>
</div>
</div>
<div class="row card-image-fix" data-sf-element="Row">
<div id="Contentplaceholder1_C007_Col00" class="sf_colsIn col-md-4" data-sf-element="Column 1" data-placeholder-label="Column 1">


<div class="card border-0  ">
        <div class="card-image ratio ratio-3x2">
            <img src='https://www.fao.org/images/homepagelibraries/data/uf14b79-00268771.jpg?sfvrsn=d6660ea5_1' alt='' loading="lazy"/>
        </div>

    <div class="card-body">
            <h6 class="title-category">News</h6>
        <h5 class="card-title">
                <a href="https://www.fao.org/newsroom/detail/fao-to-support-implementation-of-new-un-treaty-targeting-the-conservation-and-sustainable-use-of-biodiversity-in-international-waters/en" class="title-link title-link stretched-link" target="_blank">FAO to support implementation of new UN treaty targeting the conservation and sustainable use of biodiversity in international waters</a>
        </h5>

            <p class="card-text"><p>BBNJ Agreement will enter into force in January</p></p>
            </div>
</div>
</div>
<div id="Contentplaceholder1_C007_Col01" class="sf_colsIn col-md-4" data-sf-element="Column 2" data-placeholder-label="Column 2">


<div class="card border-0  ">
        <div class="card-image ratio ratio-3x2">
            <img src='https://www.fao.org/images/homepagelibraries/data/sdg-uf11zqk-00075993.jpg?sfvrsn=7ca08b22_1' alt='' loading="lazy"/>
        </div>

    <div class="card-body">
            <h6 class="title-category">News</h6>
        <h5 class="card-title">
                <a href="https://www.fao.org/newsroom/detail/new-fao-report-assesses-progress-towards-food-and-agriculture-sdg-indicators/en" class="title-link title-link stretched-link" target="_blank">New FAO report assesses progress towards food and agriculture SDG indicators</a>
        </h5>

            <p class="card-text"><p>FAO is the custodian of 22 Sustainable Development Goals indicators</p></p>
            </div>
</div>
</div>
<div id="Contentplaceholder1_C007_Col02" class="sf_colsIn col-md-4 slot-dg-corner d-none d-md-block" data-sf-element="Column 3" data-placeholder-label="Column 3">


<div class="card bg-gray-light  ">
        <div class="card-image ratio ratio-3x2">
            <img src='https://www.fao.org/images/homepagelibraries/dg-corner/ff78522b-e342-48ee-857e-5d4aa0373467ed2214b0936c4b6c80334e5ce85aa7b5.jpeg?sfvrsn=304e5f69_3' alt='' loading="lazy"/>
        </div>
    <div class="card-body">
        <h5 class="card-title">
                <a href="https://www.fao.org/director-general/news/details/director-general-addresses-future-of-agrifood-systems-at-un-general-assembly-events-in-new-york/en" class="title-link title-link" target="_blank">Director-General addresses future of agrifood systems at UN General Assembly</a>
        </h5>

            <p class="card-text">QU Dongyu participated in several high-level events to advocate for strategic pathways to transform global agrifood systems</p>

    </div>
</div>
</div>
</div>
<div class="row" data-sf-element="Row">
    <div id="Contentplaceholder1_C028_Col00" class="sf_colsIn col-md-4" data-sf-element="Column 1" data-placeholder-label="Column 1">


<div class="card border-0  ">
        <div class="card-image ratio ratio-3x2">
            <img src='https://www.fao.org/images/homepagelibraries/interactive-stories/interactive-avian-flu.jpg?sfvrsn=bc3aea74_1' alt='' loading="lazy"/>
        </div>

    <div class="card-body">
            <h6 class="title-category">Interactive story</h6>
        <h5 class="card-title">
                <a href="https://www.fao.org/interactive/2025/avian-influenza/en/" class="title-link title-link stretched-link" target="_blank">Avian influenza: inside the fight against a global threat</a>
        </h5>

            <p class="card-text">Discover how we are helping countries tackle an unprecedented crisis.</p>
            </div>
</div>
    </div>
    <div id="Contentplaceholder1_C028_Col01" class="sf_colsIn col-md-4" data-sf-element="Column 2" data-placeholder-label="Column 2">


<div class="card border-0 card-h-100 ">
        <div class="card-image ratio ratio-3x2">
            <img src='https://www.fao.org/images/homepagelibraries/in-focus/fao-mune3.jpg?sfvrsn=a80f926c_11' alt='' loading="lazy"/>
        </div>

    <div class="card-body">
            <h6 class="title-category">In Focus</h6>
        <h5 class="card-title">
                <a href="https://www.fao.org/museum-network" class="title-link title-link stretched-link" target="_self">Discover the FAO Museum and Network (MuNe)</a>
        </h5>

            <p class="card-text">Explore how this new global initiative will bring together cultures, innovation and knowledge to highlight the power of agrifood systems in advancing sustainable development.</p>
            </div>
</div>
    </div>
    <div id="Contentplaceholder1_C028_Col02" class="sf_colsIn col-md-4" data-sf-element="Column 3" data-placeholder-label="Column 3">


<div class="card border-0  ">
        <div class="card-image ratio ratio-3x2">
            <img src='https://www.fao.org/images/homepagelibraries/other/fao-response-to-global-food-security.jpg?sfvrsn=fe86b035_13' alt='' loading="lazy"/>
        </div>

    <div class="card-body">
            <h6 class="title-category">In Focus</h6>
        <h5 class="card-title">
                <a href="https://www.fao.org/in-focus/en/" class="title-link title-link" target="_blank">FAO response to global food security challenges</a>
        </h5>

            <p class="card-text">Data analyses, policy recommendations, and actions on the ground.</p>
            </div>
</div>
    </div>
</div>
<div class="row" data-sf-element="Row">
    <div id="Contentplaceholder1_C140_Col00" class="sf_colsIn col-md-4" data-sf-element="Column 1" data-placeholder-label="Column 1">


<div class="card border-0  ">
        <div class="card-image ratio ratio-3x2">
            <img src='https://www.fao.org/images/homepagelibraries/publications/1000086674.jpg?sfvrsn=826ec90b_1' alt='' loading="lazy"/>
        </div>

    <div class="card-body">
            <h6 class="title-category">Publication</h6>
        <h5 class="card-title">
                <a href="https://openknowledge.fao.org/items/ca6a564e-afdc-4195-87ed-0d33545c0179" class="title-link title-link" target="_self">Tracking progress on food and agriculture-related SDG indicators</a>
        </h5>

            <p class="card-text">Discover data and trends on selected indicators under FAO custodianship across six Sustainable Development Goals (SDGs), highlighting key progress and gaps.</p>
            </div>
</div>
    </div>
    <div id="Contentplaceholder1_C140_Col01" class="sf_colsIn col-md-4" data-sf-element="Column 2" data-placeholder-label="Column 2">


<div class="card border-0 card-h-100 ">
        <div class="card-image ratio ratio-3x2">
            <img src='https://www.fao.org/images/homepagelibraries/in-focus/fao-ny.jpg?sfvrsn=ed055142_1' alt='' loading="lazy"/>
        </div>

    <div class="card-body">
            <h6 class="title-category">In Focus</h6>
        <h5 class="card-title">
                <a href="https://www.fao.org/new-york/events/detail/fao-at-unga80/en" class="title-link title-link" target="_self">FAO at the UN General Assembly</a>
        </h5>

            <p class="card-text">Find out about FAO's participation at the 80th session of the UN General Assembly.</p>
            </div>
</div>
    </div>
    <div id="Contentplaceholder1_C140_Col02" class="sf_colsIn col-md-4" data-sf-element="Column 3" data-placeholder-label="Column 3">


<div class="card border-0  ">
        <div class="card-image ratio ratio-3x2">
            <img src='https://www.fao.org/images/homepagelibraries/data/montenegro-dairy-tourism-hp.jpg?sfvrsn=f7ae0275_1' alt='' loading="lazy"/>
        </div>

    <div class="card-body">
            <h6 class="title-category">Story</h6>
        <h5 class="card-title">
                <a href="https://www.fao.org/newsroom/story/passing-the-baton-of-knowledge-and-opportunity/en" class="title-link title-link stretched-link" target="_blank">Passing the baton of knowledge and opportunity</a>
        </h5>

            <p class="card-text"><p>Thriving dairy farm becomes role model and unveils agritourism prospects in rural Montenegro</p></p>
            </div>
</div>
    </div>
</div>
<div class="row" data-sf-element="Row">
<div id="Contentplaceholder1_C106_Col00" class="sf_colsIn col-md-12  d-block d-md-none" data-sf-element="Column 1" data-placeholder-label="Column 1">
<div >
    <div class="sfContentBlock sf-Long-text" ><h5 class="sub-title small">Director-General</h5></div>
</div>


<div class="card bg-gray-light  ">
        <div class="card-image ratio ratio-3x2">
            <img src='https://www.fao.org/images/homepagelibraries/dg-corner/ff78522b-e342-48ee-857e-5d4aa0373467ed2214b0936c4b6c80334e5ce85aa7b5.jpeg?sfvrsn=304e5f69_3' alt='' loading="lazy"/>
        </div>
    <div class="card-body">
        <h5 class="card-title">
                <a href="https://www.fao.org/director-general/news/details/director-general-addresses-future-of-agrifood-systems-at-un-general-assembly-events-in-new-york/en" class="title-link title-link" target="_blank">Director-General addresses future of agrifood systems at UN General Assembly</a>
        </h5>

            <p class="card-text">QU Dongyu participated in several high-level events to advocate for strategic pathways to transform global agrifood systems</p>

    </div>
</div>
</div>
</div>

<div >
    <div class="sfContentBlock sf-Long-text" ><h5 class="sub-title small">Join the conversation</h5></div>
</div><div class="row" data-sf-element="Row">
    <div id="Contentplaceholder1_C011_Col00" class="sf_colsIn col-md-12" data-sf-element="Column 1" data-placeholder-label="Column 1"><div class="row row-fao-homepage-small-slots" data-sf-element="Row">
<div id="Contentplaceholder1_C013_Col00" class="sf_colsIn col-md-4 card-social-facebook" data-sf-element="Column 1" data-placeholder-label="Column 1">


<div class="card border-0  ">
        <div class="card-image ratio ratio-3x2">
            <img src='https://www.fao.org/images/homepagelibraries/social-media/en-fb_230925.png?sfvrsn=90467713_1' alt='' loading="lazy"/>
        </div>

    <div class="card-body">
            <h6 class="title-category">Facebook</h6>
        <h5 class="card-title">
                <a href="https://fb.watch/CimvdeiMiI/" class="title-link title-link stretched-link" target="_blank">Honour our roots. Cultivate innovation. Harvest a better future for all</a>
        </h5>

            </div>
</div>
</div>
<div id="Contentplaceholder1_C013_Col01" class="sf_colsIn col-md-4 card-social-twitter" data-sf-element="Column 2" data-placeholder-label="Column 2">


<div class="card border-0  ">
        <div class="card-image ratio ratio-3x2">
            <img src='https://www.fao.org/images/homepagelibraries/social-media/en-x_230925.png?sfvrsn=c246dc6f_1' alt='' loading="lazy"/>
        </div>

    <div class="card-body">
            <h6 class="title-category">X</h6>
        <h5 class="card-title">
                <a href="https://x.com/FAO/status/1970062300984787199" class="title-link title-link stretched-link" target="_blank">Standing by the people of Sudan</a>
        </h5>

            </div>
</div>
</div>
<div id="Contentplaceholder1_C013_Col02" class="sf_colsIn col-md-4 card-social-instagram" data-sf-element="Column 3" data-placeholder-label="Column 3">


<div class="card border-0  ">
        <div class="card-image ratio ratio-3x2">
            <img src='https://www.fao.org/images/homepagelibraries/social-media/en-ig_230925.png?sfvrsn=93943e19_1' alt='' loading="lazy"/>
        </div>

    <div class="card-body">
            <h6 class="title-category">Instagram</h6>
        <h5 class="card-title">
                <a href="https://www.instagram.com/p/DOxtbiRjpUS/?utm_source=ig_web_copy_link&amp;igsh=Y2RkNXd0dng1cTJs" class="title-link title-link stretched-link" target="_blank">Why caring for our soils means caring for our planet</a>
        </h5>

            </div>
</div>
</div>
</div>

    </div>
</div>

</div>
<div class="row bg-gray-dark row-fao-homepage-multimedia" data-sf-element="Row">
<div id="Contentplaceholder1_C014_Col00" class="sf_colsIn col-md-12" data-sf-element="Column 1" data-placeholder-label="Column 1"><div id="Contentplaceholder1_C015_Col00" class="sf_colsIn container" data-sf-element="Container" data-placeholder-label="Container"><div class="row" data-sf-element="Row">
    <div id="Contentplaceholder1_C016_Col00" class="sf_colsIn col-md-12" data-sf-element="Column 1" data-placeholder-label="Column 1">
<div >
    <div class="sfContentBlock sf-Long-text" ><h4 class="title-highlight mb-5" style="text-align: center">Voices of Impact</h4></div>
</div>

<!-- Title -->






        <div class="d-list d-list-video d-list-player _full-column">
            <div class="d-list-visual ratio ratio-3x2">
                <iframe src='https://www.youtube.com/embed/AgpG-pUfNeg?feature=shared' title='YouTube video player' frameborder='0' allow='accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture' allowfullscreen allow-presentation></iframe>
            </div>
            <div class="d-list-content">
                <h5 class="title-link">
                    <a href="https://youtu.be/AgpG-pUfNeg?feature=shared"  target=_blank  class="title-link">The Chocolate Island: Growing sustainable cocoa in Sao Tome</a>
                </h5>
                <h6 class="date">19/09/2025</h6>
                <p>FAO is supporting cocoa farmers in Sao Tome and Principe, particularly women, with improved agroforestry techniques and organic, fair-trade certifications. Discover how farmers like Camila are boosting production, accessing better markets, and improving their livelihoods to support their families.</p>
                <!-- Show Classifications -->
                



            </div>
        </div>

<!-- More View -->












    </div>
</div>
<div class="row" data-sf-element="Row">
    <div id="Contentplaceholder1_C017_Col00" class="sf_colsIn col-md-6" data-sf-element="Column 1" data-placeholder-label="Column 1">
<div >
    <div class="sfContentBlock sf-Long-text" ><h5 class="sub-title small">Video</h5></div>
</div>
<!-- Title -->







        <div class="card bg-gray-dark   _half-column">
            <!--<div class="card-image embed-responsive">-->
            
            
            <div class="card-image ratio ratio-3x2">
                <iframe src='https://www.youtube.com/embed/UktcSTrYkhA' title='YouTube video player' frameborder='0' allow='accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture' allowfullscreen allow-presentation></iframe>
            </div>
            <!--</div>-->
            <div class="card-body">
                <h5 class="card-title">
                    <a href="https://www.youtube.com/watch?v=UktcSTrYkhA"  class="title-link">Avian influenza threatens health, food, and economies worldwide</a>
                </h5>
                <h6 class="date">
                    08/09/2025
                </h6>
                    <p class="card-text">
        Here are four reasons it should be on your radar and how FAO is working to protect animals and humans from this serious disease.
    </p>

                <!-- Show Classifications -->
                


            </div>
        </div>

<!-- More View -->













<!-- Title -->







<!-- More View -->












    </div>
    <div id="Contentplaceholder1_C017_Col01" class="sf_colsIn col-md-6" data-sf-element="Column 2" data-placeholder-label="Column 2">
<div >
    <div class="sfContentBlock sf-Long-text" ><h5 class="sub-title small">Podcast</h5></div>
</div>

<style>
    iframe div.visualAudible__header {
        display: none !important;
    }
</style>







    <div class="d-list d-list-audio d-list-player">
        <div class="d-list-visual">
<iframe width='100%' height='100%' scrolling='no' frameborder='no' allow='autoplay' src='https://w.soundcloud.com/player/?url=https://soundcloud.com/unfao/wfd-psa-2025-en&color=%23ff5500&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true'></iframe>
        </div>
        <div class="d-list-content">
            <h5 class="title-link">
                <a href="https://soundcloud.com/unfao/wfd-psa-2025-en"  class="title-link">World Food Day 2025 - Public Service Announcement</a>
            </h5>
            <h6 class="date">26/09/2025</h6>
            <p>What is food? Food is life. Food is memory, roots, land, and the knowledge of our ancestors. Food is a right, not a privilege. Eighty years ago, the world made a promise to grow, share, feed communities and live better through food. This World Food Day, October 16, let’s all walk together hand in hand. Honour traditions. Cultivate innovation. Harvest a better future. To leave no one behind.</p>
            <!-- Show Classifications -->
            


        </div>
    </div>

<!-- More View -->













<style>
    iframe div.visualAudible__header {
        display: none !important;
    }
</style>








<!-- More View -->












<a href="https://open.spotify.com/show/0evs1dnmU38T6dXTapORJP?si=d4adf98e69bc4c84" title="Spotify" class="link-icon me-4" target="_blank"><i class="bi bi-spotify"></i><span>Listen on Spotify</span></a>
    <a href="https://podcasts.apple.com/us/podcast/fao-podcasts/id1106944351" title="Apple Podcasts" class="link-icon" target="_blank"><i class="bi bi-apple"></i><span>Listen on Apple Podcasts</span></a> 
    </div>
</div>

</div>

</div>
</div>
<div class="row row-fao-homepage-data" data-sf-element="Row">
    <div id="Contentplaceholder1_C051_Col00" class="sf_colsIn col-md-12" data-sf-element="Column 1" data-placeholder-label="Column 1"><div id="Contentplaceholder1_C052_Col00" class="sf_colsIn" data-sf-element="Container" data-placeholder-label="Container"><div class="row m-0 p-0" data-sf-element="Row">
    <div id="Contentplaceholder1_C053_Col00" class="sf_colsIn col-md-12 m-0 p-0" data-sf-element="Column 1" data-placeholder-label="Column 1">
<div >
    <div class="sfContentBlock sf-Long-text" ><h4 class="title-highlight mb-4" style="text-align: center">Data</h4><h5 class="mt-3 mb-4" style="text-align: center">Hunger map</h5></div>
</div>
<iframe src="https://www.fao.org/interactive/hunger-map/en/" frameborder="0" height="600" width="100%"
    title="Hunger Map" name="Hunger Map"></iframe>
      <p class="text-center">For more, read the full <a href="https://openknowledge.fao.org/handle/20.500.14283/cd6008en" target="_blank">SOFI
            2025</a> report.</p><div class="row d-none" data-sf-element="Row">
    <div id="Contentplaceholder1_C120_Col00" class="sf_colsIn col-md-4" data-sf-element="Column 1" data-placeholder-label="Column 1">
<div class="data-home-cards-container">

    <div class="data-home-card mb-4">
        <div class="data-home-card-ref">
            <h5>2020 World</h5>
        </div>
        <div class="data-home-card-number">
            <h2>31.2%</h2>
        </div>
    </div>

    <div class="data-home-card mb-4">
        <div class="data-home-card-ref">
            <h5>2010 World</h5>
        </div>
        <div class="data-home-card-number">
            <h2>31.5%</h2>
        </div>		
    </div>
</div>
  
    </div>
    <div id="Contentplaceholder1_C120_Col01" class="sf_colsIn col-md-8" data-sf-element="Column 2" data-placeholder-label="Column 2">
    </div>
</div>

    </div>
</div>

</div>

    </div>
</div>
<div id="Contentplaceholder1_C055_Col00" class="sf_colsIn container container-in-depth" data-sf-element="Container" data-placeholder-label="Container"><div class="row" data-sf-element="Row">
<div id="Contentplaceholder1_C056_Col00" class="sf_colsIn col-md-12" data-sf-element="Column 1" data-placeholder-label="Column 1">
<div >
    <div class="sfContentBlock sf-Long-text" ><h4 class="title-highlight mb-5" style="text-align: center">In depth</h4></div>
</div><div class="row card-image-fix" data-sf-element="Row">
    <div id="Contentplaceholder1_C071_Col00" class="sf_colsIn col-md-4" data-sf-element="Column 1" data-placeholder-label="Column 1">


<div class="card border-0  ">
        <div class="card-image ratio ratio-3x2">
            <img src='https://www.fao.org/images/homepagelibraries/in-focus/card-tp.jpg?sfvrsn=323d2ae5_11' alt='' loading="lazy"/>
        </div>

    <div class="card-body">
            <h6 class="title-category">In Focus</h6>
        <h5 class="card-title">
                <a href="https://www.fao.org/transparency/en" class="title-link title-link stretched-link" target="_self">Discover the enhanced FAO Transparency Portal</a>
        </h5>

            <p class="card-text">Explore new dashboards on programme, budget and HR, alongside updated project data, for deeper insights into how we work.</p>
            </div>
</div>
    </div>
    <div id="Contentplaceholder1_C071_Col01" class="sf_colsIn col-md-4" data-sf-element="Column 2" data-placeholder-label="Column 2">


<div class="card border-0  ">
        <div class="card-image ratio ratio-3x2">
            <img src='https://www.fao.org/images/homepagelibraries/publications/medium-term-plan.jpg?sfvrsn=ee5dc3f8_11' alt='' loading="lazy"/>
        </div>

    <div class="card-body">
            <h6 class="title-category">Publication</h6>
        <h5 class="card-title">
                <a href="https://openknowledge.fao.org/server/api/core/bitstreams/208c1e64-63fc-4b8e-9d06-c3ad68c4a0c0/content" class="title-link title-link stretched-link" target="_self">Medium Term Plan and Programme of Work</a>
        </h5>

            <p class="card-text"><div title="Page 1" class="page"><div class="section"><div class="layoutArea"><div class="column"><p>The Director-General’s Medium Term Plan  2026-29 and Programme of Work and Budget 2026-27.</p></div></div></div></div></p>
            </div>
</div>
    </div>
    <div id="Contentplaceholder1_C071_Col02" class="sf_colsIn col-md-4" data-sf-element="Column 3" data-placeholder-label="Column 3">


<div class="card border-0  ">
        <div class="card-image ratio ratio-3x2">
            <img src='https://www.fao.org/images/homepagelibraries/default-album/datalab.jpg?sfvrsn=da7ba527_1' alt='' loading="lazy"/>
        </div>

    <div class="card-body">
            <h6 class="title-category">In Focus</h6>
        <h5 class="card-title">
                <a href="https://www.fao.org/datalab/home" class="title-link title-link stretched-link" target="_blank">FAO Data Lab</a>
        </h5>

            <p class="card-text">The FAO Data Lab for Statistical Innovation modernizes&nbsp;the statistical business process, with a specific focus on emergency contexts, when having access to timely information is very important.</p>
            </div>
</div>
    </div>
</div>

</div>
</div>

</div>
<div id="Contentplaceholder1_C045_Col00" class="sf_colsIn container container-sdg" data-sf-element="Container" data-placeholder-label="Container"><div class="row" data-sf-element="Row">
    <div id="Contentplaceholder1_C046_Col00" class="sf_colsIn col-md-12" data-sf-element="Column 1" data-placeholder-label="Column 1">
<div >
    <div class="sfContentBlock sf-Long-text" ><h4 class="title-highlight mb-5" style="text-align: center">FAO and the SDGs</h4></div>
</div>
    </div>
</div>
<div class="row" data-sf-element="Row">
    <div id="Contentplaceholder1_C047_Col00" class="sf_colsIn col-md-12" data-sf-element="Column 1" data-placeholder-label="Column 1">
<div class="sdg-section d-none d-md-block" loading="lazy">
    <div class="message">
        <p>FAO supports governments and partners to design the right policies and programmes to end hunger, promote
            food security and promote sustainable agriculture for millions of
            people around the
            world.</p>
    </div>
    <div class="grid-item grid-item--width5 photo">
        <div class="intro">
            <h5>Hover the mouse over an SDG icon for more information</h5>
            <p>A world free from hunger and malnutrition where food and agriculture contributes to improving the living
                standards of all
            </p>
        </div>
        <div data-sdg="1"><img loading="lazy" src="/images/homepagelibraries/default-album/sdg-1.png"
                alt="sdg photo" />
            <p>FAO works with governments and partners to empower some of the world&rsquo;s most marginalized people to
                end rural poverty. </p>
            <!--span class="small-title">CLICK FOR MORE</span-->
        </div>
        <div data-sdg="2"><img loading="lazy" src="/images/homepagelibraries/default-album/sdg-2.png"
                alt="sdg photo" />
            <p>FAO helps ensure food security by developing ways of growing food that will work in the future so that
                millions of people don&rsquo;t go hungry.</p>
            <!--span class="small-title">CLICK FOR MORE</span-->
        </div>
        <div data-sdg="3"><img loading="lazy" src="/images/homepagelibraries/default-album/sdg-3.png"
                alt="sdg photo" />
            <p>Good health starts with nutrition. FAO sets global standards and works with governments and the private
                sector to ensure food quality and safety throughout the food chain.</p>
            <!--span class="small-title">CLICK FOR MORE</span-->
        </div>
        <div data-sdg="4"><img loading="lazy" src="/images/homepagelibraries/default-album/sdg-4.png"
                alt="sdg photo" />
            <p>FAO invests in educational systems for rural communities and supports improved access to primary
                education and school meals in order to create equal opportunities for all and chances of lifelong
                learning. </p>
            <!--span class="small-title">CLICK FOR MORE</span-->
        </div>
        <div data-sdg="5"><img loading="lazy" src="/images/homepagelibraries/default-album/sdg-5.png"
                alt="sdg photo" />
            <p>FAO supports gender equality in the agricultural sector in an effort to raise levels of nutrition in
                local communities and improve agricultural productivity. </p>
            <!--span class="small-title">CLICK FOR MORE</span-->
        </div>
        <div data-sdg="6"><img loading="lazy" src="/images/homepagelibraries/default-album/sdg-6.png"
                alt="sdg photo" />
            <p>FAO works with governments to ensure water use in agriculture is made more efficient, equitable and
                environmentally friendly.</p>
            <!--span class="small-title">CLICK FOR MORE</span-->
        </div>
        <div data-sdg="7"><img loading="lazy" src="/images/homepagelibraries/default-album/sdg-7.png"
                alt="sdg photo" />
            <p>FAO promotes the use of renewable energies and works to ensure access to modern energy services across
                the food chain.</p>
            <!--span class="small-title">CLICK FOR MORE</span-->
        </div>
        <div data-sdg="8"><img loading="lazy" src="/images/homepagelibraries/default-album/sdg-8.png"
                alt="sdg photo" />
            <p>FAO seeks better economic opportunities for all by investing in sustainable agricultural practices and
                food systems that reduce inequalities and create decent jobs. </p>
            <!--span class="small-title">CLICK FOR MORE</span-->
        </div>
        <div data-sdg="9"><img loading="lazy" src="/images/homepagelibraries/default-album/sdg-9.png"
                alt="sdg photo" />
            <p>FAO seeks to secure a future for rural communities via investments in transportation, irrigation, food
                storage facilities and communication technologies. </p>
            <!--span class="small-title">CLICK FOR MORE</span-->
        </div>
        <div data-sdg="10"><img loading="lazy"
                src="/images/homepagelibraries/default-album/sdg-10.png" alt="sdg photo" />
            <p>FAO works with countries and partners to generate employment in rural areas, ensure access to natural
                resources for the most vulnerable and connect farmers to markets.</p>
            <!--span class="small-title">CLICK FOR MORE</span-->
        </div>
        <div data-sdg="11"><img loading="lazy"
                src="/images/homepagelibraries/default-album/sdg-11.png" alt="sdg photo" />
            <p>FAO works to improve urban healthcare, water quality and rethink city region food systems to help deter
                the negative effects of sprawling urbanisation.</p>
            <!--span class="small-title">CLICK FOR MORE</span-->
        </div>
        <div data-sdg="12"><img loading="lazy"
                src="/images/homepagelibraries/default-album/sdg-12.png" alt="sdg photo" />
            <p>FAO coordinates major global initiatives and projects to tackle food waste and loss, partnering with
                international organisations, the private sector and civil society.</p>
            <!--span class="small-title">CLICK FOR MORE</span-->
        </div>
        <div data-sdg="13"><img loading="lazy"
                src="/images/homepagelibraries/default-album/sdg-13.png" alt="sdg photo" />
            <p>FAO supports countries in responding to the threats of climate change by providing advice, data and tools
                for better agricultural policies and practices.</p>
            <!--span class="small-title">CLICK FOR MORE</span-->
        </div>
        <div data-sdg="14"><img loading="lazy"
                src="/images/homepagelibraries/default-album/sdg-14.png" alt="sdg photo" />
            <p>FAO, in partnership with governments and fishing communities, implements best practices in fisheries to
                ensure our oceans are protected as a means of livelihoods.</p>
            <!--span class="small-title">CLICK FOR MORE</span-->
        </div>
        <div data-sdg="15"><img loading="lazy"
                src="/images/homepagelibraries/default-album/sdg-15.png" alt="sdg photo" />
            <p>FAO promotes sustainable approaches to natural resource management and supports endeavours that promote a
                balance between conservation and development initiatives.</p>
            <!--span class="small-title">CLICK FOR MORE</span-->
        </div>
        <div data-sdg="16"><img loading="lazy"
                src="/images/homepagelibraries/default-album/sdg-16.png" alt="sdg photo" />
            <p>FAO plays a critical role in peacebuilding, restoring rural livelihoods, building resilience and
                participatory approaches to policymaking.</p>
            <!--span class="small-title">CLICK FOR MORE</span-->
        </div>
        <div data-sdg="17"><img loading="lazy"
                src="/images/homepagelibraries/default-album/sdg-17.png" alt="sdg photo" />
            <p>FAO acts as a neutral policymaking forum and develops partnerships with all concerned with food and
                agriculture to ensure a world free from hunger.</p>
            <!--span class="small-title">CLICK FOR MORE</span-->
        </div>
    </div>
    <div class="sdg-tiles">
        <div data-sdg="1" class="grid-item grid-item--width2 sdg-1"><img loading="lazy"
                src="/images/corporatelibraries/sdg-logo/sdg01-en.svg" alt="sdg photo" /><span
               
                class="btn btn-default btn-sdg" data-sf-ec-immutable=""></span></div>
        <div data-sdg="2" class="grid-item grid-item--width4 sdg-2"><img loading="lazy"
                src="/images/corporatelibraries/sdg-logo/sdg02-en.svg" alt="sdg photo" /><span
              
                class="btn btn-default btn-sdg" data-sf-ec-immutable=""></span></div>
        <div data-sdg="3" class="grid-item grid-item--width1 sdg-3"><img loading="lazy"
                src="/images/corporatelibraries/sdg-logo/sdg03-en.svg" alt="sdg photo" /><span
               
                class="btn btn-default btn-sdg" data-sf-ec-immutable=""></span></div>
        <div data-sdg="4" class="grid-item grid-item--width1 sdg-4"><img loading="lazy"
                src="/images/corporatelibraries/sdg-logo/sdg04-en.svg" alt="sdg photo" /><span
               
                class="btn btn-default btn-sdg" data-sf-ec-immutable=""></span></div>
        <div data-sdg="5" class="grid-item grid-item--width2 sdg-5"><img loading="lazy"
                src="/images/corporatelibraries/sdg-logo/sdg05-en.svg" alt="sdg photo" /><span
               
                class="btn btn-default btn-sdg" data-sf-ec-immutable=""></span></div>
        <div data-sdg="6" class="grid-item grid-item--width2 sdg-6"><img loading="lazy"
                src="/images/corporatelibraries/sdg-logo/sdg06-en.svg" alt="sdg photo" /><span
               
                class="btn btn-default btn-sdg" data-sf-ec-immutable=""></span></div>
        <div data-sdg="7" class="grid-item grid-item--width1 sdg-7"><img loading="lazy"
                src="/images/corporatelibraries/sdg-logo/sdg07-en.svg" alt="sdg photo" /><span
               
                class="btn btn-default btn-sdg" data-sf-ec-immutable=""></span></div>
        <div data-sdg="8" class="grid-item grid-item--width1 sdg-8"><img loading="lazy"
                src="/images/corporatelibraries/sdg-logo/sdg08-en.svg" alt="sdg photo" /><span
               
                class="btn btn-default btn-sdg" data-sf-ec-immutable=""></span></div>
        <div data-sdg="9" class="grid-item grid-item--width1 sdg-9"><img loading="lazy"
                src="/images/corporatelibraries/sdg-logo/sdg09-en.svg" alt="sdg photo" /><span
               
                class="btn btn-default btn-sdg" data-sf-ec-immutable=""></span></div>
        <div data-sdg="10" class="grid-item grid-item--width1 sdg-10"><img loading="lazy"
                src="/images/corporatelibraries/sdg-logo/sdg10-en.svg" alt="sdg photo" /><span
               
                class="btn btn-default btn-sdg" data-sf-ec-immutable=""></span></div>
        <div data-sdg="11" class="grid-item grid-item--width1 sdg-11"><img loading="lazy"
                src="/images/corporatelibraries/sdg-logo/sdg11-en.svg" alt="sdg photo" /><span
               
                class="btn btn-default btn-sdg" data-sf-ec-immutable=""></span></div>
        <div data-sdg="12" class="grid-item grid-item--width1 sdg-12"><img loading="lazy"
                src="/images/corporatelibraries/sdg-logo/sdg12-en.svg" alt="sdg photo" /><span
               
                class="btn btn-default btn-sdg" data-sf-ec-immutable=""></span></div>
        <div data-sdg="13" class="grid-item grid-item--width1 sdg-13"><img loading="lazy"
                src="/images/corporatelibraries/sdg-logo/sdg13-en.svg" alt="sdg photo" /><span
               
                class="btn btn-default btn-sdg" data-sf-ec-immutable=""></span></div>
        <div data-sdg="14" class="grid-item grid-item--width3 sdg-14"><img loading="lazy"
                src="/images/corporatelibraries/sdg-logo/sdg14-en.svg" alt="sdg photo" /><span
               
                class="btn btn-default btn-sdg" data-sf-ec-immutable=""></span></div>
        <div data-sdg="15" class="grid-item grid-item--width3 sdg-15"><img loading="lazy"
                src="/images/corporatelibraries/sdg-logo/sdg15-en.svg" alt="sdg photo" /><span
               
                class="btn btn-default btn-sdg" data-sf-ec-immutable=""></span></div>
        <div data-sdg="16" class="grid-item grid-item--width1 sdg-16"><img loading="lazy"
                src="/images/corporatelibraries/sdg-logo/sdg16-en.svg" alt="sdg photo" /><span
               
                class="btn btn-default btn-sdg" data-sf-ec-immutable=""></span></div>
        <div data-sdg="17" class="grid-item grid-item--width1 sdg-17"><img loading="lazy"
                src="/images/corporatelibraries/sdg-logo/sdg17-en.svg" alt="sdg photo" /><span
               
                class="btn btn-default btn-sdg" data-sf-ec-immutable=""></span></div>
    </div>
    <div class="sdg-logo"></div>
</div>
<div class="sdg-mobile d-block d-md-none">
    <p class="sdg-mobile-message">FAO supports governments and partners to design the right policies and programmes to
        end hunger, promote
       food security and promote sustainable agriculture for millions of people
        around the
        world.</p>
    <!-- Slider main container -->
    <div class="swiper-container">
        <!-- Additional required wrapper -->
        <div class="swiper-wrapper">
            <!-- Slides -->
            <div class="swiper-slide" data-sdg="1">
                <div class="sdg-1 swiper-ico">
                    <img loading="lazy" src="/images/corporatelibraries/sdg-logo/sdg01-en.svg" alt="sdg photo" />
                </div>
                <div data-sdg="1" class="image-text-holder">
                    <div class="swiper-image">
                        <img loading="lazy" src="/images/homepagelibraries/default-album/sdg-1.png" alt="sdg photo" />
                    </div>
                    <div class="caption">
                        <p>FAO works with governments and partners to empower some of the world&rsquo;s most
                            marginalized people to end rural poverty. </p>
                    </div>
                </div>
            </div>
            <div class="swiper-slide" data-sdg="2">
                <div class="sdg-2 swiper-ico">
                    <img loading="lazy" src="/images/corporatelibraries/sdg-logo/sdg02-en.svg" alt="sdg photo" />
                </div>
                <div data-sdg="2" class="image-text-holder">
                    <div class="swiper-image">
                        <img loading="lazy" src="/images/homepagelibraries/default-album/sdg-2.png" alt="sdg photo" />
                    </div>
                    <div class="caption">
                        <p>FAO helps ensure food security by developing ways of growing food that will work in the
                            future so that millions of people don&rsquo;t go hungry.</p>
                    </div>
                </div>
            </div>
            <div class="swiper-slide" data-sdg="3">
                <div class="sdg-3 swiper-ico">
                    <img loading="lazy" src="/images/corporatelibraries/sdg-logo/sdg03-en.svg" alt="sdg photo" />
                </div>
                <div data-sdg="3" class="image-text-holder">
                    <div class="swiper-image">
                        <img loading="lazy" src="/images/homepagelibraries/default-album/sdg-3.png" alt="sdg photo" />
                    </div>
                    <div class="caption">
                        <p>Good health starts with nutrition. FAO sets global standards and works with governments and
                            the private sector to ensure food quality and safety throughout the food chain.</p>
                    </div>
                </div>
            </div>
            <div class="swiper-slide" data-sdg="4">
                <div class="sdg-4 swiper-ico">
                    <img loading="lazy" src="/images/corporatelibraries/sdg-logo/sdg04-en.svg" alt="sdg photo" />
                </div>
                <div data-sdg="4" class="image-text-holder">
                    <div class="swiper-image">
                        <img loading="lazy" src="/images/homepagelibraries/default-album/sdg-4.png" alt="sdg photo" />
                    </div>
                    <div class="caption">
                        <p>FAO invests in educational systems for rural communities and supports improved access to
                            primary education and school meals in order to create equal opportunities for all and
                            chances of lifelong learning. </p>
                    </div>
                </div>
            </div>
            <div class="swiper-slide" data-sdg="5">
                <div class="sdg-5 swiper-ico">
                    <img loading="lazy" src="/images/corporatelibraries/sdg-logo/sdg05-en.svg" alt="sdg photo" />
                </div>
                <div data-sdg="5" class="image-text-holder">
                    <div class="swiper-image">
                        <img loading="lazy" src="/images/homepagelibraries/default-album/sdg-5.png" alt="sdg photo" />
                    </div>
                    <div class="caption">
                        <p>FAO supports gender equality in the agricultural sector in an effort to raise levels of
                            nutrition in local communities and improve agricultural productivity.
                        </p>
                    </div>
                </div>
            </div>
            <div class="swiper-slide" data-sdg="6">
                <div class="sdg-6 swiper-ico">
                    <img loading="lazy" src="/images/corporatelibraries/sdg-logo/sdg06-en.svg" alt="sdg photo" />
                </div>
                <div data-sdg="6" class="image-text-holder">
                    <div class="swiper-image">
                        <img loading="lazy" src="/images/homepagelibraries/default-album/sdg-6.png" alt="sdg photo" />
                    </div>
                    <div class="caption">
                        <p>FAO works with governments to ensure water use in agriculture is made more efficient,
                            equitable and environmentally friendly.</p>
                    </div>
                </div>
            </div>
            <div class="swiper-slide" data-sdg="7">
                <div class="sdg-7 swiper-ico">
                    <img loading="lazy" src="/images/corporatelibraries/sdg-logo/sdg07-en.svg" alt="sdg photo" />
                </div>
                <div data-sdg="7" class="image-text-holder">
                    <div class="swiper-image">
                        <img loading="lazy" src="/images/homepagelibraries/default-album/sdg-7.png" alt="sdg photo" />
                    </div>
                    <div class="caption">
                        <p>FAO promotes the use of renewable energies and works to ensure access to modern energy
                            services across the food chain.</p>
                    </div>
                </div>
            </div>
            <div class="swiper-slide" data-sdg="8">
                <div class="sdg-8 swiper-ico">
                    <img loading="lazy" src="/images/corporatelibraries/sdg-logo/sdg08-en.svg" alt="sdg photo" />
                </div>
                <div data-sdg="8" class="image-text-holder">
                    <div class="swiper-image">
                        <img loading="lazy" src="/images/homepagelibraries/default-album/sdg-8.png" alt="sdg photo" />
                    </div>
                    <div class="caption">
                        <p>FAO seeks better economic opportunities for all by investing in sustainable agricultural
                            practices and food systems that reduce inequalities and create decent jobs. </p>
                    </div>
                </div>
            </div>
            <div class="swiper-slide" data-sdg="9">
                <div class="sdg-9 swiper-ico">
                    <img loading="lazy" src="/images/corporatelibraries/sdg-logo/sdg09-en.svg" alt="sdg photo" />
                </div>
                <div data-sdg="9" class="image-text-holder">
                    <div class="swiper-image">
                        <img loading="lazy" src="/images/homepagelibraries/default-album/sdg-9.png" alt="sdg photo" />
                    </div>
                    <div class="caption">
                        <p>FAO seeks to secure a future for rural communities via investments in transportation,
                            irrigation, food storage facilities and communication technologies. </p>
                    </div>
                </div>
            </div>
            <div class="swiper-slide" data-sdg="10">
                <div class="sdg-10 swiper-ico">
                    <img loading="lazy" src="/images/corporatelibraries/sdg-logo/sdg10-en.svg" alt="sdg photo" />
                </div>
                <div data-sdg="10" class="image-text-holder">
                    <div class="swiper-image">
                        <img loading="lazy" src="/images/homepagelibraries/default-album/sdg-10.png" alt="sdg photo" />
                    </div>
                    <div class="caption">
                        <p>FAO works with countries and partners to generate employment in rural areas, ensure access to
                            natural resources for the most vulnerable and connect farmers to markets.</p>
                    </div>
                </div>
            </div>
            <div class="swiper-slide" data-sdg="11">
                <div class="sdg-11 swiper-ico">
                    <img loading="lazy" src="/images/corporatelibraries/sdg-logo/sdg11-en.svg" alt="sdg photo" />
                </div>
                <div data-sdg="11" class="image-text-holder">
                    <div class="swiper-image">
                        <img loading="lazy" src="/images/homepagelibraries/default-album/sdg-11.png" alt="sdg photo" />
                    </div>
                    <div class="caption">
                        <p>FAO works to improve urban healthcare, water quality and rethink city region food systems to
                            help deter the negative effects of sprawling urbanisation.</p>
                    </div>
                </div>
            </div>
            <div class="swiper-slide" data-sdg="12">
                <div class="sdg-12 swiper-ico">
                    <img loading="lazy" src="/images/corporatelibraries/sdg-logo/sdg12-en.svg" alt="sdg photo" />
                </div>
                <div data-sdg="12" class="image-text-holder">
                    <div class="swiper-image">
                        <img loading="lazy" src="/images/homepagelibraries/default-album/sdg-12.png" alt="sdg photo" />
                    </div>
                    <div class="caption">
                        <p>FAO coordinates major global initiatives and projects to tackle food waste and loss,
                            partnering with international organisations, the private sector and civil society.</p>
                    </div>
                </div>
            </div>
            <div class="swiper-slide" data-sdg="13">
                <div class="sdg-13 swiper-ico">
                    <img loading="lazy" src="/images/corporatelibraries/sdg-logo/sdg13-en.svg" alt="sdg photo" />
                </div>
                <div data-sdg="13" class="image-text-holder">
                    <div class="swiper-image">
                        <img loading="lazy" src="/images/homepagelibraries/default-album/sdg-13.png" alt="sdg photo" />
                    </div>
                    <div class="caption">
                        <p>FAO supports countries in responding to the threats of climate change by providing advice,
                            data and tools for better agricultural policies and practices.</p>
                    </div>
                </div>
            </div>
            <div class="swiper-slide" data-sdg="14">
                <div class="sdg-14 swiper-ico">
                    <img loading="lazy" src="/images/corporatelibraries/sdg-logo/sdg14-en.svg" alt="sdg photo" />
                </div>
                <div data-sdg="14" class="image-text-holder">
                    <div class="swiper-image">
                        <img loading="lazy" src="/images/homepagelibraries/default-album/sdg-14.png" alt="sdg photo" />
                    </div>
                    <div class="caption">
                        <p>FAO, in partnership with governments and fishing communities, implements best practices in
                            fisheries to ensure our oceans are protected as a means of livelihoods.</p>
                    </div>
                </div>
            </div>
            <div class="swiper-slide" data-sdg="15">
                <div class="sdg-15 swiper-ico">
                    <img loading="lazy" src="/images/corporatelibraries/sdg-logo/sdg15-en.svg" alt="sdg photo" />
                </div>
                <div data-sdg="15" class="image-text-holder">
                    <div class="swiper-image">
                        <img loading="lazy" src="/images/homepagelibraries/default-album/sdg-15.png" alt="sdg photo" />
                    </div>
                    <div class="caption">
                        <p>FAO promotes sustainable approaches to natural resource management and supports endeavours
                            that promote a balance between conservation and development initiatives.</p>
                        </p>
                    </div>
                </div>
            </div>
            <div class="swiper-slide" data-sdg="16">
                <div class="sdg-16 swiper-ico">
                    <img loading="lazy" src="/images/corporatelibraries/sdg-logo/sdg16-en.svg" alt="sdg photo" />
                </div>
                <div data-sdg="16" class="image-text-holder">
                    <div class="swiper-image">
                        <img loading="lazy" src="/images/homepagelibraries/default-album/sdg-16.png" alt="sdg photo" />
                    </div>
                    <div class="caption">
                        <p>FAO plays a critical role in peacebuilding, restoring rural livelihoods, building resilience
                            and participatory approaches to policymaking.</p>
                    </div>
                </div>
            </div>
            <div class="swiper-slide" data-sdg="17">
                <div class="sdg-17 swiper-ico">
                    <img loading="lazy" src="/images/corporatelibraries/sdg-logo/sdg17-en.svg" alt="sdg photo" />
                </div>
                <div data-sdg="17" class="image-text-holder">
                    <div class="swiper-image">
                        <img loading="lazy" src="/images/homepagelibraries/default-album/sdg-17.png" alt="sdg photo" />
                    </div>
                    <div class="caption">
                        <p>FAO acts as a neutral policymaking forum and develops partnerships with all concerned with
                            food and agriculture to ensure a world free from hunger.</p>
                    </div>
                </div>
            </div>
        </div>
        <!-- If we need navigation buttons -->
        <div class="swiper-button swiper-button-prev"><button type="button"
                class="btn btn-secondary btn-round btn-icon"><em class="bi bi-chevron-left"></em></button></div>
        <div class="swiper-button swiper-button-next"><button type="button"
                class="btn btn-secondary btn-round btn-icon"><em class="bi bi-chevron-right"></em></button></div>
    </div>
</div>
    </div>
</div>

</div>
<div id="Contentplaceholder1_C169_Col00" class="sf_colsIn container container-map-3d" data-sf-element="Container" data-placeholder-label="Container">
<div >
    <div class="sfContentBlock sf-Long-text" ><h4 style="text-align: center; margin-bottom: 1.5rem !important" class="title-highlight mb-5">Discover the Globally Important Agricultural Heritage Systems (GIAHS)</h4></div>
</div>
</div>
<div class="" data-sf-element="Row">
<div id="Contentplaceholder1_C059_Col00" class="sf_colsIn" data-sf-element="Column 1" data-placeholder-label="Column 1">
<div id="map">
            <div class="map-shadow"></div>
            <div class="map-modal">
                <div class="map-modal__wrapper">
                    <div class="map-modal__btn-close btn btn-secondary btn-round btn-icon"><i class="bi bi-x"></i></div>
                    <div class="map-modal__content">
                        This is the modal content
                    </div>
                </div>
            </div>
            <div class="ui-giahs">
                <a href="https://www.fao.org/giahs/en" target="_blank">
                    <img src="https://www.fao.org/images/homepagelibraries/default-album/logo-giahs.svg"
                        alt="Logo Giahs">
                </a>

                <div class="zoom-controls-giahs">
                    <button id="zoom-in"><i class="bi bi-plus"></i></button>
                    <button id="zoom-out"><i class="bi bi-dash"></i></button>
                </div>
            </div>

            <div class="map__loader"></div>
        </div>
</div>
</div>





<style>
  	
  .container-sdg {
    padding: 0 0 4rem 0;
  }
  
  .row-fao-homepage-multimedia .dynamic-list .list-video iframe {
    border-radius: .5rem;
}

.row-fao-homepage-multimedia .dynamic-list .list-video .date {
    display: none;
}


    .hero-banner-video{
      object-position: bottom center;
    }  

.bi-bgico.bg-orange:before{
    color: white !important;
}

.card-image-fix .card .card-image {
      width: 100%;
}
.card-image-fix .card .card-image:before {
     content: "";
      display: block;
  background-color: #f2f2f2;
        padding-top: 66.6%;
}

.card-image-fix .card .card-image > img {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
          object-fit: cover;
}
.row-fao-homepage-small-slots .card .card-image img {
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    object-fit: cover;
}
.row-fao-homepage-multimedia .dynamic-list .list-video iframe {
    border-radius: .5rem;
}

.row-fao-homepage-multimedia .dynamic-list .list-video .date {
    display: none;
}



/**
 * Swiper 6.7.0
 * Most modern mobile touch slider and framework with hardware accelerated transitions
 * https://swiperjs.com
 *
 * Copyright 2014-2021 Vladimir Kharlampidi
 *
 * Released under the MIT License
 *
 * Released on: May 31, 2021
 */

@font-face{font-family:swiper-icons;src:url('data:application/font-woff;charset=utf-8;base64, d09GRgABAAAAAAZgABAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABGRlRNAAAGRAAAABoAAAAci6qHkUdERUYAAAWgAAAAIwAAACQAYABXR1BPUwAABhQAAAAuAAAANuAY7+xHU1VCAAAFxAAAAFAAAABm2fPczU9TLzIAAAHcAAAASgAAAGBP9V5RY21hcAAAAkQAAACIAAABYt6F0cBjdnQgAAACzAAAAAQAAAAEABEBRGdhc3AAAAWYAAAACAAAAAj//wADZ2x5ZgAAAywAAADMAAAD2MHtryVoZWFkAAABbAAAADAAAAA2E2+eoWhoZWEAAAGcAAAAHwAAACQC9gDzaG10eAAAAigAAAAZAAAArgJkABFsb2NhAAAC0AAAAFoAAABaFQAUGG1heHAAAAG8AAAAHwAAACAAcABAbmFtZQAAA/gAAAE5AAACXvFdBwlwb3N0AAAFNAAAAGIAAACE5s74hXjaY2BkYGAAYpf5Hu/j+W2+MnAzMYDAzaX6QjD6/4//Bxj5GA8AuRwMYGkAPywL13jaY2BkYGA88P8Agx4j+/8fQDYfA1AEBWgDAIB2BOoAeNpjYGRgYNBh4GdgYgABEMnIABJzYNADCQAACWgAsQB42mNgYfzCOIGBlYGB0YcxjYGBwR1Kf2WQZGhhYGBiYGVmgAFGBiQQkOaawtDAoMBQxXjg/wEGPcYDDA4wNUA2CCgwsAAAO4EL6gAAeNpj2M0gyAACqxgGNWBkZ2D4/wMA+xkDdgAAAHjaY2BgYGaAYBkGRgYQiAHyGMF8FgYHIM3DwMHABGQrMOgyWDLEM1T9/w8UBfEMgLzE////P/5//f/V/xv+r4eaAAeMbAxwIUYmIMHEgKYAYjUcsDAwsLKxc3BycfPw8jEQA/gZBASFhEVExcQlJKWkZWTl5BUUlZRVVNXUNTQZBgMAAMR+E+gAEQFEAAAAKgAqACoANAA+AEgAUgBcAGYAcAB6AIQAjgCYAKIArAC2AMAAygDUAN4A6ADyAPwBBgEQARoBJAEuATgBQgFMAVYBYAFqAXQBfgGIAZIBnAGmAbIBzgHsAAB42u2NMQ6CUAyGW568x9AneYYgm4MJbhKFaExIOAVX8ApewSt4Bic4AfeAid3VOBixDxfPYEza5O+Xfi04YADggiUIULCuEJK8VhO4bSvpdnktHI5QCYtdi2sl8ZnXaHlqUrNKzdKcT8cjlq+rwZSvIVczNiezsfnP/uznmfPFBNODM2K7MTQ45YEAZqGP81AmGGcF3iPqOop0r1SPTaTbVkfUe4HXj97wYE+yNwWYxwWu4v1ugWHgo3S1XdZEVqWM7ET0cfnLGxWfkgR42o2PvWrDMBSFj/IHLaF0zKjRgdiVMwScNRAoWUoH78Y2icB/yIY09An6AH2Bdu/UB+yxopYshQiEvnvu0dURgDt8QeC8PDw7Fpji3fEA4z/PEJ6YOB5hKh4dj3EvXhxPqH/SKUY3rJ7srZ4FZnh1PMAtPhwP6fl2PMJMPDgeQ4rY8YT6Gzao0eAEA409DuggmTnFnOcSCiEiLMgxCiTI6Cq5DZUd3Qmp10vO0LaLTd2cjN4fOumlc7lUYbSQcZFkutRG7g6JKZKy0RmdLY680CDnEJ+UMkpFFe1RN7nxdVpXrC4aTtnaurOnYercZg2YVmLN/d/gczfEimrE/fs/bOuq29Zmn8tloORaXgZgGa78yO9/cnXm2BpaGvq25Dv9S4E9+5SIc9PqupJKhYFSSl47+Qcr1mYNAAAAeNptw0cKwkAAAMDZJA8Q7OUJvkLsPfZ6zFVERPy8qHh2YER+3i/BP83vIBLLySsoKimrqKqpa2hp6+jq6RsYGhmbmJqZSy0sraxtbO3sHRydnEMU4uR6yx7JJXveP7WrDycAAAAAAAH//wACeNpjYGRgYOABYhkgZgJCZgZNBkYGLQZtIJsFLMYAAAw3ALgAeNolizEKgDAQBCchRbC2sFER0YD6qVQiBCv/H9ezGI6Z5XBAw8CBK/m5iQQVauVbXLnOrMZv2oLdKFa8Pjuru2hJzGabmOSLzNMzvutpB3N42mNgZGBg4GKQYzBhYMxJLMlj4GBgAYow/P/PAJJhLM6sSoWKfWCAAwDAjgbRAAB42mNgYGBkAIIbCZo5IPrmUn0hGA0AO8EFTQAA') format('woff');font-weight:400;font-style:normal}:root{--swiper-theme-color:#007aff}.swiper-container{margin-left:auto;margin-right:auto;position:relative;overflow:hidden;list-style:none;padding:0;z-index:1}.swiper-container-vertical>.swiper-wrapper{flex-direction:column}.swiper-wrapper{position:relative;width:100%;height:100%;z-index:1;display:flex;transition-property:transform;box-sizing:content-box}.swiper-container-android .swiper-slide,.swiper-wrapper{transform:translate3d(0px,0,0)}.swiper-container-multirow>.swiper-wrapper{flex-wrap:wrap}.swiper-container-multirow-column>.swiper-wrapper{flex-wrap:wrap;flex-direction:column}.swiper-container-free-mode>.swiper-wrapper{transition-timing-function:ease-out;margin:0 auto}.swiper-container-pointer-events{touch-action:pan-y}.swiper-container-pointer-events.swiper-container-vertical{touch-action:pan-x}.swiper-slide{flex-shrink:0;width:100%;height:100%;position:relative;transition-property:transform}.swiper-slide-invisible-blank{visibility:hidden}.swiper-container-autoheight,.swiper-container-autoheight .swiper-slide{height:auto}.swiper-container-autoheight .swiper-wrapper{align-items:flex-start;transition-property:transform,height}.swiper-container-3d{perspective:1200px}.swiper-container-3d .swiper-cube-shadow,.swiper-container-3d .swiper-slide,.swiper-container-3d .swiper-slide-shadow-bottom,.swiper-container-3d .swiper-slide-shadow-left,.swiper-container-3d .swiper-slide-shadow-right,.swiper-container-3d .swiper-slide-shadow-top,.swiper-container-3d .swiper-wrapper{transform-style:preserve-3d}.swiper-container-3d .swiper-slide-shadow-bottom,.swiper-container-3d .swiper-slide-shadow-left,.swiper-container-3d .swiper-slide-shadow-right,.swiper-container-3d .swiper-slide-shadow-top{position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:10}.swiper-container-3d .swiper-slide-shadow-left{background-image:linear-gradient(to left,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-container-3d .swiper-slide-shadow-right{background-image:linear-gradient(to right,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-container-3d .swiper-slide-shadow-top{background-image:linear-gradient(to top,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-container-3d .swiper-slide-shadow-bottom{background-image:linear-gradient(to bottom,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-container-css-mode>.swiper-wrapper{overflow:auto;scrollbar-width:none;-ms-overflow-style:none}.swiper-container-css-mode>.swiper-wrapper::-webkit-scrollbar{display:none}.swiper-container-css-mode>.swiper-wrapper>.swiper-slide{scroll-snap-align:start start}.swiper-container-horizontal.swiper-container-css-mode>.swiper-wrapper{scroll-snap-type:x mandatory}.swiper-container-vertical.swiper-container-css-mode>.swiper-wrapper{scroll-snap-type:y mandatory}:root{--swiper-navigation-size:44px}.swiper-button-next,.swiper-button-prev{position:absolute;top:50%;width:calc(var(--swiper-navigation-size)/ 44 * 27);height:var(--swiper-navigation-size);margin-top:calc(0px - (var(--swiper-navigation-size)/ 2));z-index:10;cursor:pointer;display:flex;align-items:center;justify-content:center;color:var(--swiper-navigation-color,var(--swiper-theme-color))}.swiper-button-next.swiper-button-disabled,.swiper-button-prev.swiper-button-disabled{opacity:.35;cursor:auto;pointer-events:none}.swiper-button-next:after,.swiper-button-prev:after{font-family:swiper-icons;font-size:var(--swiper-navigation-size);text-transform:none!important;letter-spacing:0;text-transform:none;font-variant:initial;line-height:1}.swiper-button-prev,.swiper-container-rtl .swiper-button-next{left:10px;right:auto}.swiper-button-prev:after,.swiper-container-rtl .swiper-button-next:after{content:'prev'}.swiper-button-next,.swiper-container-rtl .swiper-button-prev{right:10px;left:auto}.swiper-button-next:after,.swiper-container-rtl .swiper-button-prev:after{content:'next'}.swiper-button-next.swiper-button-white,.swiper-button-prev.swiper-button-white{--swiper-navigation-color:#ffffff}.swiper-button-next.swiper-button-black,.swiper-button-prev.swiper-button-black{--swiper-navigation-color:#000000}.swiper-button-lock{display:none}.swiper-pagination{position:absolute;text-align:center;transition:.3s opacity;transform:translate3d(0,0,0);z-index:10}.swiper-pagination.swiper-pagination-hidden{opacity:0}.swiper-container-horizontal>.swiper-pagination-bullets,.swiper-pagination-custom,.swiper-pagination-fraction{bottom:10px;left:0;width:100%}.swiper-pagination-bullets-dynamic{overflow:hidden;font-size:0}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transform:scale(.33);position:relative}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active{transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-main{transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev-prev{transform:scale(.33)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next-next{transform:scale(.33)}.swiper-pagination-bullet{width:8px;height:8px;display:inline-block;border-radius:50%;background:#000;opacity:.2}button.swiper-pagination-bullet{border:none;margin:0;padding:0;box-shadow:none;-webkit-appearance:none;appearance:none}.swiper-pagination-clickable .swiper-pagination-bullet{cursor:pointer}.swiper-pagination-bullet-active{opacity:1;background:var(--swiper-pagination-color,var(--swiper-theme-color))}.swiper-container-vertical>.swiper-pagination-bullets{right:10px;top:50%;transform:translate3d(0px,-50%,0)}.swiper-container-vertical>.swiper-pagination-bullets .swiper-pagination-bullet{margin:6px 0;display:block}.swiper-container-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{top:50%;transform:translateY(-50%);width:8px}.swiper-container-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{display:inline-block;transition:.2s transform,.2s top}.swiper-container-horizontal>.swiper-pagination-bullets .swiper-pagination-bullet{margin:0 4px}.swiper-container-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{left:50%;transform:translateX(-50%);white-space:nowrap}.swiper-container-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s left}.swiper-container-horizontal.swiper-container-rtl>.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s right}.swiper-pagination-progressbar{background:rgba(0,0,0,.25);position:absolute}.swiper-pagination-progressbar .swiper-pagination-progressbar-fill{background:var(--swiper-pagination-color,var(--swiper-theme-color));position:absolute;left:0;top:0;width:100%;height:100%;transform:scale(0);transform-origin:left top}.swiper-container-rtl .swiper-pagination-progressbar .swiper-pagination-progressbar-fill{transform-origin:right top}.swiper-container-horizontal>.swiper-pagination-progressbar,.swiper-container-vertical>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite{width:100%;height:4px;left:0;top:0}.swiper-container-horizontal>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite,.swiper-container-vertical>.swiper-pagination-progressbar{width:4px;height:100%;left:0;top:0}.swiper-pagination-white{--swiper-pagination-color:#ffffff}.swiper-pagination-black{--swiper-pagination-color:#000000}.swiper-pagination-lock{display:none}.swiper-scrollbar{border-radius:10px;position:relative;-ms-touch-action:none;background:rgba(0,0,0,.1)}.swiper-container-horizontal>.swiper-scrollbar{position:absolute;left:1%;bottom:3px;z-index:50;height:5px;width:98%}.swiper-container-vertical>.swiper-scrollbar{position:absolute;right:3px;top:1%;z-index:50;width:5px;height:98%}.swiper-scrollbar-drag{height:100%;width:100%;position:relative;background:rgba(0,0,0,.5);border-radius:10px;left:0;top:0}.swiper-scrollbar-cursor-drag{cursor:move}.swiper-scrollbar-lock{display:none}.swiper-zoom-container{width:100%;height:100%;display:flex;justify-content:center;align-items:center;text-align:center}.swiper-zoom-container>canvas,.swiper-zoom-container>img,.swiper-zoom-container>svg{max-width:100%;max-height:100%;object-fit:contain}.swiper-slide-zoomed{cursor:move}.swiper-lazy-preloader{width:42px;height:42px;position:absolute;left:50%;top:50%;margin-left:-21px;margin-top:-21px;z-index:10;transform-origin:50%;animation:swiper-preloader-spin 1s infinite linear;box-sizing:border-box;border:4px solid var(--swiper-preloader-color,var(--swiper-theme-color));border-radius:50%;border-top-color:transparent}.swiper-lazy-preloader-white{--swiper-preloader-color:#fff}.swiper-lazy-preloader-black{--swiper-preloader-color:#000}@keyframes swiper-preloader-spin{100%{transform:rotate(360deg)}}.swiper-container .swiper-notification{position:absolute;left:0;top:0;pointer-events:none;opacity:0;z-index:-1000}.swiper-container-fade.swiper-container-free-mode .swiper-slide{transition-timing-function:ease-out}.swiper-container-fade .swiper-slide{pointer-events:none;transition-property:opacity}.swiper-container-fade .swiper-slide .swiper-slide{pointer-events:none}.swiper-container-fade .swiper-slide-active,.swiper-container-fade .swiper-slide-active .swiper-slide-active{pointer-events:auto}.swiper-container-cube{overflow:visible}.swiper-container-cube .swiper-slide{pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1;visibility:hidden;transform-origin:0 0;width:100%;height:100%}.swiper-container-cube .swiper-slide .swiper-slide{pointer-events:none}.swiper-container-cube.swiper-container-rtl .swiper-slide{transform-origin:100% 0}.swiper-container-cube .swiper-slide-active,.swiper-container-cube .swiper-slide-active .swiper-slide-active{pointer-events:auto}.swiper-container-cube .swiper-slide-active,.swiper-container-cube .swiper-slide-next,.swiper-container-cube .swiper-slide-next+.swiper-slide,.swiper-container-cube .swiper-slide-prev{pointer-events:auto;visibility:visible}.swiper-container-cube .swiper-slide-shadow-bottom,.swiper-container-cube .swiper-slide-shadow-left,.swiper-container-cube .swiper-slide-shadow-right,.swiper-container-cube .swiper-slide-shadow-top{z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}.swiper-container-cube .swiper-cube-shadow{position:absolute;left:0;bottom:0px;width:100%;height:100%;opacity:.6;z-index:0}.swiper-container-cube .swiper-cube-shadow:before{content:'';background:#000;position:absolute;left:0;top:0;bottom:0;right:0;filter:blur(50px)}.swiper-container-flip{overflow:visible}.swiper-container-flip .swiper-slide{pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1}.swiper-container-flip .swiper-slide .swiper-slide{pointer-events:none}.swiper-container-flip .swiper-slide-active,.swiper-container-flip .swiper-slide-active .swiper-slide-active{pointer-events:auto}.swiper-container-flip .swiper-slide-shadow-bottom,.swiper-container-flip .swiper-slide-shadow-left,.swiper-container-flip .swiper-slide-shadow-right,.swiper-container-flip .swiper-slide-shadow-top{z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}
</style>
<!-- <widget-popup show_after=".row-fao-homepage-multimedia .col-md-6:last-child .sub-title.small" force_show_after_ms="10000" img_src="https://www.fao.org/images/homepagelibraries/pop-up/eth-blog.jpg">
    <div slot="title">
      <h6 class="title-category">BLOG</h6>
        <h2>We can’t meet our climate goals without financing agrifood systems</h2>
    </div>
    <div slot="body">
        <p>Agrifood systems have the potential to reduce one-third of the world’s emissions...</p>
</div> 
    <div slot="footer">
     <a href="https://www.fao.org/newsroom/fao-blog/detail/fao-blog/2025/09/10/we-can-t-meet-our-climate-goals-without-financing-agrifood-systems/en" class="btn btn-link btn-icon text-white text-uppercase ps-0" target="_blank">Read more<i class="bi bi-globe text-white"></i></a>
           
             
    </div>
</widget-popup> 


<script>
    var Popup=function(){"use strict";function t(){}const e=t=>t;function n(t){return t()}function o(){return Object.create(null)}function r(t){t.forEach(n)}function s(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let l;function c(t,e){return l||(l=document.createElement("a")),l.href=e,t===l.href}function a(t,e,n,o){if(t){const r=u(t,e,n,o);return t[0](r)}}function u(t,e,n,o){return t[1]&&o?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](o(e))):n.ctx}function p(t,e,n,o){if(t[2]&&o){const r=t[2](o(n));if(void 0===e.dirty)return r;if("object"==typeof r){const t=[],n=Math.max(e.dirty.length,r.length);for(let o=0;o<n;o+=1)t[o]=e.dirty[o]|r[o];return t}return e.dirty|r}return e.dirty}function d(t,e,n,o,r,s){if(r){const i=u(e,n,o,s);t.p(i,r)}}function f(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function h(t){const e="string"==typeof t&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[t,"px"]}const m="undefined"!=typeof window;let g=m?()=>window.performance.now():()=>Date.now(),b=m?t=>requestAnimationFrame(t):t;const w=new Set;function $(t){w.forEach((e=>{e.c(t)||(w.delete(e),e.f())})),0!==w.size&&b($)}function y(t){let e;return 0===w.size&&b($),{promise:new Promise((n=>{w.add(e={c:t,f:n})})),abort(){w.delete(e)}}}const v="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function x(t,e){t.appendChild(e)}function _(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function E(t){const e=S("style");return k(_(t),e),e.sheet}function k(t,e){return x(t.head||t,e),e.sheet}function C(t,e,n){t.insertBefore(e,n||null)}function M(t){t.parentNode&&t.parentNode.removeChild(t)}function S(t){return document.createElement(t)}function O(t){return document.createTextNode(t)}function T(){return O(" ")}function A(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function N(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const j=new Map;let L,H=0;function q(t,e,n,o,r,s,i,l=0){const c=16.666/o;let a="{\n";for(let t=0;t<=1;t+=c){const o=e+(n-e)*s(t);a+=100*t+`%{${i(o,1-o)}}\n`}const u=a+`100% {${i(n,1-n)}}\n}`,p=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${l}`,d=_(t),{stylesheet:f,rules:h}=j.get(d)||function(t,e){const n={stylesheet:E(e),rules:{}};return j.set(t,n),n}(d,t);h[p]||(h[p]=!0,f.insertRule(`@keyframes ${p} ${u}`,f.cssRules.length));const m=t.style.animation||"";return t.style.animation=`${m?`${m}, `:""}${p} ${o}ms linear ${r}ms 1 both`,H+=1,p}function D(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),r=n.length-o.length;r&&(t.style.animation=o.join(", "),H-=r,H||b((()=>{H||(j.forEach((t=>{const{ownerNode:e}=t.stylesheet;e&&M(e)})),j.clear())})))}function z(t){L=t}const I=[],P=[];let R=[];const F=[],B=Promise.resolve();let X=!1;function Y(t){R.push(t)}const G=new Set;let J,K=0;function Q(){if(0!==K)return;const t=L;do{try{for(;K<I.length;){const t=I[K];K++,z(t),U(t.$$)}}catch(t){throw I.length=0,K=0,t}for(z(null),I.length=0,K=0;P.length;)P.pop()();for(let t=0;t<R.length;t+=1){const e=R[t];G.has(e)||(G.add(e),e())}R.length=0}while(I.length);for(;F.length;)F.pop()();X=!1,G.clear(),z(t)}function U(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Y)}}function V(){return J||(J=Promise.resolve(),J.then((()=>{J=null}))),J}function W(t,e,n){t.dispatchEvent(function(t,e,{bubbles:n=!1,cancelable:o=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n,o,e),r}(`${e?"intro":"outro"}${n}`))}const Z=new Set;let tt;function et(){tt={r:0,c:[],p:tt}}function nt(){tt.r||r(tt.c),tt=tt.p}function ot(t,e){t&&t.i&&(Z.delete(t),t.i(e))}function rt(t,e,n,o){if(t&&t.o){if(Z.has(t))return;Z.add(t),tt.c.push((()=>{Z.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}else o&&o()}const st={duration:0};function it(n,o,r){const i={direction:"in"};let l,c,a=o(n,r,i),u=!1,p=0;function d(){l&&D(n,l)}function f(){const{delay:o=0,duration:r=300,easing:s=e,tick:i=t,css:f}=a||st;f&&(l=q(n,0,1,r,o,s,f,p++)),i(0,1);const h=g()+o,m=h+r;c&&c.abort(),u=!0,Y((()=>W(n,!0,"start"))),c=y((t=>{if(u){if(t>=m)return i(1,0),W(n,!0,"end"),d(),u=!1;if(t>=h){const e=s((t-h)/r);i(e,1-e)}}return u}))}let h=!1;return{start(){h||(h=!0,D(n),s(a)?(a=a(i),V().then(f)):f())},invalidate(){h=!1},end(){u&&(d(),u=!1)}}}function lt(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];R.forEach((o=>-1===t.indexOf(o)?e.push(o):n.push(o))),n.forEach((t=>t())),R=e}(n.after_update),r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ct(t,e){-1===t.$$.dirty[0]&&(I.push(t),X||(X=!0,B.then(Q)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function at(e,i,l,c,a,u,p,d=[-1]){const f=L;z(e);const h=e.$$={fragment:null,ctx:[],props:u,update:t,not_equal:a,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(i.context||(f?f.$$.context:[])),callbacks:o(),dirty:d,skip_bound:!1,root:i.target||f.$$.root};p&&p(h.root);let m=!1;if(h.ctx=l?l(e,i.props||{},((t,n,...o)=>{const r=o.length?o[0]:n;return h.ctx&&a(h.ctx[t],h.ctx[t]=r)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](r),m&&ct(e,t)),n})):[],h.update(),m=!0,r(h.before_update),h.fragment=!!c&&c(h.ctx),i.target){if(i.hydrate){const t=function(t){return Array.from(t.childNodes)}(i.target);h.fragment&&h.fragment.l(t),t.forEach(M)}else h.fragment&&h.fragment.c();i.intro&&ot(e.$$.fragment),function(t,e,o,i){const{fragment:l,after_update:c}=t.$$;l&&l.m(e,o),i||Y((()=>{const e=t.$$.on_mount.map(n).filter(s);t.$$.on_destroy?t.$$.on_destroy.push(...e):r(e),t.$$.on_mount=[]})),c.forEach(Y)}(e,i.target,i.anchor,i.customElement),Q()}z(f)}class ut{$destroy(){lt(this,1),this.$destroy=t}$on(e,n){if(!s(n))return t;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const t=o.indexOf(n);-1!==t&&o.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function pt(e){const n={};for(const t in e)n[t]=[o(e[t])];function o(e){return function(){return{c:t,m:function(t,n){C(t,e.cloneNode(!0),n)},d:function(t){t&&e.innerHTML&&M(e)},l:t}}}return n}function dt(t){class e extends HTMLElement{constructor(){super(),this.slotcount=0;let e=t.shadow?this.attachShadow({mode:"open"}):this;if(t.href&&t.shadow){let n=document.createElement("link");n.setAttribute("href",t.href),n.setAttribute("rel","stylesheet"),e.appendChild(n)}t.shadow?(this._root=document.createElement("div"),e.appendChild(this._root)):this._root=e}static get observedAttributes(){return t.attributes||[]}connectedCallback(){let e,n=t.defaults?t.defaults:{};if(n.$$scope={},Array.from(this.attributes).forEach((t=>n[t.name]=t.value)),n.$$scope={},t.shadow){e=this.getShadowSlots();let n=t.defaults?t.defaults:{};n.$$scope={},this.observer=new MutationObserver(this.processMutations.bind(this,{root:this._root,props:n})),this.observer.observe(this,{childList:!0,subtree:!0,attributes:!1})}else e=this.getSlots();this.slotcount=Object.keys(e).length,n.$$slots=pt(e),this.elem=new t.component({target:this._root,props:n})}disconnectedCallback(){this.observe&&this.observer.disconnect();try{this.elem.$destroy()}catch(t){}}unwrap(t){let e=new DocumentFragment;for(;t.firstChild;)e.appendChild(t.removeChild(t.firstChild));return e}getSlots(){const t=this.querySelectorAll("[slot]");let e={};return t.forEach((t=>{e[t.slot]=this.unwrap(t),this.removeChild(t)})),this.innerHTML.length&&(e.default=this.unwrap(this),this.innerHTML=""),e}getShadowSlots(){const t=this.querySelectorAll("[slot]");let e={},n=this.innerHTML.length;return t.forEach((t=>{e[t.slot]=document.createElement("slot"),e[t.slot].setAttribute("name",t.slot),n-=t.outerHTML.length})),n>0&&(e.default=document.createElement("slot")),e}processMutations({root:e,props:n},o){for(let r of o)if("childList"==r.type){let o=this.getShadowSlots();Object.keys(o).length&&(n.$$slots=pt(o),this.elem.$set({$$slots:pt(o)}),this.slotcount!=Object.keys(o).length&&(Array.from(this.attributes).forEach((t=>n[t.name]=t.value)),this.slotcount=Object.keys(o).length,e.innerHTML="",this.elem=new t.component({target:e,props:n})))}}attributeChangedCallback(t,e,n){this.elem&&n!=e&&this.elem.$set({[t]:n})}}window.customElements.define(t.tagname,e)}function ft(t){const e=t-1;return e*e*e+1}function ht(t,{delay:n=0,duration:o=400,easing:r=e}={}){const s=+getComputedStyle(t).opacity;return{delay:n,duration:o,easing:r,css:t=>"opacity: "+t*s}}function mt(t,{delay:e=0,duration:n=400,easing:o=ft,x:r=0,y:s=0,opacity:i=0}={}){const l=getComputedStyle(t),c=+l.opacity,a="none"===l.transform?"":l.transform,u=c*(1-i),[p,d]=h(r),[f,m]=h(s);return{delay:e,duration:n,easing:o,css:(t,e)=>`\n\t\t\ttransform: ${a} translate(${(1-t)*p}${d}, ${(1-t)*f}${m});\n\t\t\topacity: ${c-u*e}`}}const{setTimeout:gt}=v;function bt(t){!function(t,e,n){const o=_(t);if(!o.getElementById(e)){const t=S("style");t.id=e,t.textContent=n,k(o,t)}}(t,"svelte-1eal34e",'.popup-wrapper.svelte-1eal34e.svelte-1eal34e{position:fixed;bottom:100px;right:0;width:80%;z-index:99999;background-color:#2c2c2c;padding:1rem 2rem 2rem 175px;border-radius:5px 0 0 5px;overflow:hidden;box-shadow:0px 2.8px 2.2px rgba(0, 0, 0, 0.037), 0px 6.7px 5.3px rgba(0, 0, 0, 0.053), 0px 12.5px 10px rgba(0, 0, 0, 0.065), 0px 22.3px 17.9px rgba(0, 0, 0, 0.077), 0px 41.8px 33.4px rgba(0, 0, 0, 0.093), 0px 100px 80px rgba(0, 0, 0, 0.13)}@media(min-width: 768px){.popup-wrapper.svelte-1eal34e.svelte-1eal34e{width:450px}}.popup-wrapper.svelte-1eal34e img.svelte-1eal34e{position:absolute;width:150px;height:100%;object-fit:cover;object-position:center;left:0;top:0}.popup-wrapper.svelte-1eal34e .pop-header.svelte-1eal34e{display:flex;justify-content:flex-end;margin-bottom:1rem}.popup-wrapper.svelte-1eal34e .pop-header .btn-round.svelte-1eal34e{background-color:transparent;border-color:transparent;color:white;box-shadow:none;font-size:23px;padding:0;width:auto}.popup-wrapper.svelte-1eal34e .pop-body.svelte-1eal34e{margin-bottom:1rem}.popup-wrapper.svelte-1eal34e .pop-body.svelte-1eal34e p{display:none;color:rgba(255, 255, 255, 0.85)}@media(min-width: 768px){.popup-wrapper.svelte-1eal34e .pop-body.svelte-1eal34e p{display:block}}.popup-wrapper.svelte-1eal34e .pop-body.svelte-1eal34e h2{margin-bottom:1rem;color:rgba(255, 255, 255, 0.85)}.popup-wrapper.svelte-1eal34e .pop-footer.svelte-1eal34e a{font-size:12px;font-weight:700;opacity:1;padding-left:0;white-space:nowrap}html[lang="ar"] .popup-wrapper.svelte-1eal34e.svelte-1eal34e{right:auto;left:0;padding:1rem 175px 2rem 2rem;border-radius:0 5px 5px 0}html[lang="ar"] .popup-wrapper.svelte-1eal34e img.svelte-1eal34e{left:auto;right:0}html[lang="ar"] .popup-wrapper.svelte-1eal34e .pop-body.svelte-1eal34e{text-align:right}html[lang="ar"] .popup-wrapper.svelte-1eal34e .pop-footer.svelte-1eal34e a{padding-left:0.75rem;padding-right:0}html[lang="ar"] .popup-wrapper.svelte-1eal34e .pop-footer.svelte-1eal34e a .bi{margin-left:0;margin-right:0.5rem}')}const wt=t=>({}),$t=t=>({}),yt=t=>({}),vt=t=>({}),xt=t=>({}),_t=t=>({});function Et(n){let o,i,l,c,a,u,p,d,f,h,m,b=n[0]&&kt(n),w=(n[8].body||n[8].title)&&Ct(n),$=n[8].footer&&Mt(n);return{c(){o=S("div"),b&&b.c(),i=T(),l=S("div"),c=S("button"),c.innerHTML="<span>×</span>",a=T(),w&&w.c(),u=T(),$&&$.c(),N(c,"class","btn btn-secondary btn-icon btn-round close svelte-1eal34e"),N(l,"class","pop-header svelte-1eal34e"),N(o,"class","popup-wrapper theme-dark svelte-1eal34e")},m(t,e){C(t,o,e),b&&b.m(o,null),x(o,i),x(o,l),x(l,c),x(o,a),w&&w.m(o,null),x(o,u),$&&$.m(o,null),f=!0,h||(m=A(c,"click",n[14]),h=!0)},p(t,e){(n=t)[0]?b?b.p(n,e):(b=kt(n),b.c(),b.m(o,i)):b&&(b.d(1),b=null),n[8].body||n[8].title?w?(w.p(n,e),256&e&&ot(w,1)):(w=Ct(n),w.c(),ot(w,1),w.m(o,u)):w&&(et(),rt(w,1,1,(()=>{w=null})),nt()),n[8].footer?$?($.p(n,e),256&e&&ot($,1)):($=Mt(n),$.c(),ot($,1),$.m(o,null)):$&&(et(),rt($,1,1,(()=>{$=null})),nt())},i(t){f||(ot(w),ot($),Y((()=>{f&&(d&&d.end(1),p=it(o,mt,{x:n[6],duration:500}),p.start())})),f=!0)},o(n){rt(w),rt($),p&&p.invalidate(),d=function(n,o,i){const l={direction:"out"};let c,a=o(n,i,l),u=!0;const p=tt;function d(){const{delay:o=0,duration:s=300,easing:i=e,tick:l=t,css:d}=a||st;d&&(c=q(n,1,0,s,o,i,d));const f=g()+o,h=f+s;Y((()=>W(n,!1,"start"))),y((t=>{if(u){if(t>=h)return l(0,1),W(n,!1,"end"),--p.r||r(p.c),!1;if(t>=f){const e=i((t-f)/s);l(1-e,e)}}return u}))}return p.r+=1,s(a)?V().then((()=>{a=a(l),d()})):d(),{end(t){t&&a.tick&&a.tick(1,0),u&&(c&&D(n,c),u=!1)}}}(o,ht,{duration:450}),f=!1},d(t){t&&M(o),b&&b.d(),w&&w.d(),$&&$.d(),t&&d&&d.end(),h=!1,m()}}}function kt(t){let e,n;return{c(){e=S("img"),c(e.src,n=t[0])||N(e,"src",n),N(e,"alt","Img"),N(e,"class","pop-image svelte-1eal34e")},m(t,n){C(t,e,n)},p(t,o){1&o&&!c(e.src,n=t[0])&&N(e,"src",n)},d(t){t&&M(e)}}}function Ct(t){let e,n,o,r,s;const i=t[12].title,l=a(i,t,t[11],_t),c=t[12].body,u=a(c,t,t[11],vt);return{c(){e=S("div"),l&&l.c(),n=T(),o=S("p"),u&&u.c(),N(e,"class","pop-body svelte-1eal34e")},m(t,r){C(t,e,r),l&&l.m(e,null),x(e,n),x(e,o),u&&u.m(o,null),s=!0},p(e,n){t=e,l&&l.p&&(!s||2048&n)&&d(l,i,t,t[11],s?p(i,t[11],n,xt):f(t[11]),_t),u&&u.p&&(!s||2048&n)&&d(u,c,t,t[11],s?p(c,t[11],n,yt):f(t[11]),vt)},i(n){s||(ot(l,n),ot(u,n),r||Y((()=>{r=it(e,mt,{x:t[6],delay:300,duration:550}),r.start()})),s=!0)},o(t){rt(l,t),rt(u,t),s=!1},d(t){t&&M(e),l&&l.d(t),u&&u.d(t)}}}function Mt(t){let e,n,o;const r=t[12].footer,s=a(r,t,t[11],$t);return{c(){e=S("div"),s&&s.c(),N(e,"class","pop-footer svelte-1eal34e")},m(t,n){C(t,e,n),s&&s.m(e,null),o=!0},p(e,n){t=e,s&&s.p&&(!o||2048&n)&&d(s,r,t,t[11],o?p(r,t[11],n,wt):f(t[11]),$t)},i(r){o||(ot(s,r),n||Y((()=>{n=it(e,mt,{x:t[7],delay:550,duration:300}),n.start()})),o=!0)},o(t){rt(s,t),o=!1},d(t){t&&M(e),s&&s.d(t)}}}function St(t){let e,n,o,s,i,l=!1,c=()=>{l=!1};Y(t[13]);let a=t[1]&&!t[2]&&Et(t);return{c(){a&&a.c(),n=O("")},m(r,u){a&&a.m(r,u),C(r,n,u),o=!0,s||(i=[A(window,"load",t[4]),A(window,"scroll",t[5]),A(window,"scroll",(()=>{l=!0,clearTimeout(e),e=gt(c,100),t[13]()}))],s=!0)},p(t,[o]){8&o&&!l&&(l=!0,clearTimeout(e),scrollTo(window.pageXOffset,t[3]),e=gt(c,100)),t[1]&&!t[2]?a?(a.p(t,o),6&o&&ot(a,1)):(a=Et(t),a.c(),ot(a,1),a.m(n.parentNode,n)):a&&(et(),rt(a,1,1,(()=>{a=null})),nt())},i(t){o||(ot(a),o=!0)},o(t){rt(a),o=!1},d(t){a&&a.d(t),t&&M(n),s=!1,r(i)}}}function Ot(t,e,n){let{$$slots:o={},$$scope:r}=e;const s=function(t){const e={};for(const n in t)e[n]=!0;return e}(o);let i,{show_after:l}=e,{force_show_after_ms:c}=e,{img_src:a}=e,u=!1,p=!1,d=!1;const f="ar"===document.documentElement.lang?"-100%":"100%",h="ar"===document.documentElement.lang?"-50%":"50%";console.log(f,h);return t.$$set=t=>{"show_after"in t&&n(9,l=t.show_after),"force_show_after_ms"in t&&n(10,c=t.force_show_after_ms),"img_src"in t&&n(0,a=t.img_src),"$$scope"in t&&n(11,r=t.$$scope)},[a,p,d,i,function(){if(c&&!isNaN(c)&&setTimeout((()=>{p||n(1,p=!0)}),parseInt(c)),l)if(isNaN(l)){const t=document.querySelector(l);t||console.error("<popup-widget /> Element requires either a valid DOM element or a number of px scrolling to be activated.");let e=new IntersectionObserver((t=>{t[0].isIntersecting&&(e.disconnect(),n(1,p=!0))}),{root:null,rootMargin:"0px",threshold:.1});e.observe(t)}else u=!0;else console.error("<popup-widget /> Element requires either a valid DOM element or a number of px scrolling to be activated.")},function(){u&&u&&i>l&&(n(1,p=!0),u=!1)},f,h,s,l,c,r,o,function(){n(3,i=window.pageYOffset)},()=>n(2,d=!0)]}class Tt extends ut{constructor(t){super(),at(this,t,Ot,St,i,{show_after:9,force_show_after_ms:10,img_src:0},bt)}}function At(t){return new dt({component:Tt,tagname:"widget-popup",attributes:["force_show_after_ms","show_after"]}),[]}return new class extends ut{constructor(t){super(),at(this,t,At,null,i,{})}}({target:document.body})}();

</script> -->
      


<script async src="https://www.googletagmanager.com/gtag/js?id=G-NF26VFCDMB"></script>

<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() { dataLayer.push(arguments); }
  gtag('js', new Date());
  gtag('config', 'G-NF26VFCDMB');
</script>

<script>
const selectorPositionMap = [
  { selector: ".hero-text h1 a", position: 1 },
  { selector: "#Contentplaceholder1_C007_Col00 a", position: 2},
  { selector: "#Contentplaceholder1_C007_Col01 a", position: 3},
  { selector: "#Contentplaceholder1_C007_Col02 a", position: 4},
  { selector: "#Contentplaceholder1_C028_Col00 a", position: 5},
  { selector: "#Contentplaceholder1_C028_Col01 a", position: 6},
  { selector: "#Contentplaceholder1_C028_Col02 a", position: 7},
  { selector: "#Contentplaceholder1_C140_Col00 a", position: 8},
  { selector: "#Contentplaceholder1_C140_Col01 a", position: 9},
  { selector: "#Contentplaceholder1_C140_Col02 a", position: 10},
  { selector: "#Contentplaceholder1_C013_Col00 a", position: 11},
  { selector: "#Contentplaceholder1_C013_Col01 a", position: 12},
  { selector: "#Contentplaceholder1_C013_Col02 a", position: 13},
  { selector: "#Contentplaceholder1_C015_Col00 a", position: 14},
  { selector: "#Contentplaceholder1_C017_Col00 a", position: 15},
  { selector: "#Contentplaceholder1_C017_Col01 a", position: 16},
  { selector: "#Contentplaceholder1_C015_Col00 iframe", position: 14},
  { selector: "#Contentplaceholder1_C017_Col00 iframe", position: 15},
  { selector: "#Contentplaceholder1_C017_Col01 iframe", position: 16},
  {selector: "#Contentplaceholder1_C071_Col00 a", position: 17},
  {selector: "#Contentplaceholder1_C071_Col01 a", position: 18},
  {selector: "#Contentplaceholder1_C071_Col02 a", position: 19},
];
  
selectorPositionMap.forEach(obj => {
  const el = document.querySelector(obj.selector);

  if (!el) {
    console.error('missing el click homepage event', el);
    return;
  } 
    
    el.addEventListener('click', (_e) => {
      let url = el.tagName.toLowerCase() === 'iframe' ? (el.title || el.src) : el.href;

      if (url && url.includes('.fao.org')) {
        url = url.split('?')[0];
      }

      let langMatch = window.location.href.match(/\/(en|fr|es|zh|ru|ar)(?:\/|$)/);
      let lang = langMatch ? langMatch[1] : document.documentElement.lang;

      if (!['en', 'fr', 'es', 'zh', 'ru', 'ar'].includes(lang)) {
        console.error('invalid lang', lang);
        lang = 'en';
      }

      url = url.replace(/\/(en|fr|es|zh|ru|ar)\/?$/, '')
      .replace('http://www.fao.org/', '')
      .replace('https://www.fao.org/', '')


      const payload = {"clean_url": url, "click_page_location": obj.position, "click_from_lang": lang};
      gtag('event', 'homepage_clicks_test', payload);

    });
});  
</script><footer id="Contentplaceholder1_T198B1AC4002_Col00" class="sf_colsIn footer" data-sf-element="Footer" data-placeholder-label="Footer" data-page-edit-prevent="true"><div id="Contentplaceholder1_T198B1AC4003_Col00" class="sf_colsIn container" data-sf-element="Container" data-placeholder-label="Container"><div id="Contentplaceholder1_T198B1AC4005_Col00" class="sf_colsIn row" data-sf-element="Row" data-placeholder-label="Row">
<div id="WeChatModal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true" data-keyboard="true">
          <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title">
                    WeChat
                </h5>
                              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                </div>
                <div class="modal-body text-center"><img src="https://www.fao.org/images/corporatelibraries/social-icons/wechat_qr.jpg" alt=""></div>
            </div>
          </div>
        </div><!-- Modal div ended here -->
<div class="footer-logo col-md-7" >
    <div class="sfContentBlock sf-Long-text" ><img src="/images/corporatelibraries/fao-logo/fao-80/fao80_logo-blue_v1.svg?sfvrsn=6f47c671_1" title="Food and Agriculture Organization of the United Nations" data-displaymode="Original" alt="Food and Agriculture Organization of the United Nations" sf-size="312"></div>
</div>
<div class="footer-social col-md-5" >
    <div class="sfContentBlock sf-Long-text" ><h6 class="title-category">Follow us on</h6><ul class="list-inline social-icons"><li class="list-inline-item"><a href="https://bsky.app/profile/fao.org" alt="bluesky" title="bluesky" target="_blank"><img src="/images/corporatelibraries/social-icons/bluesky.svg?sfvrsn=91618a92_1" title="social-icon-bluesky" data-displaymode="Original" alt="icon-bluesky"></a>
 </li><li class="list-inline-item"><a href="http://www.facebook.com/pages/Food-and-Agriculture-Organization-of-the-United-Nations-FAO/46370758585?ref=mf" alt="facebook" title="facebook" target="_blank"><img src="/images/corporatelibraries/social-icons/social-icon-facebook.svg?sfvrsn=b87ff153_3" title="social-icon-facebook" data-displaymode="Original" alt="icon-facebook"></a>
 </li><li class="list-inline-item"><a href="https://instagram.com/fao" alt="instagram" title="instagram" target="_blank"><img src="/images/corporatelibraries/social-icons/social-icon-instagram.svg?sfvrsn=a778452f_3" title="social-icon-instagram" data-displaymode="Original" alt="icon-instagram"></a>

 </li><li class="list-inline-item"><a href="http://www.linkedin.com/company/fao" alt="linkedin" title="linkedin" target="_blank"><img src="/images/corporatelibraries/social-icons/social-icon-linkedin.svg?sfvrsn=1025492c_3" title="social-icon-linkedin" data-displaymode="Original" alt="icon-linkedin"></a>
 </li><li class="list-inline-item"><a href="https://soundcloud.com/unfao" alt="soundcloud" title="soundcloud" target="_blank"><img src="/images/corporatelibraries/social-icons/social-icon-soundcloud.svg?sfvrsn=26e63892_3" title="social-icon-soundcloud" data-displaymode="Original" alt="icon-soundcloud"></a>
 </li><li class="list-inline-item"><a href="https://www.tiktok.com/@fao" alt="tiktok" title="tiktok" target="_blank"><img src="/images/corporatelibraries/social-icons/social-icon-tiktok.svg?sfvrsn=b2228fd0_3" title="social-icon-tiktok" data-displaymode="Original" alt="icon-tiktok"></a>
 </li><li class="list-inline-item"><a href="https://www.toutiao.com/c/user/token/MS4wLjABAAAAddfBLLYL2GZzXAetR_paFVV1-M4fdAWpUxiROxuOpl7pDGuXLCGfYg_VOogU135J/" alt="tuotiao" title="tuotiao" target="_blank"><img src="/images/corporatelibraries/social-icons/social-icon-tuotiao.svg?sfvrsn=1883ae3_3" title="social-icon-tuotiao" data-displaymode="Original" alt="icon-tuotiao"></a>
 </li><li class="list-inline-item"><a alt="WeChat" title="WeChat" data-bs-toggle="modal" data-bs-target="#WeChatModal" style="cursor: pointer"><img src="/images/corporatelibraries/social-icons/social-icon-wechat.svg?sfvrsn=cd28c1ee_3" title="social-icon-wechat" data-displaymode="Original" alt="icon-wechat"></a>
 </li><li class="list-inline-item"><a href="http://www.weibo.com/unfao?from=myfollow_all" alt="weibo" title="weibo" target="_blank"><img src="/images/corporatelibraries/social-icons/social-icon-weibo.svg?sfvrsn=7b5b0403_3" title="social-icon-weibo" data-displaymode="Original" alt="icon-weibo"></a>
 </li><li class="list-inline-item"><a href="https://bit.ly/3BBpfEq" alt="whatsapp" title="whatsapp" target="_blank"><img src="/images/corporatelibraries/social-icons/whatsapp-icon.svg?sfvrsn=6cfc5647_1" title="social-icon-whatsapp" data-displaymode="Original" alt="icon-whatsapp"></a>
 </li><li class="list-inline-item"><a href="https://x.com/FAO" alt="X" title="X" target="_blank"><img src="/images/corporatelibraries/social-icons/social-icon-twitter.svg?sfvrsn=c68bb7c2_4" title="social-icon-X" data-displaymode="Original" alt="icon-X"></a>
 </li><li class="list-inline-item"><a href="http://www.youtube.com/user/FAOoftheUN" alt="youtube" title="youtube" target="_blank"><img src="/images/corporatelibraries/social-icons/social-icon-youtube.svg?sfvrsn=94de1814_3" title="social-icon-youtube" data-displaymode="Original" alt="icon-youtube"></a>
 </li></ul></div>
</div>
</div>
<div id="Contentplaceholder1_T198B1AC4004_Col00" class="sf_colsIn row" data-sf-element="Row" data-placeholder-label="Row"><div class="footer-links col-md-7">
    <div id="Contentplaceholder1_T198B1AC4006_Col00" class="sf_colsIn footer-links-top" data-sf-element="Footer Links Top" data-placeholder-label="Footer Links Top">
    <div class="">
        <a href="https://www.fao.org/about/org-chart/en/" target="_self">FAO Organizational Chart</a>
    </div>

    <div class="btn-group dropup">
        <button type="button" class="btn btn-secondary dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Worldwide offices
        </button>
        <div class="dropdown-menu">
                <a href="https://www.fao.org/africa/en/" target="_self" class="dropdown-item">Regional Office for Africa</a>
                <a href="https://www.fao.org/asiapacific/en/" target="_self" class="dropdown-item">Regional Office for Asia and the Pacific</a>
                <a href="https://www.fao.org/europe/en/" target="_self" class="dropdown-item">Regional Office for Europe and Central Asia</a>
                <a href="https://www.fao.org/americas/en/" target="_self" class="dropdown-item">Regional Office for Latin America and the Caribbean</a>
                <a href="https://www.fao.org/neareast/en/" target="_self" class="dropdown-item">Regional Office for the Near East and North Africa</a>
                <a href="https://www.fao.org/about/who-we-are/worldwide-offices/en" target="_self" class="dropdown-item">Country Offices</a>
        </div>
    </div>

    </div>
    <div id="Contentplaceholder1_T198B1AC4006_Col01" class="sf_colsIn footer-links-bottom" data-sf-element="Footer Links Bottom" data-placeholder-label="Footer Links Bottom">
<ul class="list-inline">
        <li class="list-inline-item">
            <a href="https://www.fao.org/employment/home/en/" target="_self">Jobs</a>
        </li>
        <li class="list-inline-item">
            <a href="https://fao.org/contact-us/en/" target="_self">Contact us</a>
        </li>
        <li class="list-inline-item">
            <a href="https://fao.org/contact-us/terms/en/" target="_self">Terms and Conditions</a>
        </li>
        <li class="list-inline-item">
            <a href="https://fao.org/contact-us/data-protection-and-privacy/en/" target="_self">Data protection and privacy</a>
        </li>
        <li class="list-inline-item">
            <a href="https://fao.org/contact-us/scam-alert/en/" target="_self">Scam Alert</a>
        </li>
        <li class="list-inline-item">
            <a href="https://www.fao.org/audit-and-investigations/reporting-misconduct/en" target="_self">Report Misconduct</a>
        </li>
        <li class="list-inline-item">
            <a href="https://www.fao.org/transparency/en" target="_self">Transparency and accountability</a>
        </li>
</ul>

    </div>
</div>
<div class="footer-download col-md-5" >
    <div class="sfContentBlock sf-Long-text" ><a class="copyright" href="https://www.fao.org/contact-us/terms/en/" data-sf-ec-immutable="">© FAO&nbsp;2025</a></div>
</div>
</div>

</div>

</footer>

 </div>  <script src="/ResourcePackages/Bootstrap5/assets/dist/js/popper.min.js?v=2.11.8" type="text/javascript"></script><script src="/ResourcePackages/Bootstrap5/assets/dist/js/bootstrap.min.js?v=5.3.3" type="text/javascript"></script><script src="/Frontend-Assembly/SitefinityWebApp/Mvc/Scripts/FaoLanguageSelector/language-selector.js?package=FAO&amp;v=MjA3MTU5NjUwNA%3d%3d" type="text/javascript"></script><script src="/ResourcePackages/FAO/assets/dist/js/utility.min.js?v=1.4" type="text/javascript"></script><input data-sf-role='en' type='hidden' value='https://www.fao.org/home/en?q=user'><input data-sf-role='ar' type='hidden' value='https://www.fao.org/home/ar?q=user'><input data-sf-role='zh' type='hidden' value='https://www.fao.org/home/zh?q=user'><input data-sf-role='fr' type='hidden' value='https://www.fao.org/home/fr?q=user'><input data-sf-role='ru' type='hidden' value='https://www.fao.org/home/ru?q=user'><input data-sf-role='es' type='hidden' value='https://www.fao.org/home/es?q=user'><script type="text/javascript">

document.addEventListener("DOMContentLoaded", function () {
    var aItems = document.querySelectorAll('.sdg-tiles .grid-item .btn-sdg');
    var textItems = document.querySelectorAll('.sdg-section .photo [data-sdg]');

    aItems.forEach(function(itemX){
        itemX.addEventListener('mouseover', function(e){
            var dataSdgItem = itemX.parentElement.getAttribute('data-sdg');
            textItems.forEach(function(i){
                if (i.getAttribute('data-sdg') === dataSdgItem) {
                    i.classList.add('visible');
                } else {
                    i.classList.remove('visible');
                }
            })

            aItems.forEach(function(itemY){
                if (itemY === e.target) {
                    itemX.parentElement.classList.remove('opac');
                    itemX.parentElement.classList.add('selected');
                } else {
                    itemY.parentElement.classList.remove('selected');
                    itemY.parentElement.classList.add('opac');
                }
            })
        });
        itemX.addEventListener('mouseleave', function(e){
            aItems.forEach(function(itemY){
                itemY.parentElement.classList.remove('opac');
                itemY.parentElement.classList.remove('selected');
            });
            textItems.forEach(function(i){
                i.classList.remove('visible');
            })
    
        });
    });

    var swiper = new Swiper(".swiper-container", {
          navigation: {
            nextEl: '.swiper-button-next',
            prevEl: '.swiper-button-prev',
          }
    });
})
</script> </body> </html>
